@STATIC;1.0;u;57;Resources/_CPMenuBarWindow/_CPMenuBarWindowBackground.png218;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAcCAIAAAAvP0KbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADVJREFUeNpiunnvEdO7j5+Z/v//j4H/IbP/geh/EDEY+x+Sun//UNSj62f4z8B099YNgAADAA9PUNwzG//eAAAAAElFTkSuQmCCu;65;Resources/_CPMenuBarWindow/_CPMenuBarWindowBackgroundSelected.png226;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAcCAIAAAAvP0KbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADlJREFUeNpimL9qE9Pdh0+Y/v//D8T/mP79Q6chbBD9/x+MjwX/R7D/g9T/h9BgM/5D9BtqqgIEGAC2zE/UgDMaqgAAAABJRU5ErkJggg==u;42;Resources/_CPMenuWindow/_CPMenuWindow1.png178;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAIAAADAusJtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABZJREFUCB1j2LNnD8P///8Zvnz5AsIAU6oK6qmqG6cAAAAASUVORK5CYII=u;42;Resources/_CPMenuWindow/_CPMenuWindow3.png170;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAIAAAB2XpiaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA9JREFUCB1j2LNnzxcYAABDLQrJ2KbR7QAAAABJRU5ErkJggg==u;42;Resources/_CPMenuWindow/_CPMenuWindow4.png166;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxJREFUCB1j+PLlCwAFvALdifOWJQAAAABJRU5ErkJggg==u;42;Resources/_CPMenuWindow/_CPMenuWindow5.png170;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAIAAAB2XpiaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA9JREFUCB1j+AIDe/bsAQBJFQrJwsQiEQAAAABJRU5ErkJggg==u;42;Resources/_CPMenuWindow/_CPMenuWindow7.png174;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAIAAADAusJtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABJJREFUCB1j+PLlCwMM79mzBwBaQArJvXzTegAAAABJRU5ErkJggg==u;50;Resources/_CPMenuWindow/_CPMenuWindowMoreAbove.png310;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAASCAYAAAA31qwVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHpJREFUSMdj+P//P8NgxIPSUaMOG9kOi4+Px4WFoRhDbqAdtgSKB5XD8oH4PxTnDRaHOQDxHySH/YaKDajD5IH4KZKjYPgpVG5AHMYOxMexOAqGj0PV0N1hM/A4Coan0tthBUQ4CoYL6OUwJjxFBsOAFRejVdKow0jEAMbSS1vJwWj5AAAAAElFTkSuQmCCu;50;Resources/_CPMenuWindow/_CPMenuWindowMoreBelow.png318;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAASCAYAAAA31qwVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAH9JREFUSMdj+P//P8NgxAyjDht12KjDaIjj4+OZ6OIwoEUFQPyfSAxSy0Avh4HwVCIcNQOqlq4OYwfi43gcdRyqhu4OA2F5IH6KxVFPoXIMA+UwEHYA4t9IjvoDFWMYaIeBcB6Sw/KxyA+Yw0B4CRQzDDaHCUPxwDlstEoajBgAIvph233GDmUAAAAASUVORK5CYII=u;49;Resources/_CPMenuWindow/_CPMenuWindowRounded0.png222;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADZJREFUCB0FwbENgDAQwMCvmByJpbxIeipqR0pn7ga4gBt4gQZ41lqdc6oa4FPbe6c2QGpqaj/TuDbcxUWSYgAAAABJRU5ErkJggg==u;49;Resources/_CPMenuWindow/_CPMenuWindowRounded2.png222;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADZJREFUCB0FwbENgDAQwMCvmByJpbxIeipqR0pn7gYIeIEbuKbqnNNaK+AZtb13asA3ampqQD8COzbceGNz5AAAAABJRU5ErkJggg==u;49;Resources/_CPMenuWindow/_CPMenuWindowRounded6.png210;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC1JREFUCFtj2LNnz/8vX77AMQNQ4NX79+9RBNqvXLnyHyYIUsEGxL1A/BykHQCHWDaL8tTDxAAAAABJRU5ErkJggg==u;49;Resources/_CPMenuWindow/_CPMenuWindowRounded8.png214;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBJREFUCFtj+PLly38Y3rNnz38GGOf9+/cggVcMMM6VK1dAAl0MIGVA/ByIe4GYDQC0XjaO10uChwAAAABJRU5ErkJggg==u;53;Resources/_CPToolbarView/_CPToolbarViewBackground.png270;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA7CAIAAAA1lncVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFtJREFUCB0FwQEBwEAMhDAO/1Je1YSUJX7fJyHDSkDKQMArBwZyJ5uVkWN254EDIQvvkiVhJWFDyuscs7KSsJJlYSXDLgErIwkJj6QErISEeZcOKwMBASMJ33s/zDJY0JkKjKMAAAAASUVORK5CYII=u;67;Resources/_CPToolbarView/_CPToolbarViewExtraItemsAlternateImage.png582;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUVJREFUKJFj0NDQWKGmpib1//9/BnyYwczM7L+RkdEuoAYdvApdXFz+u7q6/jc1NT2vqanphlOht7f3/+Dg4P8eHh7/LSwsnmhrayeoqqqyYCj08vI6FhER8T8kJOQ/kP3f2tr6k66ubhPQ3XwoCp2cnLiAJoIVh4WF/ff19f1vZ2f3V19ff7a6uroSXCGIALqTE6j4MEhxeHj4/4CAgP9AA/4bGxvvBrrbEegUQbjRQA/xABU/j4yM/A/SEBQUBPYkMFS2amlp2cAVWllZ9fr7+4MVwRQD+Wft7e1DgM6QASvS09PrdXR0BJsCUwQ0fZu7u7se3I0gRQ4ODmB3gRQA8a/AwMDpQHdLovja1tYWrAjkCSD+BLSuAmg6J0Y4enp6ghUBg+YeMGiigBqZccYMMLDPAQPbBm9cu7m57QE6Gm+CAGEA/dNCZSU2Z+AAAAAASUVORK5CYII=u;58;Resources/_CPToolbarView/_CPToolbarViewExtraItemsImage.png594;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAU1JREFUKM9jsLS0XGFmZib1//9/BnyYwdfX97+7u/suCwsLHbwKExMT/4Owt7f3eSsrKzecCrOysv6XlZX9T01N/e/v7//E1tY2wcTEhAVDYWZm5rGampr/FRUV/4Hs/yEhIZ8cHByaTE1N+VAUxsbGcpWWlh6rra39X1VV9T83N/d/RETEX2dn59nm5uZKcIUgAuhGTqDiwyDF1dXV/wsLC/8DDfjv4eGxG+huR6BTBOFGAxXzAN36vK6u7j/IKSUlJf+TkpL++/j4bLUBArjCoKCg3oKCgv8gU2GKgfyzkZGRIU5OTjJgRUBGb0xMzH+g9WBFIMVA07cBQ0IP7kaQoqioKLC7QKYA8a/i4uLpQKdIovg6PDwcrgjokU9A6yqApnNihGN6ejpYUWVl5T1g0EQBNTLjjBlgYJ/LyMiwwRvXycnJe4CO1iGUegAs+F709mxc3QAAAABJRU5ErkJggg==u;56;Resources/_CPWindowView/_CPWindowViewResizeIndicator.png274;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF9JREFUKJFj+P//PwOx2NjYOJIkxUDalSTFQMxPkmIQnyTF0tLSASQpBtLOJCkGYlmSFGP4gZBiBQWFIJIUw+OBWMVALMkABHZAhg1MMQcHhxeQtoMp5uLi8obyJUF8ACitf5AUaj8yAAAAAElFTkSuQmCCu;28;Resources/brightness_bar.png334;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXUAAAAUCAYAAAByIq2DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIpJREFUeNrt1DEKgDAMQNEMvf+VdRC3QhNpUOS9pW0CDg5/RMQRl/uMxWy2z+w6zupuNeu6V3Yd747Zm/Onu93f+9q/2TnrfGd3u+/VWWbXcWZ30/0IAH5D1AFEHQBRB0DUARB1AFEHQNQBEHUARB0AUQcQdQBEHQBRB0DUARB1AFEHQNQBEHUA8k4Pbf5S2jTRYAAAAABJRU5ErkJggg==u;24;Resources/color_well.png314;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAPCAIAAADh1eFDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAH1JREFUOI3t07EJgyEUBODHVbqAhXvY22cGXSAbpRFLC8loCiIkIfoyRHhW/7fAcXCHGONNXggBvfdSylNSrbW1hrUWgK+kvbfWGkT0kUdEIKK3PGY+lHS800veuU7XIv7BzFBKjTFEbzvnZGZYa3POD0kpJWMMnHN3ed77HwxWA6QUi5PsAAAAAElFTkSuQmCCu;34;Resources/CPAlert/dialog-error.png2230;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhpJREFUWMPFl1tsXEcZx38z5+zV63V23bWd4qSqixM7vShJRVGRQISX3iiGhlqiqlDeeAKpagUPPCAh8YYQF/WhvIUHopaiIDUyrXhACAqlIWprO3YSpU2CKzubtR2vd8/u2T1nZvqw52zO8TXmhZE+zdF/Rt/3/y7nmxlhjOH/OWwAIcSuG9+GYhueSdr2C0h5WCvVr7TusaR0LCmXjdbznlJnBEx9HW7vpi90XBhjdiTwFozalvVrDV8tDQ7q/Q8eyeb2D5EqFEn29dKuruOuruIs3WTp4lyjUi5bwpi/eMa8NAFX/2cCb0AyJ+WvgFOfP34sef+TT0jL92B5FRwHWm3wPbATkEpATw/0F1C2zcdT7+hPpmdaGHN6QesffA+8PRGYghJCvHPPwMD4I999MZ1UPly7AU13sycbv7MZuG+YtiX56He/d1cryxe1MU8+C8t3ReAcFIQQMyPj44OHnz9pc/kyrK3vaDRUFivnfX1weIQrb/7JvzF/+aZjzEOTUN2RwBtg9Qrxz5GxseOjJ79pMzsHbmuzl4GCLfEokXQK8eAoH5895/330pXzNWO+MgkqSkBGSeel/Fmpv/jw6PPfss3MHCYwbgBtTEy6eERUMHf3N13U9CVGTn4jUegvHs1J+dONKexG4I+wPyfl/ImXvt8nFxZhvbYptFt5aTbkddMeYyCfwwwP8q/f/HatpfXYBJQ3RSAr5S8OHRnPybaHrq53vdTbSOilCSKijLmzHuAmxNbrCN/n4NihXFLKn0cjIIPc92ljJu599ilL3VjY1vCmVETXwtQEuNpARF1f5N6nvmYrY56bgnyMQAae6S8WlFAK3WrHDUe81Ft42cWF6Egk/CGmpES1PYSQ9OV7tQdPxAgkhPjO4OgDObWyhoko0aESKTFSdhWaANOWhbEsjJSYCK6C/V0JcP/2Ov0jB3O2EC/EzgIDY9mDB9CNRlcRQsDrr8crNpC9jObkZKeYhUA3W2Q+tx/x4cXxGAENpeRACVNe6TAOIiDvwoAxBq1191sIgZSy21tCfQDa80n078NAKZYCbUwuUSygleqENgjdbkNrjVKqW2ghCaUUvu+jte7USlgLxpDoy6GN6Y0RkELU246DTiTv5HsXAkqpruc7EWxcuIC3stKplUQCt1xBCFGL3wfgVrNS6etJJ9Gt1q5KdzMcI9po4M/OIrJZEvcP4xoPAZUYAeBS/eq10Z5jRzE1p1OAgHvqVCe0xuCXy3jXr2Mcp9vhzBZdMdo9Y7jjYLkOjfU6GuZiBHxjzpRn506UvnAsFyuaeh1VqeAvLnb+kG1a7UZsI8FwTQ4VqV6+VtPGnIkRcGFqvVa32guf4P1nHmNAt1oY193Sy7vxPkbIGGQ2hUlIHLdld254kSKchKoQ4uzSv6d9ed8QXrWKct3u6aY3tGAVabUbW3OIq/B8CPDEoQOU35/3peEPE1CLEQBwtX5labFcN/ksopC/Yyxy0KhtzgIFd4wFBKPEZSEH2SQrt1brPvxw02EEcBKWEOK1q399v5F6dAyTTu7qvdrmjIiumUyKzPFRFv4+7UghXp2A8pYEAOpa/9hputOf/uMDL/34w5hMalNot/I+Fq2I92RT9HzxMIvvzrTdVvvDutY/2fZCEo6zsM+G2WKpMDD85WMJ58Il/OVqvOC2qPCNFxK71EfP0QdYenfWq61Ul5rwyK53wshb4B4Bb2cy6SMHTzyaMQ2X5sXrKKe57W8YitWbJTM2jMgk+fRvHzU9tz3Thqefg5U9vQteg8QQvCqFeLEwWEwNPHZE4rZo3VzFX3PQbgvtKUhYyHQKqy9LYqiATFrcOn/Fr9667bXh9Gl4+S1o7OVdIIAc0APkvg1jE/CjPDyWzqRUfqiYSffnsXuz2D1pPKdJq9qgvbrO2s3bTc9tWWtw/k345Tm4AtQBJzLvSiAbEOiNzgdg6Gl4/Ch8KQ9DKcjZkPTBc6G+BpUP4L0/w/nFTqXX6fzv4Vyj82ZUd5OCLJ17WxiJbDBnAkkBScAKUq/oPL9coEkn5KGEhmuh8b08TgWQCAxmgHRgOBngNuBHCLSBVmDYDTC10+P0M7GXX9il4LERAAAAAElFTkSuQmCCu;40;Resources/CPAlert/dialog-information.png2554;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABw1JREFUWMPFl2tsFccVx//nzO7el6/ta+Mn5hE7BFyoEQ8FQdXQqqSkL5E0sloCBZdS1FZVm7RS1S+V8gGiNlJKonxoaxIUVZVSsEgfIjUlpgkozYMQkhCwTWwwYGNfP+71fe7d2df0Qy8qdWvwTRN1pb92NLua/2/OnJk9S0op/D8vbbYHRPQffe2PPBKK5LCFRXCrgloLz60CAAgtSaAzvmc9ny/Dn7r27y/MNu7MCdNsEZgJsGv3j/eAxc/rFi83mlraIvV1dQiHDWhM8D0HU1NTGBp43xzqe1cqz/3pwWee6PxIANrbHzWiMaurvLr2c20btkSglyE+nUcyb8JxbYB86BrQEAujtSmGiA789egfzfjw1Z7sdLC9q+tR+1YA2m2WiKIx2TVv8fLNK9bcG7g8XoCnprG4Xscnm8tREdF9XQjfsl2Vytv+YDypXEeJ9q9vDfecePm+vrOnuwDcD2DWRLtlBHZ9+yffidYtfqLtUw+EB0YLaF2ooaUxCE3AZyKPCB4RfOVDeUpBKYWzlxNOKueI+9c1Rw51HZEjH/T+6OCBx389WwR4NrKOjocrIXjv0jVfDF+OW7h7aRB3zg9CE/CYyWaCTQSbiSQxSSaSRJCtCyp9z/MyJ94bzjz4wJYAaby3o+Phytl8ZgVgg7fVLFwZlr6OxmpCbUwDAS5IOURksyApiCQTpCBYmqCCYLLChiYrywJmtmCnstKVazfcE2aDt5UMAA7srFu4LJTMWVhUb8CH7xErh0A2QdlEkILJYuYCC7KIYGmCTSGoENA5FzQ4fyWeSa9dvVoDGztLPgfgey1l0UqMxPMI6AEA5EKRwwKSiWxBbBMrl0EOAN9nUspXkI7nMVE6aGihVF7S/JqmGiivuWQApbyopmvwlETB9uygrjlEsAlkM5NkhvwnBLkAeRrgO8qnVM6ZDAaEYiK/4HgwdEHK96Oln4SsZaBkNbOL4cm8VRkxPIBtIkgmshhkCSZJzA4TXOUrP1FwJmzXlUGNQ0SkiEgowGemfMk5QCQuZDMJVEUNezJlmYm0lQUgCSQFU4EFCkKQqTFytuuNTWQK71uue/2u+bGqoKHlgsyFhqqwlkxnLWZtsGQAzyv8amTg3eyimnJPaGRfmcpPr7wj1hQySCSz1mg661yaysm+8enCmZzp9OqCExE58fnc+OAXArpmGgabd9bHGt56++28q5znSwZ47sD+Q4nRoeFCetJfUl8pBJM9ljTji2qijWtaYvc2VPCqKNvNuptaqnup9RGV3tZQW73C8dXlgEFmS21soYAXPdnzkqf72d+Uvg0BRY7ccqbnD1J3s8GW2srImcFEr2l7id5rqT+DVWZeRbhlYX31+urKaKsATUNo70Rq7uhsqqpYWhU1Vj791JNCut7Ozs5O80MdxQCwY/cP20JG6G8P7viWqfTI4PyqgCIh4mbBvhAJadPhgMgYQjd1claQCPoZy0U0YHxv377H9Ew6/d2DB3555FYfI75dwfDbZ5465zjWN157+SW9ujwUiyeta9JMxZiUqwu2DaGbxI4cGOirdjz7YllAX9LX21tIp7KdM81LXYJ/RcOnN8dHRyrCugi5yrNGr49lE+Oj1cTssqGcV0/0NI6OjQ0amp4TxPVXrw6Tgnt2LmPPCeDZZ/cnXdc/d33kOs0rCzabdq7ivbdOfHnog1e3Dpzv2Xmh97WHmhdFDQLFBHHrG2+8XmEwXv+fSrKZl3QKe1449LtT39y9Y3FTbbUxOazDlulPsALuWjIf0YroZx07r46+eHzEduyuA51Pjs0punMtyQBg246vHK2ItX7pMxs3orV1KcqjEQihgQlIJCfxlxePo7e378pE3FjW3f20nEtJNucIAEBdzfSnN94j4SvG4cO/R2IyA8f1UFYWgK7ZmE5espNT/V53d5+c65glAYxez4nzF/rR0fFVrN9wNxzXQ3IqhfF4HEpZ6O9NGKnpYEspY3IpL3ue+9jkhIlXXvk7jICBWKwCTQtq0bKkCadOvYkLfZfgOM6hjw1ACNq3atUCtLd/H5rQAQC27aK//xra2tqwvLUFoZD+tY8NQErfHBwcQ3f3Xpw79w7GxycxOZVE9bwohq4Mof/iZeTz1tC6dVXlAMRHtQu0ovQNGxYsKy8P7dH1wEOACgvBUMqHUgylREIp8/jp0/GfTUykswA8AA4At3h3/tsuuB2AUZR+UzuyadOmXQ0NDT/Yvn17AACOHDkiL168ePDkyZOHAZhF5QBIAHbR3AYg1QzDWwHQTaY3FAAQDQaDsc2bNz8eDodXA0A+nz9/7NixX9i2nQaQL5rniu0b5jYAqxQAAKCbZq8Xpd2AaWxsrPF9X8Tj8TQAv2gmi3KLsgFYH3YJ/q2rmLRaMcH4JqEIcENuMQd8zPgtm+n3D0TJdD//hO3OAAAAAElFTkSuQmCCu;36;Resources/CPAlert/dialog-warning.png1890;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABRlJREFUWMPFV2toU1cc/91z703uTWISmzZqupqQxPpqxBBbRGvVNuCjIHWCk6q1Ez+0hcJUFKeV6tzGPoh0++KXvZn70C9lCuIDnygoIoJFWsEnYh8Ic2naNW3Mzf7n1mZZbLfZBz3w55x7zj33//u/fuceIZlMYiobw1S38XigGRCPANJ4dI/ZA98Be/uBPzxA9Efg2Fi/I3AUgiC81yZSWG50OH4LVVaKSCRw99SpeCwSqf4Y+HXSPcDdToCbFm3dypIPHgCPHmFhRYVEHzr+DWCc9CTsBaocwaDHIopC9MoVRC9dgi0rS7D6/Q4LUDepAMh6VRTFr/LXrpV6zpwBy84GSKLnz2NeOGxggnD0B8A+aQD+BOpnFRdPl7u7MUCuVw4ehHr0KGJtbVAGBuAMBIyUTZ9OCoBTwHRRUQ77V6+We86ehVhQALm8HIZwGNKSJYhevAhfcbGBSdIn3wN5Ew5gEGjIKyszapR48c5OKPv3Q2BD29UDBzD48iXEjg64QiGBZr+cUADcIqPNVu8pLJSjFy5AXrkS8rJlevlykYNBGNatQ/TaNbiDQZmpaiXlQmDCAHCLPGvWCIO3biERjULZty/FHcO9iTzC17T2drgLCzXac2JCAHwLFKgzZlS68vOl3qtXYaiogDR/PvFPAj09PYhEItA0DaLbDXX7dvTdvg2X3y9JNlspea503ACI6E/4ysuTMap5zlzq7t36fCflQZBcz4WPuSdM9fVIiiLi9+7BW1TE9zbRSSOMGQBRbonF6y3LdjhEbplxxw4wl0tXZjabU+/xMZ9jDgfMdXXob21FdlYWMzid8+gbH40JQFIPr/D13PXr0UeJJ1gsUGpqUjHPBDCcD6Zdu8BychC7exe+UEinaCIww3sD+An40L5oUcCiaaz//n0Ya2vB7PaUIlVVQayoi6IoqYpgJhPMe/di4PFj2BgTzLNnO/uA2vcCcIRCz0TxeH44zHrPndPdrlRVpZSkMp+UcUmf172weTPkuXPRT17wBgKyyNhnvwDW/w3ADexyLl2aa3z1Shh48gTqnj1gZGV62fHearXqkgmM2BDWhgbEu7qgUpXYvF4lMQpFvwPgZwopUe4X3pISmR8y0oIFUKj0MpXrlmZ4IH1NJYo2Ll+OGIXPM2eOQZDlPRTW3P8EoNGfTm5JyTRGhBKnQ8dENAui3EwFvJ0+fVqXzBAMi72xUScniSg6x+/nif35vwIg4sgx2GwH3KGQzM95mSyQV6wYUTnvq6urUfU2N9LXh8W4eDHMGzdi4OFD5LpcBgpjFZXlwlEBiMDh2WVlknbnDhK9vbr1o1mnnwGyTM5hIyofnrMfOqQTmPD8OWb5/eTgf1I0S7PeS8RRN8vnk3tv3IBxwwbIgcCo1nNpbm5GS0vLqMq5GDweWHfuxODTp5hps0myxRLmBJfGtCnrj3lWrUrGb96EFotB2bQJRPY8bkMfJUkfp2RIm7422juWLVsQOXkS2rNncOXlJV+0tR2n14rSATDaWO70+aTo5cv6RIQOloluidevYc/LE58BIeIaXtexYQCmN0BX5/Xr0z7Yto0xii0FDkk68eio03t9zHt6xtvn9PE7a5lz1HPPdr14wa9CvxMAoRF/3wvM9DtbGqLTl5LCiUlsBOdVK1DTBJwh3fH0iwkn+unzgJmUD4o2jivXCLX+hhtLPom1Ax007ibp13Vn3IxItx4bIyb24srLLw7911IXPWdTAKay/QWH+MCcjkpBPwAAAABJRU5ErkJggg==u;31;Resources/CPApplication/New.png686;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZNJREFUOI19kz9IAmEUwI8aaoqo1BaxWhoampMWazQS++PWEtTk1tIUOHbQkHZBTjY4eGpLKEE3JaLiDVficBwcSJSLTi4Owuu9jw8x79MHP+7ge+/3vXfffRIASBgzyByygCwjLsSLbCLbyAayhMxK48EFVOyCkeh0OmAYBnvHtTNkRyjhAtp5i5JrtRqjUChAIpEYCnH9WijhAmrbT4m6rjOKxSLIsjzalFjCBTRzgJKobULTNIjH4zAemHfOv828UNBsNhnlchnS6bRDwCW7yKJQYFkWo9FoQKlUAlVVIZlMgqIokEqlWHeYu4esCAWtVoth2zaYpskK6vU6VKtV9qTTwdx9xC0UtNvtqfARArzGKeh2uxM5ygQh8hIC3637a6Kg1+tN5Dh7AG+/lemCfr/v4CR3yLh4j8Kz/QpBNfyzdu+prD+sfjgEg8HAwWk+BE9WbohiZhijguGfKAqam7jUonDz+QjBbPh7vAN2F5AIcoXERHhjLpsEvjuPzmv+30Yu8fNjcuCT3QYV0+68RvoD0y0J9R+ff5MAAAAASUVORK5CYII=u;42;Resources/CPApplication/NewHighlighted.png670;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYhJREFUOI19k71Lw0AUwIMOOrViGzcXFwcHwY+WfizVwcG9iFIpDmkkSyDQ1MFWyVJqKdRSQggdMnQJFEr/FgdBEEdB/Bue7x3P0jbXHvzIwb33u3fvcgoAKDjWkA0khiQQFdlF9pFDZA/ZRtaVxcECSlYnkwn8MxwOodvtijmulZCMVMIC2vmAgtvttqBer0OlUpkKcb0mlbCAys5SYKfTETQaDSiXyzBblVTCAjpzgYKobMJxHNA0bU7AkjvuzaZU0O/3Ba1WCyzLighYkke2pALP8wS9Xg+azSbYtg2GYYCu62CapqgOY8+QpFQwGAwEvu+D67oigXpCjaUv3Q7GniM7UkEQBCvhIxQ4JyqgHZaRqZ5A/iENyevY11JBGIZLydqn8BS8rBaMRqMIuVpKcOFcguk/wrGV/lVL8Xf1Nv4WEYzH4wg5LNvwalN0tyqYFUz/RBl0boIquHq9hyMr9bNYgXgLSBGxkGcZiWLsmwTJm/gH58y/RpZk+ZoiYPM+KZl25xzlDyJip/qGO0OBAAAAAElFTkSuQmCCu;32;Resources/CPApplication/Open.png846;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgtJREFUOMulkz1rlFEQhZ+Ze3dDkGhcSZa4UYOFhU1iYaUWfiP+Bit/gVhYm970oj/DPyDEFBpEEPFziYKKySa7yO67eb/uHYvs5g22meZyYeacM2dmxMw4TCiHDAGOzDabd0+fWVgMIRQAu8Nh5/vGxnqa7nb+I1FgF/gJmJnhgeNXb9y+/+Dho1v9pB8xGCaD5O2b1+12++uOc17GVCqqIYZkbXX1xUb72zMgeEBbzZn62VNNer26AqjOTC2eP7eE7Ek8KHh6+hjLj5cbKytPngJ4IIpYabHEQglACBCKHGRcXhk9OVHHLCY2ct8D0u325M9mh16vV3EJmI0xKqA0KxgkwxowAWT+ZGv+2tzCuaX1D22KPENGrOPxighmRjRwqqhucfHKzUsfv7SfA/f87Nx86/L1Oyemjk4TQokA0cCrIk7I84IQDRGh7h1mMN1o+FerLxsAPsvScrOzbUlhkucFMmLda8GIZoQQERFq3mFm9LOS/iDJAXxRlrbzt08W65Sh3PfNzDAzVHX/P26vNCVNM6sAuj0bpiahLKu1GRkoIlis/IjRSIYpg2QYAbyKOkXUuQM3YYY6HamIiI5bijgnqIJzrgbgu9tb2+/X137PzrVqoSgjIghg2Gh8e281VkFU6z/an38BiHN+YWJy8gKIB4tV8qhwH6JaJxFqeZZ9yrP0nRz2nP8BeYUUSYTtIaYAAAAASUVORK5CYII=u;43;Resources/CPApplication/OpenHighlighted.png794;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeRJREFUOBGlwV1qE1EAhuH3O3MM1CiN/RFEBBFFULDWG92BV6IgrsD96CoEvVMXIS5AW1FBqJQmFWnaJs4kc+Z8Thtt9brPI9ucROCEBPTme70ny8vnb+Wca1qTqvo5GPTfp5QGQOCYgBL4BtS2icDyrZXVpw8ePb5bVSXYVGU5/frl88ZgsLUbQiH+kBSy8/jT2trb7X7/GZAioIXefHFhqcdoHAERQq9z5fKlq2COCQGnu6d59fLl/JvXb57TikCWnOyMc+ZAk6FJCQkw/+mcitgeGSdaEQj7o7F2hruMxyNmxIyZEX9NU0M1mUSgC4ziwuLS/YXzF2983ejTpBokBNi0DAIMBiQRNOTazdur3zf7L4CHsbewePHGyp2zc3Ndcs4gsE2hgIKoUyJnI4lYBDB0z54p1tc+nqMV67pOw909qgRNShySCIAxtmmykaAIBcaUqaEsqwmtmFLj/V8ltSM5Z2aMaRkkccAYcUBki2ldm1ZscuP9vRGTqck5c0QcEmBzSIJsmEynVNUk04oiFJIIgSO2CQoYY5sQBAKyKYIQEEI4RSvu7w1/fPuyvtM7t1jk3GRaAmyOiZYAIwQhdLa3NrdoKYRwPXY694QKcAYxY0DMGBD/6KSUPqR6+k62OYnfXED9QFof0dQAAAAASUVORK5CYII=u;32;Resources/CPApplication/Save.png606;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVhJREFUeNqsUz1rwlAUvS8JAemUPZNZAiLonqGTPyV/oWPt2H+T2aUK/oAQyKDSzUFCSBarolF7z22faKWmYC8c7st995z78Yg6Ho90j1lhGMpBKXVS8n1f8NOiKIJ72e/3/cPh8CXwfdfvdru02+0gRM1mUwDLsoziOKZOp0PtdptWq9XzdDod8hVABqsRsNlsaLlcijdNkxzHETBB4vC4Q67neW/MfZQOqqqSSqgO2LYtVSeTicTX67XE4dEdzo1GA0IQGF4JYLbFYiHQBsJsNjvlWZZFmnchsN1uKc/z+s2fC4AIA7ksSwqC4CZ5PB6LgOZddIAF9Xq9mwKj0Uhyr0ZABxCoM+Qg92oE3cFfBPTC/6UDoygK+dBPWGfI0TsA10qShFqtFhmGIdsdDAa1T4hcvFiapqQ45jI813Wf2DuMB4b52wSMD0Y5n89f2b+re3/nTwEGACUKCdgz2++nAAAAAElFTkSuQmCCu;43;Resources/CPApplication/SaveHighlighted.png638;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAXBJREFUOE+lk09qwlAQxscXCC7cBUGwJCErt0IJOYLF0Bt0I8FVD+Eduuo2i+57hB6gBLLLUhoiLlQUxP/G9w08iYjJogM/Xpz5vnkzkog8z+k/iOFwSLVajXq9Xq4IgiAfjUZ3oOb7/gf0YDAYkCAZrut+OY5DlmWRbdvUbrep1Wox9XqdJpMJn6g1m833fr//Ch9CnE4nHuVwONB2u6X9fk9CCGo0Gsxut+M8TtTO5zMZhvHted4bNzgej5zECTDacrmkNE0ZmJDHiRqecYG88AWXcwM8KNBssVhQkiRMlmWk6zqfqBW13Kw4AdZYrValQFP0CCTUj/V6TaZplgKNagDv3QrdbreUhyuoSaqiqL1ZQf2BVVHU3qygJqkKdfN1hfl8fk3ihaoKaNRl8Io4jmmz2fDLoWkaRVFUCjTQwgMvvoWn6XT6+StDJpIwDMeSvweMoYEWHniFHCmV/MhxnmezWUdiS8wHoNaBFh54L4mHAQ/Vw7dXAAAAAElFTkSuQmCCu;53;Resources/CPImageView/CPImageViewBottomLeftShadow.png298;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUGBl1wUEOwUAUANA37S8JG7Fj5Qhu4KrOJyxEpJTpWHSW+l5ggwOOpZSzP8KkYDQjUJAxmBHIeOORUtphiQ6NKpDR44YT9thipQpkPHExuWONhSqQ0ZsMuKJDqwqM+CDjhRYNkipQkJHx9ccPCKMfJ5j/ZGcAAAAASUVORK5CYII=u;54;Resources/CPImageView/CPImageViewBottomRightShadow.png298;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUGBl1wTsKAjEUAMAJvLt4LTsvayEeQAQbbRTEZd1PEgWLCLozUWv1T0ppjR2OYVlB9RaWDciokVJaaQomjHhgQA5sfFT0uOKMA3rkwFYzosMNF3SYA3tNxoQeHZ4ogZOmoiBjRkEJ3P2qvrwAKV0tKePvXOUAAAAASUVORK5CYII=u;49;Resources/CPImageView/CPImageViewBottomShadow.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAJCAYAAADzRkbkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB9JREFUCFtj+P//PwMDggACdRDRByKiQIQOiOAHEYwAbGEKQz1zHVUAAAAASUVORK5CYII=u;47;Resources/CPImageView/CPImageViewLeftShadow.png174;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAABCAYAAAAb4BS0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABJJREFUCB1jYGBgEABiAyBOAAAB7QChuhy7UQAAAABJRU5ErkJggg==u;48;Resources/CPImageView/CPImageViewRightShadow.png178;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAABCAYAAAAMwoR9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABZJREFUCFtj+P//PwM2DAQJQGwAxAIAxNISj3z8C1sAAAAASUVORK5CYII=u;50;Resources/CPImageView/CPImageViewTopLeftShadow.png266;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFhJREFUGBl1wbENwjAQAMD7f8sYlCoN+w9GyRxOgRuk+C78CzcCgUShoZAIS0OiY+CFgY6yNBQGTnyRSISloeHAe875cSNReOK0kUh0HDYSgcLDRvoJhI0L53oFmk+kBA4AAAAASUVORK5CYII=u;51;Resources/CPImageView/CPImageViewTopRightShadow.png278;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGBJREFUGBl1wbEKwjAUAMB7aVAExUFw0f//vC6i1GASHYQuzV0gbOv+Ms5WHQ0VH1S0jLtVRcGCFxaUwMmqo6HhhhnP3Ht/2BARVxS8k7ELDpiSsSN2SMnYHhMiGQuEny/9fRhMYHBh/AAAAABJRU5ErkJggg==u;46;Resources/CPImageView/CPImageViewTopShadow.png178;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABVJREFUCB1jYGBgYARiBgEQoQMieAEB6QBLHwsEZwAAAABJRU5ErkJggg==u;42;Resources/CPMenuItem/CPMenuItemOnState.png258;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFNJREFUKM9j+P//PwM5mGEIa4SCciB+B8QggZlALAgSJKSxHKoBGe8mRuM7LBpB2JiQxv84sAshjTOxaLpLjFMFoX5C1mRMjEYYACl2QRYYoikHAEpc1bCGmTUoAAAAAElFTkSuQmCCu;53;Resources/CPMenuItem/CPMenuItemOnStateHighlighted.png246;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUKM9j+P//PwM5mGHoaywH4nf/IWAmEAsSo7H8PybYTYzGd/+xA2NCGnEBF0IaZ2LRdJcYpwpC/YSsyZiU6DBGd94QTTkAZdZoLJnGKoYAAAAASUVORK5CYII=u;66;Resources/CPProgressIndicator/CPProgressIndicatorBarBarRegular.png202;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAALCAYAAAC+jufvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAClJREFUCB1jCAku/M8AJP6BiN8g4juI+AgiXoKIeyDiIog4BCI2gIg5AFyHFY8OqzfuAAAAAElFTkSuQmCCu;67;Resources/CPProgressIndicator/CPProgressIndicatorBarHUDBarSmall.png186;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAJCAYAAADzRkbkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB1JREFUCFtj+v//fywTAwPDZzjxBU58BRHf4cQPAB52Cxbv64VdAAAAAElFTkSuQmCCu;75;Resources/CPProgressIndicator/CPProgressIndicatorBezelBorderBarRegular0.png210;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAPCAYAAAAh6nXEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC1JREFUCFtjYIAArvLy8v/IDHcQRw7KsQVxNKAcDXpy5IDYHe42qCjYbTABOQDm8yOhSf3qCwAAAABJRU5ErkJggg==u;75;Resources/CPProgressIndicator/CPProgressIndicatorBezelBorderBarRegular1.png186;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAPCAYAAAAlH6X5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABxJREFUCB1jKC8v/88ABIEgQoPh/38gj1gCVS8A6JkgoF9/TfAAAAAASUVORK5CYII=u;75;Resources/CPProgressIndicator/CPProgressIndicatorBezelBorderBarRegular2.png210;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAPCAYAAAAh6nXEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC9JREFUCFtjKC8v/8/AwMDFAAXuyAK2UI4ciKMB5WjQjQNluMNc4A5VAnabHIwBABIKI6Gj7Sm0AAAAAElFTkSuQmCCu;76;Resources/CPProgressIndicator/CPProgressIndicatorBezelBorderHUDBarSmall0.png206;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAPCAYAAAAh6nXEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUCFtjYIAArv9AgMxwB3HkoBxbEEcDytGgJ0cOiN3hboOKgt0GE5ADANaCOFnbDsAfAAAAAElFTkSuQmCCu;76;Resources/CPProgressIndicator/CPProgressIndicatorBezelBorderHUDBarSmall1.png182;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAPCAYAAAAlH6X5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhJREFUCB1j+A8EDEAQCCI0GMA8EggkvQBxuCPQNuROvQAAAABJRU5ErkJggg==u;76;Resources/CPProgressIndicator/CPProgressIndicatorBezelBorderHUDBarSmall2.png210;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAPCAYAAAAh6nXEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC1JREFUCFtj+A8EDAwMXAxQ4I4sYAvlyIE4GlCOBt04UIY7zAXuUCVgt8nBGAAbGThZ6I8gYQAAAABJRU5ErkJggg==u;73;Resources/CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif5998;data:image/gif;base64,R0lGODlhQABAAPcAAP///8zMzJmZmWZmZjMzM7u7u6qqqoiIiHd3d1VVVURERAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBgAAACwAAAAAQABAAEAI/wABCBxIsKDBgwgTKlzIsKHDhxAbGphooCDFigQvRtwo8CJFgQUmFjAY0sBIAB4nckyYgIDLlzAVQEzp8eTKjAoUJMipAIFAAQkGBAVQAAGCkQIOKD1ZQIDTpzcfHkiQQEBBo0YtKsUYtavXr2DDih0YcuxXjR0/plVp9qFJhyFttkU4lafVhU2fyp1rEEHQAQMGYvX5U+mBu3wTK17MuLHjx5AZo42McDJKtWu5Jr4ol/NllSXZgrRsNqVD06UVuOSZk4ACxKdpiqZMe6CBATmp5hyQF2GBkQaePtUs1u8A2FMBBwYwWKDhA8SD721rPAFhgc0HJlUKu7Zzowe8i7cfT768+fPo06tfz34jae8lDb4XGdmzbcxE3zMOzXWyfcXxEcRfZpntRd9YKdmEFluT8TebWA6+1VCE082l30EXttdWSzB1KJNbsh0YlQGqucaaa90xFCJxZvl1HV4CsJgYULntlOJBwjmV2AE15maVXwmEp9VhP+UoQIUjssbbQMoFyRxWKD2XkXD7NXlXdgZISZkBfyXAVXZEPYdkYsotKRiUBGkJ2W99oamhUhrGKeecdNbpXUAAIfkEBQYAAAAsDAAVACUAHwBACP8AAQgcoECBAIEIEypcyLChw4cQGxoYkGCAxQQRBRrYyDFjAQQgERRAeKDkgYQCUh58aCABgZcwMWZ8WCCBzZs4Dcz0iBNBwpAIDpo8WUDlSoEFOOrcKXAoUwAGYMIc8LQqAqknqyYkWLCrV5laZx4YkDWjgZEOBVC0uLapxaMIiwpYqrQjRKBLnQKQm/IpUIV6ERoNq7DvUwFSEywl3PCqVAIKyjJeKEDBY8mTFxKkOrkmzs+LGXP1+jWzacJqK4KFqJQmgopsE/jcCDFpXbRIYa/NOjFk07IqE9ZdPBZBaLW+Aeg1ihthaIYH/v4uiTLlc4jRQUoODFXl9bQDfAIMNqlQbvOwAkrChRgQACH5BAUGAAAALAwADgAfACYAQAj/AAEIHEhQgAGCCBMmNKCgoYIBBQYqIEBxgMKLAzJq3BjxoseEBxCIFDngAIACHT+qBCDggEsBBQXIJFjAgM2PAihShLnyY4KGCX7y7Em0qEIBCA6kBGDApUuBMmcytXnQKEEDMqsa1UlAq1WFBrgi+HoA6E8FCWAmqPg1IYIEY62+3bgxgcW2YEcO8Gp0wEiRPAs45SmVKl+PLV8OjDrU8NKFLvkyXniY4ACKcfEinEgxgeaEaykqaDsX4WXRj1cCdRj3gM7RXweYbbj36ecDZxUM/cx7Lt2MdvH+3sj7KILdeAv8RbBX83K/BxNXtpkawF+TA50eiB5VoGGi2hd3F/dOdWV48VLJ3/R4Hj3y71YnFx+4/mJAACH5BAUGAAAALAwADAAWACgAQAj/AAEIHEiw4EADCRIYMEiwgAIFCRQcEKiAAAEFDAceGDAxo8cDIA8U8OjRgICTBA2oXJgx4sORAyteHChgQIIBOG8uHPAQQcEDCIIKHeqTpMCQIVkCOCngoFKGBU7CdKqS5NOBFi2SfPiQoEyMAAokTFhUYMSIPr8aNGATp82rBIESFWq0rl2BApCCbGrUwAG+A6MyFbgS7kGmTwvfLVh1cUyLYBkieNjx8cyMPCMO8AqZZGaIliNvRPB08lmBWQkIFOv2ZkcBXBMsfQg4LIKbrREIvlvzpmzHd+XOpUtS+NypwE0a/qgXOUO/ekUCMCnAucaQtZlWn77SqHaYij1qDU/ZPeN48o0dhwcOMyAAIfkEBQYAAAAsDAAMAB8AJQBACP8AAQgcSLDgwAIDBhQwyJBhwgEJBAhMoEBBAoEICGgkYKDhQAEIJHocabCAgJMiSao8aKBlx5UkHw4oSNEiQQMbCRBEwJPnAAQYEyQ4YHCAxosfDyhdypQoTIYoUS4U6PLlU4Ytr64sMJVgTaQ3U2JNkDCB1a8fc6bsicCpwIdDAaA1qlGBxwJsEczUCkBA06Vi+Qp+aiDqSat8TSKm6nJwQZddHZNEq/WA0MCUB2YksJchArIJgA7MLHejXY+fH46uCFbBRrB920a2rFoua4GuNXZ+mzcl6JkGhHbMTcBtwQN5BxhnqHSlgZ4DFkt27Pcv08HVrU9nuDAydcOOTRoTFlkgq9aoiKtuZ2x+u/r1768GBAAh+QQFBgAAACwMAAwAJgAfAEAI/wABCBxIsCBBBAgMKlyoECFCAwIHSBwg8ICCBAoUFGDI0IAAiBwHDlAwYGNIggZSgjzJsqHDghMpDiyQ8SJHAwdy6jyw8YBEAQYRZKRokYDRowk9CljKtGnLpypVPp06NabClS0LOERgEoDVgTUVhNwJdOBWoAMSJKAoFGOCgQYSHCVQtuDOnF0ZHphLQEFdgUqbLqVKuDDVAlFT5jVcECvjxwTTroUsUMCAhDAn2s2IueUBhwciaxZ5kSTVzy8jjgbg1vTNA38BWE79tXVn2UMJ3j0A0sBlhKo3YsxYdgBfAo4F7AaacuHSuMcTODa4c7HCvUgpGw4smKl2wN29fw8POX184vKPz6NPr9I65YAAIfkEBQYAAAAsDwAMACUAFgBACOgAAQgcSLAggAMHDCpcaBAhwoEIIiIQKCDBgIsMMwIooBFigokdBzpMSFAiyIEXMS4sIKClSwEUERpomOAjgIoKFNTMSTJkSAUEggodmsAnAJMGC3A0etBhSYkDDVgckGDmwpdWBY6cifTA1AEDCwzImTPrwJctQwrQmSBnUaZG1xIgmzOoArMaD0TsCZegAZkFkRKsmICvRgEOYUKE6pHqSbWJF0dEedEmQ5Z4/zo9yjhl4YKOz6JdWiBygckAqFKFSLatgoIG0AqYqTSjWLeuwV5+qba14b7Agy8EOrT4W+EUgdIlfjcgACH5BAUGAAAALAwADAAoACgAQAj/AAEIHEiwIEEBAgwqXMgQIcICAg9IPCDQAIKLCBhqFFjAwEaCBwZQ/EhS4wECKAlkLMmy5UaHCUFOLIhx5UYDOHN6BGDgoUEBA0QKHJAgKNEBMQF01Ml0Z8kECqJKnTrAJckBKVM6tcq168SRXX86lClxYIGaEG/mTCsQJsSvAATUJIgggd0EbA02fWq06FaCTXO6NHC38N28YRN3TZAVZYK/ihtGrRq5suXKAiQmjVzAJ1mwAxEgtdoT4Va4Aw9gBM2y9GbUAGqyZgi581gAqDGOHmhRaMG9A2/jHql7Z8iiQfEqXKoTsV6PdY0SReBcoU6+RTdfdsk8MGSNUKeKK6fs/btGwoYLV+86QAHl7QZPZlWgHf4BBY1Vwv/NOGX9/QAGKOCAra23UUAAIfkEBQYAAAAsFQAMAB8AJgBACP8AAQgcSNCAAYIIEyY0aHCggIcCBh6YeEChxYsIBSCIiLFjRgUgE1T02FEBgZMJMDI8SBAiR4kUSRZouHBiRAMIBiDYuZMkxgEJBggdKjQBAp8mT45EAFJBApA+FSI4OSCqQ4hWB65siRXmRJJbAbgEYIDiSIEHeB7NKtCATrUF2FokSreq3LsKJ7oN+VSB3awFkhL4KxDoWrYJThJQwNbAQ5ZZaXJ9iLDsAcgKGca9StkhxZcKZzLk/FLAZ7CjxXY1i7lAWtBaU3c2PXGzRrWEfRaIe+Atz7Ny3fLEjLd4R6B1ix62WiD5ULkIjBpv6bRvyrsDUIq13hc4yewnGQsYbN5UAXGPUxWfvytAMQHYeA24n14QPsGAACH5BAUGAAAALB4ADwAWACUAQAjzAAEIHDiwgAABBQgqXHhQwEADByJKXEgRgcWLGBEcUIhAgYIBAgckGEBypEOBCggQUECwgEcFCSjKFNjQwMyZBSRuvEnxwICdMlOuFHgApseEMw0kSGCTp1OBBmo+pdkQ6UABB5rexKrzwMmpYCtmvAiU4siSA7QOFMqyYwKYBBEsFYmULUGjCtQqVKmSot6pDb8CbhjWIGGwhg8S5BpRpmGbObtm5RlZomCnEP9OLTCWLM/OGMuG5bnUJGAAnM+WRGAVgACPDt/CJiqSJF2BfAkIfPsWAUEDCH6uVclyt1GQM+0OHGA0ZlDiCosq8P186OiAACH5BAUGAAAALBUADAAfACgAQAj/AAEIHEgQQIGCCBMqFGigoYGBDh8unLiwgICDFDNCHICgo8SECQiIVDAwgQIFCQYOWJkAgUaEEQvGfLmwIUYBOHNepJnwgM+fQA8IGHhAJAGSBhIkeDggQVOJAjpKdSlwgEiqJU+mJChA6QGeDB2CnTgzbMOxAGaWTasTrUCdQ932DPozrtyXPhcOPcBx6leECIwSEGgSZVWWfwUWOIDArgKjWwlrJYjAacuxhSPfhfhxs9nOYdGuLSB2bNmIGMGqLU3QwM6MZ9OytghXrmu4oMfqTO25N0K6Qe2CBe5TOM2oxu8a6IuAI2+EIQkM+K3UpYGpUhM+Fjk9M4ADTlcSKmTccTpBwVS9A+i60rxewXbVpw2vGeF2Ap3lHxavN7d+xc+9VMBKAWYUEAAh+QQFBgAAACwOABUAJgAfAEAI/wABCBxIsKDBgwUNIFzIsCFCAQoISJR4wGGBAxgzOhyooKMCggNCDhhYAIFJBAU2qjxYwIDLlylXyhRAs2ZNhQImEkigUGACBT8RABiQIMFIASeFDhSQsSLDngVFjpRJdePLl1WfYs260qZXmlAJFhigYKpDAwLCHkSgU6KCimQVKCUoIGTFi00xqj3Y8adTqQINJK36s2NMgYAJDuZa0CTjxwZbboWc8KpLypWvYka4d7PBrzc9g7bZ2TNDthOdMsSLsaGBBG13ohXAGWfeA7QJGog9FWJfAGOnnjRr4DbIjrk5/kyAWKTA4ckFMi09kOzy6s6fn1St0npZkNkFHhPYLhNBR+5Dww9EMCA6Y6JGqwYEADs=u;47;Resources/CPSearchField/CPSearchFieldCancel.png1298;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAB3WlDQ1BJQ0MgUHJvZmlsZQAAeAGtksFLG0EUxr9NEBWLlaKe9yBiIbZr1oBeJEZtkeYQYopVeomzaxJw12V3jQoe/Bs8CIVSKBXppfRo6SnQS3vwIGJr2/9CwYvI9psd0vTQ4MUHb/c3337zZubNAsl82fPWEgAcN/SLT3P6i6VlvfMnNPThPgbwuCwCb7pQyNPSJq6+0804HZW12pjayb0+FwS0FA39FcVZySuKS5I3Qy+kpypZVMsWeYec8kvFGfJ7cm9F8SfJK4q/Sq6Lipx7TjZcq+YCiS7yhGUHgpwlCysQDvmA/NJx1lk/ScSI8HzOTY6Qh2RfpAjUL4CpN/TvtbSlj8CHHDBw3dKGx7ndDPD5VUu7PI97pQ12BatmOi6n9RwBHftRdLkIdD4Ebn5E0fVRFN0ccu1fQONKbPj12MuDaMfc8C1jdWZVHTjhGRjxHf2fVV9ilwG8awDcCp7tAq+zwDAHD34DBXIpi4RpNlP1kFagOzdmpA0zIyfeaThrG7ynODr4vGe7zxf47mPmV/0nxSZb9uxck+1g7q+nFs6XmjpyGIOBNNNEBovqrvkV4xPs/RnhW+NL/a1U/o3Q3op7OLPubfu1SjXUp/mn2yl93hWPUnraMCbxB2AbgwprTB4MAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhUlEQVQ4Ee1US0rEQBCNHwYFUfzs/IGKXsAD6GJMwIuYla6SO2Sjh8gVIskBongEEUWEWQkKOpKIaHwvSfd00hnjZnbz4KUq1a+rO9VdMYwxRl2BiZYFFjC+DC6Bc6W2D/sKPoNvZUwzfyVehXoTZMIMpFa1XOAJ7IEaprRIEViD2QNnQDVZMVo8OzCL4Bf4XoQGz8mBK715eOsgF81c192hBSXKGN+nwQ2Qc1qxBUUXPHIc5yQDwjA8L2Nd+oxxTMRgt8FW7EPBxDlFIlrVF+Ol5ZxWHEAhE9MXCeu7V3SH8CtoqnFF8M+XyhlwDotfB68RTztHEATHpmmeRlF0wQD8M3yBYVnWZaHIn9qtUMaky4PIS4HTt+ufL8rCMaGD1Q6PV6qOHwTYcZ04jl/SNL22bftGiHzfv0uS5MrzvHvE2DQf4CP4CUoM6zx23S7YVCo5Gc43eAv21CD9ph0zzpqxo2ZBdlgdYqcPGNCSUjxsxyIRO2oFFD8h6rlo608ImjFGXIFfJ96OUFGBfFoAAAAASUVORK5CYII=u;54;Resources/CPSearchField/CPSearchFieldCancelPressed.png1326;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAABz2lDQ1BJQ0MgUHJvZmlsZQAAeAGtks9LG0EUx7+btBixSI2t5z2IpBDLmjUQLyU/oEXsIcQUa29x8hPcddlsogUP/g0eBEEKpUW8iEeLp4CX9uChiK2t/hUKXkTW7+wQ0kNDL30wzGfefOfNe28GCMdKjrMcAmDZnlt4ldXfLr7TB34hjBGMIoqZkmg6mXz+NSV97OYHNLl1Oilj9RH1cw+7vBDQ4hQ8qSlOS15SXJS86jkeNXXJol4qk9fJcbdYyJH3yMM1xV8kLyn+KrktavLsOdmwyw0bCEXIqXKlKchpsig3hUX+TE5Z1grjhy7JMeG4PBt+QB6XfeFMa18BLz5Qs9nzLR4A+1ng6W3PNzHNdJPA0XbPd30e9EobizSrZiIIpw0dAg+3fP96ARh4Btz99P3bQ9+/2+Xdv4HOjWi57UDLQrQTJvyPtapZRQe+swZa8EZ/Z9WXQGUAnzoAU8HcBrCTBia4iF4AeXIxjZBpdofqIaXAYHbKSBhmUh78r2Ytt/hOgclv+qhiv5nn/JgjVnVfFrqMLKZgIMFhIokF9Y7cxXSKfT0jfOsctz9Kz5/mVdaC/uRWnPduo1b39Ax/cSWuz9rieVxPGMYM7gG5lX3sSVNlhQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAadJREFUOBHtk7tKxFAQhrOKilvExgtoENRGUijEwsVKYSEPsG/gC8RXyVOk0idIYSexEFQWbUyhEfHWZBEvTfz/JCceyexupdUOfHvOzsyZTP7JMYyR/bUCjSEPWEB8FSyDOcD8J3ALYvAIRBtUeBMnHDArnjSMF/jPwLkUH5ec8G2AXWCCftZEwALvoNb5mHCKr78Fphhrt9uLXHXTfMxhLs/8MqljSrDOLBZwXffAtu00iqJ7+jzP23YcZz/Lsm4cxz242DnXBFQmFd5BdIYZPMiilmV1uLZaLWytTpIkh0EQXFdVik1X/y8V3kPCRJmUsVNV3DRNG0WPfN+PEM+AGv4k9qflmXyRNNbj6qDuY0GaFCsi+JU6XoGfUuQdUVP1+mmaXpWy9PAmSlPmPYChUrAoL0SDw+OgqClfX5dFGx47vwTqQdjKHX/BvwSaHB4L6INicfrCMMy/EuS9Aur7Birrp5O6IPm3XGUXG31on3Adg4si9PMracwob9IHoCzTgMYm9KK80iegVhS+wZNFnDdqDfDqzgPaM7gDN6B2leEb2T8p8A3yHYy8BAVcaAAAAABJRU5ErkJggg==u;45;Resources/CPSearchField/CPSearchFieldFind.png1302;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAABz2lDQ1BJQ0MgUHJvZmlsZQAAeAGtks9LG0EUx7+btBixSI2t5z2IpBDLmjUQLyU/oEXsIcQUa29x8hPcddlsogUP/g0eBEEKpUW8iEeLp4CX9uChiK2t/hUKXkTW7+wQ0kNDL30wzGfefOfNe28GCMdKjrMcAmDZnlt4ldXfLr7TB34hjBGMIoqZkmg6mXz+NSV97OYHNLl1Oilj9RH1cw+7vBDQ4hQ8qSlOS15SXJS86jkeNXXJol4qk9fJcbdYyJH3yMM1xV8kLyn+KrktavLsOdmwyw0bCEXIqXKlKchpsig3hUX+TE5Z1grjhy7JMeG4PBt+QB6XfeFMa18BLz5Qs9nzLR4A+1ng6W3PNzHNdJPA0XbPd30e9EobizSrZiIIpw0dAg+3fP96ARh4Btz99P3bQ9+/2+Xdv4HOjWi57UDLQrQTJvyPtapZRQe+swZa8EZ/Z9WXQGUAnzoAU8HcBrCTBia4iF4AeXIxjZBpdofqIaXAYHbKSBhmUh78r2Ytt/hOgclv+qhiv5nn/JgjVnVfFrqMLKZgIMFhIokF9Y7cxXSKfT0jfOsctz9Kz5/mVdaC/uRWnPduo1b39Ax/cSWuz9rieVxPGMYM7gG5lX3sSVNlhQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAZVJREFUSA3tk0srRVEUx69XRAxEMpYo8krKkAEjg/sFTEx9DwOfga8g+QZSHqXEQHkr8hh55f36/dxzdOice3WjFP/63b332uuutdfa+6RS//qTHSjIUrV7PdABjYHfJuMKLAbrLw1JSbQPQRqKoBDUMzzBFMzAC+SUAeLUi3EYrmEOpmEhWNcxtsMxHEBOFcd4WEU3uGdgT3wHnnoHrGYQ9LFtrrMqbEPUySRN4LgEl3ADt8FcW+jDNLeSKgmTW8FjJIz3YTKlj7TACHzWBIY1jWGwzw62RXWCp45Km9rODG+BDBj1m2T9lkCfuIs3cQX4dGuhBM6hEvqgH9yfhQ3wrk7hELrABKvwrmj20KjNgGkYANtlm5SHssX67MMYXECoNiYfErgRV4l2A+/BGRiwCkzkxzgP1VAPzbAM96BOMsPHXwMkyROXQymEp39g7gFMMgo1sAvj4CuMVVIlOvv+PaHPV66C0dfleh1awYq24Ai+VXagDBrAe7PibF1hOz8Z1FaaIOlTyC9yzL9+pIKYPL/A9AoeHk3/hvvtQQAAAABJRU5ErkJggg==u;47;Resources/CPSearchField/CPSearchFieldSearch.png1274;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAB3WlDQ1BJQ0MgUHJvZmlsZQAAeAGtksFLG0EUxr9NEBWLlaKe9yBiIbZr1oBeJEZtkeYQYopVeomzaxJw12V3jQoe/Bs8CIVSKBXppfRo6SnQS3vwIGJr2/9CwYvI9psd0vTQ4MUHb/c3337zZubNAsl82fPWEgAcN/SLT3P6i6VlvfMnNPThPgbwuCwCb7pQyNPSJq6+0804HZW12pjayb0+FwS0FA39FcVZySuKS5I3Qy+kpypZVMsWeYec8kvFGfJ7cm9F8SfJK4q/Sq6Lipx7TjZcq+YCiS7yhGUHgpwlCysQDvmA/NJx1lk/ScSI8HzOTY6Qh2RfpAjUL4CpN/TvtbSlj8CHHDBw3dKGx7ndDPD5VUu7PI97pQ12BatmOi6n9RwBHftRdLkIdD4Ebn5E0fVRFN0ccu1fQONKbPj12MuDaMfc8C1jdWZVHTjhGRjxHf2fVV9ilwG8awDcCp7tAq+zwDAHD34DBXIpi4RpNlP1kFagOzdmpA0zIyfeaThrG7ynODr4vGe7zxf47mPmV/0nxSZb9uxck+1g7q+nFs6XmjpyGIOBNNNEBovqrvkV4xPs/RnhW+NL/a1U/o3Q3op7OLPubfu1SjXUp/mn2yl93hWPUnraMCbxB2AbgwprTB4MAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVRIDe2TSytFURiGj0tyLxIxlaIUA8WUwkz5A36BPyI/RvgDBsqlTEwU4gzUGcstd8+Tteqotfc+nciAt57zrb3Wt7613m/vUyr96092oCHHtWvTMAEjIe+UeAwH8B7mCkPeIUvsXoYmaAyV3oivsAHbUNNBFkhphskVuIdd2IT98DxA1F0FrqBQzYkMbz0Frll4C55AXYBuFsGcw/BMyFZsQ3WGLRwFo72/hYeAY+diDsNipZxYIB6uA99B7P0L4+jKHHMLFYtVJ1rQtqjJz/DlN86ZU9MhqRfvxg6wWD/o9ga6YBbmwPUdOIPokmFaqZvorhP8fBfAFtky5aU81H1lWINryFXKiTezaBksYMFucM6b70EvDMEYHMEjZCrlJCZ7AdvSCo7NfQYP64FV6INLWAdbmlTKSUzUkUX9fP1T3oVx/JxPeB6HQTiHCnyrdKXDYZiHdsjrCsv1yaIt0Aapv0J9VTN2/YiDjLN+efoDgZRGxg70NQUAAAAASUVORK5CYII=u;50;Resources/CPShadowView/CPShadowViewHeavyBottom.png186;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAARCAYAAAAcw8YSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB1JREFUCFtj+P//PwMDmQQQ2IAIDRAhASJ4QAQLAM+wJGk6yEDYAAAAAElFTkSuQmCCu;54;Resources/CPShadowView/CPShadowViewHeavyBottomLeft.png378;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKtJREFUOMu10r0OwjAMRtFrCIiBgYGBgYkn5mERtOmPWWwpShNEI7BkdfLR59QBCMABOAIn4AxcgKuq3vmiAj+ovyBqPVuvQrQAjC1JHJgMGNYgpQQD0Lesk6bogVcrMgIR6IBnyzqTrREtxWNtkjlBOmALbFof1teRlmNLEQdURG7A3jpYe0qpIenN+J/aZcMOSL4OH5CYDC+A2sX6VwySrKkhmmFkCKVhrzeOxUzF8ZZO7wAAAABJRU5ErkJggg==u;55;Resources/CPShadowView/CPShadowViewHeavyBottomRight.png386;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALFJREFUOMu9k8sOhCAMRSHhs/yo+ehZuHBhDKP4wE4nKZlaMFoWkpxgeJzcgjgAMHeatfaF3RtpkQ7pEY8Ed8tw0R6X7AQQVZKtIAKtZCVRZCJ1kpmJDok0kolEWRqNZEQCsrA0aomnNAuVFWvKGViaJNlrkoyFcsDhm2jYQqDJSAs32vTjw76zM+mEJIm4bDX/6y3eTi9iS1GSRTF2+E98QcJlXCrHTEoSTg4STsTZ/BcCN3bqE4blmQAAAABJRU5ErkJggg==u;48;Resources/CPShadowView/CPShadowViewHeavyLeft.png194;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAABCAYAAAA4u0VhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUCB1jYGBgYAFiHiCWAGINILYB4hAgLvj//z8DMRgAsZ0fM9irjXgAAAAASUVORK5CYII=u;49;Resources/CPShadowView/CPShadowViewHeavyRight.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAABCAYAAAA4u0VhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUCFtj+P//PwMxGAgKgDgEiG2AWAOIJYCYB4hZANHCHzOD2AJlAAAAAElFTkSuQmCCu;47;Resources/CPShadowView/CPShadowViewHeavyTop.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAARCAYAAAAcw8YSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB9JREFUCB1jYGBgYAFiBh4QIQEiNECEDcP///8ZyCQAal8kaTS8tF4AAAAASUVORK5CYII=u;51;Resources/CPShadowView/CPShadowViewHeavyTopLeft.png346;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJVJREFUOMutkgEKgDAIRbdmbY3o/nfrMGuBhjODlIQPw/D1rEEYKyrn+PL8LlAGeCal94CBeMskkjC8FzVIFICE/SszBgRsAIGwSDi0YAo7g4C9QgAHck9trR3hQ8l1CFJ7ti8AbsJXKQjZLRAy4d9j9ZjIdcjGBaHfm9HGvA7dAbof2Wqi2cyedTQjs0lQQC6Iq36BnNGBBaWEiui/AAAAAElFTkSuQmCCu;52;Resources/CPShadowView/CPShadowViewHeavyTopRight.png382;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALBJREFUOMulkWEOgjAMRjscgoYYf3gF738Jr2SCiqsbaUlTC7GzyQuD0MfXEgEggl1onK1ns6BfaUZFUvfL+0UyGBJuYt5EUiAnOW8ISuOUeRETwZVYclES2Vx4EiNdg/5oRMQb/FAhhKsQyMSrf8aqQQh4R0UaPJKTMeos8yZ5EK3YjyvJMXPP7GkNDe/IIzlkOurZ1Uo6GoNTNDXjtFYKb5KvBDXjaAHUJNmM+Hd9AEI6RFQh0+dCAAAAAElFTkSuQmCCu;50;Resources/CPShadowView/CPShadowViewLightBottom.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAJCAYAAADzRkbkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB9JREFUCFtj+P//PwMDggACdRDRByKiQIQOiOAHEYwAbGEKQz1zHVUAAAAASUVORK5CYII=u;54;Resources/CPShadowView/CPShadowViewLightBottomLeft.png298;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUGBl1wUEOwUAUANA37S8JG7Fj5Qhu4KrOJyxEpJTpWHSW+l5ggwOOpZSzP8KkYDQjUJAxmBHIeOORUtphiQ6NKpDR44YT9thipQpkPHExuWONhSqQ0ZsMuKJDqwqM+CDjhRYNkipQkJHx9ccPCKMfJ5j/ZGcAAAAASUVORK5CYII=u;55;Resources/CPShadowView/CPShadowViewLightBottomRight.png298;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUGBl1wTsKAjEUAMAJvLt4LTsvayEeQAQbbRTEZd1PEgWLCLozUWv1T0ppjR2OYVlB9RaWDciokVJaaQomjHhgQA5sfFT0uOKMA3rkwFYzosMNF3SYA3tNxoQeHZ4ogZOmoiBjRkEJ3P2qvrwAKV0tKePvXOUAAAAASUVORK5CYII=u;48;Resources/CPShadowView/CPShadowViewLightLeft.png182;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAABCAYAAAAMwoR9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhJREFUCB1jYGBgEABiAyBO+P//PwM2DAD6GxKPgLbV2gAAAABJRU5ErkJggg==u;49;Resources/CPShadowView/CPShadowViewLightRight.png178;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAABCAYAAAAMwoR9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABZJREFUCFtj+P//PwM2DAQJQGwAxAIAxNISj3z8C1sAAAAASUVORK5CYII=u;47;Resources/CPShadowView/CPShadowViewLightTop.png186;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAJCAYAAADzRkbkAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB1JREFUCB1jYGBgYARiBgEQoQMieBn+///PgI0AAMt5Dzxv9Xo9AAAAAElFTkSuQmCCu;51;Resources/CPShadowView/CPShadowViewLightTopLeft.png266;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFhJREFUGBl1wbENwjAQAMD7f8sYlCoN+w9GyRxOgRuk+C78CzcCgUShoZAIS0OiY+CFgY6yNBQGTnyRSISloeHAe875cSNReOK0kUh0HDYSgcLDRvoJhI0L53oFmk+kBA4AAAAASUVORK5CYII=u;52;Resources/CPShadowView/CPShadowViewLightTopRight.png278;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGBJREFUGBl1wbEKwjAUAMB7aVAExUFw0f//vC6i1GASHYQuzV0gbOv+Ms5WHQ0VH1S0jLtVRcGCFxaUwMmqo6HhhhnP3Ht/2BARVxS8k7ELDpiSsSN2SMnYHhMiGQuEny/9fRhMYHBh/AAAAABJRU5ErkJggg==u;47;Resources/CPSplitView/CPSplitViewHorizontal.png194;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAKCAIAAAD+RXMgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUCFtjWgoDTKEwwPQPBpj+wgDTHxhAYmGTRYgdggEAPLVN4i1E+ZUAAAAASUVORK5CYII=u;45;Resources/CPSplitView/CPSplitViewVertical.png194;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAIAAAAlXwkiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUCB1jXLp0qY2NDRMTEzMzMwsLC4SEMNauXctIkTQAwg4O0avWgU8AAAAASUVORK5CYII=u;51;Resources/CPTabView/_CPTabLabelBackgroundCenter.png214;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAASCAYAAACaV7S8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBJREFUCB1jWr169X8mZ2dnBqZ///5Bif///zMw/f37F1kMLIsQA7MQXDQdRkZGjADPODEixZK7iAAAAABJRU5ErkJggg==u;49;Resources/CPTabView/_CPTabLabelBackgroundLeft.png350;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAASCAYAAAB4i6/FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJdJREFUGFdtUEsKQyEMTCBuBXe9gDvXPU+37xKFXkev6Oc5QoJtHYjiTDJJ5DEGlVJeRHTNeDIzgZOc8zuE8IkxkveeTGitXSklcs4tovdOgMzHQ0QWiQBQJchQArdZ4Zh2S9ghtdblq9kmgDwKsEGARIKKS9ARd5gV8DUumh+n2psDtgfIYwXI/TtM0Iq/PU5TAfxrobgByk2US+DqkeEAAAAASUVORK5CYII=u;50;Resources/CPTabView/_CPTabLabelBackgroundRight.png346;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAASCAYAAAB4i6/FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJNJREFUGFd9j8ENwyAMRe0qHLl3CNZhiEzRMXrtnU26AjOAxADg5KMa0QjlScGCh38MhxCEfojI9yxv7/2HU0rCzF2UUijGSDnn16O1RvhqrWStJecc9vt2tiNCo8gYg/ocQuM0YUMEDrFRupgPFFxeihEF9B+gd8xT/QksOpXWIa4MMd8Gy3FH1EosO8Ct4OsblAPXUJQLU51iKwAAAABJRU5ErkJggg==u;49;Resources/CPTabView/_CPTabLabelSelectedCenter.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAASCAIAAAAVNSPrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUCFtjys/PZwoKCmJiZGRkAgFmZmY4jQ0jyyEBAK7qAuAYeB3qAAAAAElFTkSuQmCCu;47;Resources/CPTabView/_CPTabLabelSelectedLeft.png262;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAASCAYAAACeomSBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUCFuljbENwCAQAy27ov49aJnvB6FkrWcPmk9FFKQoTcrzST5mJsYY6e7J3nvOOVFrBSMCrTWYGbjWQikFJEGSkARJoKS9vpjfcF8f5ug86h9wATADFmAXDSbCAAAAAElFTkSuQmCCu;48;Resources/CPTabView/_CPTabLabelSelectedRight.png266;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAASCAYAAACeomSBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFdJREFUCFuVjbENwCAQA637ipo9aJmPQShZC/ag+RSIAhFFSnk+y6aU4q01d3eRUtIYQ7VWJ8aonLN67wJQCEFzTmFmMjMBywArOMyGw/yB1+n7Z9e+4QHvjBZgBg89KgAAAABJRU5ErkJggg==u;46;Resources/CPTabView/_CPTabLabelsViewCenter.png218;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAaCAIAAAD5ZqGGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUCFtjvnDhAnNmZiZzRkYGHOPio9MwNoyfnp7OnJaWxpyUlATGcXFxzLGxscxWVlYA/CwgVtHWuDgAAAAASUVORK5CYII=u;44;Resources/CPTabView/_CPTabLabelsViewLeft.png454;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAaCAYAAACD+r1hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAORJREFUOMuNUcENwzAItNv8K+WbAbJEv92s367Vf7JCvhkhdgpVziKY2EZCNvYdcNDt++60zfPs+N17P1D4ofuTzoFi1znDjiQjnV8C9QzkN3aTcNibvEfAJDaTcHy+UA0Vai09kFXqLFXI7pcaZBuadCkaJF25NKWsUpMGTSpN6UQG6bIluV3EVQ3NY5Wb1dMqarBI1ZZ0xaaWqlOyFpb2oNcPm6apSYO3hMO1Bi9PScAZY0wECf47fyIr7hCdgfEG4Em0Ab6xb9uWsjIRCbSGRAAwhJBIcg8nMPl9WRa3rmu20B+QCNBalqdZ1QAAAABJRU5ErkJggg==u;45;Resources/CPTabView/_CPTabLabelsViewRight.png474;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAaCAYAAACD+r1hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPVJREFUOMuVUrERgzAMtI3KVKHMELBAShZIk0FYIaNlAZowQbYAJzJn+WRjKeHvfBLwr5dkYJqmD8Ig3tbaJ8Yx5PGd6brOcAB9QFwwv2McUHjF8zIVAH9AUghnPA88t6ogkjKg02AEQCRQdcpPlIstcZEGqFRXxccdeMXS7a+1EvFQS9ocwNspXdS1Sq2JgpIkibIt8Q2JM2jbUWeotVSdQRpObYkTqEDf978dijl4+USCdV2zG2YulpEtiTaBcy4bNEbHKicReO93/1HTNGVLSQTLsmQOlCOCyseTRFtLwYXfdIRjlVOEeZ53q2vblhyI6GmGL+DHprPdSa8DAAAAAElFTkSuQmCCu;54;Resources/CPTabView/CPTabViewBezelBackgroundCenter.png166;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxJREFUCB1jeP36NQAFhgLCPZRjjwAAAABJRU5ErkJggg==u;44;Resources/CPTabView/CPTabViewBezelBorder.png166;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxJREFUCB1jmD59OgADjgHGSFRdpwAAAABJRU5ErkJggg==u;48;Resources/CPTabView/CPTabViewBezelBorderLeft.png182;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAABCAYAAAASC7TOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhJREFUCFtjZGBgYIZiVihmB+Hp06c/BAAH7ALGIwf97gAAAABJRU5ErkJggg==u;49;Resources/CPTabView/CPTabViewBezelBorderRight.png186;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAABCAYAAAASC7TOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUCFtjnD59+v/MzEx5BgaGn1D8G4r/AgCTpQkFeqUzkQAAAABJRU5ErkJggg==u;51;Resources/CPToolbarItem/CPToolbarItemSeparator0.png234;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAaCAYAAACdM43SAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEBJREFUCJl1j4EKADAEBRmb//9im9VTmim6TsIgInZ3GQEnL0QqYP5hRRFAMdabvpXj9pi6qxjFzXlq/SKCYXgDF+AD5ACr1RsAAAAASUVORK5CYII=u;51;Resources/CPToolbarItem/CPToolbarItemSeparator1.png170;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAABCAYAAAD0In+KAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABFJREFUCB1jZGBgMP7//78vAApVA38fKzIUAAAAAElFTkSuQmCCu;51;Resources/CPToolbarItem/CPToolbarItemSeparator2.png234;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAaCAYAAACdM43SAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD9JREFUCFtjYmBgMP7//38DEwME/Acx/iMz/mJn/APi3wQYf4H4F0zkJ4rIX5gISVL/kNWgiqDY/gfm1D9wEQDwSTQ2I/IFQAAAAABJRU5ErkJggg==u;38;Resources/CPWindow/CPWindowShadow0.png350;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJdJREFUOMut0ksOgCAMBFAHem1WHBwTVrXpDJ9o0gBKn4MRY4znzwunDb33ObbWcAvij4S47cFmA8QauxtZIxv1mxZANp9rHKRh9dmHBZaBReEMjFBJ5imMzSN6xFeEt74VwyJME0bMg9XdqxkKklKlqq6WYJaOYRGWYHZMDxhJKsFCQHOguWezT/1zKp0lKSWYJbQFOIO8L0oHneBhzz8AAAAASUVORK5CYII=u;38;Resources/CPWindow/CPWindowShadow1.png198;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAATCAYAAABRC2cZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACVJREFUCJlj+P//PwMIMDKBSBDBxATjglnMqAQLnEDjsmBRzAgAI2YDUG/9aHsAAAAASUVORK5CYII=u;38;Resources/CPWindow/CPWindowShadow2.png358;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ1JREFUOMutklEOgCAMQ0fh2vxxb4yJmrG0QNQl/ZNnuw69d/tLSGRaa/ZGMDK11qRkk8GlJCR/pGDJQbfBDAoCggBJqIdlAlVgCfXOshOLrKCDu/OjEmBZuKSg6CwvgLMyBnfMGWweWTZ8w0qArmIacxeXvxuTwkFcqVPBxN0A+1KCbLMsIHRXamewdUR2b8/R7jyWbmKbO21JN34Oq/BktCvK5iYAAAAASUVORK5CYII=u;38;Resources/CPWindow/CPWindowShadow3.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5JREFUCFtjZGBgYGSAAEYoZkLDzGiYBQ0zI6llBAAGtQAx0/UgogAAAABJRU5ErkJggg==u;38;Resources/CPWindow/CPWindowShadow4.png166;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA1JREFUCB1jYGBgMAAAADUAMcUHJsAAAAAASUVORK5CYII=u;38;Resources/CPWindow/CPWindowShadow5.png190;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAABCAYAAAA8TpVcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5JREFUCFtjZGBg0Afif1D8F4r/oOG/SPgfGv4PwwB88RIDhNxONQAAAABJRU5ErkJggg==u;38;Resources/CPWindow/CPWindowShadow6.png366;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKRJREFUOMulklEOwyAMQ+O21+aLi0/t6JQZJ6QbUgRK8esDATODvQdGbVT7mI+xPlztrs49QAAEwXzwMRCBIQPv9f3tymXAlSXbpYbqLhk6HVcBTRhmUN//AK1gycfffgWubL9gEdAeQEHACeRh6m0iAIWGyjJ6UqokqHIFED80b8jACGoZLINUracMA6q98GQqnPWXmSxYgf+3+Ry992turcnsC77uBJ8gKQLbAAAAAElFTkSuQmCCu;38;Resources/CPWindow/CPWindowShadow7.png194;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAASCAYAAACaV7S8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUCFtjYmBgMGACEv9BxF9U4g8qgSaGpvgf3BQwiwEAxvcQJujA9GgAAAAASUVORK5CYII=u;38;Resources/CPWindow/CPWindowShadow8.png370;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKZJREFUOMuVk0kOxCAMBPvg98wn+XaMc4mRx/EWpBaLoFTEhAD8AAiADYCfXC5sovv0jGjITpIgGNv+NDL07eKBIcCukVOukhmfXmG6mQeA1JKeD+zN2IGlAb9gX66KDMYNbFLt0My+na6yYTUvs+gNBbVdek3gbddBznitJRls+he0ZhhC/qwsDAEMHSQy21l1JhC1Ulj1EFMLC6nMyhZBLOzTgardIdHIhbP7OXcAAAAASUVORK5CYII=u;37;Resources/CPWindowResizeIndicator.png274;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF9JREFUKJFj+P//PwOx2NjYOJIkxUDalSTFQMxPkmIQnyTF0tLSASQpBtLOJCkGYlmSFGP4gZBiBQWFIJIUw+OBWMVALMkABHZAhg1MMQcHhxeQtoMp5uLi8obyJUF8ACitf5AUaj8yAAAAAElFTkSuQmCCu;31;Resources/FIXME_ImageShadow.png770;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdNJREFUeNrt3EFPwkAQhuHdpYB403jx//89Y9SIiNAus8msTGtbjCFe5p3kS1tSDn0y3Wwv0+ScA/X3aiC4EmCMsZxvJGtJ0kQTr5VNOkkr+ZLs5O092g4seA+Se0VcShYa74CtgdtLniVPkncLuJLcSR4lt5Ibg5icItquO5Suk2z1t7fhGpj0eq14GwVsHL/G9dU9aiPV82rSA4x609Jkpfckc48nvKDdVp+/4i3GAGsX1nWvMfHcgRWvNTZpqgNr0sTR6xqYBjuTyX1gHNm6eN/KxJFj/O1GOl649rAGzj4/XyJ8ygEIIIAUgAACCCAFIIAAAkgBCCCAAFIAAggggBSAAAIIIAUggAACSAEIIIAAUgACCCCAFIAAAgggBSCAAAIIIAUggAACSAEIIIAAUgACCCCA1PUA84Vrb5UvAeZBwuDcI1ge4PU8mgm8LvRHv5Wj5wmWnUme68A6L7TkGM7DB5Pj17ZTi9bkG3LYgXXYaslCf28DAxjrBN+DwfwB2OkNewWzw1e9z1CtjfWpOYwBVuUP07Z24KrnNbAuaQVvp07tELCovugfVgbPY/fNdWHBe9XzHuBeAbeBMfBhZnvXmqXuDFjmwmubUnzK/V+dAO2XkLvQMyBAAAAAAElFTkSuQmCCu;34;Resources/HUDTheme/WindowClose.png490;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAP9JREFUOMvNlLERgzAMRSlYgQkYhQHS0rMSJZUbL8UE749A4TTCpzgxgbskl8JnxMnvvmV9NSml5pOr+RoQ8KuTNAERWIHN9ghMQOfzq0BJjaRBUgAWYAR6oJXUW7wAQdKwnzlSOAAzcDu6lqSbpNnyq8AOCO9gHmr53Uug1WwpFKeitskrsutPNYURGF2c3HqIXc4oKdaAK9AXj5Qh7tuf6YG1BtyAtmwjDy3bBGiB7bTC4tpPCq2V1ss1lFStIRBPvbKD5Ka/+sqX+hA47kNTccopBpuBoWo98/FuvyDpwcu2j/Y/7LarWs9gedrYVImS8rSRlKeNz//NPPxb4B27qciruVGqigAAAABJRU5ErkJggg==u;40;Resources/HUDTheme/WindowCloseActive.png906;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjlJREFUOMutVDFuwkAQxBhjfkETIdFQoEgpU6RCiEcQUfoD/IUaKQVvSu+7wyQkUnAiOTN7azg7REqRYr1n3916dnZ2O7asOubkrV7DR3+w853aqqrqNAJg3YWP4XvwfViK9YCGNS3V79yPYV3s1Xc1YHkOyEAJLDXFy9A6l1lrd7Bn2Ce9wTssk30fPDH+XnRGqNCJLCEK4/YLXH6y1m1tUWT2+H5vPr5u6F1xyPCjLfflXCnoE71/CajwU+McgrmNLQ6PeB/h4AR+CrtVP8G3EfeBdGOsWyjSOAwYCWeH16EhMh4+VWN8v4N/gJ/B5uof8O0Ofuz4U+eezEHS7zHtuijMv09umKYg8MFmeZ5XWC+xXsGW+j5jUDnn9lugzLRQUYgwxd92whHTAhJerg376/BdkU7svshYKFXDJaCQa8wziSdXREdkYRAJbIwg1vSn9vh2LyrwxQkQUmOUBqvpC0DOVrB1G6l+n8s5nuc9r9EGhwP5EyWiCMkZEf1AeQoQvv6CUEofcCgcaTBNc91KWziU8xT7FQ770hkUbdmssiANqmzqKvMczztf5SaH0KHoCbpCd1DUY5XGDx3qz8YifuqW+vW9H/3SKXajQa92imSgnZKjU0RyYafI6CpbvUykELlwRCmxmiiA58z3cu7bbqD3us2AJ0k71k2ZNr5zQDj1qdOGhSNnpEeRJTKlyta0CeehBu4p0alKorbUtOZhOHDD8XWeutcmtmYQaRM0JnZ4VwLy8Z/2DZsA2rU7q2ERAAAAAElFTkSuQmCCu;27;Resources/slider_button.png362;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUWMPtl1EKwCAMQ3OeHc+7+539TNC6QZWWfMxBYCjSh6YRQRJK4QDYgVIKe6UD2IJPUZLk21y00BdsRd/+M74BoAKswATQxqN1ACYAqQekXSDPgdUF0YDY2bbII8Kq0SJNOgBchEsWwLvO6gB8BpHEA9IukOdAVsJ5QZGZ856jQtaN5zHrAADEygLY+QOwHUQpHpB2gTwHfv84vQHcG1BmjzmkMgAAAABJRU5ErkJggg==u;29;Resources/slider_button_h.png358;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ5JREFUWMPtl1EKgCAQROci3cl79rcXtAwE3YysdpmPVngQSvjAcSLknMEEIaBHSim3wHvoDQsicjBaswbthnXT0bMHncC6x6GgBeq8NSFwEqBmgHoL6D3wtTdciugOyyPC06BZhrQTWARTaIHZ9zQhcFlElAxQbwG9B+iF5dnzM0cFry/eTFg7AcAWLaDXQ+B1EblkgHoL6D3w+5/TDQIL6kKVaIANAAAAAElFTkSuQmCCu;37;Resources/standardApplicationIcon.png17722;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAM31JREFUeNrsXQd4VFXaPpmZJNPLnTs1jRIUERtiaCoEWKQoJaEJJIqhBsVC1RWxrO6669pd3fq77q6666pr76hIh5BAQgglkAbpCSQZAqTMf8+dc29uJpGamTPle/N8j5MhJmfOPefrJcLtdiMAABCeiAAGAAAAAwAAAMAAAAAAMAAAAAAMAAAAAAMAAADAAAAAADAAAAAADOCC/0BEBOwyAOAD9MTdpc4AfvfRVniSgYVeHBXBNvgHq6YMo8oAZPAIABIYOcoh/wWEARSwBWEvgSIk2tgD/eIchkOl5Q9w7z8heR8cRSEK0AAAwjmQcyrl/GgDg79/4P7n/88M5wMYgB/gBqJERPrjM6B46p2v73FY2XhFZBSyW8wG1hGTQjREmefnYL98Q2FuAkAUkjrkHEVFKdWPmsxm/g0DY0ZRlVWPci/fIT9zFp4TaACAEMLqqcMjyOWPXPWHd6fZWCYuWqXmpZJKrUb4+5WvviNoAXLy8wBgAIBQk/5GszXTaGY7/QP+3mSxLeVeRpOfAwADAISQ9Ocdf8t+88fRNqtliEaj62Sa4u/x+9y/Jwu+ANACgAEAQkz6O3v3W8WybLc/wDAMssTEz8FmAmgBwAAAoSX9FamZa/vpDYYhar2xW/+01sggs8Wagn9O0AJgB4EB9DAgFEQh7ISfe9Q1w0eusbLmcz4du5VFVyeNwL6AqA4zAPYRwoA9df0hvORvYA1AMXP5o33NZkuqyWI75w9rjWak0hlnjJg049ebP3vvDPdWG/fM4KmBBgAINqyZNkJQ/6OuumnEwzYre14JJZfLUK84p3bktLmZxBcgI78HAAwAEIzSn5PmVqVae5vOZL6g/wknBmkNxpnIExJUkN8DAAYACELpH4mleUKsUyuXyS/ITFUoolCsw+5c+erbaaAFAAMABLH0Hzl1jlXPmDNMrOWiXFV8YpDVsRB5nIEQEgQG0FMAT7CvSSr9h02YlhbvtOtk8ovz/+I0YSvL9F/y9GtCYpDc83thfyEKcDnXH/zJ/gKf+KMzsQs5uqRfwJgtyJ7QdzH38juOWpAnIgAADQAQqFibcrNY9LPy1XfS45wOZ1R09CX9Lq3BiEyMeey0xSshMQgYACDIpH80Y3OuMPIlv5eusuLQ4TXDk9cQX4CMMBgAMABAgEp/Pu33/uffnGK3mmOilGre7LpUMpqtyGBiUoZNSLEiCAkCAwAEh+1vtscuNjJsj/xCu9WCklPTcHpwJGgBwY0AcAKCF8kXeDj1FlH6L3nm9dF2K5uk1up65HcbzBZcKJTBvXyGo7MctbvhQYIGAAhM6W+L673EbLH0nNRQKJDTZtU9+NI/0gUtgDAcADAAQAA9W0XKktX9GIYZq9H3bKt/nB5stsc8hCAxCBgAIGDV/6irh41cY7WwvKnVk6RUqZHDZnHe99zfphItQA5aADAAQGCAT/udcd8jfVnWkmpkrT75I9ipyDrjFoEWAAzgMgDpoD1JEukfeeWgoZmekl/fADsVWcaUdNcjzw4iDID4AuA5QCrwhV5/8B37RPoPnzjdptLqZ+CGHr4Ep2GguH5X45DgLo5aER8RgIcAGgDA73hk+q2i9L916p2ZCbExOplc7lP5pWPMiLVYUqYtWSWkB4MfABgAgKL0l98y5U6rzmTOMJotftFibVYLumrwzUJikJwwIgAwAAAF6R81ePSkKThOj6W/PzgA7h6s1htmcGYHpAcDA7hoLwBQzzmT+MQfxmZfoTcxfnuCco7RxMfYtcMnpc4jWoDMw5DguYAT8HzXHxxGl41fzhgplvw++PI/+ZJflVrj1zXoTSzSM5YF3MtXkJgeDN2DQQMA+E0Q89Lf6lxhYFi/y7HI6GgUF+NwcgxI7BtIGBMAGADAx9KfT/td/KvXklnGxJf80tBm9QYGawGzESQGAQMA+F/623slrjZdZsOPyyGlRoNLhZMWPvmKOFAUtIDABpQDBzEenTlKlP6Lnnp1NL58OoOR6prMLIts8X2kfQPb4RmDBgDwsfS34pJflqXu08aDRnH14eSFD0HfQGAAAD88P8XUxSv5kl+13hgQi7JaLWjg0FFi30CiqQCAAQB8oP5HXj3k1jX40gVKaFtnNCOlRjtuyG3TIDEIGMB5vQBAl5ZAwhf9pC5bm8ip/ql82m+ArA0PFE3gB4rOEfsGehgWPDdIBPK+/uAfumism5UsSv8+A2+cxxLbP5Bg5PsGmr36BkJiEGgAgJ6Ap+R30gy+6OdCp/z69WDJcd9Ai275838XE4MI4wIAAwD0hPQfcfvMZb3jYnQKPOcvALVbPceY8DASBIlBwADAB9Cjtj8/6UdnYjL0DBuwhwvXI1jMJmfG+hdGEy1A7mFg8BzBBwA+gIvGY7NHiyW/97/wVprDatFF8A0/AncTcd9AR58rVyIYKAoaAKBHwCf+GC32lXrGHPCL1RmNiDWbk+ateUbsG0gYGQAYAOAipT9f8stJ//T4GP+X/F4qLBYWxSYOWAq+AGAA4APogYYfBtayyIA9/0GydJwYxFrYlCkd6cHgBwgQHwB1BnA5k2rDhR6bPUYs+lnwxMvJFpbtH6lS8bZ/sHxxa0aJ1yfNFZyB+DPBswUNAHCRtr8toe9qhmWDbvFaTmPBiUFDx8NYcTABABeM9Xd2kv6jHTZrkjZAin4uBnigaKzDqh085vbJhAHIyGcD0HwugeEDAFyI9Dc7Y+eYGCZoQ6c6I4sYuxMPFP078qQHt8HzBx8A0LltRD7td8qilYlmsyVFY2CC9rAp1WqEG5be9/s3cXowHxFYf+fYCPABgAkA6AaPzxkrhv76Dx6x1m4LnIq/SyWd0YR0DAt9A0EDAFwAeOk/dclqvuRXb7YG/QdSarTIbrMmZTz+0ijBF0AYHQB8AIAO6f8LScnvDfMsFnPIpE0zDIOwP4N7uQGRvoFwDsAHANSN7T90QqoVh8+0RjZkDh32Y2B/xqR77hf7BoIPAEwAAMETczuk//BJ0z0lvwr/zPnzF2F/Bm5lRnwBMvKZAcAAAEhS8qvWGWfiJJpQS4BV476Bar5voAVBYlA4MwDIB5eSRPpH3fvc39JinXanXBEZch9VLpOj+LgY7Yg7ZmQi0jHI89mhFiCsnIBQG94tSNGPfaXRzIbshzSYWKTSGmci6BsIJgAAoSfnjRNUf8Wy5/6WHh/rcEYpVSEr/eSRCn6gaOZv/yr2DSR7AAAGENbSP1pvYmdrjaaQV4ANZjMyWR3QNxB8AOFNRPLh5yGfv/6FZJvNkqRUaUP+o0dFq5GFNTnvXvf7ZKIFyD17AT4A8AGEqe1vi+uz2swP+ggP4L6B9oTEVciTGMQXCcG5ABMgbPBU2m1iye/sFU8Nxj30VHpDUDX8uJwvrcGIDAZD0sT5yxOJUJKRPQGACRA2aiAf+otNvHIpnvIbbltgsVjQgKSbxcSg8DkboAEAPEkwkXcseDDRzFpSAnHSj8/NANaK9EYmZfDYO6zEFwAaQDgwgHDP+X8qbbxY8nvFjcPX2qw2arKota2NJ1p/326zouG3zxITg/DeQC0AaADhIP0VN42bYtUbTKk6PvHH/9evtbUFZe/Y1ooJv6bSK4Bhkc7IZOC9QJAeDD6AUKdfpY+XFP3MyHTghh+UllNdWYlyNn5Vhqm2uprKGvCMwxiHVXtj8sTJghbg2SPwAfgKEAYMAOk/5LZpVo2BydAxdEJ/bZzaX1Zc1PrT/94uVev0iuETp/ey2R1U1oL7BhqtnfsGQkgQTICQw9N3TRCl/9CJ0zN7x8fq5AoFFRlUU1ONjubnVJ9qPNlcc7y0MW/7xvKamhoqa4lWq5HTbnVmPPnqFKIFyMleAYABhBz4tF+VVj9La2SoqaFY5f/hvTcLuG/OYNr+5QeFtdVV1NZjYMzIbI9ZhCA9GHwAoUhEovGe/6XP/jktLoZeyW9tdQ3K37mptPpYcQ33ThOmkoLciqIDeTVNjY1U1qTS6Pi+gXc9yqcH84lBnj0DHwD4AEJM+uvNtpV6hqV2FGo46b/9yw/3cS8bODpN3lbm7/ipsP/1N7EarY7KuoycFsDYY3DfQGGseDv4AsAECHo8c/dEseR3yW/+nJ4Q63RGKdVU1nKivh4VH8qvKsrPKea+reWoGvMEjuq3fPLvPWVFR1xnzpymsjaNwYRwUtTE+cvFvoFwesAECBWVj5f+OhMzW2MwUstCwXb+1k//k4V5gYQBVBEm0JC3ZcM+3hdAaX04MajfDUOEseIyD/MEEyCkGEA4Xf1n7p4klvymPfpcss1mS4pWa6msxXXKhSrLy1z7tv1wiDAA4fILDKB+2xfv7z1WVtpCKztQZWCQSqufMfgXk8W+gXD9Q00DCL/2b56S39jeqzkVl9q2Y89/1ref7OZeNuLLTi69QFgbONF0oq627MC+ktqaajpOErkc9YqL0w6dMF1MD/41ZqLAAcAHEGz49XxR+ivGpy+7wmAwJql0BiprOXv2LML2/aaP3tlDnH8nCNURZoDpJP63H/775lY+M5AScGGUWmfAfQOjEaQHgw8gFEp++9908xqLleXMXDcVwnb94T07DhHpf5Jc/pOEGQiEv2+sKC6sOHb0YGV9XR2VtcoUuG+g3bnomTfEvoEeZgoqQGj4AMJs0s/E+ffzJb8GSnP+WltbUVlJccuP77+1S8IA8H9xDoCLUJOUCWz99L2dtMwADANjQXqzdSGSJAZBNSCYAEGD39xzu9jr/4pBQ9fabPSGfGJ1fv/2jfmcfV8nkfqYAZxCnjyA0+S1wAQasKOw6niZ65TLRWXNkUoVslks/eeufVZIDJKTPQVcJmA4qH/AS3/c7CJapb5NpWeocf+62hq0e8OneRLp30CkPr74Z8laT5P3BHOgift/smIS+twap9ZQWbeJxX0D++C+gUJiUBsMFA0FEyDE6Tf33CEW/SRNSM2Mj4/TyuUyKqupqixHBdnbjnB2fTm5/IL630wufxu2EsjrU+TfeA1hz8av91dWHGuh1StArTMgvcGYNC49U0wMwnsLHoBgNwFC3/fnKfkdn2LVGpgMo5lu6O/H997c7mX744t+hlx8zADaiYQ9I9UCGutr6wq2/7SPZkQA9w3sf6NX30DgABAFCFR6NqND+t+QPDEtIdahQzI5ldXU19ehY0cOVlWWHKmQOvgkDKBd8kBayXunpMwia8OnudiEoDZEhO8baEwZNHqSpG8gcABwAgY2+MQfrZFZqDWaqbmb6zjJve2L93dILn8DcfSdFqT/mr9+7MYk0QI6+QIqOdPhQPa2wnqOCdD6HA67DQ2dmComBj2bMRmcgUHtAwjRsB85mHzJ74KnX0+Pi3E6FVHRVPYYe+/Ljh4+kb/th8Ju1H/B9peGpgQtQGAA4v+zb8v3+XW1tdTOi9bEIo3BfA+SJAZBGBA0gECW/tFGi32FUPJLq+NP7ubvciUX+aRE+vNTeVf/5WPv49hGtIBm8rONPAPY9sOhY0cL610cU6HxWXDXpBi7TZfx5GtiYtBvF4AWAD6AACJyIPm037vXvzjFabXEREarqCwHS/9jRYWuLZ+8myNR/5sktn+b5yc7/qfVf/lIMAMEX0CTxGxozNvybS6txqGYcHqw0Wp/CHXqGAQ+ADABAkut421/o8Wx2DPog1a7ryq0e8Nn2ZKQnlT68402Vv35I/fPfIY2oiE0S5hA4+aP380p45jK2bNnqHymaJUKOe02513rXphKtAD5bxdMiQATAEwA6vjdwimi9J+z9tnRDrstSanVUbn+La2tqLL8eMven74p8LL9XZLQX7fHEDMFCQOQ+gJ452Hh3l0HcXowLbmp55iqyeaEvoFgAgRsw48oa1yvVQye80cJNVWVqGAHn/Zb6yX9mzuk///c5/ksAhOQJgY1bPrfP7M8jUPpADNVlmWSUu97dBDZb5mH+YIJABoANek/VZT+t6Vn9jMYDEOUWiO1s4Uv6KaP3s5CXdN+zxAGcM4T6GEOYkhQMAN4PwBmKoV7swqrKyqofT6WtSJHnyuXghYAPoBAsuf4op9+Nwxfgw8orZHbOO33MHdBifTvLu23/UL2XxISFLQAMYlo4wf/2FbDMRlan1FtZPi+gePSxPTgCPABgAlAU53j034nzF/e18yaUw2UO/5s/OCt7V6hP6HiD1/o9pV/+tB9vs/k+RmeWXg7AxsqSwrLjx89VNnY0EDtc+LKysTrbloqOAOfWzQ1AkwAMAH8jucWTRNLfnsPvDHTZrNRO1O40reoYG9ZVUfab4Mk9Ccm/lwEpCFBqS+gae9PX+/1NA6l81lxZSXuG0jSg6FjEJgAdBt+4IOoVGtnKvUmaqox9s5nf/+5NO4vOP8Ez3/7ij9+6L5INdVbC+AZy+4Nn+2rKC1xuVxNVD6rTC5DcbEx2kFj7phHtAAZZsZgAoAG4Df8frEo/SNvum1aZu8EXPJLxyeF1fGigryq/ds3HvYK/TWjjsSfiwJmFqhzZmCnXgHZP3y2m2bHIJxnoTWaFxBnIGgB4AOgYvvLbxo31aoxmDJ0Znqhv9qaKoTV8m48/0Lor23FHz9wX6Kt2l1IsDF307f7q8qPteApwzSAayziY53Oe558VUwP9jBl8AGABuBz6Z8i2v4DR4yZgvPUIyIU1NJ+Kzl1nFP/81HXkt9Lsf0lWsAHP1cleBJHGorydh+uo5gerDexSMdYIDEIfAD00n71ZtsKLaeO0rL9cUhu9/efZ0ttdOSV+PPQGx+4L+OzCqaA0CxE1AK2ffH+LpohQYVSiawWtv+slb8SB4pi5gw+ADABfEbPL0kRS37nP/FKeq84pzNaRWfOH+72W82p4ds++88e1Lnm3yvt99I/70NvvC/1BZyWMhoccSg+kFt6or6O2kkycaYXG5OwGAVVkRCYAMEOXvobLJz0N7LUzlFNZSUq2LU5H3Ut+ZVI//fdPcSxW1HXxqGNOT98kUPTDFDrjMjEMGPHzlkEA0XBBPAtPb8kVUz7nbXqmWSWYWIUShWVs49n9x0rKWrZ8tE7u7qR/mcF6d+DKqt3rwCeAeDIw7Eier0CMFktNtRv0HCxbyB+TmACgAngK9WNl/6WmITVBoaltpa6mip0rHB/SdNJsehHavvzab8Pvv5fd0/8Lc/v6ZQY5JI6HPdt/T4XRyJo7YXaaEKcGTbuupHjJYlBYAKACdCDeGHpdIn0f3q002FL0uppFv1Uo03/+9c21H2v/1bU0fCzJyHtFdDhDPzsPznYF9Ha0kplL+QyOUqIj9cmjU8R0oNl5HkBwAToec8/Y49bglt905IfOAHnYM6OI1Xdd/vt0u+vJ+iBP/zX2xnYKTGoYNeWfdVVlfR6BZhZpNabMlAQ9A0EDSA41X9e+o+du7ifiTGNVWr11NbCd/z57pMc1H3DD77P/wN/eM/tI9W1u/qAxi0fv72rtrqS2p5EcFpAjMOmS3/sRTEx6MXM6RFgAoAJcNl4MXOGmPabeP3QNXzRDyXgkFtpYUFVcX5OsZfzTzrpxyfwMJUuiUH833edrK89kre7sI5yerCBta1AkBgEDKCHwRf9jEtflmhm2VStyUJNfcS2/66vPtyFOjft7JT2Sy6qL9U3qTNQ0EKasr/7NLuGWx+tvYlSqnFikHP6g0+MJlqAnDBvAPgALo2k0r/X1YMyrRSlP077rS4/5irYuekw6tzww2e2vzfd/9p73fUK4H0BRZxWUna4oNLV1Ehtj3Ardmt835UogMeKgwYQhA0/rh81wabUaGeo9CZ6tn9NFdrz4xe7vTz/nbr93v/af9x+2JP2brQA3hdwOGdbAR4lRmuPtHoDspiZpMlL14p9A19aNiMCfABgAlw0Xlo2U5T+N/5iSmbv+DidDM/5oyA1zp45i44XH3Ft//y/3mm/0kGf/jxd7d2HBN/Lxus8ffo0NQnLWKzI0bsf9A0EE6BHGn7wk35wiEnL0Cz5rUZHcrMOdSP9xbTf5a/+x+2PfcF/p5uQoLimgh0/5dGcKKwxMIgxW1JG37k4IPsGggYQBKr/y/eK0j8Kh5ZiHTZdhExBZbdaW1vQ8ZKjLVs/eXcXOmevf7+rsUKVYKchIlnffry3oqyYWq8ADKvVgnpdfd1cwRnoeZ5gAoAJcHHgE390ZstKDcWSXxz3P5i1Jd91ki+7E8d1SWz/tuWv/tuvJ4v8PcEXIJ0lyIcEjxceKME+C1p7puS0AA2ntV03agL0DQQT4OLo5XtniSW/aeteTE+IjXVGK9XUBEZdTS3as/GrPPTzab9uSqpsd+3Deea0+eO3t9ZW0asSVMgVKCE+TnvdyAnzCAOQ4ecKJgCYABeqonmkv8m8SGtiqO1UNd/rf8eR6tKj5aj7Xv9ttPb0vlfelYYEpb0CGrn1VpQcpNsrAPsCuGeH+wZGo4DqFQAmQMDilftmi0U/0x96MpmzJfsrolUU1f9qtOWjt7d72f5Sz387uYi0IJgBp5HXEJG9P361h6YZII+KQgmxMc60dS+kCREB8nzBBACc3/ZnYxJW444ztATFybo6VF50qKq6rKi7op8zyDcVf5eC7iYKNxzYtelQTfkxF05gotYwBPsCjMxsBCFB8AGcj6TSP/XBJ0c7bLYklc5IbZ9w6C/rm493oM5x/yaJ7d9278vvumnuGf77XlpAp4nCezd+nUUzJBit0iC71ZbEPc9Rgi8AP2fwAYAP4Jy2v8nqmGNgzNRWgjvsHC86fIKTooXdqP9Ubf+LmSi844v/5lSXl7W0tLZQW53RbEb4eaKA6RsIJkCggk/7HT1ncSLDsim89KckJuqqq9D+7RtzUdd+f6fJRWu/9+V33IGwaWQd3bUP57WAQ7u37qvjR4nR2Uv8HPHzHDUzA/oGggnQPb26/E4x9Nf7msFr7TY7tf3BNvOx4iOunV++Lx311SSx/dsQpdDfBYQEu50liEOZNIGfZ9/rh4p9A/HzBhMATADkXfQzZu4SvuRXbWIpdvypQrk/fZUtuURS6c+n/S576W13IO2fZz1dEoN4zQWHBAv37ijERUK0Vhitx30DVeOuHTnegqj3DQQTIKDw2v1zxKKfuCsHzrNY6I34xmm/uL9e/tbvC9A5034DEm7CoIQqQTEv4MDOTfvq62rohXXkcpSQEK8dNOb2TEQ6BpHnDiYAwCP9rxs10YqLfvD4aVq6NO71z9nMOO231kv6N3eW/oEHiRbQpUrwwK5Nh0sO5Fe5Ghuo7a3WaEZKrX4mkvQNBAZAxQfgDhiSSv/rkycu65MQp5MrFPTU/+pKtP3z97JQ17TfM4QBuANp/7yJMADpKDExPbhwz479NM0AmSISxTmdzjsf/l2aVAugsEegAQSY9Cclv8YMbPvTAk77LdqXU0ikf3dpv+1BsqfdJQY1Yqcm7hXQcvYstYXh7sEG1hrWfQOBARD84YG5YsnvnF8+lxbrsFOb8ssX/VRXo62fvitN+z1JPOpir//MF//lDuQ9JevrbpYgb8oU78s+WMuHBOnssSJKjaws65y2/LFkogXIyTkIGyhoL8AdWEeYFP1YVqqNnpJfGsCVviUH8spqOtJ+hay/Lv3+glALEH0B2Lzpe/2wgazNHokdczSgY1hkjum1inu5QdjbINrXUNAA6IetXn9wrhj3v/OR59IT4mKoTfnF4EN/m76Rxv0F559Y9LP0hX+6A7+S0o086xQTg5qlvgBs3pQfLSip40eJ0YFGb0RGgz7p1hnzE4lAlHnOA4QBww289NcYTLPVBhO1RTQ1nEQlB/OrDmVtPow6h/6aUUfiT7DBu1dAhxbw6b+31VGsD8BgrTbU97ohYmIQ+ADCSP6//uA8sehn6vL1yXabLSlSqaHmOa/hbOL8rd/vRV09/2Kv/yWcVA2mXspLOrSALlWC1WVF5eXFhZWNHOOjtec6xoLMFkvKqNkLE4kvICI85H8gcLvAaMnCq/+sM241w9JL/MFpv5VlJa68n77OR+eY8xekAxW9ewWIQ0T2b92wl3cGUoSFZVHcFQPnEQYgewMLhjDIBQ5rE+CNh9JE6T9hwYrBLMsmRWsN1NaDbeG8Td9kS7zlXbr9Lnn+H8HsohIiAp2qBHN/+joPMz6+VwAl4L6BOPR7zS3jwqpvIPgASOjPlpC4lGGt1ARka2sbqi4/3pL19Yfevf6DIe33vCCMS1ol2KlIiGN8u3GVIK39l8sjUazTqR0wfPRkUQvwCIiQRgCEAameafyAI0fOWsCX/Hqcf3TW42pqQDXHiyv6DxlpilKpz6q1BrfWZFbrWZtdozc2K7W6szKZ3O0O4hjVwt/9X0R7a6vsVOPJ6Kb6Wm1DXTXjOlFrb25qtLacbm5obaPL49RGBunN1oe4l39HYkgwtGOCEb7+gBER52aii3//FpUP/scV6RGEAarvfur1vw64emAqzcw/jMYT9ehMYx0KS0TIkVJv4sd50URNWRHKzd614P3n1/2baCpt3Bl1+/AcUhWeChS+4BnAQM7m0xkMqSpS8ksTcU4bsut7heXDaG13o0NVDdSfgZY7B0aLfRH38n/EXGkL5X2nbwJQ+Jt/8kh/vujnuuRJmXa7IyCs63rXWZ4A9BCt1iK73Z405b51oz565akvMW/ipHT7Ih9qAWHNACiFQnjpf82tt1nVOkMGtv2C2L8G6GEYTQwyWOy4b+AGogW0oxD1BYRdFOBPK+/qkP6jJmb27ZWgkysig2pIOZDvOwaZzZYUaXpwqN6HcA0D8iW/So12VjTFtF9A4IIzA1DCgBuEseIyIjiAAfS8BeC/lE/yEPmsv5mrf5MWGxPjlMujQOQBdaEonQn7A2YMvPkXYt9AaAgSQtJfx7ArcSmoG77gq5svmVyGevdK0F7LmYmIJAb9edXdEaABBCnIw8OXX8FJ//Re8XFOPOcPAPg5qIwMUml1Id03MNw0AF7645JfJafigaoLdC7C5mFcbKxzxqpfp4WqFhAWqcB/WT1f8PzL71j2y2SbzZYUpdKAiAOcFzoTi7Qm80IUounB4aQB8A0/zA5PyS9YufB1QWPFo5XIZrX2v33pw8lEYMqJQAEGEAyQSH/FiJT0KwwGY1KU1oAAgAuF0WxBbEwC7hsYch2DQn42oORzRvW+5qY1rNUK9i3QRZGSExh6TnCMmJYuDhTFggVmA/YMC/AxedJ+b5k+H8/5S9EyVjjTQBdNWHD0vnawV99AaAoa0PjrmnvEXv8JVw9aa7Pb4SgDXRLhvoE6gyllwLDRVhIRCAk/QKj7AHjpf/WIsdYopeo2nN0FAFwqHA47ujZ5kpgYRARMUCNkw4B/W5shFv1cM3J8Jp4GK5PJkRuK/gCXCKXBjFQ6wz0DRox9LX/zt6XcW+3uII8JhrIGQEp+x1tVOmMGVuEAgMuSlgrcN9Ch6z9kpNg3kAga0AACCVLpf9Ww5LTe8XE6JJMjqPkHXC40RnOXvoGgAQQm+MQftd64UKVnwI8F1DNVgko1inE4nFOWr59CtAB5MGsBIecD+L+HF4glv6krnk6Pj411yqKiQfYDeloLwH0DP0Skb2CwugJCVQPgi360jGWFhnKnX0DoIVqjQ3iIzJj0e28kQlRGBA9oADRBHgKf9otVtBiHLUYRrQTbH9DjMFusyJaQuIR7uRMJfQNBAwgc259T0RZrDGxQjtEDCnxS6hnEsJaUESlienAEMIBL9AH0BEml/8Qla0fj1s7RGi2IKoDPYLPZUWz/63DfQN4ZiM8gtAQLAOnPOOJWmVgrnFCAT4EzS5Vq7Yyrho8J2oGiIcEA3nxkoSj9h09L72cwGIZEaXQI4lZAviS5XIZwhumA4WPEseLkLIITkBIzi0oYOGgNa7FByi/AL1DrGaQxmBZwL19BnsSgdhREXudQyQPg035vTp3fl2HMqVrKab/HS4sQHnUN8D0YixU5YhPOO4TWZzZnVDTCuSbTHnwq7cMX1v2Fe6uV0wLcdz39JzcwAD/g779cJJb8xl517cM2POePIpoaTqJDe3ad+PS1X+XA9fQ9bp5+T+KI22fEsjZ6zx3nmmiMDE4MegsFWXpwKPgAeOl/1bDR1qho1W2ROhNVy7C2pgod2PZ9MfLEhvFhOAPkE8J725K38YviWk7bovnM5dEqvm/g+IWrhL6BMiKYQAPwk/SPHHjr+MxevRK0cpmMWq+l5lMuVFVW3Hwoa3MZVgUJtaNAaf8SGoggxHd5PlFVfqbsYF6VzRlrNZgYaovCfQNN9tjF3MvvUBAlBgW7D8DT8OOWcValVp+hNdG1/euqK1H+5m8KsCXA0WlBShGVEBhAzzEAGTm7uD2Xcv+W7w72HjiIKgOI1hqQ0WQaO3Ty3H7bPv5XHvLUB7QBA/AR3np0sSj9EweNmBIb4yQlv3TQcvYMKi85eipv41f53LcNHDVydIqoq63AAHr83OLLr+ZIV7xvd2ttxbFBdmecWqWhN+/BarOjhIE3ruEYQAY+EtwZbU//1R/dwAB8Bz7xR8ewK9QGM9UbVltTjUr37ynkXtZzVIPf4ugkYQJBmyseoBoAjrnjuW56jrDYby3YumGPPb73sBhNH2oLU5tw30BjypVDRj18YPsPpcGg+QUlAyDSny/5nfrAk+m94uOdUSoVtb1ua2tDFaVFLXu++ySLMIAKjqrIaxcxBUAD6DlEEQZgIsxVfjhry/6BIycMtsXERuLOPbSA+wZeM3LCUo4BrCdagDuQtYBg9gHw0l9rYleoDAzV61VfXYXKDuQWnmo8gSV/HUfVHFWS1y5ySIEB9Bwiifp/VjDBub1XH927M98R1+s6qyOG2sJw30Dsj+JePkPWF9B9A4NOA/jHuiWiEwiHXSysOYb2lF+c9JO38cssovLXEaolGsAp8AH0uAmAmf9psqeYGeCqLz0ndfcOGJpMlQFg7SMuxqmbfN/69I9feeJP+NlzZ9ad9tQbbmAAPWz7m+yxq3GzT5o7W1NZjorys4/UHS8pJwwAX/oTyOMIxNEA7ARsD9QDEIzgLpSMXH58DpRkv434GXDPotDiiOlrNNNrBKPitACd2YL7Br6JAjwxSBZkD14q/Uc7nY4ktd5IXfpnf/3hdnLZT5KL7yIXvw0uv28sR2JWnSF73Uj2vfFozvb8E3U1dB0UKjWyWizOcRkPjSYaipycXWAAXZ/khX9Jpb/B6lhixDn/FLtCnKyrRVWlhVV15aUV5PKfRB3hP5Hzw4zdnv2a99Tr+DC0EyZwmjBfngEc2bP9UEXpkfpmVxPVs6FjWMQ441cSh6X8584BaAAXN0aNl/5Dp8ztZzQxYyM1errSv6YK7dv49U5y6U9K1P7T5HC2zXvydTdUzvqAPAyglWgBAgPwMIHdW3NxUhZNqHVGZGEtScnzlg0iDED2z3VLIwJsNGDwmAD/fGypmPgTP+CGNTjpgub5O+VyocqSIyeO7t1xmBy8bqU/wKdoI3vdLDHBGvd+/1lOdcXxlpbWFqpnhGGtiI3tvVSqBYAJcHneX8XwlLsSGbMlVU077bemEhVmb8v9GenPh3946Q/wCcjeCgzgtJcvoKk4L2tfPeWSbKWBQXgiNdZYUYB2DAqK8eBS6e/sd3WmzW6jumJsX1aUHHXl/vBZjoQBSFN/SQYY6Oq+tgMkTOCUhAE04JBgfW019dNtsVoRd2bnCs5Az1mG8eAd1/8CfCqC9L9yaLItSqWZEak1UXXwYPuSO2DZkst/0sv2b5/7xB/c0D3Xt4T3+OecgTgkWJyfU8j7Aiguku8bqNFncGdX7BvodbbBBDgX/rU+U5T+A0b8IrNP7146mVxOTeZguxLbl4ezNhd4SX8h9AdJP/5XIQVn4CnJM2kq2PJddh3tXgGKSNS7V4K2/9DkeYQByMiZBhPgImx/OXf5rSqdIUNtpDvpp7aqEhXn7spvbjxZK3H+NRFHlCj94V76BxItQOoM5M2A44fziyuKD1e6mhrp+gL0ZqTWG3HfwOhAcwYGNAOQSP+ovoOGUS/5FYt+NvBFP1LnnyD9IeefDtqJL8A7MaipND+74ARlX4A8KgolxMc771j+eBoiEYFA0QIC3Ano2T/EF/2Y+ZJfmqivqULVJYdLiPSXJv40o46OsOCco+sMlGoBfEiwsuSoC/droAmV3oTUOsNs1CkkCE7An/Wf/Gv9MrHk94771qdjDhqpVPXYJKFLIaz+Z3/z0XYv598p4oDi23/Nefw1cP75mfCeEwbg7QzkzbOyA7kH+b6BFM+OQqlGNrs9aVzGilEdvoBlEaABnEd7whxTbTAtoi39T9TWoJL9OUfqy0vLvWx/SPwJHAhmQLPEDGjgTLZd9ZQzAzFwC3ODxbEEBVBiUEAygLcfXyYW/XAcM9lms/WXUy75xQUmR/dsz0fdJ/6I0h/uIB2QvRfSgzuZAZzJVld2MK8Qm3A0EanWIyPDjL3p9tlCYpAMGMB5pL/RFrsad1yliZP1dejY4YKqor07D6HOab/NIP0DCkJI8KyXFtBYsHVDdiAMa8Ep7PEDBq0hWgC+fxFhzgA6O3Q6S/+HRjud9iTccZWu868S5W/6ahfqWvIrhP7a5jz+KmT+USbPM+gSEuSfV/nh/KKK4kOVrqYGqmcpWs+gKKVy3BVJtwbEQNGAcwJKpb/WbJujM7FUHUynmppQbcVxV1HuLmnRj8AAOkp+wRkXECQxA06jzunBTaX5OQX1NTVU1yeTyVFCr97aATePE8aKU9UCAtEE4NN+h0yem8iY2RSP9KcnVXDRz8EdP+5GP1/y237n+lfB9g88Z2CLty8g94fPsytLj7rOnmmmeqbUBgZFq3UzkScxSAEMgOCdJ+4VQ3+x/a9ba3fQnfOHY8eVpUWuvB+/2OMl/aHff4CCMON2CQNwoY5eAU1Fe3fm0fYFyBSRKD4u1jlp2bo02lpAoGkAvPQfOjUtkWHZVKWBbtpvXU01OnYg9zDqWvTTDNI/KLQAoUpQ7BWwf8u3e6uOlbTgrE6a0HKmLe5ojSiHBAPGCUikP1/0Y+9zxTxcRkkTra0tnPQ/2rL3+093oe5Lfon0B+dboNGd619xe/kCmgRfAM7irC4pLKEdEvQMFGWdY+c/kEy0ADkNLSAA5gJ0lv64bDJaY8jAJb80yyXrqqpQUd7ufEnab4OX9G+b/dgrAdzxPewhDQmekpgBjTnffbyVMzH7mq10TUytkUVGe9wq7uUGRCmcHBAmwLtP3idK//7DRi9L7NNbR3O6CwZuJnFo58Y89POJP3D1AxiYOaOOkGCnXgH15aUVNWVFlU0NJ6muEdcHGAyGpMGTZiWijsSgiLBjAKhj2EO0UmvIUPJpv/RUyJrK43jOn5D2213RDyT+BAe8Q4JiElfh7s17cISHtrlisdpR3IAbpIlB4aUBSKR/FPaKxsXEUC355dX/6iq057tORT/etn87kTCA4HEGduoVcHDHj/tqjpe6zp45TXVxGsaCzKwlJWny3ETiCwhLDYBP/NEYzSv5OX8UgdN+q8uOVtVXlFWgrt1+zyCY8huMZoCgBQi9AjA1FeXSDwliYIe3vU//eYhCSJA2AxDj/pOWPZreKyHOGalSU1XKcNrv/s3f7ECd4/5S279t9mMvg/c/+BuHNhZs+W5P1bFiPiRIc4WROhNS6XQZVySN9Ht6cCBoALz0V+lNi1R6M9Wz4mps4It+inN3FXaj/kPabxDSrHUvSxODhI5BPGPHEZ7jh/IP81oAxXOnkEeiWGestu+gEZP9rQXIKEt/vuhnzPwHk+2BUPJbW4NK9+ccQN13++U7/pADBQgueDcOFSMC+Zu/yaoLgF4BKqMZaRl+oKhf+wbS1gBIyW/MaoOZbuIP7vWP88T3bfwy+2ds/zYEob+ghJcW0Kk+AEd6Ko4eKD1ZX0t1jVFKNeqdEO+cmPmokB7sl8QgWgxAlP63zF58o4Vlk6K1ekS76OfQzo3ZqHM7KReSFP2A9A8ZLaBTfQD33Pd4MgPp+iuidUak0htn+1MLoKkB8KE/NrbXUsZio7r1uNd/bcXxFk7670HQ6z+U0d0swYbi3F2H6iqPu/C8R5rnUKHSIIfdnsSZxKOQnxKDaGoAkUl33Okp+dWbqJ6KuqoKVLIvK19yKLp0+5217iXw/AcxeZ5fp4nCLgmzx1pAVn0NfV+AwcwivdkyB/mpSEhG6fLzoT/nldeutVEu+RV6/ef+8HkWOkfJL1yhEAkIdtYCxMahR7K37q+pOEa9SjBKa0RGsyXlxokz/dI3kBYDUPS7aaRVqzOkRutZqqcCT5CtLjly/l7/cIOCnmY++pL3LEFxiAh+/uWH9x+qpxwSxOSwO1DMFdcIY8V9agbIKFx+T9HP8DGZTqeTusqFQ0C5Gz7Zhrq2+2om0r+dHBxAaDoDxZZh+zd/sysQQoIKrQlFa7TTOSFpQT5ODKLBABRXDBllVWr1GdEBMOmntGDPEUnar5D1d4pICSj6CTFItABprwD+2eMqQe48FOJ8EJqQy+Wob+8+WiwkkY8Tg2R+vvyk5HdMZj++5FdBVdfC3P7g9u9zUNeS3zMg/UNeCxAyAzs1Di3O3Zl/oq6aur0SbeC0ALXW530D/a0B8CW/USrNLIXeRHWLcdFPZfHhqorCgmIv9R9KfsNHC+iSGIRDglWlRfW0Q4IRctw3MM45YekjPu0b6C8GIHr+J2T+Mg03RJTJKTf8wEU/W749Z6//mY++CKG/0I0JeIcExXFvRXu35wZCSFBjYpHaYFqIfBgS9GdLMF76awzMyrLjxxHCRBFnTjW5SvKyDqPOnn+Y8xde6K5KsGHfxi9z+g8bPexEbXUk7QXKFZH9k9OXJ3//1stfkPX2aEp6hK+b2kVwEC4/R0aOcNJ/PEe9OYrjyMYRbv6vRL7PfxY8wJjj13GEO/4UcYTNgDKOashBkIz6BoQwIsi51HGEW1DHctSLEE5QwRlqGuSfEl03OXdYI8Uh6WOSs3mcnE0X0U75S9sTd1fhx42OJKqMipDUuSEMcvC15G2TbDLm9vUIev2HO6RVgvgcnCCkIec1AvmnXZdbIt1lkruiJK+FAqEePZ/+YgAyQgryIeSowxMrjGnxx1qwVD9NpHwt0QLqUEfiTwv5GWAA4YHunIEnyJlQkcvfQoSVzE/n8yzqqD5FkvsiRz5wBPrTBxDhpeo0E47bjjq8nP6w+aQMoBp11PyD9A9fJtAq0QwxA1CTuyGMGvfn8A7peHMpI4iQUFAyAEHin5bYOWfJhvurDZLAAFxE/a8hf1/q/AMGEJ5agOAMPEEEkptcRA3yb5OONq+1dHc2I3rqnPrLCRhJNhFzVj1xumiImuXzggcvFUvKhBpQt9N+AGGGCHIOleSM6sg5pXFGvf0SQpi6U4ia51w9cHf9GQVQECag7MaxEeFHBtCKOrLAmsl/W1CHdxUYQHgyAMFHFUXOqeCojpTY3/5Cm0QTkJ5TQRNoDzYGIN3gSC/HBvIjAxDUvTbCCARqR+D8AybgOaOCsFJIJL+/J/a4JWdSek7bpOc0WBiA9ILLJBsdQfFhuyUb2S55DwBMINDOqdvrvKJgZAAAAKCnuUMwMAAAABDAKg8wAAAAGAAAAAAGAAAAgAEAAABgAAAAABgAAAAABgAAAIABAAAAYAAAAAAYAAAACGL8vwADAE4ag0JarbF5AAAAAElFTkSuQmCCu;25;Resources/wheel_black.png11202;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXUAAAF1CAYAAAAX/XrIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAIGNJREFUeNrt3XtclGXe+PF7mAMDDA46tiioJCQeUhfBA6kRmbaap/KQUiyiBSGiZpkaPY/bQVS0pBQF8/HcKoouJBhqHjZSyfVFaq2k9fx+2dbP51E8my/EcuZ3De2arScOc7jvez5/vLfcNcLvfc3nde0199xINptNApTo75WlPuVntrT67Fxex73nV/b45EJu7K6LWYO2X8wYVXLxzWdKLs1M/OjSa899dPnVFzb974sTS8Rft4lf7xD//a5Lb8bvFr/v0wtZT5SJf+6g+OcPia/z5dmiVsfF12W+UCqGAFn59MSHlhX7MmLeKByXMvbdR5f0m9xuZ5cRzb4K6el3NqC1rtrgr7FqDZKty0SvnyOFqElam11kmpetq/hrt3+SxNKuL/vX/xej+Pc1vV93Lfwhv7O9Rjb7apj4fqaI7+s98f1tEt/n5+L75bqBqMOjFXzxX2GzilPjn1vaN7vfa+Gl7YY3OuXf2uu63iTZ7BoSZFfTGX7h11hjDe1ivPh4QsvyKQseWfq++PPtEX9OrjeIOlTjE7GLnb1tYtzo93qt7p4WfPR33fVVOhFtncLC3dDg39dK+1P0E02+S3mj24ZVYh5fsLsHUYfclZ/+q98bWyfED8nsujl8dMBJg0Vj9ZR415VRzMVfzKePmNOLYl4rxdz+r5gf6whEHW6zrjwn/IU1Q2dFTWrxhX9br58IeMP4iPm1EHMcNbHFF/PFXPeULwlnnYGow2nyDy8PHbdq8JxOKc2OG4PELtwsWYmx8/iJ+f6upeb6CDHv+WLue8X8WYcg6miQGVuSx0bPCCvzDfP6WctO3O07+WBxHZ4X12PllqQk1ieIOu5pc8WakGeX989qNdx8yh5xduPyZBLXxR75viPMp+b91x+yDorrxvoFUUeNVeXZHQdmRa8zd9NXsRtX7i7+QXH9ZmY9tK5UXE/WNVGHh1ldnhPeN7PrZlOErpqQq4uvuJ5txXV9bX63/L3iOrPeiTpUaseJLZZhSx/LDuhpuOJFyD0m8F3E9Z4nrvtxcf15HRB1qMDEwsTUFqMDThJyAj9YrIMPChJTeV0QdSjMsvLsjl1ntt+lD9JYtbzZiZv422+VFOvipZnt9uzn/J2oQ96e2xA31TLQ7zy7ctR2995HrJeVYt3w+iHqkImyylKfmHldN+tbaq4Tc9SHn1g3zcX6eV2so//hscNEHe6x/HBu+wdnhB7QEHI4OPCTxLo6eCinPa8zog4XeH1P+oDm8U2+J+ZwdtxHinW2Xaw3XndEHc44L98UP8UUa7zsxRufcKFGYr31FutunVh/vA6JOhwgYUPcVO8IXTU7c7h7595JrMMPeFOVqKN+kgrHphqjDVUaduaQ2c69u1iXm8T65HVK1FELqUXJY316Gq6wM4fcd+7RYp0WivXK65ao4zYmb5sY5xtrvEzMoSQmsV5jxLrdKtYvr2OiDiH70KLO5mGNThNzKD3uT4p1/LlYz7yuibpH2l+53ztsRugBiZhDZXGfNj30QKVY37zOibrH6JPTJ1cTpOENUKhWkFjfOWKd83on6qr2wpaUsfpI/VV25/AERqNkixTrvUise17/RF1V1lb8OcQ8POCUZOSFDs+M+/Bh5lMVR9eG0AOirni9Fz6yWjJz1AKYzZL1vXd7r6YLRF2R5u6f38P7YZ8fJZOGFzRw0xupD/c2/li2N7MHnSDqitHxrYjtxBy4S9z9JNtbf+q4nV4QdVl7acf0kdoOhmsEHahd2Du0017b8dFLI+kHUZedkCkPfE7MgfrFfUpayOd0hKjLQsa+eTG6CGM1QQcaFvaIjrrqfZ9kxNAVou42PebH5BNzwLFxnz+rRz59IeoulX+sINA0qMlZgg44J+yDHjedPfb3/EB6Q9SdblRe4jSNxYv7zgEnszTWWPNWjZpGd4i60wSnhn3F7hxw7a49dVzwV/SHqDvU2oqNIYZoU5Vk8uKFBrgh7NGRhqqKQzxmgKg7QHLRi0kai5bjFkAGxzFFeclJdImo11vE7F7FkpHjFkAujN6SbXZ6RDF9Iup11viZFj9w3ALI8DjGV7I982TjH+gUUa+Vdz5bEqXt4HONoAPyDnuHB7TXDuxZEEW3iPodJRZMSiXmgLLiXrAmMZV+EfVbxCwavJygA8o8Z1+UEbOcjhH1Gx6YEVVG0AFl79jTU9vspWdEXbIkhH5H0AF1hD3hyabfEXUP/YOXVv7NzxhruUzQAXWFPba78XLl96V+RN2DLD28tr22re9PvAgAdWp7v/anw/uWtifqHmBu2eJemiADnxAFVC7oPo21bPvcXkRdxV7dNWeAZNYRdMBDmE2SdXdB+gCirkKTtv0pjqADHnjO7iPZtq2fFEfUVWRswcupkknLAgc8OOwFy8d6xIeUVP8HfHr9+HSCDsAe9nWLnk4n6gr2xIqEtwk6gJvDviLzibeJulKDbuQedAC/ZTSoO+zqPHJZl8qRC4C77tjXL1TnUYwK3xSdxpuiAGoV9oL31ffmqbpuWyx5M46gA6hL2Ld9oK7bHVXzB0nf/Q4fLAJQZ2Y/ybo7Xz0fUFLFH2LO/qW9JLOeoAOod9jLitXxSAHF/wGWHt7YXhNkJOgAGiTIorEe3qP8h4Ap+psvrTzkp23biKctAnCIti20P1V+q+zH9io66sbYoMssRACOFPt742Wi7gZNEx78TjLpWIQAHMpklGwJj1sU+xOUFPlNt0mP3UvQATgz7DP++EAZUXeBmEXPLifoAFwR9kUzYpYTdSdKLHgtlaADcGXY/5KdqKhPnSrmG13w2Zoogg7AHWH/rHhBFFF3MG2HxtdYYADcoUML7TWi7kCNn3nwB3bpANy5W38mtvEPRN0BImYPLSboAOQQ9tnJEcVEvQGSi95Mkow8dRGAPBj1kq1oSXISUa+HtRUfhWgsPNMFgLxYTBprxadrQ4h6HRmim1exgADIUXQbQxVRr4Pg1J5fcewCQM7HMKkDg78i6rUwKm/6NMmkZ+EAkDWTt2TLmztqGlG/i41f7QrkHB2AUtjP14/tzw8k6ndgGhR+loUCQEkGRZrOEvXb6D7/mXyOXQAo8Rhmfkr3fKJ+k4x9q2MIOgAlh33fxowYov5PuojAahYGACWLaKmrJupCyJQ+n7NLB6CG3fqUISGfe3TUX9qxcCRBB6CmsO9Y9tJIj426tkNTHqcLQFU6NHfvY3rd9i/u+NaI7ZLJwCIAoLrd+qz4TiUeFfXMsj/3IOgA1Bz2svzMHh4Tde+H7/+RCw9AzR5+wPijR0S998LnV7NLB+AJu/WFqb1Xqzrqayt2hkhmb57tAsAjmI2StWK3a5+97tKom4dHnOJCA/Ako7sHnFRl1FOK3h7LsQsAjzuGMUi2ogUpY1UXdX1k8FUuMABPFBmsv6qqqMcuTl3GLh2AJ+/Wc9L65Koi6vsrj3trghrx5igAjxbkr7FWHtvvrfioh04fcoALCgCSbfrA0AOKjvqCA5ujJKOOiwkAglEn2Q5sXBCl2Kj7D404w4UEgF8N6eR/RpFRn1iSHcebowDwW/Y3TUvemxinuKgbY8MvcwEB4FaxYcbLiop68pZ3x3KWDgB33q1vmZucpJioG3qGXeHCAcCd9WxluKKIqCdsypwsmby5aABwt926XrIVzhqbKvuo67vfX8UFA4B76xasr5J11EflZUxjlw4Atd+t56WPmibbqGs7NOcHSQNAHXRo6tgfVO2wLxS/ad4UyajnIgFAHdg/ZbppZvwU2UXdGNue+9IBoB5i73fcfesO+SLTd64axFk6ANSP/Wx9V/aMQbKJepP4mO+5MABQf/Fdmnwvi6jnHNrenl06ADR8t364ILe926PeetqIg1wQAGi4aY+1PujWqJdWfuPHLh0AHLdbr/yi1M9tUY+a+0IBFwIAHGfuiKgCt0VdE9SYnz0KAA4U5KexuiXqcRvmT5VMRi4CADiQ/Qhmw/S4qS6Pum//Lhe4AADgeP1b+15wadQXH9rRmV06ADhvt35o4+LOLot6u5lj9jB4AHCemX9ot8dlUddYTLxBCgBOFORbvzdM6/GTjd6bzNELADiXyf70xlcTJjs96gGjY08ycABwvtHtAk46Nepbvj1s4ZnpAOAaRq1kO1G6xeK0qPfJeS2XQQOA6+Qk9Ml1WtQN0e34odIA4EI9Aw1XnBL13MN72vMGKQC4lv0N08Mba/9I3lpHvWvmpM0MGABcL3NI180Oj7ouIrSa4QKA60U00VU7NOrZ5bs6SkYDwwUAN7DfBVO+Prujw6IenfXKOgYLAO6TNeKhdQ6Lur5bW+56AQA36tJEf9UhUV9x5NNQjl4AwL2MXpLtyF9WhjY46v2XZ2QxUABwv+WJ/bMaHHXziEdPMUwAcL/hrc2nGhx1yeTDMAFABkxae5YbEPWkLSuTiDoAyCfqW9KTkuod9bAZ48oYJADIx4yeYWX1jrpX6+bXGSIAyEdrX6/r9Yr6ii/2h3ErIwDIS82tjfkrQusc9cGr3p7DAAFAflYmDppT56g3e2HE1wwPAOTnhQ7Nvq5z1DVBTa0MDwDkJ8hbY61T1HPLPwnnVkYAkCf7rY3lH+SG1zrqQ1dnzWJwACBfa8YNnVXrqAenPXuUoQGAfKV1Cj5a66h7hbX4maEBgHyF+Xj9XKuoF33zpVky+TI0AJAx+7n6NzuLzPeM+oSt6+IZGADIX3H6hPh7Rj1q7owChgUA8pfZr+vme0Y9YPQTJxkWAMjf6FYBJ+8ZdY3FzIeOAEABLLpbP4T0m1/kHzsUKBm9GRYAKID94V7HivID7xj1CcXreZMUABSkeMZv3yz9TdR7vffmBwwJAJRjdr/u6+8Y9eC0MXySFAAUZHjIfd/eMer6yA5XGRIAKEcrb+1Pd4w6nyQFAGXRaez5vk3Ul5bvDyfqAKAsBhH18lVLw2+JekpR3lgGBADKs3Vq6phbov5Y7jvZDAcAlGfR4Edzbol6ePrkvQwHAJTnuXatPr8l6o2eGnCa4QCA8nQ3+1y8JeqalkHXGQ4AKI9Z++szYH69DYZnvgCAIt18W2PNf2w89iUP8gIApUZdOFb4y4O9aqKesW93DIMBAOXaNz8j5kbUxxXmpTAUAFCugvHjUm5EvW9O1iKGAgDK9e6AR5fciHqHl9N2MhQAUK5JndvtvhH1ZqOGHWMoAKBcI1oEHr8RddPDD51lKACgXL0C/M7eiLouNKSaoQCAct1v0F27EXXJ14ehAICC+Wt++VTpL1E3GBgKACiYQfrlU6VEHQDUFPXSylN+RB0AlB/1yr2lftKWM6daMRAAUL6zW4taSXnnKjsyDABQvnOb8jpKq86f6cEwAED5zq9d1UPKOX82lmEAgPJdeD/nMSnr4rlBDAMAlO/iwqxBUsbFc6MYBgCoIOpzM0ZJb1w6n8AwAED5Lr31RoI089LFRIYBACqI+uszE6XJXx+fwDAAQPm+mTJ5gvT8gQMvMwwAUL4vx49/UYrbvv0/GQYAKN8nf/xjOjt1AFDTTn3y19+MZxgAoHwnX5meLM34fyefYxgAoHyXZr6eKL1x7mI8wwAAFUT9zVnxUsa5i3yiFABU4GLG3FFS1tkLTzAMAFC2RC+97WLWwkFSztkLsQwEAJQedYPtQu6yWGnVmfPdGAgAKD/q51et7SblVZ7jJx8BgAqifi5vU0ep6PRZfkYpACg+6t62s8UlLaTSU5U+ksHAUABA0VE3/lxZutdHstnEr4k6ACg+6jU9J+oAoHwGSWO7EXWNyd/KUABAufw1GuuNqGtbtb7GUABAuUJ1huobUTdF9z7DUABAuR4xNa68EfXmw+MqGAoAKNezzUP+fiPq7VJf/JihAIByTe0Qsf1G1B/NfHcJQwEA5crpO2jRjaiPyytMYSgAoFyF41JTbkQ9Y/e+GIYCAMq1L2N+zI2of/jNCYuk5wNIAKBEJsnLduLDEsuNqNf8DVEHAMVG/UbL//U3GnNjPlUKAArU2stw/Zao+3TpcYHhAIDyDG8UeOqWqIc8+/xBhgMAyvNaeJfSW6L+6NyFuQwHAJRnad8ns2+JeurGrWMYDgAoz9bUqWNuifqyvx0J4w4YAFAW+50vR5atDbsl6tzWCADKjPpvOn7zL7QteK46AChJd71/1R2jHjwm7ShDAgDlSAtuf/SOUe/91sLVDAkAlGNh74Gr7xj1ifnb4hgSAChHycT0uDtG/cOKby2Sr4lBAYAC/PIgrx2WO0b9l2fAWHgGDAAogEWjs/57w2+JesATo08yLACQv9EBrU7eM+pdX83czLAAQP4yu/bdfM+oT1i3NZ5hAYD8bZ2QHn/PqP/1H5V+vFkKAPJmkrS2yr8e8Ltn1O28Qtr+xNAAQL7aevn+dLt+3zbqLeInfsHQAEC+Jrbo/EWtoz703TWzGBoAyNeaoeNm1TrquZ+Uh0smM/erA4AMmSWdtTzng/BaR73mQ0hNg4g6AMhQS43x+p3afceoN3s65TjDAwD5SWn24PE6R33w26vmMDwAkJ9Vg8fOqXPUV+w7Eir5cL86AMiJ/f70IyvyQ+sc9Zr71Zu3vs4QAUA+wrx8f75bt+8a9bBxM8oYIgDIx4ywnmX1jnryyqIkyY9bGwFADuy3MhYlpyfVO+o1v4FzdQCQBft5+j2bfa/fYH50+CmGCQDuN9zc+lSDo94/Y3kWwwQA91vePzGrwVFfU1YRwhEMALiXSdLZKtZsCWlw1O30bbtVMVQAcJ9uektVbXpdq6hHv5K1jqECgPtkPTRincOinr2rvKNk5AgGANzBfvRSnr2+o8OibqcLjahmuADgehG6JtW1bXWto97txfn5DBcAXG9+tyfzHR71nJ3l4RzBAIBr1Ry95GwId3jU7Qzte15hyADgOj0NgVfq0uk6Rf2x/1yazZABwHWWPjYm22lR//Dz/9OYIxgAcA370cuJLaUWp0XdLiB29EmGDQDONzqg3cm6NrrOUU/MLkiVfHkcLwA4k1nSWwsT/yPV6VG30zQOIuoA4ERBGl9rffpcr6i3GzNzD0MHAOeZ2e4Pe1wW9eztPDYAAJzFJOlt5dl5HV0WdTu/qIHnGT4AON5Av9Dz9W1zvaMeN3/DVMmHN0wBwJHMksG6IW76VJdHveYN0yYtr3MRAMBxWmpM1xvS5QZFvev4eZu5CADgOPO6jtzstqiXfn3aR/LmDVMAcAT7G6SnS4/4uC3qdqFPzzjAxQCAhpse2vdAQ5vc4Kjnbj/cnt06ADR8l344t6C926Nu1yQm/nsuCgDUX3yTLt87oscOiXr6mj0DuL0RAOrHfhvjnvQlA2QTdTtj+9jLXBwAqLtY4/2XHdVih0U9ft6mKZytA0Dd2M/SN8XPnCK7qNvpWkZUc5EAoPYidIHVjuywQ6MeN5tHBwBAbZklb2te3GtTZRv1mh9OHRpdxcUCgHuLNrSocnSDHR71se8UpnK2DgB3Z5IMtsJxs1JkH/Wa3XpYzytcNAC4s56GVlec0V+nRD353aKx7NYB4M679KLkzLGKiXrNfevh3LcOALfTz6fNRWe112lRn5hdEicZ2K0DwL/v0ksmvhenuKjbNeoy7DQXEQB+NaxR59PO7K5To75oy6HO7NYB4Ndd+qFFhZ0VG/Wa560P4XnrAGA3PXTgAWc31+lR33/stF7TKIhPmQLwaEEaf2vl/mN6xUfdrk9aTi7HMAA8+dglp09arit665Ko2+mDI69ycQF4okh98FVXtdZlUR+/YOsYdusAPHGXvnV81hjVRd0uIHL0SS4yAE8yOqD7SVd21qVRX7uzIkTy5tG8ADyDWTJaK9buDlFt1O0eTlq0nGMYAOo/dvG2LeydutrVjXV51GueCxPKc2EAqFusMfyyO/rqlqhn/rmsB7t1AGrepZdl5vfwmKjbdRqZUULYAagx6Bmd/ljirra6Leo1P6g6kB9UDUBdInQtqt3ZVbdG/eVFHw/jbhgAamGWfKwfv7xsmMdG3a51v2kHCTsANQR9WuunDrq7qW6Pes0xTDMeIQBA2SJ1ra7KoaeyiPqcNWW9JAO7dQDK3aWXzcnvRdRvEh2ftU7SczcMAGWx3+2SFZ22Ti4tlU3U7Uxth5xhkQBQkqH+Xc/IqaOyivqHe09YNEYLxzAAFMGiMVlPfPi5hajfxajpedM4hgGghGOXvNGZU+XWUNlF3S64V9pRwg5AzkFPCx58VI79lGXU7QzNo6tYPADkKNrQpkqu7ZRt1Nd+VBGi8eZ8HYC8BGkaW4+uKQ0h6vWQ/GZREscwAORz7GK0FSUvSZJzN2UddbuIobOLJR1hB+D+oM+OSC6WezNlH3W7Jh3jvyfsANwZ9Pgmfb5XQi8VEfWa58NYeEwvAPeI0LWuVkorFRP1BWsOREl6ng8DwLXMkq/1wILiKKLuBImvFaRyDAPAlccuBWOXpCipk4qKut0j8YuXEXYArgj64kdeXaa0Riou6nZtYtP3chQDwJlHLultxuxVYh8VGXW7pg8mfMeOHYAzdugJTR//TqltVGzU7Xxa9LvIIgTgSP18oi4quYuKjnrpodM+WnOHayxEAI7QQdvqWmXptz5E3Y1y1peHa3xaXmdBAmiIlpr7rpfn7ApXehMVH3W7ue+X9dIYePgXgPqxaBpZy+YWy+JnjBL1f0p/Z/cASccdMQDqxiz5WXen5w9QSwtVE3W7F2ftGEnYAdQl6NsmfRCnpg6qKup246YXpkhabnUEcHcmycdWOG6Zoj4t6pFRt3s6bf00duwA7rZDX//0wmlq7J8qo243IGHF2+zYAdxuh75q4LxMtbZPtVG3e8IednbsAG7aoa94IvNtNXdP1VGvOYoZv34aO3YA9h36+qcXq/LIxaOiXvPm6dTCFHbsgCfv0E3WwnErVPemqMdG3W7Sn7bFEXbAM4O+bdJ6Vd22SNT/6dU5uwZodHzyFPAUFo3Zuju9QDUfLCLqtzF3cVkvjTfPigHUrqUm8HrZ3O2q+Og/Ub+HnNXl4Vo/nu4IqFUHbei18pxSxT+ci6jXQenfKn187ut3UfLizhhALUySr62fT8+Lp0v/oejH5xL1BmgamvCdpOUNVEANQU9o+qRif2IRUXegNl3T97JjB5Qd9PQ2ExT5M0WJupM8MmTxMsIOKDPoix+Zs4yOEfVbJE4qSOUoBlAOs+RvLRi7xiM+VETU6+mdJZ9F6fwiqiUv4g7IOeYRuvbVBxbsiaJbRL1WGgc/8wPHMYA8j1ueaTz0BzpF1OssotfsYsIOyCvosyPSi+kTUa+35BeLkjS6II5iADcL0gRai5LzkugSUW+wtRsrQgym6Cp27YA7dud+tmhDZFXF2kMh9IioO1Rwm7SjkoawA64Melrw80fpD1F3mlGJedM0Wo5jAFcct+SNWqX6H2pB1GXgw4++tfhbhp5h1w44Z3c+1L//mRMf/reF3hB1l4qOzVrH/eyA45ilRtas6Lnr6AtRd5s5b5f10hkjr0oa4g40JOaRus5Xy+Z86nHPPyfqMtU6/JWDhB2oX9Bfaf3iQTpC1GXn5ekfD9MZIqo5awdqd3YeoetU/fHLJcPoB1GXtU5dMkoIO3D3oM/q9HoJvSDqipH5dlkPb5+HfyTuwM0xN9ke9u71Y1nm3h50gqgrUu9HFq7mrB2wn52brQt7v7uaLhB1xVvzQUVIQOPRJyWJXTs8c3c+OmDUyYq1R0PoAVFXlZTxxWP0+sirxB2eEvNIsd63inXP65+oq1ps7OJlGg2PGoB6BYn1vVisc17vRN1j7N9f6R0WOv2AJBmJAFTDKNbzNLGuK8X65nVO1D1S1oIDUWb/oWc0HMlA4Uctg/2HnPlMrGde10QdwsQJxfF+xtjLxB1Ki3mMWLdbxPrldUzUcRupyUVJRkN0FXGHnPmJ9Rlt6HmlUKxXXrdEHbXwfGJBqlHfjbhDdjGPEusyL2HTZF6nRB318MdRedMM2g7XiDvcHfO2Yh2uFeuR1yVRhwM8F79pisn48I/EHa6OeW9j7OV1Yv3xOiTqcIKZM3YNat4k/nviDmfHfKRYZyVivfG6I+pwgeW5h9t3aP3KQS/iDgfHPE2sq4NiffE6I+pwg7LSSr+Ho+YW6DRBVgKP+oY8UKyfP4l19D9iPfG6IuqQiXFxeVMtvv0vaPiUKmrBW6yTWLFeVsZtmMrrh6hDzkcziw917tZu5h49u3f8G1+xHgI0FutLYn2UiXXC64WoQ2FSEzZNbhEw+iS7d3blg8U6WMX95UQd6rBjywnLU31ycgMMPa+we/ecXfnvDdFVc8V1Py6uP68Dog6VWpt7uH3frpmbTbqIai928KpiENezrbiur4rrW8YdLEQdnmdVdnnHgQ9lrTPru1UReOWG/EFx/WaK61gqrifrmqgDNTasPBL6bP/lWa3Mw09pxf9113JMI0s+4rrY9RXXaZ64XvtXHA5l/YKo455eea4wJTpsRpmvV+vr7OLdvxtvLq7D8+J6rBDXhfUJoo4GyV9+JGzc4FVzOjZ74WujJsjKLt75u3GLmPMwMe/5Yu57xfxZhyDqcN5RzdLD7V8YumZWZHDaUZNX2M86It/giDcXcxwp5jl/6OpZnyzlTU4QdbjRnqJvzG9M2Bo/pGvm5vCA0ScNGovYzXNkczt6MRd/MZ8+Yk6To+YUrBRzOyzmxzoCUYesbc8/FvjWhOL4gZH/semBJv3/4acN/slLMtjsPCHeRrH7tgvVR159Mjj1q1d6vffBcjGPv238KpD1AaIO1di0tDx8VmrxmGdj3nk/qsWzhwONv79k0JitXpLOZqe0XbedRdPyenSjp04/G56+N73v0uz3xZ/vY/Hn5HqDqMOj7dx4LHBFxr6YN8YVpiQ++m5Ov3aTdnb+3ZNft/KLPmfW3X/NoPG3asVO/1+cEeqbv75R/Pss2vuvtRH//ujfPfX10LZpe159fNnC98T3t0l8n59tPN6c6waiDjjAl6WnfcqLzrb6LO9cx70rzvX4a86Fx3ZlXRy0LePCqJI3LiWUzLyU+NFrl5I2v/y/qcuSjrzyF/HXbeLXO8R/v1P877vF7/tU/P4y8c8dFP/8IfF1vhRf75j4uswXSvX/AXO4pNyLosLqAAAAAElFTkSuQmCCu;26;Resources/wheel_button.png2706;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB39JREFUWMPFl12MXVUVx39773P2Oefembnz0XamrW21DQIWBOHFoEEMDz4SYyQYSI2JD0WCiSSSqIkPhleNKIaYGOFBY/yIPvlAVEB40ED9ACJNLRTascyUTuncmbnna3/5cPbcmQFU8IWbrOyTe5P7/+21/nutfUQIgffyk2w+PLL6NEMx4rxaYkme5XV1jlkvWFSneJ+fEl4MDywweUMjl27RcuOaXJQHpwgzAxADWJ0LvcWB77844/c+2ZfrJ6b84Nwkb7iwcRCxehm/Pomv5nHhEEFOA47BR+/dAni7jw4pAq5akSufLdXS515Tq1dPA7vRZGgkCgUo/Fxg7UhQK7c4znxJ+Okzgr0/x6ufBdIXxDvJwFvESZKzyflji2rpvlItH52nYB+7mEYzQUIfRQ9BD+gR6OHoYSkw5HL9cC5Pfi0xc7c70u95MfkjoHxHAAHIg55eVK8/8HJy6rjGqFnmmSKnICMjpSAhJ6WAGIECR46JUZCFGmVWj6j2uQetPXhjK6+9H8KF/woQgImQTf8pO//Q6WTlzgHzDAjkGDQCTUGOJieJEIIcyAnk2BgtBQ2JyaDMoBqSlK8eC20+aNTNx7Fh+T8C9INOH9NnvvWXdPnOXSwwQNDHUWAocGRoMjJyUnIUBZJiB4ChoEWHGuoM6gRqCbUkXX3xNq/6w3rq0/cQ2HgLgA6KE/rcsT9mr909YA8DFBM4+ttqmyHIySNAQo6MGfBjgJwG2WioNsUF1EBtyS4/c5dbOPJcO3fTd4SzOwFOpGtXPZYvfSVhJpkhpY+nj2cyrgWWHhZNQha9kCHJdgC0pK6GWkOTQK2iONB4qGqZvfSHL4e19MmgJv8KkHxz/SlkkOqMLj+zqOTR/cyTE8bu3gTpYymwZECGpkBvK4Hv3E+DaDU0atvOPVQOKgNmDnVh8VAiz97V7rnuOcAlE2GQj4Td/bx2ny/YRYGiIESILibwTODHRy1Hjc2YAz1ct3vbQJVCuSkeoHRQ2Q6gbKGeJD39wh2mf/0PgVPJ/VPX1V8sn71hWRZXzNNDI6KpOnMV40wEJscAnhxNEY9ijiULLTRlTLuAalM8Cpc1lBrMFHLp/F617/xNwKkE4HSS3Aoz5EhSQEOsbQdSxEz0YzZ6uGjINIIalG2g2ky9f6vwSMNGCqMMNhLUP0/fCjySAFxUvaM5GQpBEp2ZAikh1pwxSB+YwMfGk1Ag0KGFuux6Xelg1MIoh1ENG50g6ymsa9hQUBaof618aHwKhmJwMCOg4hcJ7HjeBNIxKxNjCEGGQLZVrLuFsom7TbZiLYF11YkPFYwyxOWN+TGAF1MzCoGAcchtod4EoYFebMPa2m7no7oTWVPdui67WBOwJmEoYJVuXROI2ve3+kBdgBD/1zwXJjq8zqHJocm6LljlUGVd1G+OHJptnVCshaELYg7RzYNxBPCAi2GBFmhDZ/IUyESCrnvQGjAWrAPnwbsugt8WIf6pIZCXYhNgMPSLF5w8bMWWoN0eAVrRCTcBSg/CgU67454YjSwLqFto2whjOhi7DcpZ8B7aijA5d3GcgV0j9+LZKvmEE90OLWBEJ9bSrQ1QBlAeggEpYjYDaCvJ67xzf9lCY7pobQdkXQQyYD2UPfz795/c9BZXWvfEicvc3cidaW5jM9MB0iiOg+Ag192xzwDtIG1TVJnDqIkdr4XaQNNCYzsAYzsoO4H94JVPpJsAB5U9sbv0Z4e1PNRXnWgWhTWdsPBdaqwDJaPX4qzRDnQr6DUZlAWMYhOqzBZIbbpsrI/w0/suugMLT49L0G6Ic9eq9ie/W8m/UaVROEASIIniwoG34AP0dDfwdgAY0E1KslmKUbMFUhuoYlaGOebje39Fm700Bnjg5kl3z29Hv9jv3B0rb6gjWQqJA7WZdt+JWwNJ0p22KoFCQgVoD9pC1kK/zhBVvhNg1ELdg0sVfvfCBXdg7lFhaXfcB26YMs83e8SDP32l993LIKUEGWvuojhAP4Om7sZ9JTsPZB4y221QNwq92QdGbdeKywLWaijz0Hzq4EPmxtlnROV2XkiME3x4wfz45d3NR/78QvaFJP4SLDgDzoHWsfZpvG3FqZuFDkCbLgtJnSHrYmv3awYuZbTX7/+1uWbiYWH8uPHtuBOWRoxuPGS+vvaanD15Mr3Ni64ntC0IGRud7sSrBPLtAJs+MJDWkrzKug670cIbLfbI7O/tNeGrorKXQiHe/lIqgLIVy1fsNcer82L93OnkrrqF2RR6GbR13H26bewTTes6H2gDuoW01qjVAqoWt8/9xn5A3CeqjVcRb3Mt/8HjQ5TcgmiMWN6/xx6f9v7v504m964uyUNFHyb7XQaqBAoFlYgeCFs+0C2kI9AjQT6pl93h7OHQq78vGn85iHfxZmSsGB3cb7/dXBSP92fcsWpZ3T68IPclKaQpZBq07PpEGiA1kDZxnQgr2WH3yzSER90BnpHLcXC8m1czAGMEwN/mZv0/vAoP77uajzVL8pPZSB71tVhw0LcBbKD0vXCBGX9SLPinwlA+5af9K1yiEuZ/TNP3+vX830UX5/xBVNUfAAAAAElFTkSuQmCCu;28;Resources/wheel_button_h.png2514;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABu9JREFUWMPFV2lsFVUUvrO+ve+9lkJLAwVEKgo/TA1qNEBYGtqCQpBFNBiCaFAD/sHoDyRRYkgkRDAQNUgiNhgEI1tZ2hSrREiEgIpBoYCUrbSF9m0z783uPXPvLEWg4B9f8vXcuTO533e+c+7tDGtZFvo/wTIMg/rDvEIdM7FpTNWsQ+MW1e4b0TBjb/mJWXuKry7YlUy/uiuZWb47eX3VvrKTaxuHb9988InXt/8w5tHdzeP4/taFH4v6+Y1pGlN97vCFT27kO5v+Uk9vuWl1vCQjqRoxqILl2CKeY2Mcy5Sblvy4ZnbOlbQ/PrvZfb1FVVObmptHP93f+ncV8OzRWcLYA0+t6JRv7rxotC/Ls8rQICpCEVSCQiiBAnjcFzBXbMdYyChD5uUluWz3d/t3PvbB4W+fjD2QgPqmJaXXem983aZeXpNn9WFhvChARFEk4JGIZcA4YEcyJjGM70cw4kiwkogzlHJdurBSznR8c2jLpCH3JWDRwfdL/1Y6tl4zUvNCTIKNo1KccRzx+C9ZPOoSCragf48BnBFGSElghJGZ66wvpNsb9m2cXXlPAauOfSn+rl5a32bdmhZDSbxcEpHs43jRmJ29X0SAQvSJssVYmFyNYAQR0qIYMcSkr4w3U2c37tv0RuKuAk7dOv/2aat7LiFN4pyLENQdHAhhAbxrvyPEgzMHkdHClDxEokoFdZ6ts3rPv3NHAbMb11T/ot9YyjJRLooFBO3sYjZx2BaQsLP1l8Kz3bOfMzGZRqFiAVqQAjuhiox+6eTi/SvrJ/QR8ErjBv66Kb98k2WGxWmzOd0ddF0gAHLebT5qOc1cxE8wepgQqkEvKiKOAkJGDHG9qYFGz43Fjavm87aAZT9uCyM2OPy8lJ0rYgKoNYFTYxBAXAjbzsQoWditfcBtPGyzEiLQApgUQ6FRFYkQXJbCpYvTOYUZawvYMGGB3GXpz6TD0cFRO0PH0pgrhrgRpy7Efdn7doQVITW36x7qmzlEBSJOGjsU6M0mzZ6uyW4JrhhmDaJ15Ow6OzX1i4i6DQli/FsOSsCaYY8YslfEvsQFHPM8uS5wyGi/6glIW3wVLMiCjRQ8jd62I0KCPhcE6oKdPZArNOsCTyMlxYQoz5FxnrXvGd3pka4AyQqVEQHEAdY39oOnvRGiQgLUKbvxFKfOAiXGhAWWkMssIYZrGMP9W/mkK8AygzHInsFANPrB+lzhaYkCtGF5I+RlnWd9YEiUGUIq4SghEvGclbOC3jmgiUT9fwCj0kaDNXTocoFA9cE/p/ngCsgzORPUyQSWA4nApDAwdAo1R6CDxbDNYM/r2A34H2DiaPmi5cQInQ+D04orIFJgOnW8mIFh+kFJYd4mxlHDUDJYcxrzUiFWXqCOYCG6IyZIBBiOKECQiMD32FBxyhUQ15g2WAxIdUoOhBq91uhYwShgcjlNHaDzml1XZ9v5RNhCAlRE0Iv4Gaao9IIrYCjDtSBKBBlD1LOEHIi0LMnazhyjgK81XCI1S0TB86a9zejWs088kZwHtgiROAIC7BhE3JDKVldAeYA9EssVuuQMzThLM8wSACFknsemySkqSvJAnICuhy0IIuhBpIrekeyUBwtVI4k0Wzag2RWgSua5h6Kh7yE7p7mc7JzMbethnPVI+0AG96gLICTvFxLwekQSkTisssnShNOugIbl9frgsPBViWF0ZFK03tR2J3vZ13ha3ifUgUzKYsmOC/RAUqgIcCLLIyMeTwllxZ/X7fiw0Od9YNe7045VDxS+wLW3cikiAMjztOnAfnBEl53G87J3mlS1ewgOH8Hrhzw9lmU7WtzYyq21hz5queMb0eiK4LpHkmiv1EtIIfNCmmQOQjSapVd3j1ijZQB3LEdAnu4M2CFZAVkjSluFkSVr7vpKtm75lEzVYHbZkLj1U6YHoVwvsf72xrvd/j4iJLotJSpCIuSoPH4iNHLAW7Wb3+y451vxjo+ntw8pFRYOijAHZCwg3Y3XodvOOQFdyykUvyDaIyZYn8bkORGxxZHWUEViYU3j0jP39V3Q+nVde9nA+PwRFcIaEZldUBIog0aPYeW2HeDaL9M5eLaXQSbH93KVkU+jgxLzph5d/OcDfRkdbxyfOXO89r2SRPSFoRVcA88oPVKKlKWQIv1h7xQH0KS4bCqUzdIyVjm7I5yMzqk/O2fZxFNzuh7408z5nTs35UiiSFgyaGBi8qjRgRXJEma/KKI20zBvGaoh6QQ9lmCd54qZQ8EqYWW8NDFlUEnZopqLNS39fhvezyf0kZNTCz+fnfLrnlM1a5suT6/f3z1j1O7U8wO2pWdGN2Osz8wsWd393MMrrkyf9tpv01a/2Dbp+Pjj1VJ/68LvH9f5eR16/VvHAAAAAElFTkSuQmCCu;49;Resources/CPWindow/HUD/CPWindowHUDBackground0.png438;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAABOCAYAAAADx2dJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAANlJREFUOMvFVEEKwjAQTEIOvYZcbVSE5iMi9Dt9k/is3nsqNFebNSsVg7aVlbRd2EuGnZkdkkj2rix0Ffoc+iiHw5MQ4mqtNXmeS621QCALh7eyLA+cc+acg7qu7whURVHscKxpGv/iReBijJFd13kAYDGwV0rxtm1ZXAgI5O77Hj6B0XoCyB3z/wZmqYI420Tce48TQKOaEgf65rQ96K5mxXH7KQ3YbI8pDVhBYzZdSJfu4nZHJ+h3d3gfa7haNN2EdtPfK2JWtPdB//rosdPt/vdfpcvqi+oBO6kbb0fpInEAAAAASUVORK5CYII=u;49;Resources/CPWindow/HUD/CPWindowHUDBackground1.png262;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAABOCAYAAADhG3wwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFVJREFUGNOFj0EOgEAIAxuOfpGnc/If0npYE13E9UIIUyZgAHZz980i4jBJGAUAjKRGV0BmogWS9JhNAC0gea11ud+ZZssrshbcNxdLJ+j+Xas+IhWci4eYfv9TUucAAAAASUVORK5CYII=u;49;Resources/CPWindow/HUD/CPWindowHUDBackground2.png466;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAABOCAYAAAADx2dJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAO1JREFUOMu9lD1qw0AQhT8NLlykUR9kiEAgcg+BjqAzpEuZA/kYzk2UWq0KIYF3Jo1l1ib+2XjlB69aZt4PzArwA+yAL2DNAdI0zUtVVe9lWX6IyDeQA0jbtvtpmizP81Vd128isgXWoqoMw2Bd1ylAURSvwKeYGTP7vtcsy1ZAJXgYx5E0TRNgI6pqM51zliQJgJxM+DjRmHn94eIq5xw+b09EFLczqGqgxjVXFjtHuKuL4qqKT3/VOXhajhANe4LG35U81u7idu+eCG/3eB9xXS3e7oIlRryP28nD7yP86wuv/XG7/woYsSsAfgFTK9CW5YiWLwAAAABJRU5ErkJggg==u;49;Resources/CPWindow/HUD/CPWindowHUDBackground3.png174;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAABCAYAAAD9yd/wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABRJREFUCB1jYGBgeGhgYPAMRCNjAEUgBdynEw2bAAAAAElFTkSuQmCCu;49;Resources/CPWindow/HUD/CPWindowHUDBackground4.png182;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhJREFUeNpiZGBgeMiABpgYsAAKBQECDABbOwDrSD9oPwAAAABJRU5ErkJggg==u;49;Resources/CPWindow/HUD/CPWindowHUDBackground5.png174;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAABCAYAAAD9yd/wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABRJREFUCB1jYGBgeIiMDQwMnoH4AD4kBdxeWsrBAAAAAElFTkSuQmCCu;49;Resources/CPWindow/HUD/CPWindowHUDBackground6.png266;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFhJREFUCFtjYGBguK+vr/+MkZHxIZCNjBkOqaqqPuXm5n6ELlErKir6WFpa+gm6BAfQmJPq6upPQZI8PDwwnWCgDJIE6VRRUXlqYGDwjAEJcICMBeJ9IB0AVHsdU7uFunYAAAAASUVORK5CYII=u;49;Resources/CPWindow/HUD/CPWindowHUDBackground7.png178;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAGCAYAAAACEPQxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABVJREFUCFtjYGBgeMiARhgYGDwDswBL7QXcgt2ExQAAAABJRU5ErkJggg==u;49;Resources/CPWindow/HUD/CPWindowHUDBackground8.png270;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFtJREFUCFtjYGBgeAjDTExMD3V1dZ8B2XcYkCW4ubkfqaqqPgWyD6FISEtLPxEVFX0MZNcywFSCBNXV1Z8yMjKeBIpxMBgYGDwDaQephAoqM0AByJgDUO0cMEEAprAdTwaXWlcAAAAASUVORK5CYII=u;59;Resources/CPWindow/Standard/CPWindowStandardCloseButton.png834;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUOE9dkzmPUlEYhmcSbbQ2sdBY2NpgqXZWdv4HLZyfYE/ClgkEQtjXAsMmS1gbKkJjKMYCGpZAQAts6AZH8vk9J/dOmDnJm3x5t3vOveeeicjZCc673e6TQCBw6fF4rpxO5xEww6HhOc2chh+kUqmPXq/3t8vlEg2JzgbMcGh48N4veJjNZr+43W7x+Xzi9/slGAxKKBQyYIZDw4OXjF1wPh6PX6l4jSkcDksikZB0Oo3RgBkOzSq6JkOWgsf5fP6bnlGi0ajoFoW1Wq2kXC4brNdrw6HhwUuGLAUv4vH4LwQlJZfLyXa7NYHlcmnAgkPDg5cMWQpeRyKRI1stlUpSLBYlmUzKfD43QRYzHBoevLFY7K9KDgreZjKZm0KhIPV6XZrNpjEtFovbAmY4NDx49b3cqPTGFFSr1b1taLfbstvtTHAymRiw4NDsB5CxCxzD4fBnpVKRVqsltVrNBGazmejRDJhZaHjwkiFrXuJ+v3ereLQLeNucmScBZji7AC8ZsuYzKj7oU36wPQycs9FoSKfTMWCGQ8ODlwxZc5EUzxQX+qmuBoPBsdfrSb/fvwM4tM1mw9YvrIy5SOYqK14qPh0Oh+p0Ov0zGo3+EQLMcKp9V89ny3t7lW3wgzxVvFd8VeQVfQvMcGh4TPh+gX2cR4rnCofinQVmOLQ7v/N/0NkPdZCIgQoAAAAASUVORK5CYII=u;70;Resources/CPWindow/Standard/CPWindowStandardCloseButtonHighlighted.png810;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUOE9dk7vL0mEUx98Xaqk5aCgaWltsrLamtv4HRft5Q8Ur4v0+NLpLCIFQe4M4a4u/FBcXpwJpaZHoTU7nc/AJfR/4wuF7Ob9zHh+vROTqDNfj8fhBJpN573meHwwGj4AaDg3PeeY8fKfZbL5V849QKCThcPgCcGh48N5ucLfdbr/DFIlEJBqNSjwel0QiYaCGQ8ODl4xrcD2bzZ5p99+Yksmk6LiSy+WkUCgYqOHQ8OAlQ5YG97vd7sdYLCbpdFqy2axwVquV1Ot1w3q9Ng4ND14yZGnwpFQqfUcoFouG7XZrgeVyaeDAOR0vGbI0eJ5KpY6MWq1WpVKp2Mi+71uQQw2HhgevTvNHpQANXmrXm3K5LHrDXJA0Gg1bwR1qODQ8ePP5/I1KL6zBYDD4RWcMupvsdjsLLhYLAwcODQ9eMq5BYDKZfKvVatLpdOwLHHZnV+DuAQ0PXjJk7RL3+31fOx8RGZV9uXG+BKjh0PDgJUPWfkbFm/l8/pXx3BStVkt6vZ6B2n0dD14yZO0hKR4pvM1m4w+Hw2O/32fHC8Ch6ZtgdO+UsYdkT1nxVBE8HA6fptPpz9Fo9JcQoIZT7bN6Qifv/6fswB/koeK1oqT4oPhyAjUcGh4L327g1rmneKwIKF6dQA2HdvF3/gckQc2QEBVViQAAAABJRU5ErkJggg==u;66;Resources/CPWindow/Standard/CPWindowStandardCloseButtonUnsaved.png1034;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAApdJREFUeNp0Ul1LVFEU3efeuV/jOMM4Ew5qJgzlRAmOIxKTEP6A/oDRa0+B8ywiKCI++KD0C3zxByT0ZA+BYYw2DmKkWUaWY4JFaOrMvd572uvgiBQdWNxz91lr73X2PmJsbIzqa3R0VJSHh9s3pBz2qtUHvufdRFw3jG3Dtl/dFWKye3Jyd3x8XNY12hVxaGFk5HG5Wl09//37iR4EnaauawD2iOEMHHAvEwghIDaeT0wUDo+P55icNE2TLMsi27YVsEcMZ+CACw20QkopNufnc29KpdemlKZhGARomqaAFQSBgud5Cq4Q7r2envuZwcG3sBLeqlRGLCLT4mqqEn9v5HLU2tVFJCXtrq/T11KJQrUa6bpOolYzockQPUKCpHd6mq9bRvXrfX2UGRi4bG5XKkWCv/ucpO4KGmjxl5Cum0BlAISObJb+Xu3d3eqszhOeF+dwExw4lmlKIxRS1XFH2PzfAsf3ffJJmXKUHyceP1N3466iyuby8j/Cjysr6hwAN9zUdIY4HJzGW1q+He3sZCAOsZPPxSJ5rkvp3l7uoaRt/v++sUGxcPhyOlHWsPYMCX525nIvipXKLZ6VhgSN3My91VX6tLSkqjuOQ42RiEqOcUrbDqCBFlc4bOzoWORq6wH/wCImEovFKJlMKkSjURXDGTjgQgOteki8aWU8PCiXn35ZW8v4JyfqhV5duIre0BDwNLZS2ewzDi0w9vQIW8vn82jIYSSV2r/W1kbnmtbMVi23WhWSEzmJRBBPp3919vcvxtLpOea+ZFSmp6d9MTU1pewVCgX1qBh3GH2M24zmCwMHjPeMIuMd48fMzIxX45cZwkxd7vjs7Oz50NAQiEeMDxfJGi4SnMAhhOg8cyU00P4RYAAZ2RK8jm+p0AAAAABJRU5ErkJggg==u;77;Resources/CPWindow/Standard/CPWindowStandardCloseButtonUnsavedHighlighted.png1026;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAApNJREFUeNpkUt9LU2EY/s7ZOcfNjUltYBmlGPkrNSOL0mCbE+xiXepNBBM0hY3RdXTdH2Db1aDhH9BVGPljwsQIyqWE1cy70FKsyGE7bDs7p/f53CeWBx7OOe95nud9v+e8UjgcZuJKpVLScix24U0+/6ik6z6jXL6EuqKqm5rDkbnldj+5PTX1dXR01BIa+ZhYeTYxcT+zu7tS3N9/IBlGqypJMoBn1PANHHD/MaCCmozFHm7t7U0T2auqKlMUheF+/BnfwAEXGmgly7KklWTy2qt0+rVqmprNZmMCkiTxLsRhlUrlCGVZLt0JBvt7x8ezGKU2u7HxWLMsTal2s9ntrCsQYO19fcw0Tba+vMw+ZTLMVioxwzAwiQZNL2P3YODV8/k+CDVN4wZdg4Osf3j4KNz6piZ+3yQTWT6MDRpo8eYxCgWPOC/G7hkYYP9fPX4/FwueVSyeovJpGDiosyXOzX+bopwwEHkIHpmh4ODz1Ho8erXIie9mZ08YvF9cPPxtxAHX6fXqvBmhcLa5eWt7ba1NdMiSQalcZld8Ph7iKolzFKSTMhLTQIMoYPDrZjD48nku10IRy+hQS2dcn5tjqzMzXIBwHfRnYA5DZreb0ECLI/zwtLQsXB8a+mCSswjK5XIxt9vN4XQ6uQk6gwMuNNDyRaKHc4S7m0tL0ez8fButrSxCExeWqaauzrwaDG60+v1PqfSCsG3b2dlhoVBI55M0Nn6/2NHBiqZZb1QqNfrBgWSRUV1Dg3m+u/t3YGRk4Uxn5zRx04Rvk5OTFWlsbIyPl0gk+FIRLhNuENqxQ9UBdgmfCW8JHwk/I5FIuUSbqSAUrGc0GjXi8TiIecKXqpmzavAHE0KI5IlrQQPtXwEGAI4lFJG9vogeAAAAAElFTkSuQmCCu;62;Resources/CPWindow/Standard/CPWindowStandardMaximizeButton.png974;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAmtJREFUeNp0UzuLmkEUne/zrati4ou1V4JrBAkpbARJsRYhvY1FmqSTsEUgKGhlYb9VBGH/QSBKMGLaECxiJJjOIuLqJoFofD9yzsRPtsnAYYY795y5586MUigUhDby+bxSr9fdvV7v5XK5fLRer88YNxgMX0wmUyMUCpXOz89visXiXuOot8j6SqXypNPpfJ7P5y8Qum80GlWCa8a4xxzmajwFaiKXyxmq1erT4XB4qdPphF6vF5wVRZFJ+/1ebLdbsdls5Oz3+59nMpnX2F8r2FTa7Xa42Wx+AtGEEwVBciqVkgK1Wk2KrFYrCQgtk8nkg1gs1mV51m63+wo+TRaLRdhsNgmKnJ6eSnCtxZnDXHLIpRf3YrFImM1mYbVaBWckiNlsdmwu7ZBIa6r6r23kkEuBu/DlOyiLRCIhvF6vuD3S6bScR6ORgFV5CG7JjdAdClgQ2LHb9E2P/xvcYw4t7XY7dtgir8PhcMxQhYPrRqMhJpMJTxAXFxeSWC6XBd6BsNvtsg+04XQ6pUcKzHw+Xx9XGKEybTBxOp0eT/Z4POLk5ET2gmAl5GBrToGfkUjk7Xg8DkNZ1a6Qo9/vy5lkivIq+RYgsiOHXLb0BhY+INCGr+Op7Hir1ZLgWhvMYS455MqHhEUAeDwYDJ7hH5yhRJWn4S+Iw1/QmrcLBoPdQCBwifAb4LuO5cXj8TnVUOY1NrcgewETylXpGQ3b4vn+ikaj71wu1xVy3wMDiG6VUqkkO5zNZuWjAsLAQ+Ae4DtUfg18BT4CXeAH/4G0ys9xuN8NTmXib+DbQcx2EPjDCklk55F7/M5/BRgAk6YORNXAcuoAAAAASUVORK5CYII=u;73;Resources/CPWindow/Standard/CPWindowStandardMaximizeButtonHighlighted.png986;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnRJREFUeNpcU79rWlEYvc/fGiJaTVPTJYqLPKcQHGuGZtPVxcFIHcx/UJB0qAr9B0SX6tIsri0daouhS0BCpqrgEOzQxkDaQsUnjT7tORefpL1wvNf7fed83z33PuXo6EgYo9FoKKenp/7Ly8vn0+n06d3dXZT7Npvti9Pp/Li3t/cqnU7fZrPZpcFRDAGQLcViMXF9fV2dzWaPTCaTuD8Wi4WwWq2jQCBwfHJy8g4i87UAyNZyufxsOBxWzWazICigKIokL5dLKaDrusTu7u5xoVB4jfhMQVA5OztTm83mBTbsFotFECTn83kpUKvVpMh8PpfA+k8qldo/ODjosk/X+fl5ARXtGMLhcAicl+2KcDgswTX3GGMOc8kh14If/3g8jsMoGeTMI8DA9fn539g3vCGHXAr44Pg2yWw9k8mIUCj0j4GlUknOV1dX9EseB0b7sfWAAk60toC6lL5f+f9hxFiI3pFLAeH1erXJZOLmul6vC3TECtI8Dppp+EBwuN1ujTOrasFg8CtdZ9Lm5qbw+XzC4/GsK3PNPcaYw1xyEJqyg5+4jveDwUBFwESjjPvv9Xpypvsul0uene8AIgtyyOU72MDiSafTedlqtfaNN8DzwmkpwMq8BeMtHB4eXsRisRcIfVZWZjwGkv1+P99ut6MgmoxqxjVSFEKLeDzeVVW1iu23wDfzaDQSiURiij+3W1tbN9FoVMezfQjYNU0z8d7x/vVIJPIrmUx+2NnZeYPcT8B3iOpKLpeT7VUqFfmoABWIARFge+XjDdAHOkAX+MHvQF4pPxKeCxtztM3E38BgJbaxEpiwQxLpPHLXn/NfAQYAVxYSIuMwPrYAAAAASUVORK5CYII=u;62;Resources/CPWindow/Standard/CPWindowStandardMinimizeButton.png906;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjdJREFUeNqEUzuLGlEYvTM+xvcj0ShYWkhYjSAhhRYBSWGXP5FeSRUICFpZWOgfGBDSpwuyGCFgFRaLNUMwXZrg4iYBIb5nzDk3juwuC7lwQL/vnPM97h2l0WgI+9TrdaXf78em0+mbzWbzYrfbZRl3uVxfNE0bZDKZVqVSuW42mwdbo94QO3VdfzmZTC5Xq9VrhJ643W6V4G/GmCOH3JOBoigUu3q93qv5fP4e/5Mej0d4vd5bYIw5csilhlrlcDgo4/H4bDgcXjidTg0VBeFwOISq/mvQsixhmqbYbrcS+/1+Uy6XnxYKBYMMn2EYbzGnxkp+v18iEAjcgh0nh1xqqOUssfV6/Zwt+nw+2SoI93aADk8xaqilwUMkE/acJJVKJRGPx8XNg9nFaDSSHBrilmIIP6CBF0HruPHTrHcPY9iX3A92QBOFWnkdoVBoCWHIbm8wGIjFYiHNeDgOOCISicgR2GU4HF4yR4NlIpH4PpvNcnaSRC6OFXl4XYyzOtsnjxqkVjT4lcvlPmDGM74LJrmP+w4NaYCOLGqoZc/XaO8TAmMm/3fIIZcaauUIwCSdTuuo7MZ3kMXC5Au9Wx0jWNls1kilUjo11Do4a7FYXNEtGAxeIWmC/AiVNFyVelyymUwmf+fz+fNoNPoOoY/Aj3a7bSqtVkvgSxO1Wk0+KoC7eAY8BhLHBq6Ar8BnwAB+djqdHQoIp33v3W53X61WSVwA345m/qPBH3ZIITcP7oEaav8KMADyzRBm/XofAgAAAABJRU5ErkJggg==u;73;Resources/CPWindow/Standard/CPWindowStandardMinimizeButtonHighlighted.png934;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAk1JREFUeNqEUj2LGlEUfTOOjhoVTDQrdpai2UKCrRax09YiIihYGPQHBFKKkB+gpNPCbGOzTUgREjSFCCHYJEMghRKL6MImAT9Gos6Yex4+GLbJg4POfefce+69TyqVSkycbrcrXV1dBSaTyfPdbvdkv9/HEXc4HF9dLtf7RCLxslAo3JbL5ZPQKBax0mg0sovF4tXhcAjJssxsNhu/MwzjcrVaXY5Go6fT6fQZcd9QkiPu5LPY3mw2K/P5/No0zRBVRFWmqiqH+MYdOOBCA610Op2k4XAY6/f7nyVJUhVFYQCqwwUOCeGCHY9HDtL8zefzj9PptAaGezwevyCyimpOp5NRvxz4f/cbHHChgRYzCKzX65SwjF9UB8gRd0AVuQOrK2igRYIHNPELq7hYLLJIJMKsZzabsV6vxzlISIMOUPg+ErjImklCGb2jX1ofu3sQgxAcuMHsoOVr9Pv9+na79Ql7nU6H6brOk/FVUdztdjOPx8PEen0+ny7egU52f2ia9gg9o4LX6+VDsx6xGbgADxoK71DyN63jrd1uN0U19ImKViAmHIILDbSI3AaDwY+ZTGaC7P874IALDbS8BcKXZDLZIeuOwWAQpxXJYoVWId2bqVRKi8ViHWigtS2XS5bNZndnJzfxeNyg4T2kSaubzYZ7DoVCRjQa/ZPL5d6Fw+HXFPpA+FmtVg2pUqnw/trtNn9UhBghSYgSLs4GbgjfCJ8IGuFXrVY7YLUKVoX3Xa/Xj61WC8QV4fs52b1zgi0cQojJE/cEDbT/BBgAoZsTVzzPeQgAAAAASUVORK5CYII=u;52;Resources/CPWindow/Standard/CPWindowStandardTop0.png274;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAApCAYAAAAWNlirAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF1JREFUOI1jqa2tZQCB3NxceyBVBMTGQCzNAhLMycmp+P//fzsDEmABCoJUtjKgAZbv379P5uDgYMKQYGZm1kQXBEuAANB8TAlsgiND4t+/f6OW09/yISaBVZQsHQCsMHUPEsgdpgAAAABJRU5ErkJggg==u;52;Resources/CPWindow/Standard/CPWindowStandardTop1.png194;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAApCAIAAAB7iNSFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUCFtjevXqFdP///+ZGBgYUGhi8b9//8gWw4eR3AMAjT9unIbIdHUAAAAASUVORK5CYII=u;52;Resources/CPWindow/Standard/CPWindowStandardTop2.png274;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAApCAYAAAAWNlirAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF5JREFUOI1jefXq1X8GBoanQHwWiPuA+CAQM7D8/w8SZ5CGYj8grgTiDhYGTNAKxEdgOpAB048fPyZj08HAzMysg00HAwsIYJNAdtXwlfj379+o5fS3fIhJYBUlSwcAax55fnDttN0AAAAASUVORK5CYII=p;15;_CPCornerView.ji;8;CPView.jc;461;
var _1=objj_allocateClassPair(CPView,"_CPCornerView"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
if(_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPView")},"initWithFrame:",_5)){
objj_msgSend(_3,"setBackgroundColor:",objj_msgSend(CPColor,"purpleColor"));
}
return _3;
}
})]);
p;18;_CPDisplayServer.jc;1205;
var _1=[],_2={},_3=[],_4={},_5=objj_msgSend(CPRunLoop,"mainRunLoop");
_CPDisplayServerAddDisplayObject=function(_6){
var _7=objj_msgSend(_6,"UID");
if(typeof _2[_7]!=="undefined"){
return;
}
var _8=_1.length;
_2[_7]=_8;
_1[_8]=_6;
};
_CPDisplayServerAddLayoutObject=function(_9){
var _a=objj_msgSend(_9,"UID");
if(typeof _4[_a]!=="undefined"){
return;
}
var _b=_3.length;
_4[_a]=_b;
_3[_b]=_9;
};
var _c=objj_allocateClassPair(CPObject,"_CPDisplayServer"),_d=_c.isa;
objj_registerClassPair(_c);
objj_addClassForBundle(_c,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_d,[new objj_method(sel_getUid("run"),function(_e,_f){
with(_e){
while(_3.length||_1.length){
var _10=0;
for(;_10<_3.length;++_10){
var _11=_3[_10];
delete _4[objj_msgSend(_11,"UID")];
objj_msgSend(_11,"layoutIfNeeded");
}
_3=[];
_4={};
_10=0;
for(;_10<_1.length;++_10){
if(_3.length){
break;
}
var _11=_1[_10];
delete _2[objj_msgSend(_11,"UID")];
objj_msgSend(_11,"displayIfNeeded");
}
if(_10===_1.length){
_1=[];
_2={};
}else{
_1=_1.splice(0,_10);
}
}
objj_msgSend(_5,"performSelector:target:argument:order:modes:",sel_getUid("run"),_e,nil,0,[CPDefaultRunLoopMode]);
}
})]);
objj_msgSend(_CPDisplayServer,"run");
p;21;_CPImageAndTextView.jI;21;Foundation/CPString.ji;9;CPColor.ji;8;CPFont.ji;9;CPImage.ji;13;CPTextField.ji;8;CPView.jc;12321;
CPTopVerticalTextAlignment=1,CPCenterVerticalTextAlignment=2,CPBottomVerticalTextAlignment=3;
var _1=1<<0,_2=1<<1,_3=1<<2,_4=1<<3,_5=1<<4,_6=1<<5,_7=1<<6,_8=1<<7,_9=1<<8,_a=1<<9,_b=1<<10;
var _c=3,_d=5;
var _e=objj_allocateClassPair(CPView,"_CPImageAndTextView"),_f=_e.isa;
class_addIvars(_e,[new objj_ivar("_alignment"),new objj_ivar("_verticalAlignment"),new objj_ivar("_lineBreakMode"),new objj_ivar("_textColor"),new objj_ivar("_font"),new objj_ivar("_textShadowColor"),new objj_ivar("_textShadowOffset"),new objj_ivar("_imagePosition"),new objj_ivar("_imageScaling"),new objj_ivar("_image"),new objj_ivar("_text"),new objj_ivar("_textSize"),new objj_ivar("_flags"),new objj_ivar("_DOMImageElement"),new objj_ivar("_DOMTextElement"),new objj_ivar("_DOMTextShadowElement")]);
objj_registerClassPair(_e);
objj_addClassForBundle(_e,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_e,[new objj_method(sel_getUid("initWithFrame:control:"),function(_10,_11,_12,_13){
with(_10){
_10=objj_msgSendSuper({receiver:_10,super_class:objj_getClass("CPView")},"initWithFrame:",_12);
if(_10){
_textShadowOffset={width:0,height:0};
objj_msgSend(_10,"setVerticalAlignment:",CPTopVerticalTextAlignment);
if(_13){
objj_msgSend(_10,"setLineBreakMode:",objj_msgSend(_13,"lineBreakMode"));
objj_msgSend(_10,"setTextColor:",objj_msgSend(_13,"textColor"));
objj_msgSend(_10,"setAlignment:",objj_msgSend(_13,"alignment"));
objj_msgSend(_10,"setVerticalAlignment:",objj_msgSend(_13,"verticalAlignment"));
objj_msgSend(_10,"setFont:",objj_msgSend(_13,"font"));
objj_msgSend(_10,"setImagePosition:",objj_msgSend(_13,"imagePosition"));
objj_msgSend(_10,"setImageScaling:",objj_msgSend(_13,"imageScaling"));
}else{
objj_msgSend(_10,"setLineBreakMode:",CPLineBreakByClipping);
objj_msgSend(_10,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_10,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12));
objj_msgSend(_10,"setImagePosition:",CPNoImage);
objj_msgSend(_10,"setImageScaling:",CPScaleNone);
}
_textSize=NULL;
}
return _10;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_14,_15,_16){
with(_14){
return objj_msgSend(_14,"initWithFrame:control:",_16,nil);
}
}),new objj_method(sel_getUid("setAlignment:"),function(_17,_18,_19){
with(_17){
if(_alignment===_19){
return;
}
_alignment=_19;
switch(_alignment){
case CPLeftTextAlignment:
_DOMElement.style.textAlign="left";
break;
case CPRightTextAlignment:
_DOMElement.style.textAlign="right";
break;
case CPCenterTextAlignment:
_DOMElement.style.textAlign="center";
break;
case CPJustifiedTextAlignment:
_DOMElement.style.textAlign="justify";
break;
case CPNaturalTextAlignment:
_DOMElement.style.textAlign="";
break;
}
}
}),new objj_method(sel_getUid("alignment"),function(_1a,_1b){
with(_1a){
return _alignment;
}
}),new objj_method(sel_getUid("setVerticalAlignment:"),function(_1c,_1d,_1e){
with(_1c){
if(_verticalAlignment===_1e){
return;
}
_verticalAlignment=_1e;
_flags|=_5;
objj_msgSend(_1c,"setNeedsLayout");
}
}),new objj_method(sel_getUid("verticalAlignment"),function(_1f,_20){
with(_1f){
return _verticalAlignment;
}
}),new objj_method(sel_getUid("setLineBreakMode:"),function(_21,_22,_23){
with(_21){
if(_lineBreakMode===_23){
return;
}
_lineBreakMode=_23;
_flags|=_6;
objj_msgSend(_21,"setNeedsLayout");
}
}),new objj_method(sel_getUid("lineBreakMode"),function(_24,_25){
with(_24){
return _lineBreakMode;
}
}),new objj_method(sel_getUid("setImagePosition:"),function(_26,_27,_28){
with(_26){
if(_imagePosition==_28){
return;
}
_imagePosition=_28;
_flags|=_a;
objj_msgSend(_26,"setNeedsLayout");
}
}),new objj_method(sel_getUid("imagePosition"),function(_29,_2a){
with(_29){
return _imagePosition;
}
}),new objj_method(sel_getUid("setImageScaling:"),function(_2b,_2c,_2d){
with(_2b){
if(_imageScaling==_2d){
return;
}
_imageScaling=_2d;
_flags|=_b;
objj_msgSend(_2b,"setNeedsLayout");
}
}),new objj_method(sel_getUid("imageScaling"),function(_2e,_2f){
with(_2e){
return _imageScaling;
}
}),new objj_method(sel_getUid("setTextColor:"),function(_30,_31,_32){
with(_30){
if(_textColor===_32){
return;
}
_textColor=_32;
_DOMElement.style.color=objj_msgSend(_textColor,"cssString");
}
}),new objj_method(sel_getUid("textColor"),function(_33,_34){
with(_33){
return _textColor;
}
}),new objj_method(sel_getUid("setFont:"),function(_35,_36,_37){
with(_35){
if(_font===_37){
return;
}
_font=_37;
_flags|=_8;
_textSize=NULL;
objj_msgSend(_35,"setNeedsLayout");
}
}),new objj_method(sel_getUid("font"),function(_38,_39){
with(_38){
return _font;
}
}),new objj_method(sel_getUid("setTextShadowColor:"),function(_3a,_3b,_3c){
with(_3a){
if(_textShadowColor===_3c){
return;
}
_textShadowColor=_3c;
_flags|=_9;
objj_msgSend(_3a,"setNeedsLayout");
}
}),new objj_method(sel_getUid("textShadowColor"),function(_3d,_3e){
with(_3d){
return _textShadowColor;
}
}),new objj_method(sel_getUid("setTextShadowOffset:"),function(_3f,_40,_41){
with(_3f){
if((_textShadowOffset.width==_41.width&&_textShadowOffset.height==_41.height)){
return;
}
_textShadowOffset={width:_41.width,height:_41.height};
objj_msgSend(_3f,"setNeedsLayout");
}
}),new objj_method(sel_getUid("textShadowOffset"),function(_42,_43){
with(_42){
return _textShadowOffset;
}
}),new objj_method(sel_getUid("setImage:"),function(_44,_45,_46){
with(_44){
if(_image==_46){
return;
}
_image=_46;
_flags|=_2;
objj_msgSend(_44,"setNeedsLayout");
}
}),new objj_method(sel_getUid("image"),function(_47,_48){
with(_47){
return _image;
}
}),new objj_method(sel_getUid("setText:"),function(_49,_4a,_4b){
with(_49){
if(_text===_4b){
return;
}
_text=_4b;
_flags|=_3;
_textSize=NULL;
objj_msgSend(_49,"setNeedsLayout");
}
}),new objj_method(sel_getUid("text"),function(_4c,_4d){
with(_4c){
return _text;
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_4e,_4f){
with(_4e){
var _50=_imagePosition!==CPImageOnly&&(objj_msgSend(_text,"length")>0),_51=!!_DOMTextElement;
if(_50!==_51){
if(_51){
_DOMElement.removeChild(_DOMTextElement);
_DOMTextElement=NULL;
_51=NO;
}else{
_DOMTextElement=document.createElement("div");
var _52=_DOMTextElement.style;
_52.position="absolute";
_52.whiteSpace="pre";
_52.zIndex=200;
_52.overflow="hidden";
_DOMElement.appendChild(_DOMTextElement);
_51=YES;
_flags|=_3|_8|_6;
}
}
var _52=_51?_DOMTextElement.style:nil;
var _53=_51&&!!_textShadowColor,_54=!!_DOMTextShadowElement;
if(_53!==_54){
if(_54){
_DOMElement.removeChild(_DOMTextShadowElement);
_DOMTextShadowElement=NULL;
_54=NO;
}else{
_DOMTextShadowElement=document.createElement("div");
var _55=_DOMTextShadowElement.style;
_55.font=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");
_55.position="absolute";
_55.whiteSpace=_52.whiteSpace;
_55.color=objj_msgSend(_textShadowColor,"cssString");
_55.zIndex=150;
_55.textOverflow=_52.textOverflow;
if(document.attachEvent){
_55.overflow=_52.overflow;
_55.wordWrap=_52.wordWrap;
}else{
_55.overflowX=_52.overflowX;
_55.overflowY=_52.overflowY;
}
_DOMElement.appendChild(_DOMTextShadowElement);
_54=YES;
_flags|=_3;
}
}
var _55=_54?_DOMTextShadowElement.style:nil;
if(_51){
if(_flags&_3){
if(CPFeatureIsCompatible(CPJavascriptInnerTextFeature)){
_DOMTextElement.innerText=_text;
if(_DOMTextShadowElement){
_DOMTextShadowElement.innerText=_text;
}
}else{
if(CPFeatureIsCompatible(CPJavascriptTextContentFeature)){
_DOMTextElement.textContent=_text;
if(_DOMTextShadowElement){
_DOMTextShadowElement.textContent=_text;
}
}
}
}
if(_flags&_8){
var _56=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");
_52.font=_56;
if(_55){
_55.font=_56;
}
}
if(_flags&_6){
switch(_lineBreakMode){
case CPLineBreakByClipping:
_52.overflow="hidden";
_52.textOverflow="clip";
_52.whiteSpace="pre";
if(document.attachEvent){
_52.wordWrap="normal";
}
break;
case CPLineBreakByTruncatingHead:
case CPLineBreakByTruncatingMiddle:
case CPLineBreakByTruncatingTail:
_52.textOverflow="ellipsis";
_52.whiteSpace="nowrap";
_52.overflow="hidden";
if(document.attachEvent){
_52.wordWrap="normal";
}
break;
case CPLineBreakByCharWrapping:
case CPLineBreakByWordWrapping:
if(document.attachEvent){
_52.whiteSpace="pre";
_52.wordWrap="break-word";
}else{
_52.whiteSpace="-o-pre-wrap";
_52.whiteSpace="-pre-wrap";
_52.whiteSpace="-moz-pre-wrap";
_52.whiteSpace="pre-wrap";
}
_52.overflow="hidden";
_52.textOverflow="clip";
break;
}
if(_55){
if(document.attachEvent){
_55.wordWrap=_52.wordWrap;
_55.overflow=_52.overflow;
}else{
_55.overflowX=_52.overflowX;
_55.overflowY=_52.overflowY;
}
_55.whiteSpace=_52.whiteSpace;
_55.textOverflow=_52.textOverflow;
}
}
}
var _57=_image!==nil&&_imagePosition!==CPNoImage,_58=!!_DOMImageElement;
if(_57!==_58){
if(_58){
_DOMElement.removeChild(_DOMImageElement);
_DOMImageElement=NULL;
_58=NO;
}else{
_DOMImageElement=document.createElement("img");
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_DOMImageElement.setAttribute("draggable","true");
_DOMImageElement.style["-khtml-user-drag"]="element";
}
var _59=_DOMImageElement.style;
_59.top="0px";
_59.left="0px";
_59.position="absolute";
_59.zIndex=100;
_DOMElement.appendChild(_DOMImageElement);
_58=YES;
}
}
var _5a=objj_msgSend(_4e,"bounds").size,_5b={origin:{x:0,y:0},size:{width:_5a.width,height:_5a.height}};
if(_58){
if(!_59){
var _59=_DOMImageElement.style;
}
if(_flags&_2){
_DOMImageElement.src=objj_msgSend(_image,"filename");
}
var _5c=_5a.width/2,_5d=_5a.height/2,_5e=objj_msgSend(_image,"size"),_5f=_5e.width,_60=_5e.height;
if(_imageScaling===CPScaleToFit){
_5f=_5a.width;
_60=_5a.height;
}else{
if(_imageScaling===CPScaleProportionally){
var _61=MIN(MIN(_5a.width,_5f)/_5f,MIN(_5a.height,_60)/_60);
_5f*=_61;
_60*=_61;
}
}
_DOMImageElement.width=_5f;
_DOMImageElement.height=_60;
_59.width=_5f+"px";
_59.height=_60+"px";
if(_imagePosition===CPImageBelow){
_59.left=FLOOR(_5c-_5f/2)+"px";
_59.top=FLOOR(_5a.height-_60)+"px";
_5b.size.height=_5a.height-_60-_d;
}else{
if(_imagePosition===CPImageAbove){
if(NULL){
var _62=_CGPointApplyAffineTransform(CGPointMake(FLOOR(_5c-_5f/2),0),NULL);
}else{
var _62={x:FLOOR(_5c-_5f/2),y:0};
}
_DOMImageElement.style.left=ROUND(_62.x)+"px";
_DOMImageElement.style.top=ROUND(_62.y)+"px";
_5b.origin.y+=_60+_d;
_5b.size.height=_5a.height-_60-_d;
}else{
if(_imagePosition===CPImageLeft){
_59.top=FLOOR(_5d-_60/2)+"px";
_59.left="0px";
_5b.origin.x=_5f+_c;
_5b.size.width-=_5f+_c;
}else{
if(_imagePosition===CPImageRight){
_59.top=FLOOR(_5d-_60/2)+"px";
_59.left=FLOOR(_5a.width-_5f)+"px";
_5b.size.width-=_5f+_c;
}else{
if(_imagePosition===CPImageOnly){
_59.top=FLOOR(_5d-_60/2)+"px";
_59.left=FLOOR(_5c-_5f/2)+"px";
}
}
}
}
}
}
if(_51){
var _63=(_5b.origin.x),_64=(_5b.origin.y),_65=(_5b.size.width),_66=(_5b.size.height);
if(_verticalAlignment!==CPTopVerticalTextAlignment){
if(!_textSize){
if(_lineBreakMode===CPLineBreakByCharWrapping||_lineBreakMode===CPLineBreakByWordWrapping){
_textSize=objj_msgSend(_text,"sizeWithFont:inWidth:",_font,_65);
}else{
_textSize=objj_msgSend(_text,"sizeWithFont:",_font);
}
}
if(_verticalAlignment===CPCenterVerticalTextAlignment){
_64=_64+(_66-_textSize.height)/2;
_66=_textSize.height;
}else{
_64=_64+_66-_textSize.height;
_66=_textSize.height;
}
}
_52.top=ROUND(_64)+"px";
_52.left=ROUND(_63)+"px";
_52.width=ROUND(_65)+"px";
_52.height=ROUND(_66)+"px";
if(_55){
if(_flags&_9){
_55.color=objj_msgSend(_textShadowColor,"cssString");
}
_55.top=ROUND(_64+_textShadowOffset.height)+"px";
_55.left=ROUND(_63+_textShadowOffset.width)+"px";
_55.width=ROUND(_65)+"px";
_55.height=ROUND(_66)+"px";
}
}
_flags=0;
}
}),new objj_method(sel_getUid("sizeToFit"),function(_67,_68){
with(_67){
var _69=CGSizeMakeZero();
if((_imagePosition!==CPNoImage)&&_image){
var _6a=objj_msgSend(_image,"size");
_69.width+=_6a.width;
_69.height+=_6a.height;
}
if((_imagePosition!==CPImageOnly)&&objj_msgSend(_text,"length")>0){
if(!_textSize){
_textSize=objj_msgSend(_text,"sizeWithFont:",_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12));
}
if(_imagePosition===CPImageLeft||_imagePosition===CPImageRight){
_69.width+=_textSize.width+_c;
_69.height=MAX(_69.height,_textSize.height);
}else{
if(_imagePosition===CPImageAbove||_imagePosition===CPImageBelow){
_69.width=MAX(_69.width,_textSize.width);
_69.height+=_textSize.height+_d;
}else{
_69.width=MAX(_69.width,_textSize.width);
_69.height=MAX(_69.height,_textSize.height);
}
}
}
objj_msgSend(_67,"setFrameSize:",_69);
}
})]);
p;8;AppKit.ji;9;CALayer.ji;9;CPAlert.ji;13;CPAnimation.ji;15;CPApplication.ji;14;CPBezierPath.ji;7;CPBox.ji;10;CPButton.ji;13;CPButtonBar.ji;12;CPCheckBox.ji;7;CPCib.ji;16;CPCibConnector.ji;23;CPCibControlConnector.ji;14;CPCibLoading.ji;22;CPCibOutletConnector.ji;12;CPClipView.ji;22;CPCollectionViewItem.ji;18;CPCollectionView.ji;9;CPColor.ji;14;CPColorPanel.ji;13;CPColorWell.ji;17;CPCompatibility.ji;11;CPControl.ji;10;CPCookie.ji;10;CPCursor.ji;12;CPDocument.ji;22;CPDocumentController.ji;9;CPEvent.ji;14;CPFlashMovie.ji;13;CPFlashView.ji;8;CPFont.ji;15;CPFontManager.ji;12;CPGeometry.ji;9;CPImage.ji;13;CPImageView.ji;8;CPMenu.ji;12;CPMenuItem.ji;13;CPOpenPanel.ji;9;CPPanel.ji;14;CPPasteboard.ji;15;CPPopUpButton.ji;21;CPProgressIndicator.ji;9;CPRadio.ji;13;CPResponder.ji;15;CPSearchField.ji;14;CPScrollView.ji;12;CPScroller.ji;19;CPSecureTextField.ji;20;CPSegmentedControl.ji;10;CPShadow.ji;10;CPSlider.ji;13;CPSplitView.ji;11;CPTabView.ji;15;CPTableColumn.ji;13;CPTableView.ji;13;CPTextField.ji;11;CPToolbar.ji;15;CPToolbarItem.ji;8;CPView.ji;18;CPViewController.ji;11;CPWebView.ji;10;CPWindow.ji;20;CPWindowController.jp;17;CPAccordionView.jI;20;Foundation/CPArray.jI;21;Foundation/CPObject.jI;32;Foundation/CPKeyValueObserving.jI;23;Foundation/CPIndexSet.jI;21;Foundation/CPString.jI;15;AppKit/CPView.jc;10622;
var _1=objj_allocateClassPair(CPObject,"CPAccordionViewItem"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_identifier"),new objj_ivar("_view"),new objj_ivar("_label")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("identifier"),function(_3,_4){
with(_3){
return _identifier;
}
}),new objj_method(sel_getUid("setIdentifier:"),function(_5,_6,_7){
with(_5){
_identifier=_7;
}
}),new objj_method(sel_getUid("view"),function(_8,_9){
with(_8){
return _view;
}
}),new objj_method(sel_getUid("setView:"),function(_a,_b,_c){
with(_a){
_view=_c;
}
}),new objj_method(sel_getUid("label"),function(_d,_e){
with(_d){
return _label;
}
}),new objj_method(sel_getUid("setLabel:"),function(_f,_10,_11){
with(_f){
_label=_11;
}
}),new objj_method(sel_getUid("init"),function(_12,_13){
with(_12){
return objj_msgSend(_12,"initWithIdentifier:","");
}
}),new objj_method(sel_getUid("initWithIdentifier:"),function(_14,_15,_16){
with(_14){
_14=objj_msgSendSuper({receiver:_14,super_class:objj_getClass("CPObject")},"init");
if(_14){
objj_msgSend(_14,"setIdentifier:",_16);
}
return _14;
}
})]);
var _1=objj_allocateClassPair(CPView,"CPAccordionView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_dirtyItemIndex"),new objj_ivar("_itemHeaderPrototype"),new objj_ivar("_items"),new objj_ivar("_itemViews"),new objj_ivar("_expandedItemIndexes")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_17,_18,_19){
with(_17){
_17=objj_msgSendSuper({receiver:_17,super_class:objj_getClass("CPView")},"initWithFrame:",_19);
if(_17){
_items=[];
_itemViews=[];
_expandedItemIndexes=objj_msgSend(CPIndexSet,"indexSet");
objj_msgSend(_17,"setItemHeaderPrototype:",objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:100,height:24}}));
}
return _17;
}
}),new objj_method(sel_getUid("setItemHeaderPrototype:"),function(_1a,_1b,_1c){
with(_1a){
_itemHeaderPrototype=_1c;
}
}),new objj_method(sel_getUid("itemHeaderPrototype"),function(_1d,_1e){
with(_1d){
return _itemHeaderPrototype;
}
}),new objj_method(sel_getUid("items"),function(_1f,_20){
with(_1f){
return _items;
}
}),new objj_method(sel_getUid("addItem:"),function(_21,_22,_23){
with(_21){
objj_msgSend(_21,"insertItem:atIndex:",_23,_items.length);
}
}),new objj_method(sel_getUid("insertItem:atIndex:"),function(_24,_25,_26,_27){
with(_24){
objj_msgSend(_expandedItemIndexes,"addIndex:",_27);
var _28=objj_msgSend(objj_msgSend(_CPAccordionItemView,"alloc"),"initWithAccordionView:",_24);
objj_msgSend(_28,"setIndex:",_27);
objj_msgSend(_28,"setLabel:",objj_msgSend(_26,"label"));
objj_msgSend(_28,"setContentView:",objj_msgSend(_26,"view"));
objj_msgSend(_24,"addSubview:",_28);
objj_msgSend(_items,"insertObject:atIndex:",_26,_27);
objj_msgSend(_itemViews,"insertObject:atIndex:",_28,_27);
objj_msgSend(_24,"_invalidateItemsStartingAtIndex:",_27);
objj_msgSend(_24,"setNeedsLayout");
}
}),new objj_method(sel_getUid("removeItem:"),function(_29,_2a,_2b){
with(_29){
objj_msgSend(_29,"removeItemAtIndex:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",_2b));
}
}),new objj_method(sel_getUid("removeItemAtIndex:"),function(_2c,_2d,_2e){
with(_2c){
objj_msgSend(_expandedItemIndexes,"removeIndex:",_2e);
objj_msgSend(_itemViews[_2e],"removeFromSuperview");
objj_msgSend(_items,"removeObjectAtIndex:",_2e);
objj_msgSend(_itemViews,"removeObjectAtIndex:",_2e);
objj_msgSend(_2c,"_invalidateItemsStartingAtIndex:",_2e);
objj_msgSend(_2c,"setNeedsLayout");
}
}),new objj_method(sel_getUid("removeAllItems"),function(_2f,_30){
with(_2f){
var _31=_items.length;
while(_31--){
objj_msgSend(_2f,"removeItemAtIndex:",_31);
}
}
}),new objj_method(sel_getUid("expandItemAtIndex:"),function(_32,_33,_34){
with(_32){
if(!objj_msgSend(_itemViews[_34],"isCollapsed")){
return;
}
objj_msgSend(_expandedItemIndexes,"addIndex:",_34);
objj_msgSend(_itemViews[_34],"setCollapsed:",NO);
objj_msgSend(_32,"_invalidateItemsStartingAtIndex:",_34);
}
}),new objj_method(sel_getUid("collapseItemAtIndex:"),function(_35,_36,_37){
with(_35){
if(objj_msgSend(_itemViews[_37],"isCollapsed")){
return;
}
objj_msgSend(_expandedItemIndexes,"removeIndex:",_37);
objj_msgSend(_itemViews[_37],"setCollapsed:",YES);
objj_msgSend(_35,"_invalidateItemsStartingAtIndex:",_37);
}
}),new objj_method(sel_getUid("toggleItemAtIndex:"),function(_38,_39,_3a){
with(_38){
var _3b=_itemViews[_3a];
if(objj_msgSend(_3b,"isCollapsed")){
objj_msgSend(_38,"expandItemAtIndex:",_3a);
}else{
objj_msgSend(_38,"collapseItemAtIndex:",_3a);
}
}
}),new objj_method(sel_getUid("expandedItemIndexes"),function(_3c,_3d){
with(_3c){
return _expandedItemIndexes;
}
}),new objj_method(sel_getUid("collapsedItemIndexes"),function(_3e,_3f){
with(_3e){
var _40=objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",CPMakeRange(0,_items.length));
objj_msgSend(_40,"removeIndexes:",_expandedIndexes);
return _40;
}
}),new objj_method(sel_getUid("setEnabled:forItemAtIndex:"),function(_41,_42,_43,_44){
with(_41){
var _45=_itemViews[_44];
if(!_45){
return;
}
if(!_43){
objj_msgSend(_41,"collapseItemAtIndex:",_44);
}else{
objj_msgSend(_41,"expandItemAtIndex:",_44);
}
objj_msgSend(_45,"setEnabled:",_43);
}
}),new objj_method(sel_getUid("_invalidateItemsStartingAtIndex:"),function(_46,_47,_48){
with(_46){
if(_dirtyItemIndex===CPNotFound){
_dirtyItemIndex=_48;
}
_dirtyItemIndex=MIN(_dirtyItemIndex,_48);
objj_msgSend(_46,"setNeedsLayout");
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_49,_4a,_4b){
with(_49){
var _4c=(objj_msgSend(_49,"frame").size.width);
objj_msgSendSuper({receiver:_49,super_class:objj_getClass("CPView")},"setFrameSize:",_4b);
if(_4c!==(objj_msgSend(_49,"frame").size.width)){
objj_msgSend(_49,"_invalidateItemsStartingAtIndex:",0);
}
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_4d,_4e){
with(_4d){
if(_items.length<=0){
return objj_msgSend(_4d,"setFrameSize:",{width:(objj_msgSend(_4d,"frame").size.width),height:0});
}
if(_dirtyItemIndex===CPNotFound){
return;
}
_dirtyItemIndex=MIN(_dirtyItemIndex,_items.length-1);
var _4f=_dirtyItemIndex,_50=_itemViews.length,_51=(objj_msgSend(_4d,"bounds").size.width),y=_4f>0?CGRectGetMaxY(objj_msgSend(_itemViews[_4f-1],"frame")):0;
_dirtyItemIndex=CPNotFound;
for(;_4f<_50;++_4f){
var _52=_itemViews[_4f];
objj_msgSend(_52,"setFrameY:width:",y,_51);
y=CGRectGetMaxY(objj_msgSend(_52,"frame"));
}
objj_msgSend(_4d,"setFrameSize:",{width:(objj_msgSend(_4d,"frame").size.width),height:y});
}
})]);
var _1=objj_allocateClassPair(CPView,"_CPAccordionItemView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_accordionView"),new objj_ivar("_isCollapsed"),new objj_ivar("_index"),new objj_ivar("_headerView"),new objj_ivar("_contentView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("isCollapsed"),function(_53,_54){
with(_53){
return _isCollapsed;
}
}),new objj_method(sel_getUid("setCollapsed:"),function(_55,_56,_57){
with(_55){
_isCollapsed=_57;
}
}),new objj_method(sel_getUid("index"),function(_58,_59){
with(_58){
return _index;
}
}),new objj_method(sel_getUid("setIndex:"),function(_5a,_5b,_5c){
with(_5a){
_index=_5c;
}
}),new objj_method(sel_getUid("initWithAccordionView:"),function(_5d,_5e,_5f){
with(_5d){
_5d=objj_msgSendSuper({receiver:_5d,super_class:objj_getClass("CPView")},"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
if(_5d){
_accordionView=_5f;
_isCollapsed=NO;
var _60=objj_msgSend(_5d,"bounds");
_headerView=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",objj_msgSend(_accordionView,"itemHeaderPrototype")));
if(objj_msgSend(_headerView,"respondsToSelector:",sel_getUid("setTarget:"))&&objj_msgSend(_headerView,"respondsToSelector:",sel_getUid("setAction:"))){
objj_msgSend(_headerView,"setTarget:",_5d);
objj_msgSend(_headerView,"setAction:",sel_getUid("toggle:"));
}
objj_msgSend(_5d,"addSubview:",_headerView);
}
return _5d;
}
}),new objj_method(sel_getUid("toggle:"),function(_61,_62,_63){
with(_61){
objj_msgSend(_accordionView,"toggleItemAtIndex:",objj_msgSend(_61,"index"));
}
}),new objj_method(sel_getUid("setLabel:"),function(_64,_65,_66){
with(_64){
if(objj_msgSend(_headerView,"respondsToSelector:",sel_getUid("setTitle:"))){
objj_msgSend(_headerView,"setTitle:",_66);
}else{
if(objj_msgSend(_headerView,"respondsToSelector:",sel_getUid("setLabel:"))){
objj_msgSend(_headerView,"setLabel:",_66);
}else{
if(objj_msgSend(_headerView,"respondsToSelector:",sel_getUid("setStringValue:"))){
objj_msgSend(_headerView,"setStringValue:",_66);
}
}
}
}
}),new objj_method(sel_getUid("setEnabled:"),function(_67,_68,_69){
with(_67){
if(objj_msgSend(_headerView,"respondsToSelector:",sel_getUid("setEnabled:"))){
objj_msgSend(_headerView,"setEnabled:",_69);
}
}
}),new objj_method(sel_getUid("setContentView:"),function(_6a,_6b,_6c){
with(_6a){
if(_contentView===_6c){
return;
}
objj_msgSend(_contentView,"removeObserver:forKeyPath:",_6a,"frame");
objj_msgSend(_contentView,"removeFromSuperview");
_contentView=_6c;
objj_msgSend(_contentView,"addObserver:forKeyPath:options:context:",_6a,"frame",CPKeyValueObservingOptionOld|CPKeyValueObservingOptionNew,NULL);
objj_msgSend(_6a,"addSubview:",_contentView);
objj_msgSend(_accordionView,"_invalidateItemsStartingAtIndex:",objj_msgSend(_6a,"index"));
}
}),new objj_method(sel_getUid("setFrameY:width:"),function(_6d,_6e,aY,_6f){
with(_6d){
var _70=(objj_msgSend(_headerView,"frame").size.height);
objj_msgSend(_headerView,"setFrameSize:",{width:_6f,height:_70});
objj_msgSend(_contentView,"setFrameOrigin:",{x:0,y:_70});
if(objj_msgSend(_6d,"isCollapsed")){
objj_msgSend(_6d,"setFrame:",{origin:{x:0,y:aY},size:{width:_6f,height:_70}});
}else{
var _71=(objj_msgSend(_contentView,"frame").size.height);
objj_msgSend(_contentView,"setFrameSize:",{width:_6f,height:_71});
objj_msgSend(_6d,"setFrame:",{origin:{x:0,y:aY},size:{width:_6f,height:_71+_70}});
}
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_72,_73,_74){
with(_72){
}
}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(_75,_76,_77,_78,_79,_7a){
with(_75){
if(_77==="frame"&&!CGRectEqualToRect(objj_msgSend(_79,"objectForKey:",CPKeyValueChangeOldKey),objj_msgSend(_79,"objectForKey:",CPKeyValueChangeNewKey))){
objj_msgSend(_accordionView,"_invalidateItemsStartingAtIndex:",objj_msgSend(_75,"index"));
}
}
})]);
p;9;CPAlert.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.jI;22;AppKit/CPApplication.jI;17;AppKit/CPButton.jI;16;AppKit/CPColor.jI;15;AppKit/CPFont.jI;16;AppKit/CPImage.jI;20;AppKit/CPImageView.jI;16;AppKit/CPPanel.jI;20;AppKit/CPTextField.jc;5997;
CPWarningAlertStyle=0;
CPInformationalAlertStyle=1;
CPCriticalAlertStyle=2;
var _1,_2,_3;
var _4=objj_allocateClassPair(CPObject,"CPAlert"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_alertPanel"),new objj_ivar("_messageLabel"),new objj_ivar("_alertImageView"),new objj_ivar("_alertStyle"),new objj_ivar("_windowTitle"),new objj_ivar("_windowStyle"),new objj_ivar("_buttonCount"),new objj_ivar("_buttons"),new objj_ivar("_delegate")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("init"),function(_6,_7){
with(_6){
if(_6=objj_msgSendSuper({receiver:_6,super_class:objj_getClass("CPObject")},"init")){
_buttonCount=0;
_buttons=objj_msgSend(CPArray,"array");
_alertStyle=CPWarningAlertStyle;
objj_msgSend(_6,"setWindowStyle:",nil);
}
return _6;
}
}),new objj_method(sel_getUid("setWindowStyle:"),function(_8,_9,_a){
with(_8){
_windowStyle=_a;
_alertPanel=objj_msgSend(objj_msgSend(CPPanel,"alloc"),"initWithContentRect:styleMask:",CGRectMake(0,0,400,110),_a?_a|CPTitledWindowMask:CPTitledWindowMask);
objj_msgSend(_alertPanel,"setFloatingPanel:",YES);
objj_msgSend(_alertPanel,"center");
objj_msgSend(_messageLabel,"setTextColor:",(_a&CPHUDBackgroundWindowMask)?objj_msgSend(CPColor,"whiteColor"):objj_msgSend(CPColor,"blackColor"));
var _b=objj_msgSend(_buttons,"count");
for(var i=0;i<_b;i++){
var _c=_buttons[i];
objj_msgSend(_c,"setFrameSize:",CGSizeMake(objj_msgSend(_c,"frame").size.width,(_a==CPHUDBackgroundWindowMask)?20:24));
objj_msgSend(_c,"setTheme:",objj_msgSend(CPTheme,"themeNamed:",_windowStyle===CPHUDBackgroundWindowMask?"Aristo-HUD":"Aristo"));
objj_msgSend(objj_msgSend(_alertPanel,"contentView"),"addSubview:",_c);
}
if(!_messageLabel){
var _d=objj_msgSend(objj_msgSend(_alertPanel,"contentView"),"bounds");
_messageLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(57,10,CGRectGetWidth(_d)-73,62));
objj_msgSend(_messageLabel,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",13));
objj_msgSend(_messageLabel,"setLineBreakMode:",CPLineBreakByWordWrapping);
objj_msgSend(_messageLabel,"setAlignment:",CPJustifiedTextAlignment);
objj_msgSend(_messageLabel,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
_alertImageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(15,12,32,32));
}
objj_msgSend(objj_msgSend(_alertPanel,"contentView"),"addSubview:",_messageLabel);
objj_msgSend(objj_msgSend(_alertPanel,"contentView"),"addSubview:",_alertImageView);
}
}),new objj_method(sel_getUid("setTitle:"),function(_e,_f,_10){
with(_e){
_windowTitle=_10;
}
}),new objj_method(sel_getUid("title"),function(_11,_12){
with(_11){
return _windowTitle;
}
}),new objj_method(sel_getUid("windowStyle"),function(_13,_14){
with(_13){
return _windowStyle;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_15,_16,_17){
with(_15){
_delegate=_17;
}
}),new objj_method(sel_getUid("delegate"),function(_18,_19){
with(_18){
return _delegate;
}
}),new objj_method(sel_getUid("setAlertStyle:"),function(_1a,_1b,_1c){
with(_1a){
_alertStyle=_1c;
}
}),new objj_method(sel_getUid("alertStyle"),function(_1d,_1e){
with(_1d){
return _alertStyle;
}
}),new objj_method(sel_getUid("setMessageText:"),function(_1f,_20,_21){
with(_1f){
objj_msgSend(_messageLabel,"setStringValue:",_21);
}
}),new objj_method(sel_getUid("messageText"),function(_22,_23){
with(_22){
return objj_msgSend(_messageLabel,"stringValue");
}
}),new objj_method(sel_getUid("addButtonWithTitle:"),function(_24,_25,_26){
with(_24){
var _27=objj_msgSend(objj_msgSend(_alertPanel,"contentView"),"bounds"),_28=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(CGRectGetWidth(_27)-((_buttonCount+1)*90),CGRectGetHeight(_27)-34,80,(_windowStyle==CPHUDBackgroundWindowMask)?20:24));
objj_msgSend(_28,"setTitle:",_26);
objj_msgSend(_28,"setTarget:",_24);
objj_msgSend(_28,"setTag:",_buttonCount);
objj_msgSend(_28,"setAction:",sel_getUid("_notifyDelegate:"));
objj_msgSend(_28,"setTheme:",objj_msgSend(CPTheme,"themeNamed:",_windowStyle===CPHUDBackgroundWindowMask?"Aristo-HUD":"Aristo"));
objj_msgSend(_28,"setAutoresizingMask:",CPViewMinXMargin|CPViewMinYMargin);
objj_msgSend(objj_msgSend(_alertPanel,"contentView"),"addSubview:",_28);
if(_buttonCount==0){
objj_msgSend(_alertPanel,"setDefaultButton:",_28);
}
_buttonCount++;
objj_msgSend(_buttons,"addObject:",_28);
}
}),new objj_method(sel_getUid("runModal"),function(_29,_2a){
with(_29){
var _2b;
switch(_alertStyle){
case CPWarningAlertStyle:
objj_msgSend(_alertImageView,"setImage:",_1);
_2b="Warning";
break;
case CPInformationalAlertStyle:
objj_msgSend(_alertImageView,"setImage:",_2);
_2b="Information";
break;
case CPCriticalAlertStyle:
objj_msgSend(_alertImageView,"setImage:",_3);
_2b="Error";
break;
}
objj_msgSend(_alertPanel,"setTitle:",_windowTitle?_windowTitle:_2b);
objj_msgSend(CPApp,"runModalForWindow:",_alertPanel);
}
}),new objj_method(sel_getUid("_notifyDelegate:"),function(_2c,_2d,_2e){
with(_2c){
objj_msgSend(CPApp,"abortModal");
objj_msgSend(_alertPanel,"close");
if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("alertDidEnd:returnCode:"))){
objj_msgSend(_delegate,"alertDidEnd:returnCode:",_2c,objj_msgSend(_2e,"tag"));
}
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("initialize"),function(_2f,_30){
with(_2f){
if(_2f!=CPAlert){
return;
}
var _31=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_2f,"class"));
_1=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_31,"pathForResource:","CPAlert/dialog-warning.png"),CGSizeMake(32,32));
_2=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_31,"pathForResource:","CPAlert/dialog-information.png"),CGSizeMake(32,32));
_3=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_31,"pathForResource:","CPAlert/dialog-error.png"),CGSizeMake(32,32));
}
})]);
p;13;CPAnimation.jI;21;Foundation/CPObject.ji;23;CAMediaTimingFunction.jc;5384;
CPAnimationEaseInOut=0;
CPAnimationEaseIn=1;
CPAnimationEaseOut=2;
CPAnimationLinear=3;
ACTUAL_FRAME_RATE=0;
var _1=objj_allocateClassPair(CPObject,"CPAnimation"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_lastTime"),new objj_ivar("_duration"),new objj_ivar("_animationCurve"),new objj_ivar("_timingFunction"),new objj_ivar("_frameRate"),new objj_ivar("_progress"),new objj_ivar("_delegate"),new objj_ivar("_timer")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithDuration:animationCurve:"),function(_3,_4,_5,_6){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
if(_3){
_progress=0;
_duration=MAX(0,_5);
_frameRate=60;
objj_msgSend(_3,"setAnimationCurve:",_6);
}
return _3;
}
}),new objj_method(sel_getUid("setAnimationCurve:"),function(_7,_8,_9){
with(_7){
switch(_9){
case CPAnimationEaseInOut:
timingFunctionName=kCAMediaTimingFunctionEaseInEaseOut;
break;
case CPAnimationEaseIn:
timingFunctionName=kCAMediaTimingFunctionEaseIn;
break;
case CPAnimationEaseOut:
timingFunctionName=kCAMediaTimingFunctionEaseOut;
break;
case CPAnimationLinear:
timingFunctionName=kCAMediaTimingFunctionLinear;
break;
default:
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Invalid value provided for animation curve");
break;
}
_animationCurve=_9;
_timingFunction=objj_msgSend(CAMediaTimingFunction,"functionWithName:",timingFunctionName);
}
}),new objj_method(sel_getUid("animationCurve"),function(_a,_b){
with(_a){
return _animationCurve;
}
}),new objj_method(sel_getUid("setDuration:"),function(_c,_d,_e){
with(_c){
if(_e<0){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"aDuration can't be negative");
}
_duration=_e;
}
}),new objj_method(sel_getUid("duration"),function(_f,_10){
with(_f){
return _duration;
}
}),new objj_method(sel_getUid("setFrameRate:"),function(_11,_12,_13){
with(_11){
if(_13<0){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"frameRate can't be negative");
}
_frameRate=_13;
}
}),new objj_method(sel_getUid("frameRate"),function(_14,_15){
with(_14){
return _frameRate;
}
}),new objj_method(sel_getUid("delegate"),function(_16,_17){
with(_16){
return _delegate;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_18,_19,_1a){
with(_18){
_delegate=_1a;
}
}),new objj_method(sel_getUid("startAnimation"),function(_1b,_1c){
with(_1b){
if(_timer||_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationShouldStart:"))&&!objj_msgSend(_delegate,"animationShouldStart:",_1b)){
return;
}
if(_progress===1){
_progress=0;
}
ACTUAL_FRAME_RATE=0;
_lastTime=new Date();
_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,_1b,sel_getUid("animationTimerDidFire:"),nil,YES);
}
}),new objj_method(sel_getUid("animationTimerDidFire:"),function(_1d,_1e,_1f){
with(_1d){
var _20=new Date(),_21=MIN(1,objj_msgSend(_1d,"currentProgress")+(_20-_lastTime)/(_duration*1000));
_lastTime=_20;
++ACTUAL_FRAME_RATE;
objj_msgSend(_1d,"setCurrentProgress:",_21);
if(_21===1){
objj_msgSend(_timer,"invalidate");
_timer=nil;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationDidEnd:"))){
objj_msgSend(_delegate,"animationDidEnd:",_1d);
}
}
}
}),new objj_method(sel_getUid("stopAnimation"),function(_22,_23){
with(_22){
if(!_timer){
return;
}
objj_msgSend(_timer,"invalidate");
_timer=nil;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationDidStop:"))){
objj_msgSend(_delegate,"animationDidStop:",_22);
}
}
}),new objj_method(sel_getUid("isAnimating"),function(_24,_25){
with(_24){
return _timer;
}
}),new objj_method(sel_getUid("setCurrentProgress:"),function(_26,_27,_28){
with(_26){
_progress=_28;
}
}),new objj_method(sel_getUid("currentProgress"),function(_29,_2a){
with(_29){
return _progress;
}
}),new objj_method(sel_getUid("currentValue"),function(_2b,_2c){
with(_2b){
var t=objj_msgSend(_2b,"currentProgress");
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animation:valueForProgress:"))){
return objj_msgSend(_delegate,"animation:valueForProgress:",_2b,t);
}
var c1=[],c2=[];
objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",1,c1);
objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",2,c2);
return _2d(t,c1[0],c1[1],c2[0],c2[1],_duration);
}
})]);
var _2d=_2d=function(t,p1x,p1y,p2x,p2y,_2e){
var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;
sampleCurveX=function(t){
return ((ax*t+bx)*t+cx)*t;
};
sampleCurveY=function(t){
return ((ay*t+by)*t+cy)*t;
};
sampleCurveDerivativeX=function(t){
return (3*ax*t+2*bx)*t+cx;
};
solveEpsilon=function(_2f){
return 1/(200*_2f);
};
solve=function(x,_30){
return sampleCurveY(solveCurveX(x,_30));
};
solveCurveX=function(x,_31){
var t0,t1,t2,x2,d2,i;
fabs=function(n){
if(n>=0){
return n;
}else{
return 0-n;
}
};
for(t2=x,i=0;i<8;i++){
x2=sampleCurveX(t2)-x;
if(fabs(x2)<_31){
return t2;
}
d2=sampleCurveDerivativeX(t2);
if(fabs(d2)<0.000001){
break;
}
t2=t2-x2/d2;
}
t0=0;
t1=1;
t2=x;
if(t2<t0){
return t0;
}
if(t2>t1){
return t1;
}
while(t0<t1){
x2=sampleCurveX(t2);
if(fabs(x2-x)<_31){
return t2;
}
if(x>x2){
t0=t2;
}else{
t1=t2;
}
t2=(t1-t0)*0.5+t0;
}
return t2;
};
cx=3*p1x;
bx=3*(p2x-p1x)-cx;
ax=1-cx-bx;
cy=3*p1y;
by=3*(p2y-p1y)-cy;
ay=1-cy-by;
return solve(t,solveEpsilon(_2e));
};
p;15;CPApplication.jI;21;Foundation/CPBundle.ji;17;CPCompatibility.ji;9;CPEvent.ji;8;CPMenu.ji;13;CPResponder.ji;22;CPDocumentController.ji;14;CPThemeBlend.ji;14;CPCibLoading.ji;12;CPPlatform.jc;24830;
var _1="CPMainCibFile",_2="Main cib file base name";
CPApp=nil;
CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";
CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";
CPTerminateNow=YES;
CPTerminateCancel=NO;
CPTerminateLater=-1;
CPRunStoppedResponse=-1000;
CPRunAbortedResponse=-1001;
CPRunContinuesResponse=-1002;
var _3=objj_allocateClassPair(CPResponder,"CPApplication"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_mainMenu"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("init"),function(_5,_6){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPResponder")},"init");
if(_5){
_eventListeners=[];
_windows=[];
objj_msgSend(_windows,"addObject:",nil);
_mainMenu=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");
objj_msgSend(_mainMenu,"setAutoenablesItems:",NO);
var _7=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),_8=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"N");
objj_msgSend(_8,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_7,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));
objj_msgSend(_8,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_7,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));
objj_msgSend(_mainMenu,"addItem:",_8);
var _9=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"O");
objj_msgSend(_9,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_7,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));
objj_msgSend(_9,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_7,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));
objj_msgSend(_mainMenu,"addItem:",_9);
var _a=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","Save"),_b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);
objj_msgSend(_b,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_7,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));
objj_msgSend(_b,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_7,"pathForResource:","CPApplication/SaveHighlighted.png"),CGSizeMake(16,16)));
objj_msgSend(_a,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"S"));
objj_msgSend(_a,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));
objj_msgSend(_b,"setSubmenu:",_a);
objj_msgSend(_mainMenu,"addItem:",_b);
var _c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil),_d=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","Edit"),_e=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent),_f=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);
objj_msgSend(_e,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);
objj_msgSend(_f,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);
objj_msgSend(_d,"addItem:",_e);
objj_msgSend(_d,"addItem:",_f);
objj_msgSend(_d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"X")),objj_msgSend(_d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"C")),objj_msgSend(_d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"V"));
objj_msgSend(_c,"setSubmenu:",_d);
objj_msgSend(_c,"setHidden:",YES);
objj_msgSend(_mainMenu,"addItem:",_c);
objj_msgSend(_mainMenu,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));
}
return _5;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_10,_11,_12){
with(_10){
if(_delegate==_12){
return;
}
var _13=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_delegate){
objj_msgSend(_13,"removeObserver:name:object:",_delegate,CPApplicationWillFinishLaunchingNotification,_10);
objj_msgSend(_13,"removeObserver:name:object:",_delegate,CPApplicationDidFinishLaunchingNotification,_10);
}
_delegate=_12;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationWillFinishLaunching:"))){
objj_msgSend(_13,"addObserver:selector:name:object:",_delegate,sel_getUid("applicationWillFinishLaunching:"),CPApplicationWillFinishLaunchingNotification,_10);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationDidFinishLaunching:"))){
objj_msgSend(_13,"addObserver:selector:name:object:",_delegate,sel_getUid("applicationDidFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,_10);
}
}
}),new objj_method(sel_getUid("delegate"),function(_14,_15){
with(_14){
return _delegate;
}
}),new objj_method(sel_getUid("finishLaunching"),function(_16,_17){
with(_16){
window.status=" ";
objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");
var _18=objj_msgSend(CPBundle,"mainBundle"),_19=objj_msgSend(_18,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
if(objj_msgSend(_19,"count")>0){
_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController");
}
var _1a=objj_msgSend(_18,"objectForInfoDictionaryKey:","CPApplicationDelegateClass");
if(_1a){
var _1b=objj_getClass(_1a);
if(_1b){
if(objj_msgSend(_documentController,"class")==_1b){
objj_msgSend(_16,"setDelegate:",_documentController);
}else{
objj_msgSend(_16,"setDelegate:",objj_msgSend(objj_msgSend(_1b,"alloc"),"init"));
}
}
}
var _1c=objj_msgSend(CPNotificationCenter,"defaultCenter");
objj_msgSend(_1c,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,_16);
var _1d=!!_documentController,_1e=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),_1f=0,_20=objj_msgSend(_1e,"count");
for(;_1f<_20;++_1f){
_1d=!objj_msgSend(_16,"_openURL:",objj_msgSend(CPURL,"URLWithString:",_1e[_1f]))||_1d;
}
if(_1d&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))){
_1d=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",_16);
}
if(_1d){
objj_msgSend(_documentController,"newDocument:",_16);
}
objj_msgSend(_documentController,"_updateRecentDocumentsMenu");
objj_msgSend(_1c,"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,_16);
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
_finishedLaunching=YES;
}
}),new objj_method(sel_getUid("terminate:"),function(_21,_22,_23){
with(_21){
if(!objj_msgSend(CPPlatform,"isBrowser")){
objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",_21,sel_getUid("_documentController:didCloseAll:context:"),nil);
}else{
objj_msgSend(objj_msgSend(objj_msgSend(_21,"keyWindow"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
}
}),new objj_method(sel_getUid("setApplicationIconImage:"),function(_24,_25,_26){
with(_24){
_applicationIconImage=_26;
}
}),new objj_method(sel_getUid("applicationIconImage"),function(_27,_28){
with(_27){
if(_applicationIconImage){
return _applicationIconImage;
}
var _29=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon");
if(_29){
_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",_29);
}
return _applicationIconImage;
}
}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(_2a,_2b,_2c){
with(_2a){
objj_msgSend(_2a,"orderFrontStandardAboutPanelWithOptions:",nil);
}
}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(_2d,_2e,_2f){
with(_2d){
if(!_aboutPanel){
var _30=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),_31=objj_msgSend(_2f,"objectForKey:","ApplicationName")||objj_msgSend(_30,"objectForKey:","CPBundleName"),_32=objj_msgSend(_2f,"objectForKey:","ApplicationIcon")||objj_msgSend(_2d,"applicationIconImage"),_33=objj_msgSend(_2f,"objectForKey:","Version")||objj_msgSend(_30,"objectForKey:","CPBundleVersion"),_34=objj_msgSend(_2f,"objectForKey:","ApplicationVersion")||objj_msgSend(_30,"objectForKey:","CPBundleShortVersionString"),_35=objj_msgSend(_2f,"objectForKey:","Copyright")||objj_msgSend(_30,"objectForKey:","CPHumanReadableCopyright");
var _36=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindowCibName:","AboutPanel"),_37=objj_msgSend(_36,"window"),_38=objj_msgSend(_37,"contentView"),_39=objj_msgSend(_38,"viewWithTag:",1),_3a=objj_msgSend(_38,"viewWithTag:",2),_3b=objj_msgSend(_38,"viewWithTag:",3),_3c=objj_msgSend(_38,"viewWithTag:",4),_3d=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_2d,"class")),"pathForResource:","standardApplicationIcon.png");
objj_msgSend(_3a,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));
objj_msgSend(_3a,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_3b,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_3c,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_39,"setImage:",_32||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",_3d,CGSizeMake(256,256)));
objj_msgSend(_3a,"setStringValue:",_31||"");
if(_33&&_34){
objj_msgSend(_3b,"setStringValue:",sprintf("Version %@ (%@)",_34,_33));
}else{
if(_34||_33){
objj_msgSend(_3b,"setStringValue:",sprintf("Version %@",_34||_33));
}else{
objj_msgSend(_3b,"setStringValue:","");
}
}
objj_msgSend(_3c,"setStringValue:",_35||"");
objj_msgSend(_37,"center");
_aboutPanel=_37;
}
objj_msgSend(_aboutPanel,"orderFront:",_2d);
}
}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(_3e,_3f,_40,_41,_42){
with(_3e){
if(_41){
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))){
objj_msgSend(_3e,"replyToApplicationShouldTerminate:",objj_msgSend(_delegate,"applicationShouldTerminate:",_3e));
}else{
objj_msgSend(_3e,"replyToApplicationShouldTerminate:",YES);
}
}
}
}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(_43,_44,_45){
with(_43){
if(_45==CPTerminateNow){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,_43);
objj_msgSend(CPPlatform,"terminateApplication");
}
}
}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(_46,_47,_48){
with(_46){
objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",_48);
}
}),new objj_method(sel_getUid("hideOtherApplications:"),function(_49,_4a,_4b){
with(_49){
objj_msgSend(CPPlatform,"hideOtherApplications:",_49);
}
}),new objj_method(sel_getUid("run"),function(_4c,_4d){
with(_4c){
objj_msgSend(_4c,"finishLaunching");
}
}),new objj_method(sel_getUid("runModalForWindow:"),function(_4e,_4f,_50){
with(_4e){
objj_msgSend(_4e,"runModalSession:",objj_msgSend(_4e,"beginModalSessionForWindow:",_50));
}
}),new objj_method(sel_getUid("stopModalWithCode:"),function(_51,_52,_53){
with(_51){
if(!_currentSession){
return;
}
_currentSession._state=_53;
_currentSession=_currentSession._previous;
objj_msgSend(_51,"_removeRunModalLoop");
}
}),new objj_method(sel_getUid("_removeRunModalLoop"),function(_54,_55){
with(_54){
var _56=_eventListeners.length;
while(_56--){
if(_eventListeners[_56]._callback===_57){
_eventListeners.splice(_56,1);
return;
}
}
}
}),new objj_method(sel_getUid("stopModal"),function(_58,_59){
with(_58){
objj_msgSend(_58,"stopModalWithCode:",CPRunStoppedResponse);
}
}),new objj_method(sel_getUid("abortModal"),function(_5a,_5b){
with(_5a){
objj_msgSend(_5a,"stopModalWithCode:",CPRunAbortedResponse);
}
}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(_5c,_5d,_5e){
with(_5c){
return _5f(_5e,0);
}
}),new objj_method(sel_getUid("runModalSession:"),function(_60,_61,_62){
with(_60){
_62._previous=_currentSession;
_currentSession=_62;
var _63=_62._window;
objj_msgSend(_63,"center");
objj_msgSend(_63,"makeKeyAndOrderFront:",_60);
objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_57,CPAnyEventMask,nil,0,NO);
}
}),new objj_method(sel_getUid("modalWindow"),function(_64,_65){
with(_64){
if(!_currentSession){
return nil;
}
return _currentSession._window;
}
}),new objj_method(sel_getUid("_handleKeyEquivalent:"),function(_66,_67,_68){
with(_66){
return objj_msgSend(objj_msgSend(_66,"keyWindow"),"performKeyEquivalent:",_68)||objj_msgSend(_mainMenu,"performKeyEquivalent:",_68);
}
}),new objj_method(sel_getUid("sendEvent:"),function(_69,_6a,_6b){
with(_69){
_currentEvent=_6b;
var _6c=objj_msgSend(objj_msgSend(objj_msgSend(_6b,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");
objj_msgSend(objj_msgSend(objj_msgSend(_6b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);
if(objj_msgSend(_6b,"_couldBeKeyEquivalent")&&objj_msgSend(_69,"_handleKeyEquivalent:",_6b)){
var _6d=objj_msgSend(_6b,"characters"),_6e=objj_msgSend(_6b,"modifierFlags");
if((_6d=="c"||_6d=="x"||_6d=="v")&&(_6e&CPPlatformActionKeyMask)){
objj_msgSend(objj_msgSend(objj_msgSend(_6b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
return;
}
objj_msgSend(objj_msgSend(objj_msgSend(_6b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",_6c);
if(_eventListeners.length){
if(_eventListeners[_eventListeners.length-1]._mask&(1<<objj_msgSend(_6b,"type"))){
_eventListeners.pop()._callback(_6b);
}
return;
}
objj_msgSend(objj_msgSend(_6b,"window"),"sendEvent:",_6b);
}
}),new objj_method(sel_getUid("doCommandBySelector:"),function(_6f,_70,_71){
with(_6f){
if(objj_msgSend(_delegate,"respondsToSelector:",_71)){
objj_msgSend(_delegate,"performSelector:",_71);
}else{
objj_msgSendSuper({receiver:_6f,super_class:objj_getClass("CPResponder")},"doCommandBySelector:",_71);
}
}
}),new objj_method(sel_getUid("keyWindow"),function(_72,_73){
with(_72){
return _keyWindow;
}
}),new objj_method(sel_getUid("mainWindow"),function(_74,_75){
with(_74){
return _mainWindow;
}
}),new objj_method(sel_getUid("windowWithWindowNumber:"),function(_76,_77,_78){
with(_76){
return _windows[_78];
}
}),new objj_method(sel_getUid("windows"),function(_79,_7a){
with(_79){
return _windows;
}
}),new objj_method(sel_getUid("hide:"),function(_7b,_7c,_7d){
with(_7b){
objj_msgSend(CPPlatform,"hide:",_7b);
}
}),new objj_method(sel_getUid("mainMenu"),function(_7e,_7f){
with(_7e){
return _mainMenu;
}
}),new objj_method(sel_getUid("setMainMenu:"),function(_80,_81,_82){
with(_80){
if(objj_msgSend(_82,"_menuName")==="CPMainMenu"){
if(_mainMenu===_82){
return;
}
_mainMenu=_82;
if(objj_msgSend(CPPlatform,"supportsNativeMainMenu")){
window.cpSetMainMenu(_mainMenu);
}
}else{
objj_msgSend(_82,"_setMenuName:","CPMainMenu");
}
}
}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(_83,_84,_85){
with(_83){
objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",_83);
}
}),new objj_method(sel_getUid("tryToPerform:with:"),function(_86,_87,_88,_89){
with(_86){
if(!_88){
return NO;
}
if(objj_msgSendSuper({receiver:_86,super_class:objj_getClass("CPResponder")},"tryToPerform:with:",_88,_89)){
return YES;
}
if(objj_msgSend(_delegate,"respondsToSelector:",_88)){
objj_msgSend(_delegate,"performSelector:withObject:",_88,_89);
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("sendAction:to:from:"),function(_8a,_8b,_8c,_8d,_8e){
with(_8a){
var _8f=objj_msgSend(_8a,"targetForAction:to:from:",_8c,_8d,_8e);
if(!_8f){
return NO;
}
objj_msgSend(_8f,"performSelector:withObject:",_8c,_8e);
return YES;
}
}),new objj_method(sel_getUid("targetForAction:to:from:"),function(_90,_91,_92,_93,_94){
with(_90){
if(!_92){
return nil;
}
if(_93){
return _93;
}
return objj_msgSend(_90,"targetForAction:",_92);
}
}),new objj_method(sel_getUid("_targetForWindow:action:"),function(_95,_96,_97,_98){
with(_95){
var _99=objj_msgSend(_97,"firstResponder"),_9a=YES;
while(_99){
if(objj_msgSend(_99,"respondsToSelector:",_98)){
return _99;
}
if(_99==_97){
_9a=NO;
}
_99=objj_msgSend(_99,"nextResponder");
}
if(_9a&&objj_msgSend(_97,"respondsToSelector:",_98)){
return _97;
}
var _9b=objj_msgSend(_97,"delegate");
if(objj_msgSend(_9b,"respondsToSelector:",_98)){
return _9b;
}
var _9c=objj_msgSend(_97,"windowController");
if(objj_msgSend(_9c,"respondsToSelector:",_98)){
return _9c;
}
var _9d=objj_msgSend(_9c,"document");
if(_9d!=_9b&&objj_msgSend(_9d,"respondsToSelector:",_98)){
return _9d;
}
return nil;
}
}),new objj_method(sel_getUid("targetForAction:"),function(_9e,_9f,_a0){
with(_9e){
if(!_a0){
return nil;
}
var _a1=objj_msgSend(_9e,"_targetForWindow:action:",objj_msgSend(_9e,"keyWindow"),_a0);
if(_a1){
return _a1;
}
_a1=objj_msgSend(_9e,"_targetForWindow:action:",objj_msgSend(_9e,"mainWindow"),_a0);
if(_a1){
return _a1;
}
if(objj_msgSend(_9e,"respondsToSelector:",_a0)){
return _9e;
}
if(objj_msgSend(_delegate,"respondsToSelector:",_a0)){
return _delegate;
}
if(objj_msgSend(_documentController,"respondsToSelector:",_a0)){
return _documentController;
}
return nil;
}
}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(_a2,_a3,_a4,_a5,_a6,_a7,_a8){
with(_a2){
_eventListeners.push(_a9(_a5,_a4));
if(_eventListeners.length==3){
objj_debug_print_backtrace();
}
}
}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(_aa,_ab,_ac,_ad,_ae,_af,_b0,_b1){
with(_aa){
_eventListeners.push(_a9(_ae,function(_b2){
objj_msgSend(_ac,_ad,_b2);
}));
}
}),new objj_method(sel_getUid("currentEvent"),function(_b3,_b4){
with(_b3){
return _currentEvent;
}
}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(_b5,_b6,_b7,_b8,_b9,_ba,_bb){
with(_b5){
var _bc=objj_msgSend(_b7,"styleMask");
if(!(_bc&CPDocModalWindowMask)){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return;
}
objj_msgSend(_b8,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",_b7,_b9,_ba,_bb);
}
}),new objj_method(sel_getUid("endSheet:returnCode:"),function(_bd,_be,_bf,_c0){
with(_bd){
var _c1=objj_msgSend(_windows,"count");
while(--_c1>=0){
var _c2=objj_msgSend(_windows,"objectAtIndex:",_c1);
var _c3=_c2._sheetContext;
if(_c3!=nil&&_c3["sheet"]===_bf){
_c3["returnCode"]=_c0;
objj_msgSend(_c2,"_detachSheetWindow");
return;
}
}
}
}),new objj_method(sel_getUid("endSheet:"),function(_c4,_c5,_c6){
with(_c4){
objj_msgSend(_c4,"endSheet:returnCode:",_c6,0);
}
}),new objj_method(sel_getUid("arguments"),function(_c7,_c8){
with(_c7){
if(_fullArgsString!=window.location.hash){
objj_msgSend(_c7,"_reloadArguments");
}
return _args;
}
}),new objj_method(sel_getUid("setArguments:"),function(_c9,_ca,_cb){
with(_c9){
if(!_cb||_cb.length==0){
_args=[];
window.location.hash="#";
return;
}
if(objj_msgSend(_cb,"class")!=CPArray){
_cb=objj_msgSend(CPArray,"arrayWithObject:",_cb);
}
_args=_cb;
var _cc=objj_msgSend(_args,"copy");
for(var i=0,_cd=_cc.length;i<_cd;i++){
_cc[i]=encodeURIComponent(_cc[i]);
}
var _ce=objj_msgSend(_cc,"componentsJoinedByString:","/");
window.location.hash="#"+_ce;
}
}),new objj_method(sel_getUid("_reloadArguments"),function(_cf,_d0){
with(_cf){
_fullArgsString=window.location.hash;
var _d1=_fullArgsString.replace("#","").split("/").slice(0);
for(var i=0,_d2=_d1.length;i<_d2;i++){
_d1[i]=decodeURIComponent(_d1[i]);
}
_args=_d1;
}
}),new objj_method(sel_getUid("namedArguments"),function(_d3,_d4){
with(_d3){
return _namedArgs;
}
}),new objj_method(sel_getUid("_openURL:"),function(_d5,_d6,_d7){
with(_d5){
if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:"))){
CPLog.warn("application:openFile: is deprecated, use application:openURL: instead.");
return objj_msgSend(_delegate,"application:openFile:",_d5,objj_msgSend(_d7,"absoluteString"));
}
if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:"))){
return objj_msgSend(_delegate,"application:openURL:",_d5,_d7);
}
return !!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",_d7,YES,NULL);
}
}),new objj_method(sel_getUid("_didResignActive"),function(_d8,_d9){
with(_d8){
if(_d8._activeMenu){
objj_msgSend(_d8._activeMenu,"cancelTracking");
}
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("sharedApplication"),function(_da,_db){
with(_da){
if(!CPApp){
CPApp=objj_msgSend(objj_msgSend(CPApplication,"alloc"),"init");
}
return CPApp;
}
})]);
var _5f=function(_dc,_dd){
return {_window:_dc,_state:CPRunContinuesResponse,_previous:nil};
};
var _a9=function(_de,_df){
return {_mask:_de,_callback:_df};
};
var _57=function(_e0){
objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_57,CPAnyEventMask,nil,0,NO);
var _e1=objj_msgSend(_e0,"window"),_e2=CPApp._currentSession;
if(_e1==_e2._window||objj_msgSend(_e1,"worksWhenModal")){
objj_msgSend(_e1,"sendEvent:",_e0);
}
};
CPApplicationMain=function(_e3,_e4){
var _e5=objj_msgSend(CPBundle,"mainBundle"),_e6=objj_msgSend(_e5,"principalClass");
if(!_e6){
_e6=objj_msgSend(CPApplication,"class");
}
objj_msgSend(_e6,"sharedApplication");
if(!_e3){
var _e3=objj_msgSend(CPApp,"arguments");
if(objj_msgSend(_e3,"containsObject:","debug")){
CPLogRegister(CPLogPopup);
}
}
if(!_e4){
var _e7=window.location.search.substring(1).split("&");
_e4=objj_msgSend(CPDictionary,"dictionary");
for(var i=0;i<_e7.length;i++){
var _e8=_e7[i].indexOf("=");
if(_e8==-1){
objj_msgSend(_e4,"setObject:forKey:","",_e7[i]);
}else{
objj_msgSend(_e4,"setObject:forKey:",_e7[i].substring(_e8+1),_e7[i].substring(0,_e8));
}
}
}
CPApp._args=_e3;
CPApp._namedArgs=_e4;
objj_msgSend(_CPAppBootstrapper,"performActions");
};
var _e9=nil;
var _3=objj_allocateClassPair(CPObject,"_CPAppBootstrapper"),_4=_3.isa;
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("actions"),function(_ea,_eb){
with(_ea){
return [sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")];
}
}),new objj_method(sel_getUid("performActions"),function(_ec,_ed){
with(_ec){
if(!_e9){
_e9=objj_msgSend(_ec,"actions");
}
while(_e9.length){
var _ee=_e9.shift();
if(objj_msgSend(_ec,_ee)){
return;
}
}
objj_msgSend(CPApp,"run");
}
}),new objj_method(sel_getUid("bootstrapPlatform"),function(_ef,_f0){
with(_ef){
return objj_msgSend(CPPlatform,"bootstrap");
}
}),new objj_method(sel_getUid("loadDefaultTheme"),function(_f1,_f2){
with(_f1){
var _f3=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:","Aristo.blend"));
objj_msgSend(_f3,"loadWithDelegate:",_f1);
return YES;
}
}),new objj_method(sel_getUid("blendDidFinishLoading:"),function(_f4,_f5,_f6){
with(_f4){
objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:","Aristo"));
objj_msgSend(_f4,"performActions");
}
}),new objj_method(sel_getUid("loadMainCibFile"),function(_f7,_f8){
with(_f7){
var _f9=objj_msgSend(CPBundle,"mainBundle"),_fa=objj_msgSend(_f9,"objectForInfoDictionaryKey:",_1)||objj_msgSend(_f9,"objectForInfoDictionaryKey:",_2);
if(_fa){
objj_msgSend(_f9,"loadCibFile:externalNameTable:loadDelegate:",_fa,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),_f7);
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(_fb,_fc,_fd){
with(_fb){
objj_msgSend(_fb,"performActions");
}
}),new objj_method(sel_getUid("reset"),function(_fe,_ff){
with(_fe){
_e9=nil;
}
})]);
p;14;CPBezierPath.jI;26;AppKit/CPGraphicsContext.jI;21;Foundation/CPObject.jc;4365;
var _1=1;
var _2=objj_allocateClassPair(CPObject,"CPBezierPath"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_path"),new objj_ivar("_lineWidth")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("init"),function(_4,_5){
with(_4){
if(_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init")){
_path=CGPathCreateMutable();
_lineWidth=objj_msgSend(objj_msgSend(_4,"class"),"defaultLineWidth");
}
return _4;
}
}),new objj_method(sel_getUid("moveToPoint:"),function(_6,_7,_8){
with(_6){
CGPathMoveToPoint(_path,nil,_8.x,_8.y);
}
}),new objj_method(sel_getUid("lineToPoint:"),function(_9,_a,_b){
with(_9){
CGPathAddLineToPoint(_path,nil,_b.x,_b.y);
}
}),new objj_method(sel_getUid("curveToPoint:controlPoint1:controlPoint2:"),function(_c,_d,_e,_f,_10){
with(_c){
CGPathAddCurveToPoint(_path,nil,_f.x,_f.y,_10.x,_10.y,_e.x,_e.y);
}
}),new objj_method(sel_getUid("closePath"),function(_11,_12){
with(_11){
CGPathCloseSubpath(_path);
}
}),new objj_method(sel_getUid("stroke"),function(_13,_14){
with(_13){
var ctx=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextBeginPath(ctx);
CGContextAddPath(ctx,_path);
CGContextSetLineWidth(ctx,objj_msgSend(_13,"lineWidth"));
CGContextClosePath(ctx);
CGContextStrokePath(ctx);
}
}),new objj_method(sel_getUid("fill"),function(_15,_16){
with(_15){
var ctx=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextBeginPath(ctx);
CGContextAddPath(ctx,_path);
CGContextSetLineWidth(ctx,objj_msgSend(_15,"lineWidth"));
CGContextClosePath(ctx);
CGContextFillPath(ctx);
}
}),new objj_method(sel_getUid("lineWidth"),function(_17,_18){
with(_17){
return _lineWidth;
}
}),new objj_method(sel_getUid("setLineWidth:"),function(_19,_1a,_1b){
with(_19){
_lineWidth=_1b;
}
}),new objj_method(sel_getUid("elementCount"),function(_1c,_1d){
with(_1c){
return _path.count;
}
}),new objj_method(sel_getUid("isEmpty"),function(_1e,_1f){
with(_1e){
return CGPathIsEmpty(_path);
}
}),new objj_method(sel_getUid("currentPoint"),function(_20,_21){
with(_20){
return CGPathGetCurrentPoint(_path);
}
}),new objj_method(sel_getUid("appendBezierPathWithPoints:count:"),function(_22,_23,_24,_25){
with(_22){
CGPathAddLines(_path,nil,_24,_25);
}
}),new objj_method(sel_getUid("appendBezierPathWithRect:"),function(_26,_27,_28){
with(_26){
CGPathAddRect(_path,nil,_28);
}
}),new objj_method(sel_getUid("appendBezierPathWithOvalInRect:"),function(_29,_2a,_2b){
with(_29){
CGPathAddPath(_path,nil,CGPathWithEllipseInRect(_2b));
}
}),new objj_method(sel_getUid("appendBezierPathWithRoundedRect:xRadius:yRadius:"),function(_2c,_2d,_2e,_2f,_30){
with(_2c){
CGPathAddPath(_path,nil,CGPathWithRoundedRectangleInRect(_2e,_2f,_30,YES,YES,YES,YES));
}
}),new objj_method(sel_getUid("appendBezierPath:"),function(_31,_32,_33){
with(_31){
CGPathAddPath(_path,nil,_33._path);
}
}),new objj_method(sel_getUid("removeAllPoints"),function(_34,_35){
with(_34){
_path=CGPathCreateMutable();
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("bezierPath"),function(_36,_37){
with(_36){
return objj_msgSend(objj_msgSend(_36,"alloc"),"init");
}
}),new objj_method(sel_getUid("bezierPathWithOvalInRect:"),function(_38,_39,_3a){
with(_38){
var _3b=objj_msgSend(_38,"bezierPath");
objj_msgSend(_3b,"appendBezierPathWithOvalInRect:",_3a);
return _3b;
}
}),new objj_method(sel_getUid("bezierPathWithRect:"),function(_3c,_3d,_3e){
with(_3c){
var _3f=objj_msgSend(_3c,"bezierPath");
objj_msgSend(_3f,"appendBezierPathWithRect:",_3e);
return _3f;
}
}),new objj_method(sel_getUid("defaultLineWidth"),function(_40,_41){
with(_40){
return _1;
}
}),new objj_method(sel_getUid("setDefaultLineWidth:"),function(_42,_43,_44){
with(_42){
_1=_44;
}
}),new objj_method(sel_getUid("fillRect:"),function(_45,_46,_47){
with(_45){
objj_msgSend(objj_msgSend(_45,"bezierPathWithRect:",_47),"fill");
}
}),new objj_method(sel_getUid("strokeRect:"),function(_48,_49,_4a){
with(_48){
objj_msgSend(objj_msgSend(_48,"bezierPathWithRect:",_4a),"stroke");
}
}),new objj_method(sel_getUid("strokeLineFromPoint:toPoint:"),function(_4b,_4c,_4d,_4e){
with(_4b){
var _4f=objj_msgSend(_4b,"bezierPath");
objj_msgSend(_4f,"moveToPoint:",_4d);
objj_msgSend(_4f,"lineToPoint:",_4e);
objj_msgSend(_4f,"stroke");
}
})]);
p;7;CPBox.ji;8;CPView.jc;5852;
CPNoBorder=0;
CPLineBorder=1;
CPBezelBorder=2;
CPGrooveBorder=3;
var _1=objj_allocateClassPair(CPView,"CPBox"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_borderType"),new objj_ivar("_borderColor"),new objj_ivar("_fillColor"),new objj_ivar("_cornerRadius"),new objj_ivar("_borderWidth"),new objj_ivar("_contentMargin"),new objj_ivar("_contentView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPView")},"initWithFrame:",_5);
if(_3){
_fillColor=objj_msgSend(CPColor,"clearColor");
_borderColor=objj_msgSend(CPColor,"blackColor");
_borderWidth=1;
_contentMargin=CGSizeMake(0,0);
_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",objj_msgSend(_3,"bounds"));
objj_msgSend(_3,"addSubview:",_contentView);
}
return _3;
}
}),new objj_method(sel_getUid("borderRect"),function(_6,_7){
with(_6){
return objj_msgSend(_6,"bounds");
}
}),new objj_method(sel_getUid("borderType"),function(_8,_9){
with(_8){
return _borderType;
}
}),new objj_method(sel_getUid("setBorderType:"),function(_a,_b,_c){
with(_a){
_borderType=_c;
objj_msgSend(_a,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("borderColor"),function(_d,_e){
with(_d){
return _borderColor;
}
}),new objj_method(sel_getUid("setBorderColor:"),function(_f,_10,_11){
with(_f){
if(objj_msgSend(_11,"isEqual:",_borderColor)){
return;
}
_borderColor=_11;
objj_msgSend(_f,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("borderWidth"),function(_12,_13){
with(_12){
return _borderWidth;
}
}),new objj_method(sel_getUid("setBorderWidth:"),function(_14,_15,_16){
with(_14){
if(_16===_borderWidth){
return;
}
_borderWidth=_16;
objj_msgSend(_14,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("cornerRadius"),function(_17,_18){
with(_17){
return _cornerRadius;
}
}),new objj_method(sel_getUid("setCornerRadius:"),function(_19,_1a,_1b){
with(_19){
if(_1b===_cornerRadius){
return;
}
_cornerRadius=_1b;
objj_msgSend(_19,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("fillColor"),function(_1c,_1d){
with(_1c){
return _fillColor;
}
}),new objj_method(sel_getUid("setFillColor:"),function(_1e,_1f,_20){
with(_1e){
if(objj_msgSend(_20,"isEqual:",_fillColor)){
return;
}
_fillColor=_20;
objj_msgSend(_1e,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("contentView"),function(_21,_22){
with(_21){
return _contentView;
}
}),new objj_method(sel_getUid("setContentView:"),function(_23,_24,_25){
with(_23){
if(_25===_contentView){
return;
}
objj_msgSend(_25,"setFrame:",CGRectInset(objj_msgSend(_23,"bounds"),_contentMargin.width+_borderWidth,_contentMargin.height+_borderWidth));
objj_msgSend(_23,"replaceSubview:with:",_contentView,_25);
_contentView=_25;
}
}),new objj_method(sel_getUid("contentViewMargins"),function(_26,_27){
with(_26){
return _contentMargin;
}
}),new objj_method(sel_getUid("setContentViewMargins:"),function(_28,_29,_2a){
with(_28){
if(_2a.width<0||_2a.height<0){
objj_msgSend(CPException,"raise:reason:",CPGenericException,"Margins must be positive");
}
_contentMargin=CGSizeMakeCopy(_2a);
objj_msgSend(_28,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("setFrameFromContentFrame:"),function(_2b,_2c,_2d){
with(_2b){
objj_msgSend(_2b,"setFrame:",CGRectInset(_2d,-(_contentMargin.width+_borderWidth),-(_contentMargin.height+_borderWidth)));
objj_msgSend(_2b,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("sizeToFit"),function(_2e,_2f){
with(_2e){
var _30=objj_msgSend(_contentView,"frame");
objj_msgSend(_2e,"setFrameSize:",CGSizeMake(_30.size.width+_contentMargin.width*2,_30.size.height+_contentMargin.height*2));
objj_msgSend(_contentView,"setFrameOrigin:",CGPointMake(_contentMargin.width,_contentMargin.height));
}
}),new objj_method(sel_getUid("drawRect:"),function(_31,_32,_33){
with(_31){
var _34=objj_msgSend(_31,"bounds"),_35=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_36=_borderWidth/2,_37=CGRectMake(_34.origin.x+_36,_34.origin.y+_36,_34.size.width-_borderWidth,_34.size.height-_borderWidth),_38=CGRectMake(_34.origin.x+_36,_34.origin.y+_36,_34.size.width-_borderWidth,_34.size.height-_borderWidth);
CGContextSetFillColor(_35,objj_msgSend(_31,"fillColor"));
CGContextSetStrokeColor(_35,objj_msgSend(_31,"borderColor"));
CGContextSetLineWidth(_35,_borderWidth);
switch(_borderType){
case CPLineBorder:
CGContextFillRoundedRectangleInRect(_35,_38,_cornerRadius,YES,YES,YES,YES);
CGContextStrokeRoundedRectangleInRect(_35,_37,_cornerRadius,YES,YES,YES,YES);
break;
case CPBezelBorder:
CGContextFillRoundedRectangleInRect(_35,_38,_cornerRadius,YES,YES,YES,YES);
CGContextSetStrokeColor(_35,objj_msgSend(CPColor,"colorWithWhite:alpha:",190/255,1));
CGContextBeginPath(_35);
CGContextMoveToPoint(_35,_37.origin.x,_37.origin.y);
CGContextAddLineToPoint(_35,CGRectGetMinX(_37),CGRectGetMaxY(_37)),CGContextAddLineToPoint(_35,CGRectGetMaxX(_37),CGRectGetMaxY(_37)),CGContextAddLineToPoint(_35,CGRectGetMaxX(_37),CGRectGetMinY(_37)),CGContextStrokePath(_35);
CGContextSetStrokeColor(_35,objj_msgSend(CPColor,"colorWithWhite:alpha:",142/255,1));
CGContextBeginPath(_35);
CGContextMoveToPoint(_35,_34.origin.x,_37.origin.y);
CGContextAddLineToPoint(_35,CGRectGetMaxX(_34),CGRectGetMinY(_37));
CGContextStrokePath(_35);
break;
default:
break;
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("boxEnclosingView:"),function(_39,_3a,_3b){
with(_39){
var box=objj_msgSend(objj_msgSend(_39,"alloc"),"initWithFrame:",CGRectMakeZero()),_3c=objj_msgSend(_3b,"superview");
objj_msgSend(box,"setFrameFromContentFrame:",objj_msgSend(_3b,"frame"));
objj_msgSend(_3c,"replaceSubview:with:",_3b,box);
objj_msgSend(box,"setContentView:",_3b);
return box;
}
})]);
p;10;CPButton.ji;21;_CPImageAndTextView.ji;12;CGGeometry.ji;11;CPControl.jc;15916;
CPScaleProportionally=0;
CPScaleToFit=1;
CPScaleNone=2;
CPNoImage=0;
CPImageOnly=1;
CPImageLeft=2;
CPImageRight=3;
CPImageBelow=4;
CPImageAbove=5;
CPImageOverlaps=6;
CPOnState=1;
CPOffState=0;
CPMixedState=-1;
CPRoundedBezelStyle=1;
CPRegularSquareBezelStyle=2;
CPThickSquareBezelStyle=3;
CPThickerSquareBezelStyle=4;
CPDisclosureBezelStyle=5;
CPShadowlessSquareBezelStyle=6;
CPCircularBezelStyle=7;
CPTexturedSquareBezelStyle=8;
CPHelpButtonBezelStyle=9;
CPSmallSquareBezelStyle=10;
CPTexturedRoundedBezelStyle=11;
CPRoundRectBezelStyle=12;
CPRecessedBezelStyle=13;
CPRoundedDisclosureBezelStyle=14;
CPHUDBezelStyle=-1;
CPMomentaryLightButton=0;
CPPushOnPushOffButton=1;
CPToggleButton=2;
CPSwitchButton=3;
CPRadioButton=4;
CPMomentaryChangeButton=5;
CPOnOffButton=6;
CPMomentaryPushInButton=7;
CPMomentaryPushButton=0;
CPMomentaryLight=7;
CPNoButtonMask=0;
CPContentsButtonMask=1;
CPPushInButtonMask=2;
CPGrayButtonMask=4;
CPBackgroundButtonMask=8;
CPNoCellMask=CPNoButtonMask;
CPContentsCellMask=CPContentsButtonMask;
CPPushInCellMask=CPPushInButtonMask;
CPChangeGrayCellMask=CPGrayButtonMask;
CPChangeBackgroundCellMask=CPBackgroundButtonMask;
CPButtonStateMixed=CPThemeState("mixed");
var _1=objj_allocateClassPair(CPControl,"CPButton"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_allowsMixedState"),new objj_ivar("_title"),new objj_ivar("_alternateTitle"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_showsStateBy"),new objj_ivar("_highlightsBy"),new objj_ivar("_imageDimsWhenDisabled"),new objj_ivar("_bezelStyle"),new objj_ivar("_controlSize")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPControl")},"initWithFrame:",_5);
if(_3){
objj_msgSend(_3,"setValue:forThemeAttribute:",CPCenterTextAlignment,"alignment");
objj_msgSend(_3,"setValue:forThemeAttribute:",CPCenterVerticalTextAlignment,"vertical-alignment");
objj_msgSend(_3,"setValue:forThemeAttribute:",CPImageLeft,"image-position");
objj_msgSend(_3,"setValue:forThemeAttribute:",CPScaleNone,"image-scaling");
_controlSize=CPRegularControlSize;
objj_msgSend(_3,"setBordered:",YES);
}
return _3;
}
}),new objj_method(sel_getUid("allowsMixedState"),function(_6,_7){
with(_6){
return _allowsMixedState;
}
}),new objj_method(sel_getUid("setAllowsMixedState:"),function(_8,_9,_a){
with(_8){
_a=!!_a;
if(_allowsMixedState===_a){
return;
}
_allowsMixedState=_a;
if(!_allowsMixedState&&objj_msgSend(_8,"state")===CPMixedState){
objj_msgSend(_8,"setState:",CPOnState);
}
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_b,_c,_d){
with(_b){
if(!_d||_d===""||(objj_msgSend(_d,"intValue")===0)){
_d=CPOffState;
}else{
if(!objj_msgSend(_d,"isKindOfClass:",objj_msgSend(CPNumber,"class"))){
_d=CPOnState;
}else{
if(_d>CPOnState){
_d=CPOnState;
}else{
if(_d<CPOffState){
if(objj_msgSend(_b,"allowsMixedState")){
_d=CPMixedState;
}else{
_d=CPOnState;
}
}
}
}
}
objj_msgSendSuper({receiver:_b,super_class:objj_getClass("CPControl")},"setObjectValue:",_d);
switch(objj_msgSend(_b,"objectValue")){
case CPMixedState:
objj_msgSend(_b,"unsetThemeState:",CPThemeStateSelected);
objj_msgSend(_b,"setThemeState:",CPButtonStateMixed);
break;
case CPOnState:
objj_msgSend(_b,"unsetThemeState:",CPButtonStateMixed);
objj_msgSend(_b,"setThemeState:",CPThemeStateSelected);
break;
case CPOffState:
objj_msgSend(_b,"unsetThemeState:",CPThemeStateSelected|CPButtonStateMixed);
}
}
}),new objj_method(sel_getUid("nextState"),function(_e,_f){
with(_e){
if(objj_msgSend(_e,"allowsMixedState")){
var _10=objj_msgSend(_e,"state");
return _10-((_10===-1)?-2:1);
}
return 1-objj_msgSend(_e,"state");
}
}),new objj_method(sel_getUid("setNextState"),function(_11,_12){
with(_11){
objj_msgSend(_11,"setState:",objj_msgSend(_11,"nextState"));
}
}),new objj_method(sel_getUid("setState:"),function(_13,_14,_15){
with(_13){
objj_msgSend(_13,"setIntValue:",_15);
}
}),new objj_method(sel_getUid("state"),function(_16,_17){
with(_16){
return objj_msgSend(_16,"intValue");
}
}),new objj_method(sel_getUid("setTitle:"),function(_18,_19,_1a){
with(_18){
if(_title===_1a){
return;
}
_title=_1a;
objj_msgSend(_18,"setNeedsLayout");
objj_msgSend(_18,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("title"),function(_1b,_1c){
with(_1b){
return _title;
}
}),new objj_method(sel_getUid("setAlternateTitle:"),function(_1d,_1e,_1f){
with(_1d){
if(_alternateTitle===_1f){
return;
}
_alternateTitle=_1f;
objj_msgSend(_1d,"setNeedsLayout");
objj_msgSend(_1d,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("alternateTitle"),function(_20,_21){
with(_20){
return _alternateTitle;
}
}),new objj_method(sel_getUid("setImage:"),function(_22,_23,_24){
with(_22){
if(_image===_24){
return;
}
_image=_24;
objj_msgSend(_22,"setNeedsLayout");
objj_msgSend(_22,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("image"),function(_25,_26){
with(_25){
return _image;
}
}),new objj_method(sel_getUid("setAlternateImage:"),function(_27,_28,_29){
with(_27){
if(_alternateImage===_29){
return;
}
_alternateImage=_29;
objj_msgSend(_27,"setNeedsLayout");
objj_msgSend(_27,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("alternateImage"),function(_2a,_2b){
with(_2a){
return _alternateImage;
}
}),new objj_method(sel_getUid("setShowsStateBy:"),function(_2c,_2d,_2e){
with(_2c){
if(_showsStateBy===_2e){
return;
}
_showsStateBy=_2e;
objj_msgSend(_2c,"setNeedsDisplay:",YES);
objj_msgSend(_2c,"setNeedsLayout");
}
}),new objj_method(sel_getUid("showsStateBy"),function(_2f,_30){
with(_2f){
return _showsStateBy;
}
}),new objj_method(sel_getUid("setHighlightsBy:"),function(_31,_32,_33){
with(_31){
if(_highlightsBy===_33){
return;
}
_highlightsBy=_33;
if(objj_msgSend(_31,"hasThemeState:",CPThemeStateHighlighted)){
objj_msgSend(_31,"setNeedsDisplay:",YES);
objj_msgSend(_31,"setNeedsLayout");
}
}
}),new objj_method(sel_getUid("setButtonType:"),function(_34,_35,_36){
with(_34){
switch(_36){
case CPMomentaryLightButton:
objj_msgSend(_34,"setHighlightsBy:",CPChangeBackgroundCellMask);
objj_msgSend(_34,"setShowsStateBy:",CPNoCellMask);
break;
case CPMomentaryPushInButton:
objj_msgSend(_34,"setHighlightsBy:",CPPushInCellMask|CPChangeGrayCellMask);
objj_msgSend(_34,"setShowsStateBy:",CPNoCellMask);
break;
case CPMomentaryChangeButton:
objj_msgSend(_34,"setHighlightsBy:",CPContentsCellMask);
objj_msgSend(_34,"setShowsStateBy:",CPNoCellMask);
break;
case CPPushOnPushOffButton:
objj_msgSend(_34,"setHighlightsBy:",CPPushInCellMask|CPChangeGrayCellMask);
objj_msgSend(_34,"setShowsStateBy:",CPChangeBackgroundCellMask);
break;
case CPOnOffButton:
objj_msgSend(_34,"setHighlightsBy:",CPChangeBackgroundCellMask);
objj_msgSend(_34,"setShowsStateBy:",CPChangeBackgroundCellMask);
break;
case CPToggleButton:
objj_msgSend(_34,"setHighlightsBy:",CPPushInCellMask|CPContentsCellMask);
objj_msgSend(_34,"setShowsStateBy:",CPContentsCellMask);
break;
case CPSwitchButton:
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"The CPSwitchButton type is not supported in Cappuccino, use the CPCheckBox class instead.");
case CPRadioButton:
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"The CPRadioButton type is not supported in Cappuccino, use the CPRadio class instead.");
default:
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unknown button type.");
}
objj_msgSend(_34,"setImageDimsWhenDisabled:",YES);
}
}),new objj_method(sel_getUid("setImageDimsWhenDisabled:"),function(_37,_38,_39){
with(_37){
_39=!!_39;
if(_imageDimsWhenDisabled===_39){
return;
}
_imageDimsWhenDisabled=_39;
if(_imageDimsWhenDisabled){
objj_msgSend(_37,"setNeedsDisplay:",YES);
objj_msgSend(_37,"setNeedsLayout");
}
}
}),new objj_method(sel_getUid("imageDimsWhenDisabled"),function(_3a,_3b){
with(_3a){
return _imageDimsWhenDisabled;
}
}),new objj_method(sel_getUid("startTrackingAt:"),function(_3c,_3d,_3e){
with(_3c){
objj_msgSend(_3c,"highlight:",YES);
return objj_msgSendSuper({receiver:_3c,super_class:objj_getClass("CPControl")},"startTrackingAt:",_3e);
}
}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(_3f,_40,_41,_42,_43){
with(_3f){
objj_msgSend(_3f,"highlight:",NO);
objj_msgSendSuper({receiver:_3f,super_class:objj_getClass("CPControl")},"stopTracking:at:mouseIsUp:",_41,_42,_43);
if(_43&&CGRectContainsPoint(objj_msgSend(_3f,"bounds"),_42)){
objj_msgSend(_3f,"setNextState");
}
}
}),new objj_method(sel_getUid("contentRectForBounds:"),function(_44,_45,_46){
with(_44){
var _47=objj_msgSend(_44,"currentValueForThemeAttribute:","content-inset");
if(((_47).top===0&&(_47).right===0&&(_47).bottom===0&&(_47).left===0)){
return _46;
}
_46.origin.x+=_47.left;
_46.origin.y+=_47.top;
_46.size.width-=_47.left+_47.right;
_46.size.height-=_47.top+_47.bottom;
return _46;
}
}),new objj_method(sel_getUid("bezelRectForBounds:"),function(_48,_49,_4a){
with(_48){
if(!objj_msgSend(_48,"isBordered")){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
var _4b=objj_msgSend(_48,"currentValueForThemeAttribute:","bezel-inset");
if(((_4b).top===0&&(_4b).right===0&&(_4b).bottom===0&&(_4b).left===0)){
return _4a;
}
_4a.origin.x+=_4b.left;
_4a.origin.y+=_4b.top;
_4a.size.width-=_4b.left+_4b.right;
_4a.size.height-=_4b.top+_4b.bottom;
return _4a;
}
}),new objj_method(sel_getUid("sizeToFit"),function(_4c,_4d){
with(_4c){
var _4e=objj_msgSend((objj_msgSend(_4c,"title")||" "),"sizeWithFont:",objj_msgSend(_4c,"currentValueForThemeAttribute:","font")),_4f=objj_msgSend(_4c,"currentValueForThemeAttribute:","content-inset"),_50=objj_msgSend(_4c,"currentValueForThemeAttribute:","min-size"),_51=objj_msgSend(_4c,"currentValueForThemeAttribute:","max-size");
_4e.width=MAX(_4e.width+_4f.left+_4f.right,_50.width);
_4e.height=MAX(_4e.height+_4f.top+_4f.bottom,_50.height);
if(_51.width>=0){
_4e.width=MIN(_4e.width,_51.width);
}
if(_51.height>=0){
_4e.height=MIN(_4e.height,_51.height);
}
objj_msgSend(_4c,"setFrameSize:",_4e);
}
}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(_52,_53,_54){
with(_52){
if(_54==="bezel-view"){
return objj_msgSend(_52,"bezelRectForBounds:",objj_msgSend(_52,"bounds"));
}else{
if(_54==="content-view"){
return objj_msgSend(_52,"contentRectForBounds:",objj_msgSend(_52,"bounds"));
}
}
return objj_msgSendSuper({receiver:_52,super_class:objj_getClass("CPControl")},"rectForEphemeralSubviewNamed:",_54);
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(_55,_56,_57){
with(_55){
if(_57==="bezel-view"){
var _58=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
objj_msgSend(_58,"setHitTests:",NO);
return _58;
}else{
return objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
}
return objj_msgSendSuper({receiver:_55,super_class:objj_getClass("CPControl")},"createEphemeralSubviewNamed:",_57);
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_59,_5a){
with(_59){
var _5b=objj_msgSend(_59,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"content-view");
if(_5b){
objj_msgSend(_5b,"setBackgroundColor:",objj_msgSend(_59,"currentValueForThemeAttribute:","bezel-color"));
}
var _5c=objj_msgSend(_59,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","content-view",CPWindowAbove,"bezel-view");
if(_5c){
objj_msgSend(_5c,"setText:",(objj_msgSend(_59,"hasThemeState:",CPThemeStateHighlighted)&&_alternateTitle)?_alternateTitle:_title);
objj_msgSend(_5c,"setImage:",(objj_msgSend(_59,"hasThemeState:",CPThemeStateHighlighted)&&_alternateImage)?_alternateImage:_image);
objj_msgSend(_5c,"setFont:",objj_msgSend(_59,"currentValueForThemeAttribute:","font"));
objj_msgSend(_5c,"setTextColor:",objj_msgSend(_59,"currentValueForThemeAttribute:","text-color"));
objj_msgSend(_5c,"setAlignment:",objj_msgSend(_59,"currentValueForThemeAttribute:","alignment"));
objj_msgSend(_5c,"setVerticalAlignment:",objj_msgSend(_59,"currentValueForThemeAttribute:","vertical-alignment"));
objj_msgSend(_5c,"setLineBreakMode:",objj_msgSend(_59,"currentValueForThemeAttribute:","line-break-mode"));
objj_msgSend(_5c,"setTextShadowColor:",objj_msgSend(_59,"currentValueForThemeAttribute:","text-shadow-color"));
objj_msgSend(_5c,"setTextShadowOffset:",objj_msgSend(_59,"currentValueForThemeAttribute:","text-shadow-offset"));
objj_msgSend(_5c,"setImagePosition:",objj_msgSend(_59,"currentValueForThemeAttribute:","image-position"));
objj_msgSend(_5c,"setImageScaling:",objj_msgSend(_59,"currentValueForThemeAttribute:","image-scaling"));
}
}
}),new objj_method(sel_getUid("setDefaultButton:"),function(_5d,_5e,_5f){
with(_5d){
if(_5f){
objj_msgSend(_5d,"setThemeState:",CPThemeStateDefault);
}else{
objj_msgSend(_5d,"unsetThemeState:",CPThemeStateDefault);
}
}
}),new objj_method(sel_getUid("setBordered:"),function(_60,_61,_62){
with(_60){
if(_62){
objj_msgSend(_60,"setThemeState:",CPThemeStateBordered);
}else{
objj_msgSend(_60,"unsetThemeState:",CPThemeStateBordered);
}
}
}),new objj_method(sel_getUid("isBordered"),function(_63,_64){
with(_63){
return objj_msgSend(_63,"hasThemeState:",CPThemeStateBordered);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("buttonWithTitle:"),function(_65,_66,_67){
with(_65){
return objj_msgSend(_65,"buttonWithTitle:theme:",_67,objj_msgSend(CPTheme,"defaultTheme"));
}
}),new objj_method(sel_getUid("buttonWithTitle:theme:"),function(_68,_69,_6a,_6b){
with(_68){
var _6c=objj_msgSend(objj_msgSend(_68,"alloc"),"init");
objj_msgSend(_6c,"setTheme:",_6b);
objj_msgSend(_6c,"setTitle:",_6a);
objj_msgSend(_6c,"sizeToFit");
return _6c;
}
}),new objj_method(sel_getUid("themeClass"),function(_6d,_6e){
with(_6d){
return "button";
}
}),new objj_method(sel_getUid("themeAttributes"),function(_6f,_70){
with(_6f){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[{top:(0),right:(0),bottom:(0),left:(0)},{top:(0),right:(0),bottom:(0),left:(0)},nil],["bezel-inset","content-inset","bezel-color"]);
}
})]);
var _1=objj_getClass("CPButton");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPButton\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("setBezelStyle:"),function(_71,_72,_73){
with(_71){
}
}),new objj_method(sel_getUid("bezelStyle"),function(_74,_75){
with(_74){
}
})]);
var _76="CPButtonImageKey",_77="CPButtonAlternateImageKey",_78="CPButtonTitleKey",_79="CPButtonAlternateTitleKey",_7a="CPButtonIsBorderedKey";
var _1=objj_getClass("CPButton");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPButton\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_7b,_7c,_7d){
with(_7b){
_7b=objj_msgSendSuper({receiver:_7b,super_class:objj_getClass("CPControl")},"initWithCoder:",_7d);
if(_7b){
_controlSize=CPRegularControlSize;
objj_msgSend(_7b,"setImage:",objj_msgSend(_7d,"decodeObjectForKey:",_76));
objj_msgSend(_7b,"setAlternateImage:",objj_msgSend(_7d,"decodeObjectForKey:",_77));
objj_msgSend(_7b,"setTitle:",objj_msgSend(_7d,"decodeObjectForKey:",_78));
objj_msgSend(_7b,"setAlternateTitle:",objj_msgSend(_7d,"decodeObjectForKey:",_79));
objj_msgSend(_7b,"setNeedsLayout");
objj_msgSend(_7b,"setNeedsDisplay:",YES);
}
return _7b;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_7e,_7f,_80){
with(_7e){
objj_msgSendSuper({receiver:_7e,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_80);
objj_msgSend(_80,"encodeObject:forKey:",_image,_76);
objj_msgSend(_80,"encodeObject:forKey:",_alternateImage,_77);
objj_msgSend(_80,"encodeObject:forKey:",_title,_78);
objj_msgSend(_80,"encodeObject:forKey:",_alternateTitle,_79);
}
})]);
i;12;CPCheckBox.ji;9;CPRadio.jp;13;CPButtonBar.jI;15;AppKit/CPView.jc;1693;
var _1=objj_allocateClassPair(CPControl,"CPButtonBar"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(_3,_4,_5){
with(_3){
if(_5==="bezel-view"){
return objj_msgSend(_3,"bounds");
}
return objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPControl")},"rectForEphemeralSubviewNamed:",_5);
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(_6,_7,_8){
with(_6){
if(_8==="bezel-view"){
var _9=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
objj_msgSend(_9,"setHitTests:",NO);
return _9;
}
return objj_msgSendSuper({receiver:_6,super_class:objj_getClass("CPControl")},"createEphemeralSubviewNamed:",_8);
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_a,_b){
with(_a){
var _c=objj_msgSend(_a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"");
if(_c){
objj_msgSend(_c,"setBackgroundColor:",objj_msgSend(_a,"currentValueForThemeAttribute:","bezel-color"));
}
}
}),new objj_method(sel_getUid("addSubview:"),function(_d,_e,_f){
with(_d){
objj_msgSendSuper({receiver:_d,super_class:objj_getClass("CPControl")},"addSubview:",_f);
objj_msgSend(_f,"setAutoresizingMask:",CPViewMinXMargin);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("themeClass"),function(_10,_11){
with(_10){
return "button-bar";
}
}),new objj_method(sel_getUid("themeAttributes"),function(_12,_13){
with(_12){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[nil],["bezel-color"]);
}
})]);
p;12;CPCheckBox.ji;10;CPButton.jc;1040;
var _1=objj_allocateClassPair(CPButton,"CPCheckBox"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPButton")},"initWithFrame:",_5);
if(_3){
objj_msgSend(_3,"setHighlightsBy:",CPContentsCellMask);
objj_msgSend(_3,"setShowsStateBy:",CPContentsCellMask);
objj_msgSend(_3,"setImagePosition:",CPImageLeft);
objj_msgSend(_3,"setAlignment:",CPLeftTextAlignment);
objj_msgSend(_3,"setBordered:",YES);
}
return _3;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("checkBoxWithTitle:theme:"),function(_6,_7,_8,_9){
with(_6){
return objj_msgSend(_6,"buttonWithTitle:theme:",_8,_9);
}
}),new objj_method(sel_getUid("checkBoxWithTitle:"),function(_a,_b,_c){
with(_a){
return objj_msgSend(_a,"buttonWithTitle:",_c);
}
}),new objj_method(sel_getUid("themeClass"),function(_d,_e){
with(_d){
return "check-box";
}
})]);
p;12;CPClipView.ji;8;CPView.jc;4242;
var _1=objj_allocateClassPair(CPView,"CPClipView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_documentView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("setDocumentView:"),function(_3,_4,_5){
with(_3){
if(_documentView==_5){
return;
}
var _6=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_documentView){
objj_msgSend(_6,"removeObserver:name:object:",_3,CPViewFrameDidChangeNotification,_documentView);
objj_msgSend(_6,"removeObserver:name:object:",_3,CPViewBoundsDidChangeNotification,_documentView);
objj_msgSend(_documentView,"removeFromSuperview");
}
_documentView=_5;
if(_documentView){
objj_msgSend(_3,"addSubview:",_documentView);
objj_msgSend(_documentView,"setPostsFrameChangedNotifications:",YES);
objj_msgSend(_documentView,"setPostsBoundsChangedNotifications:",YES);
objj_msgSend(_6,"addObserver:selector:name:object:",_3,sel_getUid("viewFrameChanged:"),CPViewFrameDidChangeNotification,_documentView);
objj_msgSend(_6,"addObserver:selector:name:object:",_3,sel_getUid("viewBoundsChanged:"),CPViewBoundsDidChangeNotification,_documentView);
}
}
}),new objj_method(sel_getUid("documentView"),function(_7,_8){
with(_7){
return _documentView;
}
}),new objj_method(sel_getUid("constrainScrollPoint:"),function(_9,_a,_b){
with(_9){
if(!_documentView){
return {x:0,y:0};
}
var _c=objj_msgSend(_documentView,"frame");
_b.x=MAX(0,MIN(_b.x,MAX((_c.size.width)-(_bounds.size.width),0)));
_b.y=MAX(0,MIN(_b.y,MAX((_c.size.height)-(_bounds.size.height),0)));
return _b;
}
}),new objj_method(sel_getUid("setBoundsOrigin:"),function(_d,_e,_f){
with(_d){
if((_bounds.origin.x==_f.x&&_bounds.origin.y==_f.y)){
return;
}
objj_msgSendSuper({receiver:_d,super_class:objj_getClass("CPView")},"setBoundsOrigin:",_f);
var _10=objj_msgSend(_d,"superview");
if(objj_msgSend(_10,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))){
objj_msgSend(_10,"reflectScrolledClipView:",_d);
}
}
}),new objj_method(sel_getUid("scrollToPoint:"),function(_11,_12,_13){
with(_11){
objj_msgSend(_11,"setBoundsOrigin:",objj_msgSend(_11,"constrainScrollPoint:",_13));
}
}),new objj_method(sel_getUid("viewBoundsChanged:"),function(_14,_15,_16){
with(_14){
objj_msgSend(_14,"_constrainScrollPoint");
}
}),new objj_method(sel_getUid("viewFrameChanged:"),function(_17,_18,_19){
with(_17){
objj_msgSend(_17,"_constrainScrollPoint");
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_1a,_1b,_1c){
with(_1a){
objj_msgSendSuper({receiver:_1a,super_class:objj_getClass("CPView")},"resizeSubviewsWithOldSize:",_1c);
objj_msgSend(_1a,"_constrainScrollPoint");
}
}),new objj_method(sel_getUid("_constrainScrollPoint"),function(_1d,_1e){
with(_1d){
var _1f=objj_msgSend(_1d,"bounds").origin;
objj_msgSend(_1d,"scrollToPoint:",_1f);
if(!CGPointEqualToPoint(_1f,objj_msgSend(_1d,"bounds").origin)){
return;
}
var _20=objj_msgSend(_1d,"superview");
if(objj_msgSend(_20,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))){
objj_msgSend(_20,"reflectScrolledClipView:",_1d);
}
}
}),new objj_method(sel_getUid("autoscroll:"),function(_21,_22,_23){
with(_21){
var _24=objj_msgSend(_21,"bounds"),_25=objj_msgSend(_21,"convertPoint:fromView:",objj_msgSend(_23,"locationInWindow"),nil);
if(CPRectContainsPoint(_24,_25)){
return NO;
}
var _26=CGRectMakeZero();
_26.origin=_25;
_26.size=CPSizeMake(10,10);
return objj_msgSend(_documentView,"scrollRectToVisible:",_26);
}
})]);
var _27="CPScrollViewDocumentView";
var _1=objj_getClass("CPClipView");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPClipView\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_28,_29,_2a){
with(_28){
if(_28=objj_msgSendSuper({receiver:_28,super_class:objj_getClass("CPView")},"initWithCoder:",_2a)){
objj_msgSend(_28,"setDocumentView:",objj_msgSend(_2a,"decodeObjectForKey:",_27));
}
return _28;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_2b,_2c,_2d){
with(_2b){
objj_msgSendSuper({receiver:_2b,super_class:objj_getClass("CPView")},"encodeWithCoder:",_2d);
objj_msgSend(_2d,"encodeObject:forKey:",_documentView,_27);
}
})]);
p;18;CPCollectionView.jI;20;Foundation/CPArray.jI;19;Foundation/CPData.jI;23;Foundation/CPIndexSet.jI;28;Foundation/CPKeyedArchiver.jI;30;Foundation/CPKeyedUnarchiver.ji;8;CPView.ji;22;CPCollectionViewItem.jc;12989;
var _1=objj_allocateClassPair(CPView,"CPCollectionView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_content"),new objj_ivar("_items"),new objj_ivar("_itemData"),new objj_ivar("_itemPrototype"),new objj_ivar("_itemForDragging"),new objj_ivar("_cachedItems"),new objj_ivar("_maxNumberOfRows"),new objj_ivar("_maxNumberOfColumns"),new objj_ivar("_minItemSize"),new objj_ivar("_maxItemSize"),new objj_ivar("_backgroundColors"),new objj_ivar("_tileWidth"),new objj_ivar("_isSelectable"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_allowsEmptySelection"),new objj_ivar("_selectionIndexes"),new objj_ivar("_itemSize"),new objj_ivar("_horizontalMargin"),new objj_ivar("_verticalMargin"),new objj_ivar("_numberOfRows"),new objj_ivar("_numberOfColumns"),new objj_ivar("_delegate"),new objj_ivar("_mouseDownEvent")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPView")},"initWithFrame:",_5);
if(_3){
_items=[];
_content=[];
_cachedItems=[];
_itemSize=CGSizeMakeZero();
_minItemSize=CGSizeMakeZero();
_maxItemSize=CGSizeMakeZero();
objj_msgSend(_3,"setBackgroundColors:",nil);
_verticalMargin=5;
_tileWidth=-1;
_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet");
_allowsEmptySelection=YES;
_isSelectable=YES;
}
return _3;
}
}),new objj_method(sel_getUid("setItemPrototype:"),function(_6,_7,_8){
with(_6){
_cachedItems=[];
_itemData=nil;
_itemForDragging=nil;
_itemPrototype=_8;
objj_msgSend(_6,"reloadContent");
}
}),new objj_method(sel_getUid("itemPrototype"),function(_9,_a){
with(_9){
return _itemPrototype;
}
}),new objj_method(sel_getUid("newItemForRepresentedObject:"),function(_b,_c,_d){
with(_b){
var _e=nil;
if(_cachedItems.length){
_e=_cachedItems.pop();
}else{
if(!_itemData){
if(_itemPrototype){
_itemData=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_itemPrototype);
}
}
_e=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_itemData);
}
objj_msgSend(_e,"setRepresentedObject:",_d);
objj_msgSend(objj_msgSend(_e,"view"),"setFrameSize:",_itemSize);
return _e;
}
}),new objj_method(sel_getUid("acceptsFirstResponder"),function(_f,_10){
with(_f){
return YES;
}
}),new objj_method(sel_getUid("isFirstResponder"),function(_11,_12){
with(_11){
return objj_msgSend(objj_msgSend(_11,"window"),"firstResponder")===_11;
}
}),new objj_method(sel_getUid("setContent:"),function(_13,_14,_15){
with(_13){
if(_content==_15){
return;
}
_content=_15;
objj_msgSend(_13,"reloadContent");
}
}),new objj_method(sel_getUid("content"),function(_16,_17){
with(_16){
return _content;
}
}),new objj_method(sel_getUid("items"),function(_18,_19){
with(_18){
return _items;
}
}),new objj_method(sel_getUid("setSelectable:"),function(_1a,_1b,_1c){
with(_1a){
if(_isSelectable==_1c){
return;
}
_isSelectable=_1c;
if(!_isSelectable){
var _1d=CPNotFound;
while((_1d=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",_1d))!=CPNotFound){
objj_msgSend(_items[_1d],"setSelected:",NO);
}
}
}
}),new objj_method(sel_getUid("isSelectable"),function(_1e,_1f){
with(_1e){
return _isSelectable;
}
}),new objj_method(sel_getUid("setAllowsEmptySelection:"),function(_20,_21,_22){
with(_20){
_allowsEmptySelection=_22;
}
}),new objj_method(sel_getUid("allowsEmptySelection"),function(_23,_24){
with(_23){
return _allowsEmptySelection;
}
}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(_25,_26,_27){
with(_25){
_allowsMultipleSelection=_27;
}
}),new objj_method(sel_getUid("allowsMultipleSelection"),function(_28,_29){
with(_28){
return _allowsMultipleSelection;
}
}),new objj_method(sel_getUid("setSelectionIndexes:"),function(_2a,_2b,_2c){
with(_2a){
if(_selectionIndexes==_2c||!_isSelectable){
return;
}
var _2d=CPNotFound;
while((_2d=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",_2d))!=CPNotFound){
objj_msgSend(_items[_2d],"setSelected:",NO);
}
_selectionIndexes=_2c;
var _2d=CPNotFound;
while((_2d=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",_2d))!=CPNotFound){
objj_msgSend(_items[_2d],"setSelected:",YES);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionViewDidChangeSelection:"))){
objj_msgSend(_delegate,"collectionViewDidChangeSelection:",_2a);
}
}
}),new objj_method(sel_getUid("selectionIndexes"),function(_2e,_2f){
with(_2e){
return objj_msgSend(_selectionIndexes,"copy");
}
}),new objj_method(sel_getUid("reloadContent"),function(_30,_31){
with(_30){
var _32=_items.length;
while(_32--){
objj_msgSend(objj_msgSend(_items[_32],"view"),"removeFromSuperview");
_cachedItems.push(_items[_32]);
}
_items=[];
if(!_itemPrototype||!_content){
return;
}
var _33=0;
_32=_content.length;
for(;_33<_32;++_33){
_items.push(objj_msgSend(_30,"newItemForRepresentedObject:",_content[_33]));
objj_msgSend(_30,"addSubview:",objj_msgSend(_items[_33],"view"));
}
objj_msgSend(_30,"tile");
}
}),new objj_method(sel_getUid("tile"),function(_34,_35){
with(_34){
var _36=CGRectGetWidth(objj_msgSend(_34,"bounds"));
if(!objj_msgSend(_content,"count")||_36==_tileWidth){
return;
}
var _37=CGSizeMakeCopy(_minItemSize);
_numberOfColumns=MAX(1,FLOOR(_36/_37.width));
if(_maxNumberOfColumns>0){
_numberOfColumns=MIN(_maxNumberOfColumns,_numberOfColumns);
}
var _38=_36-_numberOfColumns*_37.width,_39=NO;
if(_38>0&&_37.width<_maxItemSize.width){
_37.width=MIN(_maxItemSize.width,_37.width+FLOOR(_38/_numberOfColumns));
}
if(_maxNumberOfColumns==1&&_37.width<_maxItemSize.width&&_37.width<_36){
_37.width=MIN(_maxItemSize.width,_36);
}
if(!CGSizeEqualToSize(_itemSize,_37)){
_itemSize=_37;
_39=YES;
}
var _3a=0,_3b=_items.length;
if(_maxNumberOfColumns>0&&_maxNumberOfRows>0){
_3b=MIN(_3b,_maxNumberOfColumns*_maxNumberOfRows);
}
_numberOfRows=CEIL(_3b/_numberOfColumns);
_horizontalMargin=FLOOR((_36-_numberOfColumns*_37.width)/(_numberOfColumns+1));
var x=_horizontalMargin,y=-_37.height;
for(;_3a<_3b;++_3a){
if(_3a%_numberOfColumns==0){
x=_horizontalMargin;
y+=_verticalMargin+_37.height;
}
var _3c=objj_msgSend(_items[_3a],"view");
objj_msgSend(_3c,"setFrameOrigin:",CGPointMake(x,y));
if(_39){
objj_msgSend(_3c,"setFrameSize:",_itemSize);
}
x+=_37.width+_horizontalMargin;
}
_tileWidth=_36;
objj_msgSend(_34,"setFrameSize:",CGSizeMake(_36,y+_37.height+_verticalMargin));
_tileWidth=-1;
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_3d,_3e,_3f){
with(_3d){
objj_msgSend(_3d,"tile");
}
}),new objj_method(sel_getUid("setMaxNumberOfRows:"),function(_40,_41,_42){
with(_40){
if(_maxNumberOfRows==_42){
return;
}
_maxNumberOfRows=_42;
objj_msgSend(_40,"tile");
}
}),new objj_method(sel_getUid("maxNumberOfRows"),function(_43,_44){
with(_43){
return _maxNumberOfRows;
}
}),new objj_method(sel_getUid("setMaxNumberOfColumns:"),function(_45,_46,_47){
with(_45){
if(_maxNumberOfColumns==_47){
return;
}
_maxNumberOfColumns=_47;
objj_msgSend(_45,"tile");
}
}),new objj_method(sel_getUid("maxNumberOfColumns"),function(_48,_49){
with(_48){
return _maxNumberOfColumns;
}
}),new objj_method(sel_getUid("numberOfRows"),function(_4a,_4b){
with(_4a){
return _numberOfRows;
}
}),new objj_method(sel_getUid("numberOfColumns"),function(_4c,_4d){
with(_4c){
return _numberOfColumns;
}
}),new objj_method(sel_getUid("setMinItemSize:"),function(_4e,_4f,_50){
with(_4e){
if(CGSizeEqualToSize(_minItemSize,_50)){
return;
}
_minItemSize=CGSizeMakeCopy(_50);
objj_msgSend(_4e,"tile");
}
}),new objj_method(sel_getUid("minItemSize"),function(_51,_52){
with(_51){
return _minItemSize;
}
}),new objj_method(sel_getUid("setMaxItemSize:"),function(_53,_54,_55){
with(_53){
if(CGSizeEqualToSize(_maxItemSize,_55)){
return;
}
_maxItemSize=CGSizeMakeCopy(_55);
objj_msgSend(_53,"tile");
}
}),new objj_method(sel_getUid("maxItemSize"),function(_56,_57){
with(_56){
return _maxItemSize;
}
}),new objj_method(sel_getUid("setBackgroundColors:"),function(_58,_59,_5a){
with(_58){
if(_backgroundColors===_5a){
return;
}
_backgroundColors=_5a;
if(!_backgroundColors){
_backgroundColors=objj_msgSend(CPColor,"whiteColor");
}
if(objj_msgSend(_backgroundColors,"count")===1){
objj_msgSend(_58,"setBackgroundColor:",_backgroundColors[0]);
}else{
objj_msgSend(_58,"setBackgroundColor:",nil);
}
objj_msgSend(_58,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("backgroundColors"),function(_5b,_5c){
with(_5b){
return _backgroundColors;
}
}),new objj_method(sel_getUid("mouseUp:"),function(_5d,_5e,_5f){
with(_5d){
if(objj_msgSend(_selectionIndexes,"count")&&objj_msgSend(_5f,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:didDoubleClickOnItemAtIndex:"))){
objj_msgSend(_delegate,"collectionView:didDoubleClickOnItemAtIndex:",_5d,objj_msgSend(_selectionIndexes,"firstIndex"));
}
}
}),new objj_method(sel_getUid("mouseDown:"),function(_60,_61,_62){
with(_60){
_mouseDownEvent=_62;
var _63=objj_msgSend(_60,"convertPoint:fromView:",objj_msgSend(_62,"locationInWindow"),nil),row=FLOOR(_63.y/(_itemSize.height+_verticalMargin)),_64=FLOOR(_63.x/(_itemSize.width+_horizontalMargin)),_65=row*_numberOfColumns+_64;
if(_65>=0&&_65<_items.length){
objj_msgSend(_60,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",_65));
}else{
if(_allowsEmptySelection){
objj_msgSend(_60,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"));
}
}
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_66,_67,_68){
with(_66){
if(!objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:dragTypesForItemsAtIndexes:"))){
return;
}
if(!objj_msgSend(_selectionIndexes,"count")){
return;
}
var _69=objj_msgSend(_delegate,"collectionView:dragTypesForItemsAtIndexes:",_66,_selectionIndexes);
objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",_69,_66);
var _6a=objj_msgSend(_66,"convertPoint:fromView:",objj_msgSend(_68,"locationInWindow"),nil);
if(!_itemForDragging){
_itemForDragging=objj_msgSend(_66,"newItemForRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]);
}else{
objj_msgSend(_itemForDragging,"setRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]);
}
var _6b=objj_msgSend(_itemForDragging,"view");
objj_msgSend(_6b,"setFrameSize:",_itemSize);
objj_msgSend(_6b,"setAlphaValue:",0.7);
objj_msgSend(_66,"dragView:at:offset:event:pasteboard:source:slideBack:",_6b,objj_msgSend(objj_msgSend(_items[objj_msgSend(_selectionIndexes,"firstIndex")],"view"),"frame").origin,CGSizeMakeZero(),_mouseDownEvent,nil,_66,YES);
}
}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(_6c,_6d,_6e,_6f){
with(_6c){
objj_msgSend(_6e,"setData:forType:",objj_msgSend(_delegate,"collectionView:dataForItemsAtIndexes:forType:",_6c,_selectionIndexes,_6f),_6f);
}
}),new objj_method(sel_getUid("setVerticalMargin:"),function(_70,_71,_72){
with(_70){
if(_verticalMargin==_72){
return;
}
_verticalMargin=_72;
objj_msgSend(_70,"tile");
}
}),new objj_method(sel_getUid("verticalMargin"),function(_73,_74){
with(_73){
return _verticalMargin;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_75,_76,_77){
with(_75){
_delegate=_77;
}
}),new objj_method(sel_getUid("delegate"),function(_78,_79){
with(_78){
return _delegate;
}
})]);
var _7a="CPCollectionViewMinItemSizeKey",_7b="CPCollectionViewMaxItemSizeKey",_7c="CPCollectionViewVerticalMarginKey",_7d="CPCollectionViewSelectableKey",_7e="CPCollectionViewBackgroundColorsKey";
var _1=objj_getClass("CPCollectionView");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPCollectionView\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_7f,_80,_81){
with(_7f){
_7f=objj_msgSendSuper({receiver:_7f,super_class:objj_getClass("CPView")},"initWithCoder:",_81);
if(_7f){
_items=[];
_content=[];
_cachedItems=[];
_itemSize=CGSizeMakeZero();
_minItemSize=objj_msgSend(_81,"decodeSizeForKey:",_7a)||CGSizeMakeZero();
_maxItemSize=objj_msgSend(_81,"decodeSizeForKey:",_7b)||CGSizeMakeZero();
_verticalMargin=objj_msgSend(_81,"decodeFloatForKey:",_7c);
_isSelectable=objj_msgSend(_81,"decodeBoolForKey:",_7d);
objj_msgSend(_7f,"setBackgroundColors:",objj_msgSend(_81,"decodeObjectForKey:",_7e));
_tileWidth=-1;
_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet");
_allowsEmptySelection=YES;
}
return _7f;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_82,_83,_84){
with(_82){
objj_msgSendSuper({receiver:_82,super_class:objj_getClass("CPView")},"encodeWithCoder:",_84);
if(!CGSizeEqualToSize(_minItemSize,CGSizeMakeZero())){
objj_msgSend(_84,"encodeSize:forKey:",_minItemSize,_7a);
}
if(!CGSizeEqualToSize(_maxItemSize,CGSizeMakeZero())){
objj_msgSend(_84,"encodeSize:forKey:",_maxItemSize,_7b);
}
objj_msgSend(_84,"encodeBool:forKey:",_isSelectable,_7d);
objj_msgSend(_84,"encodeFloat:forKey:",_verticalMargin,_7c);
objj_msgSend(_84,"encodeObject:forKey:",_backgroundColors,_7e);
}
})]);
p;22;CPCollectionViewItem.ji;18;CPViewController.jc;1163;
var _1=objj_allocateClassPair(CPViewController,"CPCollectionViewItem"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_isSelected")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("setRepresentedObject:"),function(_3,_4,_5){
with(_3){
objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPViewController")},"setRepresentedObject:",_5);
var _6=objj_msgSend(_3,"view");
if(objj_msgSend(_6,"respondsToSelector:",sel_getUid("setRepresentedObject:"))){
objj_msgSend(_6,"setRepresentedObject:",objj_msgSend(_3,"representedObject"));
}
}
}),new objj_method(sel_getUid("setSelected:"),function(_7,_8,_9){
with(_7){
_9=!!_9;
if(_isSelected===_9){
return;
}
_isSelected=_9;
var _a=objj_msgSend(_7,"view");
if(objj_msgSend(_a,"respondsToSelector:",sel_getUid("setSelected:"))){
objj_msgSend(_a,"setSelected:",objj_msgSend(_7,"isSelected"));
}
}
}),new objj_method(sel_getUid("isSelected"),function(_b,_c){
with(_b){
return _isSelected;
}
}),new objj_method(sel_getUid("collectionView"),function(_d,_e){
with(_d){
return objj_msgSend(_view,"superview");
}
})]);
p;9;CPColor.jI;21;Foundation/CPObject.ji;9;CGColor.ji;17;CPCompatibility.ji;9;CPImage.jc;14542;
var _1=0,_2=1,_3=2,_4=3;
var _5=0,_6=1,_7=2;
var _8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17;
var _18=objj_allocateClassPair(CPObject,"CPColor"),_19=_18.isa;
class_addIvars(_18,[new objj_ivar("_components"),new objj_ivar("_patternImage"),new objj_ivar("_cssString")]);
objj_registerClassPair(_18);
objj_addClassForBundle(_18,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_18,[new objj_method(sel_getUid("_initWithCSSString:"),function(_1a,_1b,_1c){
with(_1a){
if(_1c.indexOf("rgb")==CPNotFound){
return nil;
}
_1a=objj_msgSendSuper({receiver:_1a,super_class:objj_getClass("CPObject")},"init");
var _1d=_1c.indexOf("(");
var _1e=_1c.substring(_1d+1).split(",");
_components=[parseInt(_1e[0],10)/255,parseInt(_1e[1],10)/255,parseInt(_1e[2],10)/255,_1e[3]?parseInt(_1e[3],10)/255:1];
_cssString=_1c;
return _1a;
}
}),new objj_method(sel_getUid("_initWithRGBA:"),function(_1f,_20,_21){
with(_1f){
_1f=objj_msgSendSuper({receiver:_1f,super_class:objj_getClass("CPObject")},"init");
if(_1f){
_components=_21;
if(!CPFeatureIsCompatible(CPCSSRGBAFeature)&&_components[3]!=1&&window.Base64&&window.CRC32){
var _22=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,1,0,0,0,1,8,3,0,0,0,40,203,52,187,0,0,3,0,80,76,84,69,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,137,153,85,0,0,0,1,116,82,78,83,0,64,230,216,102,0,0,0,16,73,68,65,84,120,218,98,96,0,0,0,0,255,255,3,0,0,2,0,1,36,127,36,241,0,0,0,0,73,69,78,68,174,66,96,130,255];
var _23=41;
var _24=42;
var _25=43;
var _26=821;
var _27=809;
var _28=822;
var _29=37;
var _2a=817;
_22[_23]=Math.round(_components[0]*255);
_22[_24]=Math.round(_components[1]*255);
_22[_25]=Math.round(_components[2]*255);
_22[_26]=Math.round(_components[3]*255);
var _2b=integerToBytes(CRC32.getCRC(_22,_29,4+768),4);
var _2c=integerToBytes(CRC32.getCRC(_22,_2a,4+1),4);
for(var i=0;i<4;i++){
_22[_27+i]=_2b[i];
_22[_28+i]=_2c[i];
}
var _2d=Base64.encode(_22);
_cssString="url(\"data:image/png;base64,"+_2d+"\")";
}else{
var _2e=CPFeatureIsCompatible(CPCSSRGBAFeature)&&_components[3]!=1;
_cssString=(_2e?"rgba(":"rgb(")+parseInt(_components[0]*255)+", "+parseInt(_components[1]*255)+", "+parseInt(_components[2]*255)+(_2e?(", "+_components[3]):"")+")";
}
}
return _1f;
}
}),new objj_method(sel_getUid("_initWithPatternImage:"),function(_2f,_30,_31){
with(_2f){
_2f=objj_msgSendSuper({receiver:_2f,super_class:objj_getClass("CPObject")},"init");
if(_2f){
_patternImage=_31;
_cssString="url(\""+objj_msgSend(_patternImage,"filename")+"\")";
}
return _2f;
}
}),new objj_method(sel_getUid("patternImage"),function(_32,_33){
with(_32){
return _patternImage;
}
}),new objj_method(sel_getUid("alphaComponent"),function(_34,_35){
with(_34){
return _components[3];
}
}),new objj_method(sel_getUid("blueComponent"),function(_36,_37){
with(_36){
return _components[2];
}
}),new objj_method(sel_getUid("greenComponent"),function(_38,_39){
with(_38){
return _components[1];
}
}),new objj_method(sel_getUid("redComponent"),function(_3a,_3b){
with(_3a){
return _components[0];
}
}),new objj_method(sel_getUid("components"),function(_3c,_3d){
with(_3c){
return _components;
}
}),new objj_method(sel_getUid("colorWithAlphaComponent:"),function(_3e,_3f,_40){
with(_3e){
var _41=_components.slice();
_41[_41.length-1]=_40;
return objj_msgSend(objj_msgSend(objj_msgSend(_3e,"class"),"alloc"),"_initWithRGBA:",_41);
}
}),new objj_method(sel_getUid("hsbComponents"),function(_42,_43){
with(_42){
var red=ROUND(_components[_1]*255),_44=ROUND(_components[_2]*255),_45=ROUND(_components[_3]*255);
var max=MAX(red,_44,_45),min=MIN(red,_44,_45),_46=max-min;
var _47=max/255,_48=(max!=0)?_46/max:0;
var hue;
if(_48==0){
hue=0;
}else{
var rr=(max-red)/_46;
var gr=(max-_44)/_46;
var br=(max-_45)/_46;
if(red==max){
hue=br-gr;
}else{
if(_44==max){
hue=2+rr-br;
}else{
hue=4+gr-rr;
}
}
hue/=6;
if(hue<0){
hue++;
}
}
return [ROUND(hue*360),ROUND(_48*100),ROUND(_47*100)];
}
}),new objj_method(sel_getUid("cssString"),function(_49,_4a){
with(_49){
return _cssString;
}
}),new objj_method(sel_getUid("hexString"),function(_4b,_4c){
with(_4b){
return rgbToHex(objj_msgSend(_4b,"redComponent"),objj_msgSend(_4b,"greenComponent"),objj_msgSend(_4b,"blueComponent"));
}
}),new objj_method(sel_getUid("isEqual:"),function(_4d,_4e,_4f){
with(_4d){
if(!_4f){
return NO;
}
if(_4f===_4d){
return YES;
}
return objj_msgSend(_4f,"isKindOfClass:",CPColor)&&objj_msgSend(_4f,"cssString")===objj_msgSend(_4d,"cssString");
}
}),new objj_method(sel_getUid("description"),function(_50,_51){
with(_50){
return objj_msgSendSuper({receiver:_50,super_class:objj_getClass("CPObject")},"description")+" "+objj_msgSend(_50,"cssString");
}
})]);
class_addMethods(_19,[new objj_method(sel_getUid("colorWithRed:green:blue:alpha:"),function(_52,_53,red,_54,_55,_56){
with(_52){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[red,_54,_55,_56]);
}
}),new objj_method(sel_getUid("colorWithCalibratedRed:green:blue:alpha:"),function(_57,_58,red,_59,_5a,_5b){
with(_57){
return objj_msgSend(_57,"colorWithRed:green:blue:alpha:",red,_59,_5a,_5b);
}
}),new objj_method(sel_getUid("colorWithWhite:alpha:"),function(_5c,_5d,_5e,_5f){
with(_5c){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[_5e,_5e,_5e,_5f]);
}
}),new objj_method(sel_getUid("colorWithCalibratedWhite:alpha:"),function(_60,_61,_62,_63){
with(_60){
return objj_msgSend(_60,"colorWithWhite:alpha:",_62,_63);
}
}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:"),function(_64,_65,hue,_66,_67){
with(_64){
return objj_msgSend(_64,"colorWithHue:saturation:brightness:alpha:",hue,_66,_67,1);
}
}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:alpha:"),function(_68,_69,hue,_6a,_6b,_6c){
with(_68){
if(_6a===0){
return objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",_6b/100,_6c);
}
var f=hue%60,p=(_6b*(100-_6a))/10000,q=(_6b*(6000-_6a*f))/600000,t=(_6b*(6000-_6a*(60-f)))/600000,b=_6b/100;
switch(FLOOR(hue/60)){
case 0:
return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",b,t,p,_6c);
case 1:
return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",q,b,p,_6c);
case 2:
return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",p,b,t,_6c);
case 3:
return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",p,q,b,_6c);
case 4:
return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",t,p,b,_6c);
case 5:
return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",b,p,q,_6c);
}
}
}),new objj_method(sel_getUid("colorWithHexString:"),function(_6d,_6e,hex){
with(_6d){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",hexToRGB(hex));
}
}),new objj_method(sel_getUid("blackColor"),function(_6f,_70){
with(_6f){
if(!_8){
_8=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1]);
}
return _8;
}
}),new objj_method(sel_getUid("blueColor"),function(_71,_72){
with(_71){
if(!_b){
_b=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,1,1]);
}
return _b;
}
}),new objj_method(sel_getUid("darkGrayColor"),function(_73,_74){
with(_73){
if(!_f){
_f=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",1/3,1);
}
return _f;
}
}),new objj_method(sel_getUid("grayColor"),function(_75,_76){
with(_75){
if(!_d){
_d=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",0.5,1);
}
return _d;
}
}),new objj_method(sel_getUid("greenColor"),function(_77,_78){
with(_77){
if(!_a){
_a=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,1,0,1]);
}
return _a;
}
}),new objj_method(sel_getUid("lightGrayColor"),function(_79,_7a){
with(_79){
if(!_e){
_e=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",2/3,1);
}
return _e;
}
}),new objj_method(sel_getUid("redColor"),function(_7b,_7c){
with(_7b){
if(!_9){
_9=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,0,1]);
}
return _9;
}
}),new objj_method(sel_getUid("whiteColor"),function(_7d,_7e){
with(_7d){
if(!_10){
_10=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,1,1]);
}
return _10;
}
}),new objj_method(sel_getUid("yellowColor"),function(_7f,_80){
with(_7f){
if(!_c){
_c=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,0,1]);
}
return _c;
}
}),new objj_method(sel_getUid("brownColor"),function(_81,_82){
with(_81){
if(!_11){
_11=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.6,0.4,0.2,1]);
}
return _11;
}
}),new objj_method(sel_getUid("cyanColor"),function(_83,_84){
with(_83){
if(!_12){
_12=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,1,1,1]);
}
return _12;
}
}),new objj_method(sel_getUid("magentaColor"),function(_85,_86){
with(_85){
if(!_13){
_13=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,1,1]);
}
return _13;
}
}),new objj_method(sel_getUid("orangeColor"),function(_87,_88){
with(_87){
if(!_14){
_14=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0.5,0,1]);
}
return _14;
}
}),new objj_method(sel_getUid("purpleColor"),function(_89,_8a){
with(_89){
if(!_15){
_15=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.5,0,0.5,1]);
}
return _15;
}
}),new objj_method(sel_getUid("shadowColor"),function(_8b,_8c){
with(_8b){
if(!_16){
_16=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1/3]);
}
return _16;
}
}),new objj_method(sel_getUid("clearColor"),function(_8d,_8e){
with(_8d){
if(!_17){
_17=objj_msgSend(_8d,"colorWithCalibratedWhite:alpha:",0,0);
}
return _17;
}
}),new objj_method(sel_getUid("alternateSelectedControlColor"),function(_8f,_90){
with(_8f){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.22,0.46,0.84,1]);
}
}),new objj_method(sel_getUid("secondarySelectedControlColor"),function(_91,_92){
with(_91){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.83,0.83,0.83,1]);
}
}),new objj_method(sel_getUid("colorWithPatternImage:"),function(_93,_94,_95){
with(_93){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithPatternImage:",_95);
}
}),new objj_method(sel_getUid("colorWithCSSString:"),function(_96,_97,_98){
with(_96){
return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithCSSString:",_98);
}
})]);
var _18=objj_getClass("CPColor");
if(!_18){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPColor\""));
}
var _19=_18.isa;
class_addMethods(_18,[new objj_method(sel_getUid("set"),function(_99,_9a){
with(_99){
objj_msgSend(_99,"setFill");
objj_msgSend(_99,"setStroke");
}
}),new objj_method(sel_getUid("setFill"),function(_9b,_9c){
with(_9b){
var ctx=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextSetFillColor(ctx,_9b);
}
}),new objj_method(sel_getUid("setStroke"),function(_9d,_9e){
with(_9d){
var ctx=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextSetStrokeColor(ctx,_9d);
}
})]);
var _18=objj_getClass("CPColor");
if(!_18){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPColor\""));
}
var _19=_18.isa;
class_addMethods(_19,[new objj_method(sel_getUid("randomColor"),function(_9f,_a0){
with(_9f){
return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",RAND(),RAND(),RAND(),1);
}
})]);
var _a1="CPColorComponentsKey",_a2="CPColorPatternImageKey";
var _18=objj_getClass("CPColor");
if(!_18){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPColor\""));
}
var _19=_18.isa;
class_addMethods(_18,[new objj_method(sel_getUid("initWithCoder:"),function(_a3,_a4,_a5){
with(_a3){
if(objj_msgSend(_a5,"containsValueForKey:",_a2)){
return objj_msgSend(_a3,"_initWithPatternImage:",objj_msgSend(_a5,"decodeObjectForKey:",_a2));
}
return objj_msgSend(_a3,"_initWithRGBA:",objj_msgSend(_a5,"decodeObjectForKey:",_a1));
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_a6,_a7,_a8){
with(_a6){
if(_patternImage){
objj_msgSend(_a8,"encodeObject:forKey:",_patternImage,_a2);
}else{
objj_msgSend(_a8,"encodeObject:forKey:",_components,_a1);
}
}
})]);
var _a9="0123456789ABCDEF";
hexToRGB=function(hex){
if(hex.length==3){
hex=hex.charAt(0)+hex.charAt(0)+hex.charAt(1)+hex.charAt(1)+hex.charAt(2)+hex.charAt(2);
}
if(hex.length!=6){
return null;
}
hex=hex.toUpperCase();
for(var i=0;i<hex.length;i++){
if(_a9.indexOf(hex.charAt(i))==-1){
return null;
}
}
var red=(_a9.indexOf(hex.charAt(0))*16+_a9.indexOf(hex.charAt(1)))/255;
var _aa=(_a9.indexOf(hex.charAt(2))*16+_a9.indexOf(hex.charAt(3)))/255;
var _ab=(_a9.indexOf(hex.charAt(4))*16+_a9.indexOf(hex.charAt(5)))/255;
return [red,_aa,_ab,1];
};
integerToBytes=function(_ac,_ad){
if(!_ad){
_ad=(_ac==0)?1:Math.round((Math.log(_ac)/Math.log(2))/8+0.5);
}
var _ae=new Array(_ad);
for(var i=_ad-1;i>=0;i--){
_ae[i]=_ac&255;
_ac=_ac>>8;
}
return _ae;
};
rgbToHex=function(r,g,b){
return byteToHex(r)+byteToHex(g)+byteToHex(b);
};
byteToHex=function(n){
if(!n||isNaN(n)){
return "00";
}
n=ROUND(MIN(255,MAX(0,256*n)));
return _a9.charAt((n-n%16)/16)+_a9.charAt(n%16);
};
p;14;CPColorPanel.ji;10;CPButton.ji;10;CPCookie.ji;9;CPPanel.ji;8;CPView.jc;16490;
CPColorPanelColorDidChangeNotification="CPColorPanelColorDidChangeNotification";
var _1=20,_2=32,_3=14,_4=32,_5=12;
var _6=nil,_7=[];
CPWheelColorPickerMode=1;
CPSliderColorPickerMode=2;
CPColorPickerViewWidth=265,CPColorPickerViewHeight=370;
var _8=objj_allocateClassPair(CPPanel,"CPColorPanel"),_9=_8.isa;
class_addIvars(_8,[new objj_ivar("_toolbar"),new objj_ivar("_swatchView"),new objj_ivar("_previewView"),new objj_ivar("_opacitySlider"),new objj_ivar("_colorPickers"),new objj_ivar("_currentView"),new objj_ivar("_activePicker"),new objj_ivar("_color"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_mode")]);
objj_registerClassPair(_8);
objj_addClassForBundle(_8,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_8,[new objj_method(sel_getUid("init"),function(_a,_b){
with(_a){
_a=objj_msgSendSuper({receiver:_a,super_class:objj_getClass("CPPanel")},"initWithContentRect:styleMask:",CGRectMake(500,50,219,370),(CPTitledWindowMask|CPClosableWindowMask|CPResizableWindowMask));
if(_a){
objj_msgSend(objj_msgSend(_a,"contentView"),"setBackgroundColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.95,1));
objj_msgSend(_a,"setTitle:","Color Panel");
objj_msgSend(_a,"setLevel:",CPFloatingWindowLevel);
objj_msgSend(_a,"setFloatingPanel:",YES);
objj_msgSend(_a,"setBecomesKeyOnlyIfNeeded:",YES);
objj_msgSend(_a,"setMinSize:",CGSizeMake(219,342));
objj_msgSend(_a,"setMaxSize:",CGSizeMake(323,537));
}
return _a;
}
}),new objj_method(sel_getUid("setColor:"),function(_c,_d,_e){
with(_c){
_color=_e;
objj_msgSend(_previewView,"setBackgroundColor:",_color);
objj_msgSend(CPApp,"sendAction:to:from:",sel_getUid("changeColor:"),nil,_c);
if(_target&&_action){
objj_msgSend(CPApp,"sendAction:to:from:",_action,_target,_c);
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPColorPanelColorDidChangeNotification,_c);
objj_msgSend(_activePicker,"setColor:",_color);
objj_msgSend(_opacitySlider,"setFloatValue:",objj_msgSend(_color,"alphaComponent"));
}
}),new objj_method(sel_getUid("setColor:updatePicker:"),function(_f,_10,_11,_12){
with(_f){
objj_msgSend(_f,"setColor:",_11);
if(_12){
objj_msgSend(_activePicker,"setColor:",_color);
}
}
}),new objj_method(sel_getUid("color"),function(_13,_14){
with(_13){
return _color;
}
}),new objj_method(sel_getUid("opacity"),function(_15,_16){
with(_15){
return objj_msgSend(_opacitySlider,"floatValue");
}
}),new objj_method(sel_getUid("setTarget:"),function(_17,_18,_19){
with(_17){
_target=_19;
}
}),new objj_method(sel_getUid("target"),function(_1a,_1b){
with(_1a){
return _target;
}
}),new objj_method(sel_getUid("setAction:"),function(_1c,_1d,_1e){
with(_1c){
_action=_1e;
}
}),new objj_method(sel_getUid("action"),function(_1f,_20){
with(_1f){
return _action;
}
}),new objj_method(sel_getUid("setMode:"),function(_21,_22,_23){
with(_21){
_mode=_23;
}
}),new objj_method(sel_getUid("_setPicker:"),function(_24,_25,_26){
with(_24){
var _27=_colorPickers[objj_msgSend(_26,"tag")],_28=objj_msgSend(_27,"provideNewView:",NO);
if(!_28){
_28=objj_msgSend(_27,"provideNewView:",YES);
}
if(_28==_currentView){
return;
}
if(_currentView){
objj_msgSend(_28,"setFrame:",objj_msgSend(_currentView,"frame"));
}else{
var _29=(_2+10+_1+5+_3+32),_2a=objj_msgSend(objj_msgSend(_24,"contentView"),"bounds");
objj_msgSend(_28,"setFrameSize:",CPSizeMake(_2a.size.width-10,_2a.size.height-_29));
objj_msgSend(_28,"setFrameOrigin:",CPPointMake(5,_29));
}
objj_msgSend(_currentView,"removeFromSuperview");
objj_msgSend(objj_msgSend(_24,"contentView"),"addSubview:",_28);
_currentView=_28;
_activePicker=_27;
objj_msgSend(_27,"setColor:",objj_msgSend(_24,"color"));
}
}),new objj_method(sel_getUid("mode"),function(_2b,_2c){
with(_2b){
return _mode;
}
}),new objj_method(sel_getUid("orderFront:"),function(_2d,_2e,_2f){
with(_2d){
objj_msgSend(_2d,"_loadContentsIfNecessary");
objj_msgSendSuper({receiver:_2d,super_class:objj_getClass("CPPanel")},"orderFront:",_2f);
}
}),new objj_method(sel_getUid("_loadContentsIfNecessary"),function(_30,_31){
with(_30){
if(_toolbar){
return;
}
if(!_color){
_color=objj_msgSend(CPColor,"whiteColor");
}
_colorPickers=[];
var _32=objj_msgSend(_7,"count");
for(var i=0;i<_32;i++){
var _33=_7[i],_34=objj_msgSend(objj_msgSend(_33,"alloc"),"initWithPickerMask:colorPanel:",0,_30);
_colorPickers.push(_34);
}
var _35=objj_msgSend(_30,"contentView"),_36=objj_msgSend(_35,"bounds");
_toolbar=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,6,CGRectGetWidth(_36),_2));
objj_msgSend(_toolbar,"setAutoresizingMask:",CPViewWidthSizable);
var _37=_32*_4+(_32-1)*_5,_38=(CGRectGetWidth(_36)-_37)/2,_39=nil;
for(var i=0;i<_32;i++){
var _3a=objj_msgSend(_colorPickers[i],"provideNewButtonImage"),_3b=objj_msgSend(_colorPickers[i],"provideNewAlternateButtonImage"),_3c=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(_38+i*(_4+_5),0,_4,_4));
objj_msgSend(_3c,"setTag:",i);
objj_msgSend(_3c,"setTarget:",_30);
objj_msgSend(_3c,"setAction:",sel_getUid("_setPicker:"));
objj_msgSend(_3c,"setBordered:",NO);
objj_msgSend(_3c,"setAutoresizingMask:",CPViewMinXMargin|CPViewMaxXMargin);
objj_msgSend(_3c,"setImage:",_3a);
objj_msgSend(_3c,"setAlternateImage:",_3b);
objj_msgSend(_toolbar,"addSubview:",_3c);
if(!_39){
_39=_3c;
}
}
var _3d=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(76,_2+10,CGRectGetWidth(_36)-86,_1));
_previewView=objj_msgSend(objj_msgSend(_CPColorPanelPreview,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_3d,"bounds"),2,2));
objj_msgSend(_previewView,"setColorPanel:",_30);
objj_msgSend(_previewView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_3d,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,1));
objj_msgSend(_3d,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_3d,"addSubview:",_previewView);
var _3e=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(10,_2+10,60,15));
objj_msgSend(_3e,"setStringValue:","Preview:");
objj_msgSend(_3e,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_3e,"setAlignment:",CPRightTextAlignment);
var _3f=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(76,_2+10+_1+5,CGRectGetWidth(_36)-86,_3+2));
objj_msgSend(_3f,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,1));
objj_msgSend(_3f,"setAutoresizingMask:",CPViewWidthSizable);
_swatchView=objj_msgSend(objj_msgSend(_CPColorPanelSwatches,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_3f,"bounds"),1,1));
objj_msgSend(_swatchView,"setColorPanel:",_30);
objj_msgSend(_swatchView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_3f,"addSubview:",_swatchView);
var _40=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(10,_2+8+_1+6,60,15));
objj_msgSend(_40,"setStringValue:","Swatches:");
objj_msgSend(_40,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_40,"setAlignment:",CPRightTextAlignment);
var _41=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(10,_2+_1+35,60,20));
objj_msgSend(_41,"setStringValue:","Opacity:");
objj_msgSend(_41,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_41,"setAlignment:",CPRightTextAlignment);
_opacitySlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(76,_2+_1+34,CGRectGetWidth(_36)-86,20));
objj_msgSend(_opacitySlider,"setMinValue:",0);
objj_msgSend(_opacitySlider,"setMaxValue:",1);
objj_msgSend(_opacitySlider,"setTarget:",_30);
objj_msgSend(_opacitySlider,"setAction:",sel_getUid("setOpacity:"));
objj_msgSend(_35,"addSubview:",_toolbar);
objj_msgSend(_35,"addSubview:",_3d);
objj_msgSend(_35,"addSubview:",_3e);
objj_msgSend(_35,"addSubview:",_3f);
objj_msgSend(_35,"addSubview:",_40);
objj_msgSend(_35,"addSubview:",_41);
objj_msgSend(_35,"addSubview:",_opacitySlider);
_target=nil;
_action=nil;
_activePicker=nil;
objj_msgSend(_previewView,"setBackgroundColor:",_color);
if(_39){
objj_msgSend(_30,"_setPicker:",_39);
}
}
}),new objj_method(sel_getUid("setOpacity:"),function(_42,_43,_44){
with(_42){
var _45=objj_msgSend(objj_msgSend(_42,"color"),"components"),_46=objj_msgSend(_44,"floatValue");
objj_msgSend(_42,"setColor:updatePicker:",objj_msgSend(_color,"colorWithAlphaComponent:",_46),YES);
}
})]);
class_addMethods(_9,[new objj_method(sel_getUid("provideColorPickerClass:"),function(_47,_48,_49){
with(_47){
_7.push(_49);
}
}),new objj_method(sel_getUid("sharedColorPanel"),function(_4a,_4b){
with(_4a){
if(!_6){
_6=objj_msgSend(objj_msgSend(CPColorPanel,"alloc"),"init");
}
return _6;
}
}),new objj_method(sel_getUid("setPickerMode:"),function(_4c,_4d,_4e){
with(_4c){
var _4f=objj_msgSend(CPColorPanel,"sharedColorPanel");
objj_msgSend(_4f,"setMode:",_4e);
}
})]);
CPColorDragType="CPColorDragType";
var _50="CPColorPanelSwatchesCookie";
var _8=objj_allocateClassPair(CPView,"_CPColorPanelSwatches"),_9=_8.isa;
class_addIvars(_8,[new objj_ivar("_swatches"),new objj_ivar("_dragColor"),new objj_ivar("_colorPanel"),new objj_ivar("_swatchCookie")]);
objj_registerClassPair(_8);
objj_addClassForBundle(_8,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_8,[new objj_method(sel_getUid("initWithFrame:"),function(_51,_52,_53){
with(_51){
_51=objj_msgSendSuper({receiver:_51,super_class:objj_getClass("CPView")},"initWithFrame:",_53);
objj_msgSend(_51,"setBackgroundColor:",objj_msgSend(CPColor,"grayColor"));
objj_msgSend(_51,"registerForDraggedTypes:",objj_msgSend(CPArray,"arrayWithObjects:",CPColorDragType));
var _54=objj_msgSend(CPColor,"whiteColor");
_swatchCookie=objj_msgSend(objj_msgSend(CPCookie,"alloc"),"initWithName:",_50);
var _55=objj_msgSend(_51,"startingColorList");
_swatches=[];
for(var i=0;i<50;i++){
var _56=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(13*i+1,1,12,12)),_57=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_56,"bounds"),1,1));
objj_msgSend(_56,"setBackgroundColor:",_54);
objj_msgSend(_57,"setBackgroundColor:",(i<_55.length)?_55[i]:_54);
objj_msgSend(_56,"addSubview:",_57);
objj_msgSend(_51,"addSubview:",_56);
_swatches.push(_56);
}
return _51;
}
}),new objj_method(sel_getUid("isOpaque"),function(_58,_59){
with(_58){
return YES;
}
}),new objj_method(sel_getUid("startingColorList"),function(_5a,_5b){
with(_5a){
var _5c=objj_msgSend(_swatchCookie,"value");
if(_5c==""){
return [objj_msgSend(CPColor,"blackColor"),objj_msgSend(CPColor,"darkGrayColor"),objj_msgSend(CPColor,"grayColor"),objj_msgSend(CPColor,"lightGrayColor"),objj_msgSend(CPColor,"whiteColor"),objj_msgSend(CPColor,"redColor"),objj_msgSend(CPColor,"greenColor"),objj_msgSend(CPColor,"blueColor"),objj_msgSend(CPColor,"yellowColor")];
}
var _5c=eval(_5c);
var _5d=[];
for(var i=0;i<_5c.length;i++){
_5d.push(objj_msgSend(CPColor,"colorWithHexString:",_5c[i]));
}
return _5d;
}
}),new objj_method(sel_getUid("saveColorList"),function(_5e,_5f){
with(_5e){
var _60=[];
for(var i=0;i<_swatches.length;i++){
_60.push(objj_msgSend(objj_msgSend(objj_msgSend(_swatches[i],"subviews")[0],"backgroundColor"),"hexString"));
}
var _61=new Date();
_61.setYear(2019);
objj_msgSend(_swatchCookie,"setValue:expires:domain:",JSON.stringify(_60),_61,nil);
}
}),new objj_method(sel_getUid("setColorPanel:"),function(_62,_63,_64){
with(_62){
_colorPanel=_64;
}
}),new objj_method(sel_getUid("colorPanel"),function(_65,_66){
with(_65){
return _colorPanel;
}
}),new objj_method(sel_getUid("colorAtIndex:"),function(_67,_68,_69){
with(_67){
return objj_msgSend(objj_msgSend(_swatches[_69],"subviews")[0],"backgroundColor");
}
}),new objj_method(sel_getUid("setColor:atIndex:"),function(_6a,_6b,_6c,_6d){
with(_6a){
objj_msgSend(objj_msgSend(_swatches[_6d],"subviews")[0],"setBackgroundColor:",_6c);
objj_msgSend(_6a,"saveColorList");
}
}),new objj_method(sel_getUid("mouseUp:"),function(_6e,_6f,_70){
with(_6e){
var _71=objj_msgSend(_6e,"convertPoint:fromView:",objj_msgSend(_70,"locationInWindow"),nil),_72=objj_msgSend(_6e,"bounds");
if(!CGRectContainsPoint(_72,_71)||_71.x>objj_msgSend(_6e,"bounds").size.width-1||_71.x<1){
return NO;
}
objj_msgSend(_colorPanel,"setColor:updatePicker:",objj_msgSend(_6e,"colorAtIndex:",FLOOR(_71.x/13)),YES);
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_73,_74,_75){
with(_73){
var _76=objj_msgSend(_73,"convertPoint:fromView:",objj_msgSend(_75,"locationInWindow"),nil);
if(_76.x>objj_msgSend(_73,"bounds").size.width-1||_76.x<1){
return NO;
}
objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",objj_msgSend(CPArray,"arrayWithObject:",CPColorDragType),_73);
var _77=_swatches[FLOOR(_76.x/13)];
_dragColor=objj_msgSend(objj_msgSend(_77,"subviews")[0],"backgroundColor");
var _78=CPRectCreateCopy(objj_msgSend(_77,"bounds"));
var _79=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",_78);
dragFillView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectInset(_78,1,1));
objj_msgSend(_79,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(dragFillView,"setBackgroundColor:",_dragColor);
objj_msgSend(_79,"addSubview:",dragFillView);
objj_msgSend(_73,"dragView:at:offset:event:pasteboard:source:slideBack:",_79,CPPointMake(_76.x-_78.size.width/2,_76.y-_78.size.height/2),CPPointMake(0,0),_75,nil,_73,YES);
}
}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(_7a,_7b,_7c,_7d){
with(_7a){
if(_7d==CPColorDragType){
objj_msgSend(_7c,"setData:forType:",objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_dragColor),_7d);
}
}
}),new objj_method(sel_getUid("performDragOperation:"),function(_7e,_7f,_80){
with(_7e){
var _81=objj_msgSend(_7e,"convertPoint:fromView:",objj_msgSend(_80,"draggingLocation"),nil),_82=objj_msgSend(_80,"draggingPasteboard"),_83=nil;
if(!objj_msgSend(_82,"availableTypeFromArray:",[CPColorDragType])||_81.x>objj_msgSend(_7e,"bounds").size.width-1||_81.x<1){
return NO;
}
objj_msgSend(_7e,"setColor:atIndex:",objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(_82,"dataForType:",CPColorDragType)),FLOOR(_81.x/13));
}
})]);
var _8=objj_allocateClassPair(CPView,"_CPColorPanelPreview"),_9=_8.isa;
class_addIvars(_8,[new objj_ivar("_colorPanel")]);
objj_registerClassPair(_8);
objj_addClassForBundle(_8,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_8,[new objj_method(sel_getUid("initWithFrame:"),function(_84,_85,_86){
with(_84){
_84=objj_msgSendSuper({receiver:_84,super_class:objj_getClass("CPView")},"initWithFrame:",_86);
objj_msgSend(_84,"registerForDraggedTypes:",objj_msgSend(CPArray,"arrayWithObjects:",CPColorDragType));
return _84;
}
}),new objj_method(sel_getUid("setColorPanel:"),function(_87,_88,_89){
with(_87){
_colorPanel=_89;
}
}),new objj_method(sel_getUid("colorPanel"),function(_8a,_8b){
with(_8a){
return _colorPanel;
}
}),new objj_method(sel_getUid("performDragOperation:"),function(_8c,_8d,_8e){
with(_8c){
var _8f=objj_msgSend(_8e,"draggingPasteboard");
if(!objj_msgSend(_8f,"availableTypeFromArray:",[CPColorDragType])){
return NO;
}
var _90=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(_8f,"dataForType:",CPColorDragType));
objj_msgSend(_colorPanel,"setColor:updatePicker:",_90,YES);
}
}),new objj_method(sel_getUid("isOpaque"),function(_91,_92){
with(_91){
return YES;
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_93,_94,_95){
with(_93){
var _96=objj_msgSend(_93,"convertPoint:fromView:",objj_msgSend(_95,"locationInWindow"),nil);
objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",[CPColorDragType],_93);
var _97=CPRectMake(0,0,15,15);
var _98=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",_97);
dragFillView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectInset(_97,1,1));
objj_msgSend(_98,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(dragFillView,"setBackgroundColor:",objj_msgSend(_93,"backgroundColor"));
objj_msgSend(_98,"addSubview:",dragFillView);
objj_msgSend(_93,"dragView:at:offset:event:pasteboard:source:slideBack:",_98,CPPointMake(_96.x-_97.size.width/2,_96.y-_97.size.height/2),CPPointMake(0,0),_95,nil,_93,YES);
}
}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(_99,_9a,_9b,_9c){
with(_99){
if(_9c==CPColorDragType){
objj_msgSend(_9b,"setData:forType:",objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",objj_msgSend(_99,"backgroundColor")),_9c);
}
}
})]);
i;15;CPColorPicker.ji;21;CPSliderColorPicker.jc;155;
objj_msgSend(CPColorPanel,"provideColorPickerClass:",CPColorWheelColorPicker);
objj_msgSend(CPColorPanel,"provideColorPickerClass:",CPSliderColorPicker);
p;15;CPColorPicker.jI;21;Foundation/CPObject.ji;14;CPColorPanel.jc;10196;
var _1=objj_allocateClassPair(CPObject,"CPColorPicker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_panel"),new objj_ivar("_mask")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(_3,_4,_5,_6){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
_panel=_6;
_mask=_5;
return _3;
}
}),new objj_method(sel_getUid("colorPanel"),function(_7,_8){
with(_7){
return _panel;
}
}),new objj_method(sel_getUid("provideNewButtonImage"),function(_9,_a){
with(_9){
return nil;
}
}),new objj_method(sel_getUid("setMode:"),function(_b,_c,_d){
with(_b){
return;
}
}),new objj_method(sel_getUid("setColor:"),function(_e,_f,_10){
with(_e){
return;
}
})]);
var _1=objj_allocateClassPair(CPColorPicker,"CPColorWheelColorPicker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_pickerView"),new objj_ivar("_brightnessSlider"),new objj_ivar("_hueSaturationView"),new objj_ivar("_cachedColor")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(_11,_12,_13,_14){
with(_11){
return objj_msgSendSuper({receiver:_11,super_class:objj_getClass("CPColorPicker")},"initWithPickerMask:colorPanel:",_13,_14);
}
}),new objj_method(sel_getUid("initView"),function(_15,_16){
with(_15){
aFrame=CPRectMake(0,0,CPColorPickerViewWidth,CPColorPickerViewHeight);
_pickerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",aFrame);
objj_msgSend(_pickerView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
_brightnessSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(0,(aFrame.size.height-34),aFrame.size.width,15));
objj_msgSend(_brightnessSlider,"setValue:forThemeAttribute:",15,"track-width");
objj_msgSend(_brightnessSlider,"setValue:forThemeAttribute:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPColorPicker,"class")),"pathForResource:","brightness_bar.png"))),"track-color");
objj_msgSend(_brightnessSlider,"setMinValue:",0);
objj_msgSend(_brightnessSlider,"setMaxValue:",100);
objj_msgSend(_brightnessSlider,"setFloatValue:",100);
objj_msgSend(_brightnessSlider,"setTarget:",_15);
objj_msgSend(_brightnessSlider,"setAction:",sel_getUid("brightnessSliderDidChange:"));
objj_msgSend(_brightnessSlider,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinYMargin);
_hueSaturationView=objj_msgSend(objj_msgSend(__CPColorWheel,"alloc"),"initWithFrame:",CPRectMake(0,0,aFrame.size.width,aFrame.size.height-38));
objj_msgSend(_hueSaturationView,"setDelegate:",_15);
objj_msgSend(_hueSaturationView,"setAutoresizingMask:",(CPViewWidthSizable|CPViewHeightSizable));
objj_msgSend(_pickerView,"addSubview:",_hueSaturationView);
objj_msgSend(_pickerView,"addSubview:",_brightnessSlider);
}
}),new objj_method(sel_getUid("brightnessSliderDidChange:"),function(_17,_18,_19){
with(_17){
objj_msgSend(_17,"updateColor");
}
}),new objj_method(sel_getUid("colorWheelDidChange:"),function(_1a,_1b,_1c){
with(_1a){
objj_msgSend(_1a,"updateColor");
}
}),new objj_method(sel_getUid("updateColor"),function(_1d,_1e){
with(_1d){
var hue=objj_msgSend(_hueSaturationView,"angle"),_1f=objj_msgSend(_hueSaturationView,"distance"),_20=objj_msgSend(_brightnessSlider,"floatValue");
objj_msgSend(_hueSaturationView,"setWheelBrightness:",_20/100);
objj_msgSend(_brightnessSlider,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHue:saturation:brightness:",hue,_1f,100));
var _21=objj_msgSend(_1d,"colorPanel"),_22=objj_msgSend(_21,"opacity");
_cachedColor=objj_msgSend(CPColor,"colorWithHue:saturation:brightness:alpha:",hue,_1f,_20,_22);
objj_msgSend(objj_msgSend(_1d,"colorPanel"),"setColor:",_cachedColor);
}
}),new objj_method(sel_getUid("supportsMode:"),function(_23,_24,_25){
with(_23){
return (_25==CPWheelColorPickerMode)?YES:NO;
}
}),new objj_method(sel_getUid("currentMode"),function(_26,_27){
with(_26){
return CPWheelColorPickerMode;
}
}),new objj_method(sel_getUid("provideNewView:"),function(_28,_29,_2a){
with(_28){
if(_2a){
objj_msgSend(_28,"initView");
}
return _pickerView;
}
}),new objj_method(sel_getUid("setColor:"),function(_2b,_2c,_2d){
with(_2b){
if(objj_msgSend(_2d,"isEqual:",_cachedColor)){
return;
}
var hsb=objj_msgSend(_2d,"hsbComponents");
objj_msgSend(_hueSaturationView,"setPositionToColor:",_2d);
objj_msgSend(_brightnessSlider,"setFloatValue:",hsb[2]);
objj_msgSend(_hueSaturationView,"setWheelBrightness:",hsb[2]/100);
objj_msgSend(_brightnessSlider,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHue:saturation:brightness:",hsb[0],hsb[1],100));
}
}),new objj_method(sel_getUid("provideNewButtonImage"),function(_2e,_2f){
with(_2e){
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_button.png"),CGSizeMake(32,32));
}
}),new objj_method(sel_getUid("provideNewAlternateButtonImage"),function(_30,_31){
with(_30){
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_button_h.png"),CGSizeMake(32,32));
}
})]);
var _1=objj_allocateClassPair(CPView,"__CPColorWheel"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_wheelImage"),new objj_ivar("_blackWheelImage"),new objj_ivar("_crosshair"),new objj_ivar("_delegate"),new objj_ivar("_angle"),new objj_ivar("_distance"),new objj_ivar("_radius")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_32,_33,_34){
with(_32){
_32=objj_msgSendSuper({receiver:_32,super_class:objj_getClass("CPView")},"initWithFrame:",_34);
var _35=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel.png");
_wheelImage=new Image();
_wheelImage.src=_35;
_wheelImage.style.position="absolute";
_35=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_black.png");
_blackWheelImage=new Image();
_blackWheelImage.src=_35;
_blackWheelImage.style.opacity="0";
_blackWheelImage.style.filter="alpha(opacity=0)";
_blackWheelImage.style.position="absolute";
_DOMElement.appendChild(_wheelImage);
_DOMElement.appendChild(_blackWheelImage);
objj_msgSend(_32,"setWheelSize:",_34.size);
_crosshair=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(_radius-2,_radius-2,4,4));
objj_msgSend(_crosshair,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));
var _36=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_crosshair,"bounds"),1,1));
objj_msgSend(_36,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_crosshair,"addSubview:",_36);
objj_msgSend(_32,"addSubview:",_crosshair);
return _32;
}
}),new objj_method(sel_getUid("setWheelBrightness:"),function(_37,_38,_39){
with(_37){
_blackWheelImage.style.opacity=1-_39;
_blackWheelImage.style.filter="alpha(opacity="+(1-_39)*100+")";
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_3a,_3b,_3c){
with(_3a){
objj_msgSendSuper({receiver:_3a,super_class:objj_getClass("CPView")},"setFrameSize:",_3c);
objj_msgSend(_3a,"setWheelSize:",_3c);
}
}),new objj_method(sel_getUid("setWheelSize:"),function(_3d,_3e,_3f){
with(_3d){
var min=MIN(_3f.width,_3f.height);
_blackWheelImage.style.width=min;
_blackWheelImage.style.height=min;
_blackWheelImage.width=min;
_blackWheelImage.height=min;
_blackWheelImage.style.top=(_3f.height-min)/2+"px";
_blackWheelImage.style.left=(_3f.width-min)/2+"px";
_wheelImage.style.width=min;
_wheelImage.style.height=min;
_wheelImage.width=min;
_wheelImage.height=min;
_wheelImage.style.top=(_3f.height-min)/2+"px";
_wheelImage.style.left=(_3f.width-min)/2+"px";
_radius=min/2;
objj_msgSend(_3d,"setAngle:distance:",objj_msgSend(_3d,"degreesToRadians:",_angle),(_distance/100)*_radius);
}
}),new objj_method(sel_getUid("setDelegate:"),function(_40,_41,_42){
with(_40){
_delegate=_42;
}
}),new objj_method(sel_getUid("delegate"),function(_43,_44){
with(_43){
return _delegate;
}
}),new objj_method(sel_getUid("angle"),function(_45,_46){
with(_45){
return _angle;
}
}),new objj_method(sel_getUid("distance"),function(_47,_48){
with(_47){
return _distance;
}
}),new objj_method(sel_getUid("mouseDown:"),function(_49,_4a,_4b){
with(_49){
objj_msgSend(_49,"reposition:",_4b);
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_4c,_4d,_4e){
with(_4c){
objj_msgSend(_4c,"reposition:",_4e);
}
}),new objj_method(sel_getUid("reposition:"),function(_4f,_50,_51){
with(_4f){
var _52=objj_msgSend(_4f,"bounds"),_53=objj_msgSend(_4f,"convertPoint:fromView:",objj_msgSend(_51,"locationInWindow"),nil);
var _54=CGRectGetMidX(_52);
var _55=CGRectGetMidY(_52);
var _56=MIN(SQRT((_53.x-_54)*(_53.x-_54)+(_53.y-_55)*(_53.y-_55)),_radius);
var _57=ATAN2(_53.y-_55,_53.x-_54);
objj_msgSend(_4f,"setAngle:distance:",_57,_56);
objj_msgSend(_delegate,"colorWheelDidChange:",_4f);
}
}),new objj_method(sel_getUid("setAngle:distance:"),function(_58,_59,_5a,_5b){
with(_58){
var _5c=objj_msgSend(_58,"bounds");
var _5d=CGRectGetMidX(_5c);
var _5e=CGRectGetMidY(_5c);
_angle=objj_msgSend(_58,"radiansToDegrees:",_5a);
_distance=(_5b/_radius)*100;
objj_msgSend(_crosshair,"setFrameOrigin:",CPPointMake(COS(_5a)*_5b+_5d-2,SIN(_5a)*_5b+_5e-2));
}
}),new objj_method(sel_getUid("setPositionToColor:"),function(_5f,_60,_61){
with(_5f){
var hsb=objj_msgSend(_61,"hsbComponents"),_62=objj_msgSend(_5f,"bounds");
var _63=objj_msgSend(_5f,"degreesToRadians:",hsb[0]),_64=(hsb[1]/100)*_radius;
objj_msgSend(_5f,"setAngle:distance:",_63,_64);
}
}),new objj_method(sel_getUid("radiansToDegrees:"),function(_65,_66,_67){
with(_65){
return ((-_67/PI)*180+360)%360;
}
}),new objj_method(sel_getUid("degreesToRadians:"),function(_68,_69,_6a){
with(_68){
return -(((_6a-360)/180)*PI);
}
})]);
p;13;CPColorWell.jI;21;Foundation/CPString.ji;8;CPView.ji;9;CPColor.ji;14;CPColorPanel.jc;5916;
var _1="_CPColorWellDidBecomeExclusiveNotification";
var _2=objj_allocateClassPair(CPControl,"CPColorWell"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_active"),new objj_ivar("_bordered"),new objj_ivar("_color"),new objj_ivar("_wellView")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithFrame:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPControl")},"initWithFrame:",_6);
if(_4){
_active=NO;
_bordered=YES;
_color=objj_msgSend(CPColor,"whiteColor");
objj_msgSend(_4,"drawBezelWithHighlight:",NO);
objj_msgSend(_4,"drawWellInside:",CGRectInset(objj_msgSend(_4,"bounds"),3,3));
objj_msgSend(_4,"_registerForNotifications");
}
return _4;
}
}),new objj_method(sel_getUid("_registerForNotifications"),function(_7,_8){
with(_7){
var _9=objj_msgSend(CPNotificationCenter,"defaultCenter");
objj_msgSend(_9,"addObserver:selector:name:object:",_7,sel_getUid("colorWellDidBecomeExclusive:"),_1,nil);
objj_msgSend(_9,"addObserver:selector:name:object:",_7,sel_getUid("colorPanelWillClose:"),CPWindowWillCloseNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"));
}
}),new objj_method(sel_getUid("isBordered"),function(_a,_b){
with(_a){
return _bordered;
}
}),new objj_method(sel_getUid("setBordered:"),function(_c,_d,_e){
with(_c){
if(_bordered==_e){
return;
}
_bordered=_e;
objj_msgSend(_c,"drawWellInside:",CGRectInset(objj_msgSend(_c,"bounds"),3,3));
}
}),new objj_method(sel_getUid("color"),function(_f,_10){
with(_f){
return _color;
}
}),new objj_method(sel_getUid("setColor:"),function(_11,_12,_13){
with(_11){
if(_color==_13){
return;
}
_color=_13;
objj_msgSend(_11,"drawWellInside:",CGRectInset(objj_msgSend(_11,"bounds"),3,3));
}
}),new objj_method(sel_getUid("takeColorFrom:"),function(_14,_15,_16){
with(_14){
objj_msgSend(_14,"setColor:",objj_msgSend(_16,"color"));
}
}),new objj_method(sel_getUid("activate:"),function(_17,_18,_19){
with(_17){
if(_19){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",_1,_17);
}
if(objj_msgSend(_17,"isActive")){
return;
}
_active=YES;
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_17,sel_getUid("colorPanelDidChangeColor:"),CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"));
}
}),new objj_method(sel_getUid("deactivate"),function(_1a,_1b){
with(_1a){
if(!objj_msgSend(_1a,"isActive")){
return;
}
_active=NO;
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_1a,CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"));
}
}),new objj_method(sel_getUid("isActive"),function(_1c,_1d){
with(_1c){
return _active;
}
}),new objj_method(sel_getUid("drawBezelWithHighlight:"),function(_1e,_1f,_20){
with(_1e){
}
}),new objj_method(sel_getUid("drawWellInside:"),function(_21,_22,_23){
with(_21){
if(!_wellView){
_wellView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",_23);
objj_msgSend(_wellView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_21,"addSubview:",_wellView);
}else{
objj_msgSend(_wellView,"setFrame:",_23);
}
objj_msgSend(_wellView,"setBackgroundColor:",_color);
}
}),new objj_method(sel_getUid("colorPanelDidChangeColor:"),function(_24,_25,_26){
with(_24){
objj_msgSend(_24,"takeColorFrom:",objj_msgSend(_26,"object"));
objj_msgSend(_24,"sendAction:to:",objj_msgSend(_24,"action"),objj_msgSend(_24,"target"));
}
}),new objj_method(sel_getUid("colorWellDidBecomeExclusive:"),function(_27,_28,_29){
with(_27){
if(_27!=objj_msgSend(_29,"object")){
objj_msgSend(_27,"deactivate");
}
}
}),new objj_method(sel_getUid("colorPanelWillClose:"),function(_2a,_2b,_2c){
with(_2a){
objj_msgSend(_2a,"deactivate");
}
}),new objj_method(sel_getUid("mouseDown:"),function(_2d,_2e,_2f){
with(_2d){
objj_msgSend(_2d,"drawBezelWithHighlight:",YES);
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_30,_31,_32){
with(_30){
objj_msgSend(_30,"drawBezelWithHighlight:",CGRectContainsPoint(objj_msgSend(_30,"bounds"),objj_msgSend(_30,"convertPoint:fromView:",objj_msgSend(_32,"locationInWindow"),nil)));
}
}),new objj_method(sel_getUid("mouseUp:"),function(_33,_34,_35){
with(_33){
objj_msgSend(_33,"drawBezelWithHighlight:",NO);
if(!CGRectContainsPoint(objj_msgSend(_33,"bounds"),objj_msgSend(_33,"convertPoint:fromView:",objj_msgSend(_35,"locationInWindow"),nil))){
return;
}
objj_msgSend(_33,"activate:",YES);
var _36=objj_msgSend(CPColorPanel,"sharedColorPanel");
objj_msgSend(_36,"setColor:",_color);
objj_msgSend(_36,"orderFront:",_33);
}
})]);
var _37="CPColorWellColorKey",_38="CPColorWellBorderedKey";
var _2=objj_getClass("CPColorWell");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPColorWell\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("initWithCoder:"),function(_39,_3a,_3b){
with(_39){
_39=objj_msgSendSuper({receiver:_39,super_class:objj_getClass("CPControl")},"initWithCoder:",_3b);
if(_39){
_active=NO;
_bordered=objj_msgSend(_3b,"decodeObjectForKey:",_38);
_color=objj_msgSend(_3b,"decodeObjectForKey:",_37);
objj_msgSend(_39,"drawBezelWithHighlight:",NO);
objj_msgSend(_39,"drawWellInside:",CGRectInset(objj_msgSend(_39,"bounds"),3,3));
objj_msgSend(_39,"_registerForNotifications");
}
return _39;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_3c,_3d,_3e){
with(_3c){
var _3f=_subviews;
_subviews=objj_msgSend(_subviews,"copy");
objj_msgSend(_subviews,"removeObjectIdenticalTo:",_wellView);
objj_msgSendSuper({receiver:_3c,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_3e);
_subviews=_3f;
objj_msgSend(_3e,"encodeObject:forKey:",_color,_37);
objj_msgSend(_3e,"encodeObject:forKey:",_bordered,_38);
}
})]);
p;17;CPCompatibility.ji;9;CPEvent.ji;12;CPPlatform.jc;3670;
CPUnknownBrowserEngine=0;
CPGeckoBrowserEngine=1;
CPInternetExplorerBrowserEngine=2;
CPKHTMLBrowserEngine=3;
CPOperaBrowserEngine=4;
CPWebKitBrowserEngine=5;
CPMacOperatingSystem=0;
CPWindowsOperatingSystem=1;
CPOtherOperatingSystem=2;
CPCSSRGBAFeature=1<<5;
CPHTMLCanvasFeature=1<<6;
CPHTMLContentEditableFeature=1<<7;
CPHTMLDragAndDropFeature=1<<8;
CPJavascriptInnerTextFeature=1<<9;
CPJavascriptTextContentFeature=1<<10;
CPJavascriptClipboardEventsFeature=1<<11;
CPJavascriptClipboardAccessFeature=1<<12;
CPJavaScriptCanvasDrawFeature=1<<13;
CPJavaScriptCanvasTransformFeature=1<<14;
CPVMLFeature=1<<15;
CPJavascriptRemedialKeySupport=1<<16;
CPJavaScriptShadowFeature=1<<20;
CPJavaScriptNegativeMouseWheelValues=1<<22;
CPJavaScriptMouseWheelValues_8_15=1<<23;
CPOpacityRequiresFilterFeature=1<<24;
CPInputTypeCanBeChangedFeature=1<<25;
CPHTML5DragAndDropSourceYOffBy1=1<<26;
var _1="",_2=CPUnknownBrowserEngine,_3=0;
_3|=CPInputTypeCanBeChangedFeature;
if(typeof window!="undfined"&&typeof window.navigator!="undefined"){
_1=window.navigator.userAgent;
}
if(window.opera){
_2=CPOperaBrowserEngine;
_3|=CPJavaScriptCanvasDrawFeature;
}else{
if(window.attachEvent){
_2=CPInternetExplorerBrowserEngine;
_3|=CPVMLFeature;
_3|=CPJavascriptRemedialKeySupport;
_3|=CPJavaScriptShadowFeature;
_3|=CPOpacityRequiresFilterFeature;
_3&=~CPInputTypeCanBeChangedFeature;
}else{
if(_1.indexOf("AppleWebKit/")!=-1){
_2=CPWebKitBrowserEngine;
_3|=CPCSSRGBAFeature;
_3|=CPHTMLContentEditableFeature;
_3|=CPHTMLDragAndDropFeature;
_3|=CPJavascriptClipboardEventsFeature;
_3|=CPJavascriptClipboardAccessFeature;
_3|=CPJavaScriptShadowFeature;
var _4=_1.indexOf("AppleWebKit/")+"AppleWebKit/".length,_5=_1.indexOf(" ",_4),_6=_1.substring(_4,_5),_7=_6.indexOf("."),_8=parseInt(_6.substring(0,_7)),_9=parseInt(_6.substr(_7+1));
if((_1.indexOf("Safari")!==CPNotFound&&(_8>525||(_8===525&&_9>14)))||_1.indexOf("Chrome")!==CPNotFound){
_3|=CPJavascriptRemedialKeySupport;
}
if(!objj_msgSend(CPPlatform,"isBrowser")){
_3|=CPJavascriptRemedialKeySupport;
}
if(_8<532||(_8===532&&_9<6)){
_3|=CPHTML5DragAndDropSourceYOffBy1;
}
}else{
if(_1.indexOf("KHTML")!=-1){
_2=CPKHTMLBrowserEngine;
}else{
if(_1.indexOf("Gecko")!==-1){
_2=CPGeckoBrowserEngine;
_3|=CPJavaScriptCanvasDrawFeature;
var _a=_1.indexOf("Firefox"),_b=(_a===-1)?2:parseFloat(_1.substring(_a+"Firefox".length+1));
if(_b>=3){
_3|=CPCSSRGBAFeature;
}
if(_b<3){
_3|=CPJavaScriptMouseWheelValues_8_15;
}
}
}
}
}
}
if(typeof document!="undefined"){
var _c=document.createElement("canvas");
if(_c&&_c.getContext){
_3|=CPHTMLCanvasFeature;
var _d=document.createElement("canvas").getContext("2d");
if(_d&&_d.setTransform&&_d.transform){
_3|=CPJavaScriptCanvasTransformFeature;
}
}
var _e=document.createElement("div");
if(_e.innerText!=undefined){
_3|=CPJavascriptInnerTextFeature;
}else{
if(_e.textContent!=undefined){
_3|=CPJavascriptTextContentFeature;
}
}
}
CPFeatureIsCompatible=function(_f){
return _3&_f;
};
CPBrowserIsEngine=function(_10){
return _2===_10;
};
CPBrowserIsOperatingSystem=function(_11){
return OPERATING_SYSTEM===_11;
};
OPERATING_SYSTEM=CPOtherOperatingSystem;
if(_1.indexOf("Mac")!==-1){
OPERATING_SYSTEM=CPMacOperatingSystem;
CPPlatformActionKeyMask=CPCommandKeyMask;
CPUndoKeyEquivalent="Z";
CPRedoKeyEquivalent="Z";
CPUndoKeyEquivalentModifierMask=CPCommandKeyMask;
CPRedoKeyEquivalentModifierMask=CPCommandKeyMask|CPShiftKeyMask;
}else{
if(_1.indexOf("Windows")!==-1){
OPERATING_SYSTEM=CPWindowsOperatingSystem;
}
CPPlatformActionKeyMask=CPControlKeyMask;
CPUndoKeyEquivalent="Z";
CPRedoKeyEquivalent="Y";
CPUndoKeyEquivalentModifierMask=CPControlKeyMask;
CPRedoKeyEquivalentModifierMask=CPControlKeyMask;
}
p;11;CPControl.ji;8;CPFont.ji;10;CPShadow.ji;8;CPView.jc;17019;
CPLeftTextAlignment=0;
CPRightTextAlignment=1;
CPCenterTextAlignment=2;
CPJustifiedTextAlignment=3;
CPNaturalTextAlignment=4;
CPRegularControlSize=0;
CPSmallControlSize=1;
CPMiniControlSize=2;
CPControlNormalBackgroundColor="CPControlNormalBackgroundColor";
CPControlSelectedBackgroundColor="CPControlSelectedBackgroundColor";
CPControlHighlightedBackgroundColor="CPControlHighlightedBackgroundColor";
CPControlDisabledBackgroundColor="CPControlDisabledBackgroundColor";
CPControlTextDidBeginEditingNotification="CPControlTextDidBeginEditingNotification";
CPControlTextDidChangeNotification="CPControlTextDidChangeNotification";
CPControlTextDidEndEditingNotification="CPControlTextDidEndEditingNotification";
var _1=objj_msgSend(CPColor,"blackColor");
var _2=objj_allocateClassPair(CPView,"CPControl"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_value"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_sendActionOn"),new objj_ivar("_sendsActionOnEndEditing"),new objj_ivar("_continuousTracking"),new objj_ivar("_trackingWasWithinFrame"),new objj_ivar("_trackingMouseDownFlags"),new objj_ivar("_previousTrackingLocation"),new objj_ivar("_toolTip")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("sendsActionOnEndEditing"),function(_4,_5){
with(_4){
return _sendsActionOnEndEditing;
}
}),new objj_method(sel_getUid("setSendsActionOnEndEditing:"),function(_6,_7,_8){
with(_6){
_sendsActionOnEndEditing=_8;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_9,_a,_b){
with(_9){
_9=objj_msgSendSuper({receiver:_9,super_class:objj_getClass("CPView")},"initWithFrame:",_b);
if(_9){
_sendActionOn=CPLeftMouseUpMask;
_trackingMouseDownFlags=0;
}
return _9;
}
}),new objj_method(sel_getUid("setAction:"),function(_c,_d,_e){
with(_c){
_action=_e;
}
}),new objj_method(sel_getUid("action"),function(_f,_10){
with(_f){
return _action;
}
}),new objj_method(sel_getUid("setTarget:"),function(_11,_12,_13){
with(_11){
_target=_13;
}
}),new objj_method(sel_getUid("target"),function(_14,_15){
with(_14){
return _target;
}
}),new objj_method(sel_getUid("sendAction:to:"),function(_16,_17,_18,_19){
with(_16){
objj_msgSend(CPApp,"sendAction:to:from:",_18,_19,_16);
}
}),new objj_method(sel_getUid("sendActionOn:"),function(_1a,_1b,_1c){
with(_1a){
var _1d=_sendActionOn;
_sendActionOn=_1c;
return _1d;
}
}),new objj_method(sel_getUid("isContinuous"),function(_1e,_1f){
with(_1e){
return (_sendActionOn&CPPeriodicMask)!==0;
}
}),new objj_method(sel_getUid("setContinuous:"),function(_20,_21,_22){
with(_20){
if(_22){
_sendActionOn|=CPPeriodicMask;
}else{
_sendActionOn&=~CPPeriodicMask;
}
}
}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),function(_23,_24){
with(_23){
return NO;
}
}),new objj_method(sel_getUid("trackMouse:"),function(_25,_26,_27){
with(_25){
var _28=objj_msgSend(_27,"type"),_29=objj_msgSend(_25,"convertPoint:fromView:",objj_msgSend(_27,"locationInWindow"),nil);
isWithinFrame=objj_msgSend(_25,"tracksMouseOutsideOfFrame")||CGRectContainsPoint(objj_msgSend(_25,"bounds"),_29);
if(_28===CPLeftMouseUp){
objj_msgSend(_25,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,_29,YES);
_trackingMouseDownFlags=0;
}else{
if(_28===CPLeftMouseDown){
_trackingMouseDownFlags=objj_msgSend(_27,"modifierFlags");
_continuousTracking=objj_msgSend(_25,"startTrackingAt:",_29);
}else{
if(_28===CPLeftMouseDragged){
if(isWithinFrame){
if(!_trackingWasWithinFrame){
_continuousTracking=objj_msgSend(_25,"startTrackingAt:",_29);
}else{
if(_continuousTracking){
_continuousTracking=objj_msgSend(_25,"continueTracking:at:",_previousTrackingLocation,_29);
}
}
}else{
objj_msgSend(_25,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,_29,NO);
}
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_25,sel_getUid("trackMouse:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
}
if((_sendActionOn&(1<<_28))&&isWithinFrame){
objj_msgSend(_25,"sendAction:to:",_action,_target);
}
_trackingWasWithinFrame=isWithinFrame;
_previousTrackingLocation=_29;
}
}),new objj_method(sel_getUid("setState:"),function(_2a,_2b,_2c){
with(_2a){
}
}),new objj_method(sel_getUid("nextState"),function(_2d,_2e){
with(_2d){
return 0;
}
}),new objj_method(sel_getUid("performClick:"),function(_2f,_30,_31){
with(_2f){
objj_msgSend(_2f,"highlight:",YES);
objj_msgSend(_2f,"setState:",objj_msgSend(_2f,"nextState"));
objj_msgSend(_2f,"sendAction:to:",objj_msgSend(_2f,"action"),objj_msgSend(_2f,"target"));
objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0.1,_2f,sel_getUid("unhighlightButtonTimerDidFinish:"),nil,NO);
}
}),new objj_method(sel_getUid("unhighlightButtonTimerDidFinish:"),function(_32,_33,_34){
with(_32){
objj_msgSend(_32,"highlight:",NO);
}
}),new objj_method(sel_getUid("mouseDownFlags"),function(_35,_36){
with(_35){
return _trackingMouseDownFlags;
}
}),new objj_method(sel_getUid("startTrackingAt:"),function(_37,_38,_39){
with(_37){
objj_msgSend(_37,"highlight:",YES);
return (_sendActionOn&CPPeriodicMask)||(_sendActionOn&CPLeftMouseDraggedMask);
}
}),new objj_method(sel_getUid("continueTracking:at:"),function(_3a,_3b,_3c,_3d){
with(_3a){
return (_sendActionOn&CPPeriodicMask)||(_sendActionOn&CPLeftMouseDraggedMask);
}
}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(_3e,_3f,_40,_41,_42){
with(_3e){
objj_msgSend(_3e,"highlight:",NO);
}
}),new objj_method(sel_getUid("mouseDown:"),function(_43,_44,_45){
with(_43){
if(!objj_msgSend(_43,"isEnabled")){
return;
}
objj_msgSend(_43,"trackMouse:",_45);
}
}),new objj_method(sel_getUid("objectValue"),function(_46,_47){
with(_46){
return _value;
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_48,_49,_4a){
with(_48){
_value=_4a;
objj_msgSend(_48,"setNeedsLayout");
objj_msgSend(_48,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("floatValue"),function(_4b,_4c){
with(_4b){
var _4d=parseFloat(_value,10);
return isNaN(_4d)?0:_4d;
}
}),new objj_method(sel_getUid("setFloatValue:"),function(_4e,_4f,_50){
with(_4e){
objj_msgSend(_4e,"setObjectValue:",_50);
}
}),new objj_method(sel_getUid("doubleValue"),function(_51,_52){
with(_51){
var _53=parseFloat(_value,10);
return isNaN(_53)?0:_53;
}
}),new objj_method(sel_getUid("setDoubleValue:"),function(_54,_55,_56){
with(_54){
objj_msgSend(_54,"setObjectValue:",_56);
}
}),new objj_method(sel_getUid("intValue"),function(_57,_58){
with(_57){
var _59=parseInt(_value,10);
return isNaN(_59)?0:_59;
}
}),new objj_method(sel_getUid("setIntValue:"),function(_5a,_5b,_5c){
with(_5a){
objj_msgSend(_5a,"setObjectValue:",_5c);
}
}),new objj_method(sel_getUid("integerValue"),function(_5d,_5e){
with(_5d){
var _5f=parseInt(_value,10);
return isNaN(_5f)?0:_5f;
}
}),new objj_method(sel_getUid("setIntegerValue:"),function(_60,_61,_62){
with(_60){
objj_msgSend(_60,"setObjectValue:",_62);
}
}),new objj_method(sel_getUid("stringValue"),function(_63,_64){
with(_63){
return (_value===undefined||_value===nil)?"":String(_value);
}
}),new objj_method(sel_getUid("setStringValue:"),function(_65,_66,_67){
with(_65){
objj_msgSend(_65,"setObjectValue:",_67);
}
}),new objj_method(sel_getUid("takeDoubleValueFrom:"),function(_68,_69,_6a){
with(_68){
if(objj_msgSend(_6a,"respondsToSelector:",sel_getUid("doubleValue"))){
objj_msgSend(_68,"setDoubleValue:",objj_msgSend(_6a,"doubleValue"));
}
}
}),new objj_method(sel_getUid("takeFloatValueFrom:"),function(_6b,_6c,_6d){
with(_6b){
if(objj_msgSend(_6d,"respondsToSelector:",sel_getUid("floatValue"))){
objj_msgSend(_6b,"setFloatValue:",objj_msgSend(_6d,"floatValue"));
}
}
}),new objj_method(sel_getUid("takeIntegerValueFrom:"),function(_6e,_6f,_70){
with(_6e){
if(objj_msgSend(_70,"respondsToSelector:",sel_getUid("integerValue"))){
objj_msgSend(_6e,"setIntegerValue:",objj_msgSend(_70,"integerValue"));
}
}
}),new objj_method(sel_getUid("takeIntValueFrom:"),function(_71,_72,_73){
with(_71){
if(objj_msgSend(_73,"respondsToSelector:",sel_getUid("intValue"))){
objj_msgSend(_71,"setIntValue:",objj_msgSend(_73,"intValue"));
}
}
}),new objj_method(sel_getUid("takeObjectValueFrom:"),function(_74,_75,_76){
with(_74){
if(objj_msgSend(_76,"respondsToSelector:",sel_getUid("objectValue"))){
objj_msgSend(_74,"setObjectValue:",objj_msgSend(_76,"objectValue"));
}
}
}),new objj_method(sel_getUid("takeStringValueFrom:"),function(_77,_78,_79){
with(_77){
if(objj_msgSend(_79,"respondsToSelector:",sel_getUid("stringValue"))){
objj_msgSend(_77,"setStringValue:",objj_msgSend(_79,"stringValue"));
}
}
}),new objj_method(sel_getUid("textDidBeginEditing:"),function(_7a,_7b,_7c){
with(_7a){
if(objj_msgSend(_7c,"object")!=_7a){
return;
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidBeginEditingNotification,_7a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(_7c,"object"),"CPFieldEditor"));
}
}),new objj_method(sel_getUid("textDidChange:"),function(_7d,_7e,_7f){
with(_7d){
if(objj_msgSend(_7f,"object")!=_7d){
return;
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidChangeNotification,_7d,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(_7f,"object"),"CPFieldEditor"));
}
}),new objj_method(sel_getUid("textDidEndEditing:"),function(_80,_81,_82){
with(_80){
if(objj_msgSend(_82,"object")!=_80){
return;
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidEndEditingNotification,_80,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(_82,"object"),"CPFieldEditor"));
}
}),new objj_method(sel_getUid("setAlignment:"),function(_83,_84,_85){
with(_83){
objj_msgSend(_83,"setValue:forThemeAttribute:",_85,"alignment");
}
}),new objj_method(sel_getUid("alignment"),function(_86,_87){
with(_86){
return objj_msgSend(_86,"valueForThemeAttribute:","alignment");
}
}),new objj_method(sel_getUid("setVerticalAlignment:"),function(_88,_89,_8a){
with(_88){
objj_msgSend(_88,"setValue:forThemeAttribute:",_8a,"vertical-alignment");
}
}),new objj_method(sel_getUid("verticalAlignment"),function(_8b,_8c){
with(_8b){
return objj_msgSend(_8b,"valueForThemeAttribute:","vertical-alignment");
}
}),new objj_method(sel_getUid("setLineBreakMode:"),function(_8d,_8e,_8f){
with(_8d){
objj_msgSend(_8d,"setValue:forThemeAttribute:",_8f,"line-break-mode");
}
}),new objj_method(sel_getUid("lineBreakMode"),function(_90,_91){
with(_90){
return objj_msgSend(_90,"valueForThemeAttribute:","line-break-mode");
}
}),new objj_method(sel_getUid("setTextColor:"),function(_92,_93,_94){
with(_92){
objj_msgSend(_92,"setValue:forThemeAttribute:",_94,"text-color");
}
}),new objj_method(sel_getUid("textColor"),function(_95,_96){
with(_95){
return objj_msgSend(_95,"valueForThemeAttribute:","text-color");
}
}),new objj_method(sel_getUid("setFont:"),function(_97,_98,_99){
with(_97){
objj_msgSend(_97,"setValue:forThemeAttribute:",_99,"font");
}
}),new objj_method(sel_getUid("font"),function(_9a,_9b){
with(_9a){
return objj_msgSend(_9a,"valueForThemeAttribute:","font");
}
}),new objj_method(sel_getUid("setTextShadowColor:"),function(_9c,_9d,_9e){
with(_9c){
objj_msgSend(_9c,"setValue:forThemeAttribute:",_9e,"text-shadow-color");
}
}),new objj_method(sel_getUid("textShadowColor"),function(_9f,_a0){
with(_9f){
return objj_msgSend(_9f,"valueForThemeAttribute:","text-shadow-color");
}
}),new objj_method(sel_getUid("setTextShadowOffset:"),function(_a1,_a2,_a3){
with(_a1){
objj_msgSend(_a1,"setValue:forThemeAttribute:",_a3,"text-shadow-offset");
}
}),new objj_method(sel_getUid("textShadowOffset"),function(_a4,_a5){
with(_a4){
return objj_msgSend(_a4,"valueForThemeAttribute:","text-shadow-offset");
}
}),new objj_method(sel_getUid("setImagePosition:"),function(_a6,_a7,_a8){
with(_a6){
objj_msgSend(_a6,"setValue:forThemeAttribute:",_a8,"image-position");
}
}),new objj_method(sel_getUid("imagePosition"),function(_a9,_aa){
with(_a9){
return objj_msgSend(_a9,"valueForThemeAttribute:","image-position");
}
}),new objj_method(sel_getUid("setImageScaling:"),function(_ab,_ac,_ad){
with(_ab){
objj_msgSend(_ab,"setValue:forThemeAttribute:",_ad,"image-scaling");
}
}),new objj_method(sel_getUid("imageScaling"),function(_ae,_af){
with(_ae){
return objj_msgSend(_ae,"valueForThemeAttribute:","image-scaling");
}
}),new objj_method(sel_getUid("setEnabled:"),function(_b0,_b1,_b2){
with(_b0){
if(_b2){
objj_msgSend(_b0,"unsetThemeState:",CPThemeStateDisabled);
}else{
objj_msgSend(_b0,"setThemeState:",CPThemeStateDisabled);
}
}
}),new objj_method(sel_getUid("isEnabled"),function(_b3,_b4){
with(_b3){
return !objj_msgSend(_b3,"hasThemeState:",CPThemeStateDisabled);
}
}),new objj_method(sel_getUid("highlight:"),function(_b5,_b6,_b7){
with(_b5){
objj_msgSend(_b5,"setHighlighted:",_b7);
}
}),new objj_method(sel_getUid("setHighlighted:"),function(_b8,_b9,_ba){
with(_b8){
if(_ba){
objj_msgSend(_b8,"setThemeState:",CPThemeStateHighlighted);
}else{
objj_msgSend(_b8,"unsetThemeState:",CPThemeStateHighlighted);
}
}
}),new objj_method(sel_getUid("isHighlighted"),function(_bb,_bc){
with(_bb){
return objj_msgSend(_bb,"hasThemeState:",CPThemeStateHighlighted);
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("themeAttributes"),function(_bd,_be){
with(_bd){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[CPLeftTextAlignment,CPTopVerticalTextAlignment,CPLineBreakByClipping,objj_msgSend(CPColor,"blackColor"),objj_msgSend(CPFont,"systemFontOfSize:",12),nil,{width:0,height:0},CPImageLeft,CPScaleToFit,{width:0,height:0},{width:-1,height:-1}],["alignment","vertical-alignment","line-break-mode","text-color","font","text-shadow-color","text-shadow-offset","image-position","image-scaling","min-size","max-size"]);
}
})]);
var _bf="CPControlValueKey",_c0="CPControlControlStateKey",_c1="CPControlIsEnabledKey",_c2="CPControlTargetKey",_c3="CPControlActionKey",_c4="CPControlSendActionOnKey",_c5="CPControlSendsActionOnEndEditingKey";
var _c6="CPImageViewImageKey";
var _2=objj_getClass("CPControl");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPControl\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("initWithCoder:"),function(_c7,_c8,_c9){
with(_c7){
_c7=objj_msgSendSuper({receiver:_c7,super_class:objj_getClass("CPView")},"initWithCoder:",_c9);
if(_c7){
objj_msgSend(_c7,"setObjectValue:",objj_msgSend(_c9,"decodeObjectForKey:",_bf));
objj_msgSend(_c7,"setTarget:",objj_msgSend(_c9,"decodeObjectForKey:",_c2));
objj_msgSend(_c7,"setAction:",objj_msgSend(_c9,"decodeObjectForKey:",_c3));
objj_msgSend(_c7,"sendActionOn:",objj_msgSend(_c9,"decodeIntForKey:",_c4));
objj_msgSend(_c7,"setSendsActionOnEndEditing:",objj_msgSend(_c9,"decodeBoolForKey:",_c5));
}
return _c7;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_ca,_cb,_cc){
with(_ca){
objj_msgSendSuper({receiver:_ca,super_class:objj_getClass("CPView")},"encodeWithCoder:",_cc);
if(_sendsActionOnEndEditing){
objj_msgSend(_cc,"encodeBool:forKey:",_sendsActionOnEndEditing,_c5);
}
if(_value!==nil){
objj_msgSend(_cc,"encodeObject:forKey:",_value,_bf);
}
if(_target!==nil){
objj_msgSend(_cc,"encodeConditionalObject:forKey:",_target,_c2);
}
if(_action!==NULL){
objj_msgSend(_cc,"encodeObject:forKey:",_action,_c3);
}
objj_msgSend(_cc,"encodeInt:forKey:",_sendActionOn,_c4);
}
})]);
var _cd=[],_ce={},_cf={};
_cd[CPRegularControlSize]="Regular";
_cd[CPSmallControlSize]="Small";
_cd[CPMiniControlSize]="Mini";
_CPControlIdentifierForControlSize=function(_d0){
return _cd[_d0];
};
_CPControlColorWithPatternImage=function(_d1,_d2){
var _d3=1,_d4=arguments.length,_d5="";
for(;_d3<_d4;++_d3){
_d5+=arguments[_d3];
}
var _d6=_ce[_d5];
if(!_d6){
var _d7=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class"));
_d6=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_d7,"pathForResource:",_d2+"/"+_d5+".png"),_d1[_d5]));
_ce[_d5]=_d6;
}
return _d6;
};
_CPControlThreePartImagePattern=function(_d8,_d9,_da){
var _db=2,_dc=arguments.length,_dd="";
for(;_db<_dc;++_db){
_dd+=arguments[_db];
}
var _de=_cf[_dd];
if(!_de){
var _df=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),_e0=_da+"/"+_dd;
_d9=_d9[_dd];
_de=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_df,"pathForResource:",_e0+"0.png"),_d9[0]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_df,"pathForResource:",_e0+"1.png"),_d9[1]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_df,"pathForResource:",_e0+"2.png"),_d9[2])],_d8));
_cf[_dd]=_de;
}
return _de;
};
p;10;CPCookie.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.jc;1385;
var _1=objj_allocateClassPair(CPObject,"CPCookie"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_cookieName"),new objj_ivar("_cookieValue"),new objj_ivar("_expires")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithName:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
_cookieName=_5;
_cookieValue=objj_msgSend(_3,"_readCookieValue");
return _3;
}
}),new objj_method(sel_getUid("value"),function(_6,_7){
with(_6){
return _cookieValue;
}
}),new objj_method(sel_getUid("name"),function(_8,_9){
with(_8){
return _cookieName;
}
}),new objj_method(sel_getUid("expires"),function(_a,_b){
with(_a){
return _expires;
}
}),new objj_method(sel_getUid("setValue:expires:domain:"),function(_c,_d,_e,_f,_10){
with(_c){
if(_f){
var _11="; expires="+_f.toGMTString();
}else{
var _11="";
}
if(_10){
_10="; domain="+_10;
}else{
_10="";
}
document.cookie=_cookieName+"="+_e+_11+"; path=/"+_10;
}
}),new objj_method(sel_getUid("_readCookieValue"),function(_12,_13){
with(_12){
var _14=_cookieName+"=";
var ca=document.cookie.split(";");
for(var i=0;i<ca.length;i++){
var c=ca[i];
while(c.charAt(0)==" "){
c=c.substring(1,c.length);
}
if(c.indexOf(_14)==0){
return c.substring(_14.length,c.length);
}
}
return "";
}
})]);
p;10;CPCursor.jc;7363;
var _1=nil,_2=[],_3={},_4=nil;
var _5=objj_allocateClassPair(CPObject,"CPCursor"),_6=_5.isa;
class_addIvars(_5,[new objj_ivar("_cssString"),new objj_ivar("_isSetOnMouseEntered"),new objj_ivar("_isSetOnMouseExited")]);
objj_registerClassPair(_5);
objj_addClassForBundle(_5,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_5,[new objj_method(sel_getUid("isSetOnMouseEntered"),function(_7,_8){
with(_7){
return _isSetOnMouseEntered;
}
}),new objj_method(sel_getUid("setOnMouseEntered:"),function(_9,_a,_b){
with(_9){
_isSetOnMouseEntered=_b;
}
}),new objj_method(sel_getUid("isSetOnMouseExited"),function(_c,_d){
with(_c){
return _isSetOnMouseExited;
}
}),new objj_method(sel_getUid("setOnMouseExited:"),function(_e,_f,_10){
with(_e){
_isSetOnMouseExited=_10;
}
}),new objj_method(sel_getUid("initWithCSSString:"),function(_11,_12,_13){
with(_11){
if(_11=objj_msgSendSuper({receiver:_11,super_class:objj_getClass("CPObject")},"init")){
_cssString=_13;
}
return _11;
}
}),new objj_method(sel_getUid("_cssString"),function(_14,_15){
with(_14){
return _cssString;
}
}),new objj_method(sel_getUid("initWithImage:hotSpot:"),function(_16,_17,_18,_19){
with(_16){
return objj_msgSend(_16,"initWithCSSString:","url("+objj_msgSend(_18,"filename")+")");
}
}),new objj_method(sel_getUid("mouseEntered:"),function(_1a,_1b,_1c){
with(_1a){
}
}),new objj_method(sel_getUid("mouseExited:"),function(_1d,_1e,_1f){
with(_1d){
}
}),new objj_method(sel_getUid("set"),function(_20,_21){
with(_20){
document.body.style.cursor=_cssString;
_1=_20;
}
}),new objj_method(sel_getUid("push"),function(_22,_23){
with(_22){
_1=_2.push(_22);
}
}),new objj_method(sel_getUid("pop"),function(_24,_25){
with(_24){
objj_msgSend(CPCursor,"pop");
}
}),new objj_method(sel_getUid("initWithCoder:"),function(_26,_27,_28){
with(_26){
if(_26=objj_msgSendSuper({receiver:_26,super_class:objj_getClass("CPObject")},"init")){
_cssString=objj_msgSend(_28,"decodeObjectForKey:","CPCursorNameKey");
}
return _26;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_29,_2a,_2b){
with(_29){
objj_msgSend(_2b,"encodeObject:forKey:",_cssString,"CPCursorNameKey");
}
})]);
class_addMethods(_6,[new objj_method(sel_getUid("currentCursor"),function(_2c,_2d){
with(_2c){
return _1;
}
}),new objj_method(sel_getUid("cursorWithCSSString:"),function(_2e,_2f,_30){
with(_2e){
var _31=_3[_30];
if(typeof _31=="undefined"){
_31=objj_msgSend(objj_msgSend(CPCursor,"alloc"),"initWithCSSString:",_30);
_3[_30]=_31;
}
return _31;
}
}),new objj_method(sel_getUid("cursorWithImageNamed:"),function(_32,_33,_34){
with(_32){
if(!_4){
_4="url("+objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",_32),"resourcePath")+"/CPCursor/%@.cur)";
if(CPBrowserIsEngine(CPGeckoBrowserEngine)){
_4+=", default";
}
}
var url=objj_msgSend(CPString,"stringWithFormat:",_4,_34);
return objj_msgSend(objj_msgSend(CPCursor,"alloc"),"initWithCSSString:",url);
}
}),new objj_method(sel_getUid("arrowCursor"),function(_35,_36){
with(_35){
return objj_msgSend(CPCursor,"cursorWithCSSString:","default");
}
}),new objj_method(sel_getUid("crosshairCursor"),function(_37,_38){
with(_37){
return objj_msgSend(CPCursor,"cursorWithCSSString:","crosshair");
}
}),new objj_method(sel_getUid("IBeamCursor"),function(_39,_3a){
with(_39){
return objj_msgSend(CPCursor,"cursorWithCSSString:","text");
}
}),new objj_method(sel_getUid("pointingHandCursor"),function(_3b,_3c){
with(_3b){
return objj_msgSend(CPCursor,"cursorWithCSSString:","pointer");
}
}),new objj_method(sel_getUid("resizeDownCursor"),function(_3d,_3e){
with(_3d){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_3e));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","s-resize");
}
}),new objj_method(sel_getUid("resizeUpCursor"),function(_3f,_40){
with(_3f){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_40));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","n-resize");
}
}),new objj_method(sel_getUid("resizeLeftCursor"),function(_41,_42){
with(_41){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_42));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","w-resize");
}
}),new objj_method(sel_getUid("resizeRightCursor"),function(_43,_44){
with(_43){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_44));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","e-resize");
}
}),new objj_method(sel_getUid("resizeLeftRightCursor"),function(_45,_46){
with(_45){
return objj_msgSend(CPCursor,"cursorWithCSSString:","col-resize");
}
}),new objj_method(sel_getUid("resizeUpDownCursor"),function(_47,_48){
with(_47){
return objj_msgSend(CPCursor,"cursorWithCSSString:","row-resize");
}
}),new objj_method(sel_getUid("operationNotAllowedCursor"),function(_49,_4a){
with(_49){
return objj_msgSend(CPCursor,"cursorWithCSSString:","not-allowed");
}
}),new objj_method(sel_getUid("dragCopyCursor"),function(_4b,_4c){
with(_4b){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_4c));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","copy");
}
}),new objj_method(sel_getUid("dragLinkCursor"),function(_4d,_4e){
with(_4d){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_4e));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","alias");
}
}),new objj_method(sel_getUid("contextualMenuCursor"),function(_4f,_50){
with(_4f){
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_50));
}
return objj_msgSend(CPCursor,"cursorWithCSSString:","context-menu");
}
}),new objj_method(sel_getUid("openHandCursor"),function(_51,_52){
with(_51){
if(CPBrowserIsEngine(CPWebKitBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithCSSString:","-webkit-grab");
}else{
if(CPBrowserIsEngine(CPGeckoBrowserEngine)||CPBrowserIsEngine(CPOperaBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithCSSString:","move");
}
}
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_52));
}
}),new objj_method(sel_getUid("closedHandCursor"),function(_53,_54){
with(_53){
if(CPBrowserIsEngine(CPWebKitBrowserEngine)){
return objj_msgSend(CPCursor,"cursorWithCSSString:","-webkit-grabbing");
}
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_54));
}
}),new objj_method(sel_getUid("disappearingItemCursor"),function(_55,_56){
with(_55){
return objj_msgSend(CPCursor,"cursorWithImageNamed:",CPStringFromSelector(_56));
}
}),new objj_method(sel_getUid("hide"),function(_57,_58){
with(_57){
document.body.style.cursor="none";
}
}),new objj_method(sel_getUid("unhide"),function(_59,_5a){
with(_59){
document.body.style.cursor=objj_msgSend(_1,"_cssString");
}
}),new objj_method(sel_getUid("setHiddenUntilMouseMoves:"),function(_5b,_5c,_5d){
with(_5b){
if(_5d){
objj_msgSend(CPCursor,"hide");
}else{
objj_msgSend(CPCursor,"unhide");
}
}
}),new objj_method(sel_getUid("pop"),function(_5e,_5f){
with(_5e){
if(_2.length>1){
_2.pop();
_1=_2[_2.length-1];
}
}
})]);
p;12;CPDocument.jI;21;Foundation/CPString.jI;20;Foundation/CPArray.ji;13;CPResponder.ji;13;CPSavePanel.ji;18;CPViewController.ji;20;CPWindowController.jc;18614;
CPSaveOperation=0;
CPSaveAsOperation=1;
CPSaveToOperation=2;
CPAutosaveOperation=3;
CPChangeDone=0;
CPChangeUndone=1;
CPChangeCleared=2;
CPChangeReadOtherContents=3;
CPChangeAutosaved=4;
CPDocumentWillSaveNotification="CPDocumentWillSaveNotification";
CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";
CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";
var _1=0;
var _2=objj_allocateClassPair(CPResponder,"CPDocument"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("init"),function(_4,_5){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPResponder")},"init");
if(_4){
_windowControllers=[];
_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary");
_hasUndoManager=YES;
_changeCount=0;
objj_msgSend(_4,"setNextResponder:",CPApp);
}
return _4;
}
}),new objj_method(sel_getUid("initWithType:error:"),function(_6,_7,_8,_9){
with(_6){
_6=objj_msgSend(_6,"init");
if(_6){
objj_msgSend(_6,"setFileType:",_8);
}
return _6;
}
}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(_a,_b,_c,_d,_e,_f,_10){
with(_a){
_a=objj_msgSend(_a,"init");
if(_a){
objj_msgSend(_a,"setFileURL:",_c);
objj_msgSend(_a,"setFileType:",_d);
objj_msgSend(_a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",_c,_d,_e,_f,_10);
}
return _a;
}
}),new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(_11,_12,_13,_14,_15,_16,_17,_18){
with(_11){
_11=objj_msgSend(_11,"init");
if(_11){
objj_msgSend(_11,"setFileURL:",_13);
objj_msgSend(_11,"setFileType:",_15);
objj_msgSend(_11,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",_14,_15,_16,_17,_18);
}
return _11;
}
}),new objj_method(sel_getUid("dataOfType:error:"),function(_19,_1a,_1b,_1c){
with(_19){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.");
}
}),new objj_method(sel_getUid("readFromData:ofType:error:"),function(_1d,_1e,_1f,_20,_21){
with(_1d){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.");
}
}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(_22,_23,_24){
with(_22){
}
}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(_25,_26,_27){
with(_25){
}
}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(_28,_29){
with(_28){
return nil;
}
}),new objj_method(sel_getUid("makeWindowControllers"),function(_2a,_2b){
with(_2a){
objj_msgSend(_2a,"makeViewAndWindowControllers");
}
}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(_2c,_2d){
with(_2c){
var _2e=objj_msgSend(_2c,"viewCibName"),_2f=nil,_30=nil;
if(objj_msgSend(_2e,"length")){
_2f=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",_2e,nil,_2c);
}
if(_2f){
_30=objj_msgSend(_2c,"firstEligibleExistingWindowController");
}
if(!_30){
var _31=objj_msgSend(_2c,"windowCibName");
if(objj_msgSend(_31,"length")){
_30=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindowCibName:owner:",_31,_2c);
}else{
if(_2f){
var _32=objj_msgSend(_2f,"view"),_33=objj_msgSend(_32,"frame");
_33.origin=CGPointMake(50,50);
var _34=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",_33,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask);
_30=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",_34);
}
}
}
if(_30&&_2f){
objj_msgSend(_30,"setSupportsMultipleDocuments:",YES);
}
if(_30){
objj_msgSend(_2c,"addWindowController:",_30);
}
if(_2f){
objj_msgSend(_2c,"addViewController:forWindowController:",_2f,_30);
}
}
}),new objj_method(sel_getUid("windowControllers"),function(_35,_36){
with(_35){
return _windowControllers;
}
}),new objj_method(sel_getUid("addWindowController:"),function(_37,_38,_39){
with(_37){
objj_msgSend(_windowControllers,"addObject:",_39);
if(objj_msgSend(_39,"document")!==_37){
objj_msgSend(_39,"setDocument:",_37);
}
}
}),new objj_method(sel_getUid("removeWindowController:"),function(_3a,_3b,_3c){
with(_3a){
if(_3c){
objj_msgSend(_windowControllers,"removeObject:",_3c);
}
if(objj_msgSend(_3c,"document")===_3a){
objj_msgSend(_3c,"setDocument:",nil);
}
}
}),new objj_method(sel_getUid("view"),function(_3d,_3e){
with(_3d){
return _view;
}
}),new objj_method(sel_getUid("viewControllers"),function(_3f,_40){
with(_3f){
return objj_msgSend(_viewControllersForWindowControllers,"allValues");
}
}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(_41,_42,_43,_44){
with(_41){
objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",_43,objj_msgSend(_44,"UID"));
if(objj_msgSend(_44,"document")===_41){
objj_msgSend(_44,"setViewController:",_43);
}
}
}),new objj_method(sel_getUid("removeViewController:"),function(_45,_46,_47){
with(_45){
objj_msgSend(_viewControllersForWindowControllers,"removeObject:",_47);
}
}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(_48,_49,_4a){
with(_48){
return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(_4a,"UID"));
}
}),new objj_method(sel_getUid("showWindows"),function(_4b,_4c){
with(_4b){
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),_4b);
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),_4b);
}
}),new objj_method(sel_getUid("displayName"),function(_4d,_4e){
with(_4d){
if(_fileURL){
return objj_msgSend(_fileURL,"lastPathComponent");
}
if(!_untitledDocumentIndex){
_untitledDocumentIndex=++_1;
}
if(_untitledDocumentIndex==1){
return "Untitled";
}
return "Untitled "+_untitledDocumentIndex;
}
}),new objj_method(sel_getUid("viewCibName"),function(_4f,_50){
with(_4f){
return nil;
}
}),new objj_method(sel_getUid("windowCibName"),function(_51,_52){
with(_51){
return nil;
}
}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(_53,_54,_55){
with(_53){
}
}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),function(_56,_57,_58){
with(_56){
}
}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(_59,_5a,_5b,_5c,_5d,_5e,_5f){
with(_59){
objj_msgSend(_readConnection,"cancel");
_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",_5b),_59);
_readConnection.session=_60(_5c,_5d,_5e,_5f);
}
}),new objj_method(sel_getUid("fileURL"),function(_61,_62){
with(_61){
return _fileURL;
}
}),new objj_method(sel_getUid("setFileURL:"),function(_63,_64,_65){
with(_63){
if(_fileURL===_65){
return;
}
_fileURL=_65;
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"));
}
}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(_66,_67,_68,_69,_6a,_6b,_6c,_6d){
with(_66){
var _6e=objj_msgSend(_66,"dataOfType:error:",objj_msgSend(_66,"fileType"),nil),_6f=_changeCount;
_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",_68);
if(objj_msgSend(CPPlatform,"isBrowser")){
objj_msgSend(_writeRequest,"setHTTPMethod:","POST");
}else{
objj_msgSend(_writeRequest,"setHTTPMethod:","PUT");
}
objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(_6e,"string"));
objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection");
if(_6a==CPSaveOperation){
objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite");
}
if(_6a!=CPSaveToOperation){
objj_msgSend(_66,"updateChangeCount:",CPChangeCleared);
}
var _70=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,_66);
_70.session=_71(_68,_6a,_6f,_6b,_6c,_6d,_70);
}
}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(_72,_73,_74,_75){
with(_72){
if(!objj_msgSend(_75,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class"))){
return;
}
var _76=objj_msgSend(_75,"statusCode");
if(_76===200){
return;
}
var _77=_74.session;
if(_74==_readConnection){
objj_msgSend(_74,"cancel");
alert("There was an error retrieving the document.");
objj_msgSend(_77.delegate,_77.didReadSelector,_72,NO,_77.contextInfo);
}else{
if(_76==409){
objj_msgSend(_74,"cancel");
if(confirm("There already exists a file with that name, would you like to overwrite it?")){
objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite");
objj_msgSend(_74,"start");
}else{
if(_77.saveOperation!=CPSaveToOperation){
_changeCount+=_77.changeCount;
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(_72,"isDocumentEdited"));
}
_writeRequest=nil;
objj_msgSend(_77.delegate,_77.didSaveSelector,_72,NO,_77.contextInfo);
objj_msgSend(_72,"_sendDocumentSavedNotification:",NO);
}
}
}
}
}),new objj_method(sel_getUid("connection:didReceiveData:"),function(_78,_79,_7a,_7b){
with(_78){
var _7c=_7a.session;
if(_7a==_readConnection){
objj_msgSend(_78,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithString:",_7b),_7c.fileType,nil);
objj_msgSend(_7c.delegate,_7c.didReadSelector,_78,YES,_7c.contextInfo);
}else{
if(_7c.saveOperation!=CPSaveToOperation){
objj_msgSend(_78,"setFileURL:",_7c.absoluteURL);
}
_writeRequest=nil;
objj_msgSend(_7c.delegate,_7c.didSaveSelector,_78,YES,_7c.contextInfo);
objj_msgSend(_78,"_sendDocumentSavedNotification:",YES);
}
}
}),new objj_method(sel_getUid("connection:didFailWithError:"),function(_7d,_7e,_7f,_80){
with(_7d){
var _81=_7f.session;
if(_readConnection==_7f){
objj_msgSend(_81.delegate,_81.didReadSelector,_7d,NO,_81.contextInfo);
}else{
if(_81.saveOperation!=CPSaveToOperation){
_changeCount+=_81.changeCount;
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(_7d,"isDocumentEdited"));
}
_writeRequest=nil;
alert("There was an error saving the document.");
objj_msgSend(_81.delegate,_81.didSaveSelector,_7d,NO,_81.contextInfo);
objj_msgSend(_7d,"_sendDocumentSavedNotification:",NO);
}
}
}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(_82,_83,_84){
with(_82){
if(_readConnection==_84){
_readConnection=nil;
}
}
}),new objj_method(sel_getUid("isDocumentEdited"),function(_85,_86){
with(_85){
return _changeCount!=0;
}
}),new objj_method(sel_getUid("updateChangeCount:"),function(_87,_88,_89){
with(_87){
if(_89==CPChangeDone){
++_changeCount;
}else{
if(_89==CPChangeUndone){
--_changeCount;
}else{
if(_89==CPChangeCleared){
_changeCount=0;
}
}
}
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(_87,"isDocumentEdited"));
}
}),new objj_method(sel_getUid("setFileType:"),function(_8a,_8b,_8c){
with(_8a){
_fileType=_8c;
}
}),new objj_method(sel_getUid("fileType"),function(_8d,_8e){
with(_8d){
return _fileType;
}
}),new objj_method(sel_getUid("hasUndoManager"),function(_8f,_90){
with(_8f){
return _hasUndoManager;
}
}),new objj_method(sel_getUid("setHasUndoManager:"),function(_91,_92,_93){
with(_91){
if(_hasUndoManager==_93){
return;
}
_hasUndoManager=_93;
if(!_hasUndoManager){
objj_msgSend(_91,"setUndoManager:",nil);
}
}
}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(_94,_95,_96){
with(_94){
var _97=objj_msgSend(_96,"object");
if(objj_msgSend(_97,"isUndoing")||objj_msgSend(_97,"isRedoing")){
return;
}
objj_msgSend(_94,"updateChangeCount:",CPChangeDone);
}
}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(_98,_99,_9a){
with(_98){
objj_msgSend(_98,"updateChangeCount:",CPChangeUndone);
}
}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(_9b,_9c,_9d){
with(_9b){
objj_msgSend(_9b,"updateChangeCount:",CPChangeDone);
}
}),new objj_method(sel_getUid("setUndoManager:"),function(_9e,_9f,_a0){
with(_9e){
var _a1=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_undoManager){
objj_msgSend(_a1,"removeObserver:name:object:",_9e,CPUndoManagerDidUndoChangeNotification,_undoManager);
objj_msgSend(_a1,"removeObserver:name:object:",_9e,CPUndoManagerDidRedoChangeNotification,_undoManager);
objj_msgSend(_a1,"removeObserver:name:object:",_9e,CPUndoManagerWillCloseUndoGroupNotification,_undoManager);
}
_undoManager=_a0;
if(_undoManager){
objj_msgSend(_a1,"addObserver:selector:name:object:",_9e,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager);
objj_msgSend(_a1,"addObserver:selector:name:object:",_9e,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager);
objj_msgSend(_a1,"addObserver:selector:name:object:",_9e,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager);
}
}
}),new objj_method(sel_getUid("undoManager"),function(_a2,_a3){
with(_a2){
if(_hasUndoManager&&!_undoManager){
objj_msgSend(_a2,"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));
}
return _undoManager;
}
}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(_a4,_a5,_a6){
with(_a4){
return objj_msgSend(_a4,"undoManager");
}
}),new objj_method(sel_getUid("saveDocument:"),function(_a7,_a8,_a9){
with(_a7){
objj_msgSend(_a7,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil);
}
}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(_aa,_ab,_ac,_ad,_ae){
with(_aa){
if(_fileURL){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,_aa);
objj_msgSend(_aa,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(_aa,"fileType"),CPSaveOperation,_ac,_ad,_ae);
}else{
objj_msgSend(_aa,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",_ac,_ad,_ae);
}
}
}),new objj_method(sel_getUid("saveDocumentAs:"),function(_af,_b0,_b1){
with(_af){
objj_msgSend(_af,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil);
}
}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),function(_b2,_b3,_b4,_b5,_b6){
with(_b2){
var _b7=objj_msgSend(CPSavePanel,"savePanel"),_b8=objj_msgSend(_b7,"runModal");
if(!_b8){
return;
}
var _b9=objj_msgSend(_b7,"URL");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,_b2);
objj_msgSend(_b2,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_b9,objj_msgSend(_b2,"fileType"),CPSaveAsOperation,_b4,_b5,_b6);
}
}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(_ba,_bb,_bc){
with(_ba){
if(_bc){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,_ba);
}else{
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,_ba);
}
}
})]);
var _2=objj_getClass("CPDocument");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPDocument\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("close"),function(_bd,_be){
with(_bd){
objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),_bd);
objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",_bd);
}
}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(_bf,_c0,_c1,_c2,_c3,_c4){
with(_bf){
if(objj_msgSend(_c1,"shouldCloseDocument")||(objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",_c1)!==CPNotFound)){
objj_msgSend(_bf,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",_bf,sel_getUid("_document:shouldClose:context:"),{delegate:_c2,selector:_c3,context:_c4});
}else{
if(objj_msgSend(_c2,"respondsToSelector:",_c3)){
objj_msgSend(_c2,_c3,_bf,YES,_c4);
}
}
}
}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(_c5,_c6,_c7,_c8,_c9){
with(_c5){
if(_c7===_c5&&_c8){
objj_msgSend(_c5,"close");
}
objj_msgSend(_c9.delegate,_c9.selector,_c7,_c8,_c9.context);
}
}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(_ca,_cb,_cc,_cd,_ce){
with(_ca){
if(!objj_msgSend(_ca,"isDocumentEdited")){
return objj_msgSend(_cc,"respondsToSelector:",_cd)&&objj_msgSend(_cc,_cd,_ca,YES,_ce);
}
_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");
objj_msgSend(_canCloseAlert,"setDelegate:",_ca);
objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);
objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");
objj_msgSend(_canCloseAlert,"setMessageText:",sprintf("Do you want to save the changes you've made to the document \"%@\"?",objj_msgSend(_ca,"displayName")||objj_msgSend(_ca,"fileName")));
objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");
objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Cancel");
objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");
_canCloseAlert._context={delegate:_cc,selector:_cd,context:_ce};
objj_msgSend(_canCloseAlert,"runModal");
}
}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(_cf,_d0,_d1,_d2){
with(_cf){
if(_d1!==_canCloseAlert){
return;
}
var _d3=_d1._context.delegate,_d4=_d1._context.selector,_d5=_d1._context.context;
if(_d2===0){
objj_msgSend(_cf,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",_d3,_d4,_d5);
}else{
objj_msgSend(_d3,_d4,_cf,_d2===2,_d5);
}
_canCloseAlert=nil;
}
})]);
var _60=function(_d6,_d7,_d8,_d9){
return {fileType:_d6,delegate:_d7,didReadSelector:_d8,contextInfo:_d9};
};
var _71=function(_da,_db,_dc,_dd,_de,_df,_e0){
return {absoluteURL:_da,saveOperation:_db,changeCount:_dc,delegate:_dd,didSaveSelector:_de,contextInfo:_df,connection:_e0};
};
p;22;CPDocumentController.jI;21;Foundation/CPObject.jI;21;Foundation/CPBundle.ji;12;CPDocument.ji;13;CPOpenPanel.jc;9561;
var _1=nil;
var _2=objj_allocateClassPair(CPObject,"CPDocumentController"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_documents"),new objj_ivar("_documentTypes")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("init"),function(_4,_5){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_documents=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init");
if(!_1){
_1=_4;
}
_documentTypes=objj_msgSend(objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),"objectForKey:","CPBundleDocumentTypes");
}
return _4;
}
}),new objj_method(sel_getUid("documentForURL:"),function(_6,_7,_8){
with(_6){
var _9=0,_a=objj_msgSend(_documents,"count");
for(;_9<_a;++_9){
var _b=_documents[_9];
if(objj_msgSend(objj_msgSend(_b,"fileURL"),"isEqual:",_8)){
return _b;
}
}
return nil;
}
}),new objj_method(sel_getUid("openUntitledDocumentOfType:display:"),function(_c,_d,_e,_f){
with(_c){
var _10=objj_msgSend(_c,"makeUntitledDocumentOfType:error:",_e,nil);
if(_10){
objj_msgSend(_c,"addDocument:",_10);
}
if(_f){
objj_msgSend(_10,"makeWindowControllers");
objj_msgSend(_10,"showWindows");
}
return _10;
}
}),new objj_method(sel_getUid("makeUntitledDocumentOfType:error:"),function(_11,_12,_13,_14){
with(_11){
return objj_msgSend(objj_msgSend(objj_msgSend(_11,"documentClassForType:",_13),"alloc"),"initWithType:error:",_13,_14);
}
}),new objj_method(sel_getUid("openDocumentWithContentsOfURL:display:error:"),function(_15,_16,_17,_18,_19){
with(_15){
var _1a=objj_msgSend(_15,"documentForURL:",_17);
if(!_1a){
var _1b=objj_msgSend(_15,"typeForContentsOfURL:error:",_17,_19);
_1a=objj_msgSend(_15,"makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",_17,_1b,_15,sel_getUid("document:didRead:contextInfo:"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_18,"shouldDisplay"));
objj_msgSend(_15,"addDocument:",_1a);
if(_1a){
objj_msgSend(_15,"noteNewRecentDocument:",_1a);
}
}else{
if(_18){
objj_msgSend(_1a,"showWindows");
}
}
return _1a;
}
}),new objj_method(sel_getUid("reopenDocumentForURL:withContentsOfURL:error:"),function(_1c,_1d,_1e,_1f,_20){
with(_1c){
return objj_msgSend(_1c,"makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",_1e,_1f,objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),_1c,sel_getUid("document:didRead:contextInfo:"),nil);
}
}),new objj_method(sel_getUid("makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(_21,_22,_23,_24,_25,_26,_27){
with(_21){
return objj_msgSend(objj_msgSend(objj_msgSend(_21,"documentClassForType:",_24),"alloc"),"initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",_23,_24,_25,_26,_27);
}
}),new objj_method(sel_getUid("makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(_28,_29,_2a,_2b,_2c,_2d,_2e,_2f){
with(_28){
return objj_msgSend(objj_msgSend(objj_msgSend(_28,"documentClassForType:",_2c),"alloc"),"initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",_2a,_2b,_2c,_2d,_2e,_2f);
}
}),new objj_method(sel_getUid("document:didRead:contextInfo:"),function(_30,_31,_32,_33,_34){
with(_30){
if(!_33){
return;
}
objj_msgSend(_32,"makeWindowControllers");
if(objj_msgSend(_34,"objectForKey:","shouldDisplay")){
objj_msgSend(_32,"showWindows");
}
}
}),new objj_method(sel_getUid("newDocument:"),function(_35,_36,_37){
with(_35){
objj_msgSend(_35,"openUntitledDocumentOfType:display:",objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),YES);
}
}),new objj_method(sel_getUid("openDocument:"),function(_38,_39,_3a){
with(_38){
var _3b=objj_msgSend(CPOpenPanel,"openPanel");
objj_msgSend(_3b,"runModal");
var _3c=objj_msgSend(_3b,"URLs"),_3d=0,_3e=objj_msgSend(_3c,"count");
for(;_3d<_3e;++_3d){
objj_msgSend(_38,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(CPURL,"URLWithString:",_3c[_3d]),YES,nil);
}
}
}),new objj_method(sel_getUid("documents"),function(_3f,_40){
with(_3f){
return _documents;
}
}),new objj_method(sel_getUid("addDocument:"),function(_41,_42,_43){
with(_41){
objj_msgSend(_documents,"addObject:",_43);
}
}),new objj_method(sel_getUid("removeDocument:"),function(_44,_45,_46){
with(_44){
objj_msgSend(_documents,"removeObjectIdenticalTo:",_46);
}
}),new objj_method(sel_getUid("defaultType"),function(_47,_48){
with(_47){
return objj_msgSend(_documentTypes[0],"objectForKey:","CPBundleTypeName");
}
}),new objj_method(sel_getUid("typeForContentsOfURL:error:"),function(_49,_4a,_4b,_4c){
with(_49){
var _4d=0,_4e=_documentTypes.length,_4f=objj_msgSend(objj_msgSend(_4b,"pathExtension"),"lowercaseString"),_50=nil;
for(;_4d<_4e;++_4d){
var _51=_documentTypes[_4d],_52=objj_msgSend(_51,"objectForKey:","CFBundleTypeExtensions"),_53=0,_54=_52.length;
for(;_53<_54;++_53){
var _55=objj_msgSend(_52[_53],"lowercaseString");
if(_55===_4f){
return objj_msgSend(_51,"objectForKey:","CPBundleTypeName");
}
if(_55==="****"){
_50=objj_msgSend(_51,"objectForKey:","CPBundleTypeName");
}
}
}
return _50||objj_msgSend(_49,"defaultType");
}
}),new objj_method(sel_getUid("_infoForType:"),function(_56,_57,_58){
with(_56){
var i=0,_59=objj_msgSend(_documentTypes,"count");
for(;i<_59;++i){
var _5a=_documentTypes[i];
if(objj_msgSend(_5a,"objectForKey:","CPBundleTypeName")==_58){
return _5a;
}
}
return nil;
}
}),new objj_method(sel_getUid("documentClassForType:"),function(_5b,_5c,_5d){
with(_5b){
var _5e=objj_msgSend(objj_msgSend(_5b,"_infoForType:",_5d),"objectForKey:","CPDocumentClass");
return _5e?CPClassFromString(_5e):nil;
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("sharedDocumentController"),function(_5f,_60){
with(_5f){
if(!_1){
objj_msgSend(objj_msgSend(_5f,"alloc"),"init");
}
return _1;
}
})]);
var _2=objj_getClass("CPDocumentController");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPDocumentController\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:"),function(_61,_62,_63,_64,_65){
with(_61){
var _66={delegate:_63,selector:_64,context:_65};
objj_msgSend(_61,"_closeDocumentsStartingWith:shouldClose:context:",nil,YES,_66);
}
}),new objj_method(sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),function(_67,_68,_69,_6a,_6b){
with(_67){
if(_6a){
objj_msgSend(_69,"close");
if(objj_msgSend(objj_msgSend(_67,"documents"),"count")>0){
objj_msgSend(objj_msgSend(objj_msgSend(_67,"documents"),"lastObject"),"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",_67,sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),_6b);
return;
}
}
if(objj_msgSend(_6b.delegate,"respondsToSelector:",_6b.selector)){
objj_msgSend(_6b.delegate,_6b.selector,_67,objj_msgSend(objj_msgSend(_67,"documents"),"count")===0,_6b.context);
}
}
})]);
var _2=objj_getClass("CPDocumentController");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPDocumentController\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("recentDocumentURLs"),function(_6c,_6d){
with(_6c){
if(typeof window["cpRecentDocumentURLs"]==="function"){
return window.cpRecentDocumentURLs();
}
return [];
}
}),new objj_method(sel_getUid("clearRecentDocuments:"),function(_6e,_6f,_70){
with(_6e){
if(typeof window["cpClearRecentDocuments"]==="function"){
window.cpClearRecentDocuments();
}
objj_msgSend(_6e,"_updateRecentDocumentsMenu");
}
}),new objj_method(sel_getUid("noteNewRecentDocument:"),function(_71,_72,_73){
with(_71){
objj_msgSend(_71,"noteNewRecentDocumentURL:",objj_msgSend(objj_msgSend(_73,"fileURL"),"absoluteString"));
}
}),new objj_method(sel_getUid("noteNewRecentDocumentURL:"),function(_74,_75,_76){
with(_74){
if(typeof window["cpNoteNewRecentDocumentPath"]==="function"){
window.cpNoteNewRecentDocumentPath(_76);
}
objj_msgSend(_74,"_updateRecentDocumentsMenu");
}
}),new objj_method(sel_getUid("_removeAllRecentDocumentsFromMenu:"),function(_77,_78,_79){
with(_77){
var _7a=objj_msgSend(_79,"itemArray"),_7b=objj_msgSend(_7a,"count");
while(_7b--){
var _7c=_7a[_7b];
if(objj_msgSend(_7c,"action")===sel_getUid("_openRecentDocument:")){
objj_msgSend(_79,"removeItemAtIndex:",_7b);
}
}
}
}),new objj_method(sel_getUid("_updateRecentDocumentsMenu"),function(_7d,_7e){
with(_7d){
var _7f=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"_menuWithName:","_CPRecentDocumentsMenu"),_80=objj_msgSend(_7d,"recentDocumentURLs"),_81=objj_msgSend(_7f,"itemArray"),_82=objj_msgSend(_80,"count"),_83=objj_msgSend(_81,"count");
objj_msgSend(_7d,"_removeAllRecentDocumentsFromMenu:",_7f);
if(_83){
if(!_82){
if(objj_msgSend(_81[0],"isSeparatorItem")){
objj_msgSend(_7f,"removeItemAtIndex:",0);
}
}else{
if(!objj_msgSend(_81[0],"isSeparatorItem")){
objj_msgSend(_7f,"insertItem:atIndex:",objj_msgSend(CPMenuItem,"separatorItem"),0);
}
}
}
while(_82--){
var _84=_80[_82],_85=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(_84,"lastPathComponent"),sel_getUid("_openRecentDocument:"),nil);
objj_msgSend(_85,"setTag:",_84);
objj_msgSend(_7f,"insertItem:atIndex:",_85,0);
}
}
}),new objj_method(sel_getUid("_openRecentDocument:"),function(_86,_87,_88){
with(_86){
objj_msgSend(_86,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(_88,"tag"),YES,nil);
}
})]);
p;14;CPDragServer.jI;15;AppKit/CPView.jI;16;AppKit/CPEvent.jI;21;AppKit/CPPasteboard.jI;20;AppKit/CPImageView.jc;12002;
CPDragOperationNone=0,CPDragOperationCopy=1<<1,CPDragOperationLink=1<<1,CPDragOperationGeneric=1<<2,CPDragOperationPrivate=1<<3,CPDragOperationMove=1<<4,CPDragOperationDelete=1<<5,CPDragOperationEvery=-1;
var _1=nil,_2=nil;
var _3=nil;
var _4=nil;
var _5=nil;
var _6=objj_allocateClassPair(CPObject,"CPDraggingInfo"),_7=_6.isa;
objj_registerClassPair(_6);
objj_addClassForBundle(_6,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_6,[new objj_method(sel_getUid("draggingPasteboard"),function(_8,_9){
with(_8){
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
return objj_msgSend(_CPDOMDataTransferPasteboard,"DOMDataTransferPasteboard");
}
return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingPasteboard");
}
}),new objj_method(sel_getUid("draggingSource"),function(_a,_b){
with(_a){
return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingSource");
}
}),new objj_method(sel_getUid("draggingLocation"),function(_c,_d){
with(_c){
return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingLocation");
}
}),new objj_method(sel_getUid("draggingDestinationWindow"),function(_e,_f){
with(_e){
return (objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"):objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),"window"));
}
}),new objj_method(sel_getUid("draggedImage"),function(_10,_11){
with(_10){
return objj_msgSend(objj_msgSend(_10,"draggedView"),"image");
}
}),new objj_method(sel_getUid("draggedImageLocation"),function(_12,_13){
with(_12){
return objj_msgSend(_12,"draggedViewLocation");
}
}),new objj_method(sel_getUid("draggedView"),function(_14,_15){
with(_14){
return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggedView");
}
}),new objj_method(sel_getUid("draggedViewLocation"),function(_16,_17){
with(_16){
var _18=objj_msgSend(CPDragServer,"sharedDragServer");
return objj_msgSend((objj_msgSend(objj_msgSend(_18,"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(_18,"draggingDestination"):objj_msgSend(objj_msgSend(_18,"draggingDestination"),"window")),"convertPlatformWindowToBase:",objj_msgSend(objj_msgSend(_18,"draggedView"),"frame").origin);
}
})]);
var _19=1<<0,_1a=1<<1,_1b=1<<2,_1c=1<<3;
var _6=objj_allocateClassPair(CPObject,"CPDragServer"),_7=_6.isa;
class_addIvars(_6,[new objj_ivar("_isDragging"),new objj_ivar("_draggedWindow"),new objj_ivar("_draggedView"),new objj_ivar("_imageView"),new objj_ivar("_isDraggingImage"),new objj_ivar("_draggingOffset"),new objj_ivar("_draggingPasteboard"),new objj_ivar("_draggingSource"),new objj_ivar("_implementedDraggingSourceMethods"),new objj_ivar("_draggingLocation"),new objj_ivar("_draggingDestination")]);
objj_registerClassPair(_6);
objj_addClassForBundle(_6,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_6,[new objj_method(sel_getUid("isDragging"),function(_1d,_1e){
with(_1d){
return _isDragging;
}
}),new objj_method(sel_getUid("draggedWindow"),function(_1f,_20){
with(_1f){
return _draggedWindow;
}
}),new objj_method(sel_getUid("draggedView"),function(_21,_22){
with(_21){
return _draggedView;
}
}),new objj_method(sel_getUid("draggingOffset"),function(_23,_24){
with(_23){
return _draggingOffset;
}
}),new objj_method(sel_getUid("draggingPasteboard"),function(_25,_26){
with(_25){
return _draggingPasteboard;
}
}),new objj_method(sel_getUid("draggingSource"),function(_27,_28){
with(_27){
return _draggingSource;
}
}),new objj_method(sel_getUid("init"),function(_29,_2a){
with(_29){
_29=objj_msgSendSuper({receiver:_29,super_class:objj_getClass("CPObject")},"init");
if(_29){
_draggedWindow=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPBorderlessWindowMask);
objj_msgSend(_draggedWindow,"setLevel:",CPDraggingWindowLevel);
}
return _29;
}
}),new objj_method(sel_getUid("draggingLocation"),function(_2b,_2c){
with(_2b){
return _draggingLocation;
}
}),new objj_method(sel_getUid("draggingStartedInPlatformWindow:globalLocation:"),function(_2d,_2e,_2f,_30){
with(_2d){
if(_isDraggingImage){
if(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:beganAt:"))){
objj_msgSend(_draggingSource,"draggedImage:beganAt:",objj_msgSend(_draggedView,"image"),_30);
}
}else{
if(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:beganAt:"))){
objj_msgSend(_draggingSource,"draggedView:beganAt:",_draggedView,_30);
}
}
if(!objj_msgSend(CPPlatform,"supportsDragAndDrop")){
objj_msgSend(_draggedWindow,"orderFront:",_2d);
}
}
}),new objj_method(sel_getUid("draggingSourceUpdatedWithGlobalLocation:"),function(_31,_32,_33){
with(_31){
if(!objj_msgSend(CPPlatform,"supportsDragAndDrop")){
objj_msgSend(_draggedWindow,"setFrameOrigin:",{x:_33.x-_draggingOffset.width,y:_33.y-_draggingOffset.height});
}
if(_implementedDraggingSourceMethods&_19){
objj_msgSend(_draggingSource,"draggedImage:movedTo:",objj_msgSend(_draggedView,"image"),_33);
}else{
if(_implementedDraggingSourceMethods&_1b){
objj_msgSend(_draggingSource,"draggedView:movedTo:",_draggedView,_33);
}
}
}
}),new objj_method(sel_getUid("draggingUpdatedInPlatformWindow:location:"),function(_34,_35,_36,_37){
with(_34){
var _38=CPDragOperationCopy;
var _39=objj_msgSend(_36,"_dragHitTest:pasteboard:",_37,objj_msgSend(_5,"draggingPasteboard"));
if(_39){
_draggingLocation=objj_msgSend((objj_msgSend(_39,"isKindOfClass:",objj_msgSend(CPWindow,"class"))?_39:objj_msgSend(_39,"window")),"convertPlatformWindowToBase:",_37);
}
if(_39!==_draggingDestination){
if(_draggingDestination&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingExited:"))){
objj_msgSend(_draggingDestination,"draggingExited:",_5);
}
_draggingDestination=_39;
if(_draggingDestination&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingEntered:"))){
_38=objj_msgSend(_draggingDestination,"draggingEntered:",_5);
}
}else{
if(_draggingDestination&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingUpdated:"))){
_38=objj_msgSend(_draggingDestination,"draggingUpdated:",_5);
}
}
if(!_draggingDestination){
_38=CPDragOperationNone;
}
return _38;
}
}),new objj_method(sel_getUid("draggingEndedInPlatformWindow:globalLocation:operation:"),function(_3a,_3b,_3c,_3d,_3e){
with(_3a){
objj_msgSend(_draggedView,"removeFromSuperview");
if(!objj_msgSend(CPPlatform,"supportsDragAndDrop")){
objj_msgSend(_draggedWindow,"orderOut:",_3a);
}
if(_implementedDraggingSourceMethods&_1a){
objj_msgSend(_draggingSource,"draggedImage:endedAt:operation:",objj_msgSend(_draggedView,"image"),_3d,_3e);
}else{
if(_implementedDraggingSourceMethods&_1c){
objj_msgSend(_draggingSource,"draggedView:endedAt:operation:",_draggedView,_3d,_3e);
}
}
_isDragging=NO;
}
}),new objj_method(sel_getUid("performDragOperationInPlatformWindow:"),function(_3f,_40,_41){
with(_3f){
if(_draggingDestination&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("prepareForDragOperation:"))||objj_msgSend(_draggingDestination,"prepareForDragOperation:",_5))&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("performDragOperation:"))||objj_msgSend(_draggingDestination,"performDragOperation:",_5))&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("concludeDragOperation:"))){
objj_msgSend(_draggingDestination,"concludeDragOperation:",_5);
}
}
}),new objj_method(sel_getUid("dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:"),function(_42,_43,_44,_45,_46,_47,_48,_49,_4a,_4b){
with(_42){
_isDragging=YES;
_draggedView=_44;
_draggingPasteboard=_49||objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard);
_draggingSource=_4a;
_draggingDestination=nil;
var _4c=objj_msgSend(_48,"window"),_4d=objj_msgSend(_48,"locationInWindow");
if(_4d){
if(_4c){
_4d=objj_msgSend(_4c,"convertBaseToGlobal:",_4d);
}
_draggingOffset={width:_4d.x-_46.x,height:_4d.y-_46.y};
}else{
_draggingOffset={width:0,height:0};
}
if(objj_msgSend(CPPlatform,"isBrowser")){
objj_msgSend(_draggedWindow,"setPlatformWindow:",objj_msgSend(_45,"platformWindow"));
}
objj_msgSend(_44,"setFrameOrigin:",{x:0,y:0});
var _4e=objj_msgSend(CPEvent,"mouseLocation");
objj_msgSend(_draggedWindow,"setFrameOrigin:",{x:_4e.x-_draggingOffset.width,y:_4e.y-_draggingOffset.height});
objj_msgSend(_draggedWindow,"setFrameSize:",objj_msgSend(_44,"frame").size);
objj_msgSend(objj_msgSend(_draggedWindow,"contentView"),"addSubview:",_44);
_implementedDraggingSourceMethods=0;
if(_draggedView===_imageView){
if(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:movedTo:"))){
_implementedDraggingSourceMethods|=_19;
}
if(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:endAt:operation:"))){
_implementedDraggingSourceMethods|=_1a;
}
}else{
if(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:movedTo:"))){
_implementedDraggingSourceMethods|=_1b;
}
if(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:endedAt:operation:"))){
_implementedDraggingSourceMethods|=_1c;
}
}
if(!objj_msgSend(CPPlatform,"supportsDragAndDrop")){
objj_msgSend(_42,"draggingStartedInPlatformWindow:globalLocation:",objj_msgSend(_45,"platformWindow"),_4e);
objj_msgSend(_42,"trackDragging:",_48);
}
}
}),new objj_method(sel_getUid("dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:"),function(_4f,_50,_51,_52,_53,_54,_55,_56,_57,_58){
with(_4f){
_isDraggingImage=YES;
var _59=objj_msgSend(_51,"size");
if(!_imageView){
_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:_59.width,height:_59.height}});
}
objj_msgSend(_imageView,"setImage:",_51);
objj_msgSend(_4f,"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",_imageView,_52,_53,_54,_55,_56,_57,_58);
}
}),new objj_method(sel_getUid("trackDragging:"),function(_5a,_5b,_5c){
with(_5a){
var _5d=objj_msgSend(_5c,"type"),_5e=objj_msgSend(_draggedWindow,"platformWindow"),_5f=objj_msgSend(objj_msgSend(_5c,"window"),"convertBaseToPlatformWindow:",objj_msgSend(_5c,"locationInWindow"));
if(_5d===CPLeftMouseUp){
objj_msgSend(_5a,"performDragOperationInPlatformWindow:",_5e);
objj_msgSend(_5a,"draggingEndedInPlatformWindow:globalLocation:operation:",_5e,_5f,CPDragOperationNone);
return;
}
objj_msgSend(_5a,"draggingSourceUpdatedWithGlobalLocation:",_5f);
objj_msgSend(_5a,"draggingUpdatedInPlatformWindow:location:",_5e,_5f);
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_5a,sel_getUid("trackDragging:"),CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,0,NO);
}
})]);
class_addMethods(_7,[new objj_method(sel_getUid("initialize"),function(_60,_61){
with(_60){
if(_60!==objj_msgSend(CPDragServer,"class")){
return;
}
_5=objj_msgSend(objj_msgSend(CPDraggingInfo,"alloc"),"init");
}
}),new objj_method(sel_getUid("sharedDragServer"),function(_62,_63){
with(_62){
if(!_3){
_3=objj_msgSend(objj_msgSend(CPDragServer,"alloc"),"init");
}
return _3;
}
})]);
var _6=objj_getClass("CPWindow");
if(!_6){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPWindow\""));
}
var _7=_6.isa;
class_addMethods(_6,[new objj_method(sel_getUid("_dragHitTest:pasteboard:"),function(_64,_65,_66,_67){
with(_64){
if(!_inclusiveRegisteredDraggedTypes){
return nil;
}
var _68=objj_msgSend(_64,"convertPlatformWindowToBase:",_66),_69=objj_msgSend(_windowView,"hitTest:",_68);
while(_69&&!objj_msgSend(_67,"availableTypeFromArray:",objj_msgSend(_69,"registeredDraggedTypes"))){
_69=objj_msgSend(_69,"superview");
}
if(_69){
return _69;
}
if(objj_msgSend(_67,"availableTypeFromArray:",objj_msgSend(_64,"registeredDraggedTypes"))){
return _64;
}
return nil;
}
})]);
p;9;CPEvent.jI;21;Foundation/CPObject.jc;8842;
CPLeftMouseDown=1;
CPLeftMouseUp=2;
CPRightMouseDown=3;
CPRightMouseUp=4;
CPMouseMoved=5;
CPLeftMouseDragged=6;
CPRightMouseDragged=7;
CPMouseEntered=8;
CPMouseExited=9;
CPKeyDown=10;
CPKeyUp=11;
CPFlagsChanged=12;
CPAppKitDefined=13;
CPSystemDefined=14;
CPApplicationDefined=15;
CPPeriodic=16;
CPCursorUpdate=17;
CPScrollWheel=22;
CPOtherMouseDown=25;
CPOtherMouseUp=26;
CPOtherMouseDragged=27;
CPTouchStart=28;
CPTouchMove=29;
CPTouchEnd=30;
CPTouchCancel=31;
CPAlphaShiftKeyMask=1<<16;
CPShiftKeyMask=1<<17;
CPControlKeyMask=1<<18;
CPAlternateKeyMask=1<<19;
CPCommandKeyMask=1<<20;
CPNumericPadKeyMask=1<<21;
CPHelpKeyMask=1<<22;
CPFunctionKeyMask=1<<23;
CPDeviceIndependentModifierFlagsMask=4294901760;
CPLeftMouseDownMask=1<<CPLeftMouseDown;
CPLeftMouseUpMask=1<<CPLeftMouseUp;
CPRightMouseDownMask=1<<CPRightMouseDown;
CPRightMouseUpMask=1<<CPRightMouseUp;
CPOtherMouseDownMask=1<<CPOtherMouseDown;
CPOtherMouseUpMask=1<<CPOtherMouseUp;
CPMouseMovedMask=1<<CPMouseMoved;
CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;
CPRightMouseDraggedMask=1<<CPRightMouseDragged;
CPOtherMouseDragged=1<<CPOtherMouseDragged;
CPMouseEnteredMask=1<<CPMouseEntered;
CPMouseExitedMask=1<<CPMouseExited;
CPCursorUpdateMask=1<<CPCursorUpdate;
CPKeyDownMask=1<<CPKeyDown;
CPKeyUpMask=1<<CPKeyUp;
CPFlagsChangedMask=1<<CPFlagsChanged;
CPAppKitDefinedMask=1<<CPAppKitDefined;
CPSystemDefinedMask=1<<CPSystemDefined;
CPApplicationDefinedMask=1<<CPApplicationDefined;
CPPeriodicMask=1<<CPPeriodic;
CPScrollWheelMask=1<<CPScrollWheel;
CPAnyEventMask=4294967295;
CPDOMEventDoubleClick="dblclick",CPDOMEventMouseDown="mousedown",CPDOMEventMouseUp="mouseup",CPDOMEventMouseMoved="mousemove",CPDOMEventMouseDragged="mousedrag",CPDOMEventKeyUp="keyup",CPDOMEventKeyDown="keydown",CPDOMEventKeyPress="keypress";
CPDOMEventCopy="copy";
CPDOMEventPaste="paste";
CPDOMEventScrollWheel="mousewheel";
CPDOMEventTouchStart="touchstart";
CPDOMEventTouchMove="touchmove";
CPDOMEventTouchEnd="touchend";
CPDOMEventTouchCancel="touchcancel";
var _1=0,_2=nil;
var _3=objj_allocateClassPair(CPObject,"CPEvent"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_type=_7;
_location=CPPointCreateCopy(_8);
_modifierFlags=_9;
_timestamp=_a;
_context=_c;
_eventNumber=_d;
_clickCount=_e;
_pressure=_f;
_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_b);
}
return _5;
}
}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b){
with(_10){
_10=objj_msgSendSuper({receiver:_10,super_class:objj_getClass("CPObject")},"init");
if(_10){
_type=_12;
_location=CPPointCreateCopy(_13);
_modifierFlags=_14;
_timestamp=_15;
_context=_17;
_characters=_18;
_charactersIgnoringModifiers=_19;
_isARepeat=_1a;
_keyCode=_1b;
_windowNumber=_16;
}
return _10;
}
}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(_1c,_1d,_1e,_1f,_20,_21,_22,_23,_24,_25,_26){
with(_1c){
_1c=objj_msgSendSuper({receiver:_1c,super_class:objj_getClass("CPObject")},"init");
if(_1c){
_type=_1e;
_location=CPPointCreateCopy(_1f);
_modifierFlags=_20;
_timestamp=_21;
_context=_23;
_subtype=_24;
_data1=_25;
_data2=_26;
}
return _1c;
}
}),new objj_method(sel_getUid("locationInWindow"),function(_27,_28){
with(_27){
return {x:_location.x,y:_location.y};
}
}),new objj_method(sel_getUid("globalLocation"),function(_29,_2a){
with(_29){
var _2b=objj_msgSend(_29,"window"),_2c=objj_msgSend(_29,"locationInWindow");
if(_2b){
return objj_msgSend(_2b,"convertBaseToGlobal:",_2c);
}
return _2c;
}
}),new objj_method(sel_getUid("modifierFlags"),function(_2d,_2e){
with(_2d){
return _modifierFlags;
}
}),new objj_method(sel_getUid("timestamp"),function(_2f,_30){
with(_2f){
return _timestamp;
}
}),new objj_method(sel_getUid("type"),function(_31,_32){
with(_31){
return _type;
}
}),new objj_method(sel_getUid("window"),function(_33,_34){
with(_33){
if(!_window){
_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber);
}
return _window;
}
}),new objj_method(sel_getUid("windowNumber"),function(_35,_36){
with(_35){
return _windowNumber;
}
}),new objj_method(sel_getUid("buttonNumber"),function(_37,_38){
with(_37){
return _buttonNumber;
}
}),new objj_method(sel_getUid("clickCount"),function(_39,_3a){
with(_39){
return _clickCount;
}
}),new objj_method(sel_getUid("characters"),function(_3b,_3c){
with(_3b){
return _characters;
}
}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(_3d,_3e){
with(_3d){
return _charactersIgnoringModifiers;
}
}),new objj_method(sel_getUid("isARepeat"),function(_3f,_40){
with(_3f){
return _isARepeat;
}
}),new objj_method(sel_getUid("keyCode"),function(_41,_42){
with(_41){
return _keyCode;
}
}),new objj_method(sel_getUid("pressure"),function(_43,_44){
with(_43){
return _pressure;
}
}),new objj_method(sel_getUid("_DOMEvent"),function(_45,_46){
with(_45){
return _DOMEvent;
}
}),new objj_method(sel_getUid("deltaX"),function(_47,_48){
with(_47){
return _deltaX;
}
}),new objj_method(sel_getUid("deltaY"),function(_49,_4a){
with(_49){
return _deltaY;
}
}),new objj_method(sel_getUid("deltaZ"),function(_4b,_4c){
with(_4b){
return _deltaZ;
}
}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(_4d,_4e){
with(_4d){
return _type===CPKeyDown&&_modifierFlags&(CPCommandKeyMask|CPControlKeyMask)&&objj_msgSend(_characters,"length")>0;
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(_4f,_50,_51,_52,_53,_54,_55,_56,_57,_58,_59,_5a){
with(_4f){
return objj_msgSend(objj_msgSend(_4f,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",_51,_52,_53,_54,_55,_56,_57,_58,_59,_5a);
}
}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(_5b,_5c,_5d,_5e,_5f,_60,_61,_62,_63,_64,_65){
with(_5b){
return objj_msgSend(objj_msgSend(_5b,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",_5d,_5e,_5f,_60,_61,_62,_63,_64,_65);
}
}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(_66,_67,_68,_69,_6a,_6b,_6c,_6d,_6e,_6f,_70){
with(_66){
return objj_msgSend(objj_msgSend(_66,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",_68,_69,_6a,_6b,_6c,_6d,_6e,_6f,_70);
}
}),new objj_method(sel_getUid("mouseLocation"),function(_71,_72){
with(_71){
var _73=objj_msgSend(CPApp,"currentEvent"),_74=objj_msgSend(_73,"window");
if(_74){
return objj_msgSend(_74,"convertBaseToGlobal:",objj_msgSend(_73,"locationInWindow"));
}
return objj_msgSend(_73,"locationInWindow");
}
}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(_75,_76,_77,_78){
with(_75){
_1=_78;
_2=window.setTimeout(function(){
_2=window.setInterval(_CPEventFirePeriodEvent,_78*1000);
},_77*1000);
}
}),new objj_method(sel_getUid("stopPeriodicEvents"),function(_79,_7a){
with(_79){
if(_2===nil){
return;
}
window.clearTimeout(_2);
_2=nil;
}
})]);
_CPEventFirePeriodEvent=function(){
objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0));
};
var _7b=objj_msgSend(CPEvent,"class");
_CPEventFromNativeMouseEvent=function(_7c,_7d,_7e,_7f,_80,_81,_82,_83,_84,_85){
_7c.isa=_7b;
_7c._type=_7d;
_7c._location=_7e;
_7c._modifierFlags=_7f;
_7c._timestamp=_80;
_7c._windowNumber=_81;
_7c._window=nil;
_7c._context=_82;
_7c._eventNumber=_83;
_7c._clickCount=_84;
_7c._pressure=_85;
return _7c;
};
p;14;CPFlashMovie.jI;21;Foundation/CPObject.jc;616;
var _1=objj_allocateClassPair(CPObject,"CPFlashMovie"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_fileName")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFile:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
if(_3){
_fileName=_5;
}
return _3;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("flashMovieWithFile:"),function(_6,_7,_8){
with(_6){
return objj_msgSend(objj_msgSend(_6,"alloc"),"initWithFile:",_8);
}
})]);
p;13;CPFlashView.ji;14;CPFlashMovie.ji;8;CPView.jc;2152;
var _1=objj_allocateClassPair(CPView,"CPFlashView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_flashMovie"),new objj_ivar("_DOMEmbedElement"),new objj_ivar("_DOMMParamElement"),new objj_ivar("_DOMObjectElement")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPView")},"initWithFrame:",_5);
if(_3){
_DOMObjectElement=document.createElement("object");
_DOMObjectElement.width="100%";
_DOMObjectElement.height="100%";
_DOMObjectElement.style.top="0px";
_DOMObjectElement.style.left="0px";
_DOMParamElement=document.createElement("param");
_DOMParamElement.name="movie";
_DOMObjectElement.appendChild(_DOMParamElement);
var _6=document.createElement("param");
_6.name="wmode";
_6.value="transparent";
_DOMObjectElement.appendChild(_6);
_DOMEmbedElement=document.createElement("embed");
_DOMEmbedElement.type="application/x-shockwave-flash";
_DOMEmbedElement.setAttribute("wmode","transparent");
_DOMEmbedElement.width="100%";
_DOMEmbedElement.height="100%";
_DOMElement.appendChild(_DOMEmbedElement);
_DOMElement.appendChild(_DOMObjectElement);
}
return _3;
}
}),new objj_method(sel_getUid("setFlashMovie:"),function(_7,_8,_9){
with(_7){
if(_flashMovie==_9){
return;
}
_flashMovie=_9;
_DOMParamElement.value=_9._fileName;
if(_DOMEmbedElement){
_DOMEmbedElement.src=_9._fileName;
}
}
}),new objj_method(sel_getUid("flashMovie"),function(_a,_b){
with(_a){
return _flashMovie;
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_c,_d,_e){
with(_c){
objj_msgSend(objj_msgSend(objj_msgSend(_c,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
}),new objj_method(sel_getUid("mouseDown:"),function(_f,_10,_11){
with(_f){
objj_msgSend(objj_msgSend(objj_msgSend(_f,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
}),new objj_method(sel_getUid("mouseUp:"),function(_12,_13,_14){
with(_12){
objj_msgSend(objj_msgSend(objj_msgSend(_12,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
})]);
p;8;CPFont.jc;2706;
var _1={};
_CPFontSystemFontFace="Arial";
var _2=objj_allocateClassPair(CPObject,"CPFont"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_name"),new objj_ivar("_size"),new objj_ivar("_isBold"),new objj_ivar("_cssString")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("_initWithName:size:bold:"),function(_4,_5,_6,_7,_8){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_name=_6;
_size=_7;
_isBold=_8;
_cssString=(_isBold?"bold ":"")+ROUND(_7)+"px '"+_6+"'";
_1[_cssString]=_4;
}
return _4;
}
}),new objj_method(sel_getUid("size"),function(_9,_a){
with(_9){
return _size;
}
}),new objj_method(sel_getUid("cssString"),function(_b,_c){
with(_b){
return _cssString;
}
}),new objj_method(sel_getUid("familyName"),function(_d,_e){
with(_d){
return _name;
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("fontWithName:size:"),function(_f,_10,_11,_12){
with(_f){
return _1[(NO?"bold ":"")+ROUND(_12)+"px '"+_11+"'"]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",_11,_12,NO);
}
}),new objj_method(sel_getUid("boldFontWithName:size:"),function(_13,_14,_15,_16){
with(_13){
return _1[(YES?"bold ":"")+ROUND(_16)+"px '"+_15+"'"]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",_15,_16,YES);
}
}),new objj_method(sel_getUid("systemFontOfSize:"),function(_17,_18,_19){
with(_17){
return _1[(NO?"bold ":"")+ROUND(_19)+"px '"+_CPFontSystemFontFace+"'"]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",_CPFontSystemFontFace,_19,NO);
}
}),new objj_method(sel_getUid("boldSystemFontOfSize:"),function(_1a,_1b,_1c){
with(_1a){
return _1[(YES?"bold ":"")+ROUND(_1c)+"px '"+_CPFontSystemFontFace+"'"]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",_CPFontSystemFontFace,_1c,YES);
}
})]);
var _1d="CPFontNameKey",_1e="CPFontSizeKey",_1f="CPFontIsBoldKey";
var _2=objj_getClass("CPFont");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPFont\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("initWithCoder:"),function(_20,_21,_22){
with(_20){
return objj_msgSend(_20,"_initWithName:size:bold:",objj_msgSend(_22,"decodeObjectForKey:",_1d),objj_msgSend(_22,"decodeFloatForKey:",_1e),objj_msgSend(_22,"decodeBoolForKey:",_1f));
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_23,_24,_25){
with(_23){
objj_msgSend(_25,"encodeObject:forKey:",_name,_1d);
objj_msgSend(_25,"encodeFloat:forKey:",_size,_1e);
objj_msgSend(_25,"encodeBool:forKey:",_isBold,_1f);
}
})]);
p;15;CPFontManager.jI;21;Foundation/CPObject.jI;15;AppKit/CPFont.jc;3248;
var _1=nil,_2=Nil;
var _3=objj_allocateClassPair(CPObject,"CPFontManager"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_availableFonts")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("availableFonts"),function(_5,_6){
with(_5){
if(!_availableFonts){
_7=document.createElement("span");
_7.fontSize="24px";
_7.appendChild(document.createTextNode("mmmmmmmmmml"));
var _8=document.createElement("div");
_8.style.position="absolute";
_8.style.top="-1000px";
_8.appendChild(_7);
document.getElementsByTagName("body")[0].appendChild(_8);
_9=_a(["monospace","serif","sans-serif","cursive"]);
_availableFonts=[];
for(var i=0;i<_b.length;i++){
var _c=_d(_b[i]);
if(_c){
_availableFonts.push(_b[i]);
}
}
}
return _availableFonts;
}
}),new objj_method(sel_getUid("fontWithNameIsAvailable:"),function(_e,_f,_10){
with(_e){
return _d(_10);
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("sharedFontManager"),function(_11,_12){
with(_11){
if(!_1){
_1=objj_msgSend(objj_msgSend(_2,"alloc"),"init");
}
return _1;
}
}),new objj_method(sel_getUid("setFontManagerFactory:"),function(_13,_14,_15){
with(_13){
_2=_15;
}
})]);
var _7,_9,_b=["American Typewriter","Apple Chancery","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Big Caslon","Bitstream Vera Sans","Bitstream Vera Sans Mono","Bitstream Vera Serif","Brush Script MT","Cambria","Caslon","Castellar","Cataneo BT","Centaur","Century Gothic","Century Schoolbook","Century Schoolbook L","Comic Sans","Comic Sans MS","Consolas","Constantia","Cooper Black","Copperplate","Copperplate Gothic Bold","Copperplate Gothic Light","Corbel","Courier","Courier New","Futura","Geneva","Georgia","Georgia Ref","Geeza Pro","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Helvetica","Helvetica Narrow","Helvetica Neue","Herculanum","High Tower Text","Highlight LET","Hoefler Text","Impact","Imprint MT Shadow","Lucida","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","Lucida Grande","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Marker Felt","Microsoft Sans Serif","Milano LET","Minion Web","MisterEarl BT","Mistral","Monaco","Monotype Corsiva","Monotype.com","New Century Schoolbook","New York","News Gothic MT","Papyrus","Tahoma","Techno","Tempus Sans ITC","Terminal","Textile","Times","Times New Roman","Tiranti Solid LET","Trebuchet MS","Verdana","Verdana Ref","Zapfino"];
var _d=function(_16){
for(var i=0;i<_9.length;i++){
if(_17(_9[i],_16)){
return true;
}
}
return false;
};
var _18={};
var _17=function(_19,_1a){
var a;
if(_18[_19]){
a=_18[_19];
}else{
_7.style.fontFamily="\""+_19+"\"";
_18[_19]=a={w:_7.offsetWidth,h:_7.offsetHeight};
}
_7.style.fontFamily="\""+_1a+"\", \""+_19+"\"";
var _1b=_7.offsetWidth;
var _1c=_7.offsetHeight;
return (a.w!=_1b||a.h!=_1c);
};
var _a=function(_1d){
for(var i=0;i<_1d.length;i++){
for(var j=0;j<i;j++){
if(_17(_1d[i],_1d[j])){
return [_1d[i],_1d[j]];
}
}
}
return [_1d[0]];
};
objj_msgSend(CPFontManager,"setFontManagerFactory:",objj_msgSend(CPFontManager,"class"));
p;12;CPGeometry.ji;12;CGGeometry.jc;4063;
CPMinXEdge=0;
CPMinYEdge=1;
CPMaxXEdge=2;
CPMaxYEdge=3;
CPMakePoint=CGPointMake;
CPMakeSize=CGSizeMake;
CPMakeRect=CGRectMake;
CPPointCreateCopy=function(_1){
return {x:_1.x,y:_1.y};
};
CPPointMake=function(x,y){
return {x:x,y:y};
};
CPRectInset=function(_2,dX,dY){
return CPRectMake(_2.origin.x+dX,_2.origin.y+dY,_2.size.width-2*dX,_2.size.height-2*dY);
};
CPRectIntegral=function(_3){
alert("CPRectIntegral unimplemented");
};
CPRectIntersection=function(_4,_5){
var _6=CPRectMake(Math.max(CPRectGetMinX(_4),CPRectGetMinX(_5)),Math.max(CPRectGetMinY(_4),CPRectGetMinY(_5)),0,0);
_6.size.width=Math.min(CPRectGetMaxX(_4),CPRectGetMaxX(_5))-CPRectGetMinX(_6);
_6.size.height=Math.min(CPRectGetMaxY(_4),CPRectGetMaxY(_5))-CPRectGetMinY(_6);
return CPRectIsEmpty(_6)?CPRectMakeZero():_6;
};
CPRectCreateCopy=function(_7){
return {origin:CPPointCreateCopy(_7.origin),size:CPSizeCreateCopy(_7.size)};
};
CPRectMake=function(x,y,_8,_9){
return {origin:CPPointMake(x,y),size:CPSizeMake(_8,_9)};
};
CPRectOffset=function(_a,dX,dY){
return CPRectMake(_a.origin.x+dX,_a.origin.y+dY,_a.size.width,_a.size.height);
};
CPRectStandardize=function(_b){
var _c=CPRectGetWidth(_b),_d=CPRectGetHeight(_b),_e=CPRectCreateCopy(_b);
if(_c<0){
_e.origin.x+=_c;
_e.size.width=-_c;
}
if(_d<0){
_e.origin.y+=_d;
_e.size.height=-_d;
}
return _e;
};
CPRectUnion=function(_f,_10){
var _11=Math.min(CPRectGetMinX(_f),CPRectGetMinX(_10)),_12=Math.min(CPRectGetMinY(_f),CPRectGetMinY(_10)),_13=Math.max(CPRectGetMaxX(_f),CPRectGetMaxX(_10)),_14=Math.max(CPRectGetMaxY(_f),CPRectGetMaxY(_10));
return CPRectMake(_11,_12,_13-_11,_14-_12);
};
CPSizeCreateCopy=function(_15){
return {width:_15.width,height:_15.height};
};
CPSizeMake=function(_16,_17){
return {width:_16,height:_17};
};
CPRectContainsPoint=function(_18,_19){
return _19.x>=CPRectGetMinX(_18)&&_19.y>=CPRectGetMinY(_18)&&_19.x<CPRectGetMaxX(_18)&&_19.y<CPRectGetMaxY(_18);
};
CPRectContainsRect=function(_1a,_1b){
return CGRectContainsRect(_1a,_1b);
};
CPPointEqualToPoint=function(_1c,_1d){
return _1c.x==_1d.x&&_1c.y==_1d.y;
};
CPRectEqualToRect=function(_1e,_1f){
return CPPointEqualToPoint(_1e.origin,_1f.origin)&&CPSizeEqualToSize(_1e.size,_1f.size);
};
CPRectGetHeight=function(_20){
return _20.size.height;
};
CPRectGetMaxX=function(_21){
return _21.origin.x+_21.size.width;
};
CPRectGetMaxY=function(_22){
return _22.origin.y+_22.size.height;
};
CPRectGetMidX=function(_23){
return _23.origin.x+(_23.size.width)/2;
};
CPRectGetMidY=function(_24){
return _24.origin.y+(_24.size.height)/2;
};
CPRectGetMinX=function(_25){
return _25.origin.x;
};
CPRectGetMinY=function(_26){
return _26.origin.y;
};
CPRectGetWidth=function(_27){
return _27.size.width;
};
CPRectIntersectsRect=function(_28,_29){
return !CPRectIsEmpty(CPRectIntersection(_28,_29));
};
CPRectIsEmpty=function(_2a){
return _2a.size.width<=0||_2a.size.height<=0;
};
CPRectIsNull=function(_2b){
return _2b.size.width<=0||_2b.size.height<=0;
};
CPSizeEqualToSize=function(_2c,_2d){
return _2c.width==_2d.width&&_2c.height==_2d.height;
};
CPStringFromPoint=function(_2e){
return "{"+_2e.x+", "+_2e.y+"}";
};
CPStringFromSize=function(_2f){
return "{"+_2f.width+", "+_2f.height+"}";
};
CPStringFromRect=function(_30){
return "{"+CPStringFromPoint(_30.origin)+", "+CPStringFromSize(_30.size)+"}";
};
CPPointFromString=function(_31){
var _32=_31.indexOf(",");
return {x:parseFloat(_31.substr(1,_32-1),10),y:parseFloat(_31.substring(_32+1,_31.length),10)};
};
CPSizeFromString=function(_33){
var _34=_33.indexOf(",");
return {width:parseFloat(_33.substr(1,_34-1),10),height:parseFloat(_33.substring(_34+1,_33.length),10)};
};
CPRectFromString=function(_35){
var _36=_35.indexOf(",",_35.indexOf(",")+1);
return {origin:CPPointFromString(_35.substr(1,_36-1)),size:CPSizeFromString(_35.substring(_36+2,_35.length))};
};
CPPointFromEvent=function(_37){
return CPPointMake(_37.clientX,_37.clientY,0);
};
CPSizeMakeZero=function(){
return CPSizeMake(0,0);
};
CPRectMakeZero=function(){
return CPRectMake(0,0,0,0);
};
CPPointMakeZero=function(){
return CPPointMake(0,0,0);
};
p;19;CPGraphicsContext.jc;960;
var _1=nil;
var _2=objj_allocateClassPair(CPObject,"CPGraphicsContext"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_graphicsPort")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithGraphicsPort:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_graphicsPort=_6;
}
return _4;
}
}),new objj_method(sel_getUid("graphicsPort"),function(_7,_8){
with(_7){
return _graphicsPort;
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("currentContext"),function(_9,_a){
with(_9){
return _1;
}
}),new objj_method(sel_getUid("setCurrentContext:"),function(_b,_c,_d){
with(_b){
_1=_d;
}
}),new objj_method(sel_getUid("graphicsContextWithGraphicsPort:flipped:"),function(_e,_f,_10,_11){
with(_e){
return objj_msgSend(objj_msgSend(_e,"alloc"),"initWithGraphicsPort:",_10);
}
})]);
p;9;CPImage.jI;21;Foundation/CPBundle.jI;33;Foundation/CPNotificationCenter.jI;21;Foundation/CPObject.jI;22;Foundation/CPRunLoop.jI;21;Foundation/CPString.ji;12;CPGeometry.jc;8775;
CPImageLoadStatusInitialized=0;
CPImageLoadStatusLoading=1;
CPImageLoadStatusCompleted=2;
CPImageLoadStatusCancelled=3;
CPImageLoadStatusInvalidData=4;
CPImageLoadStatusUnexpectedEOF=5;
CPImageLoadStatusReadError=6;
CPImageDidLoadNotification="CPImageDidLoadNotification";
CPImageInBundle=function(_1,_2,_3){
if(!_3){
_3=objj_msgSend(CPBundle,"mainBundle");
}
if(_2){
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_3,"pathForResource:",_1),_2);
}
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(_3,"pathForResource:",_1));
};
var _4=objj_allocateClassPair(CPObject,"CPImage"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_size"),new objj_ivar("_filename"),new objj_ivar("_delegate"),new objj_ivar("_loadStatus"),new objj_ivar("_image")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("init"),function(_6,_7){
with(_6){
return objj_msgSend(_6,"initByReferencingFile:size:","",CGSizeMake(-1,-1));
}
}),new objj_method(sel_getUid("initByReferencingFile:size:"),function(_8,_9,_a,_b){
with(_8){
_8=objj_msgSendSuper({receiver:_8,super_class:objj_getClass("CPObject")},"init");
if(_8){
_size=CPSizeCreateCopy(_b);
_filename=_a;
_loadStatus=CPImageLoadStatusInitialized;
}
return _8;
}
}),new objj_method(sel_getUid("initWithContentsOfFile:size:"),function(_c,_d,_e,_f){
with(_c){
_c=objj_msgSend(_c,"initByReferencingFile:size:",_e,_f);
if(_c){
objj_msgSend(_c,"load");
}
return _c;
}
}),new objj_method(sel_getUid("initWithContentsOfFile:"),function(_10,_11,_12){
with(_10){
_10=objj_msgSend(_10,"initByReferencingFile:size:",_12,CGSizeMake(-1,-1));
if(_10){
objj_msgSend(_10,"load");
}
return _10;
}
}),new objj_method(sel_getUid("filename"),function(_13,_14){
with(_13){
return _filename;
}
}),new objj_method(sel_getUid("setSize:"),function(_15,_16,_17){
with(_15){
_size=CGSizeMakeCopy(_17);
}
}),new objj_method(sel_getUid("size"),function(_18,_19){
with(_18){
return _size;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_1a,_1b,_1c){
with(_1a){
_delegate=_1c;
}
}),new objj_method(sel_getUid("delegate"),function(_1d,_1e){
with(_1d){
return _delegate;
}
}),new objj_method(sel_getUid("loadStatus"),function(_1f,_20){
with(_1f){
return _loadStatus;
}
}),new objj_method(sel_getUid("load"),function(_21,_22){
with(_21){
if(_loadStatus==CPImageLoadStatusLoading||_loadStatus==CPImageLoadStatusCompleted){
return;
}
_loadStatus=CPImageLoadStatusLoading;
_image=new Image();
var _23=YES;
_image.onload=function(){
if(_23){
window.setTimeout(function(){
objj_msgSend(_21,"_imageDidLoad");
},0);
}else{
objj_msgSend(_21,"_imageDidLoad");
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
objj_msgSend(_21,"_derefFromImage");
};
_image.onerror=function(){
if(_23){
window.setTimeout(function(){
objj_msgSend(_21,"_imageDidError");
},0);
}else{
objj_msgSend(_21,"_imageDidError");
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
objj_msgSend(_21,"_derefFromImage");
};
_image.onabort=function(){
if(_23){
window.setTimeout(function(){
objj_msgSend(_21,"_imageDidAbort");
},0);
}else{
objj_msgSend(_21,"_imageDidAbort");
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
objj_msgSend(_21,"_derefFromImage");
};
_image.src=_filename;
window.setTimeout(function(){
_23=NO;
},0);
}
}),new objj_method(sel_getUid("isThreePartImage"),function(_24,_25){
with(_24){
return NO;
}
}),new objj_method(sel_getUid("isNinePartImage"),function(_26,_27){
with(_26){
return NO;
}
}),new objj_method(sel_getUid("_derefFromImage"),function(_28,_29){
with(_28){
_image.onload=null;
_image.onerror=null;
_image.onabort=null;
}
}),new objj_method(sel_getUid("_imageDidLoad"),function(_2a,_2b){
with(_2a){
_loadStatus=CPImageLoadStatusCompleted;
if(!_size||(_size.width==-1&&_size.height==-1)){
_size=CGSizeMake(_image.width,_image.height);
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPImageDidLoadNotification,_2a);
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("imageDidLoad:"))){
objj_msgSend(_delegate,"imageDidLoad:",_2a);
}
}
}),new objj_method(sel_getUid("_imageDidError"),function(_2c,_2d){
with(_2c){
_loadStatus=CPImageLoadStatusReadError;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("imageDidError:"))){
objj_msgSend(_delegate,"imageDidError:",_2c);
}
}
}),new objj_method(sel_getUid("_imageDidAbort"),function(_2e,_2f){
with(_2e){
_loadStatus=CPImageLoadStatusCancelled;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("imageDidAbort:"))){
objj_msgSend(_delegate,"imageDidAbort:",_2e);
}
}
})]);
var _4=objj_getClass("CPImage");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPImage\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("initWithCoder:"),function(_30,_31,_32){
with(_30){
return objj_msgSend(_30,"initWithContentsOfFile:size:",objj_msgSend(_32,"decodeObjectForKey:","CPFilename"),objj_msgSend(_32,"decodeSizeForKey:","CPSize"));
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_33,_34,_35){
with(_33){
objj_msgSend(_35,"encodeObject:forKey:",_filename,"CPFilename");
objj_msgSend(_35,"encodeSize:forKey:",_size,"CPSize");
}
})]);
var _4=objj_allocateClassPair(CPObject,"CPThreePartImage"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_imageSlices"),new objj_ivar("_isVertical")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("initWithImageSlices:isVertical:"),function(_36,_37,_38,_39){
with(_36){
_36=objj_msgSendSuper({receiver:_36,super_class:objj_getClass("CPObject")},"init");
if(_36){
_imageSlices=_38;
_isVertical=_39;
}
return _36;
}
}),new objj_method(sel_getUid("filename"),function(_3a,_3b){
with(_3a){
return "";
}
}),new objj_method(sel_getUid("imageSlices"),function(_3c,_3d){
with(_3c){
return _imageSlices;
}
}),new objj_method(sel_getUid("isVertical"),function(_3e,_3f){
with(_3e){
return _isVertical;
}
}),new objj_method(sel_getUid("isThreePartImage"),function(_40,_41){
with(_40){
return YES;
}
}),new objj_method(sel_getUid("isNinePartImage"),function(_42,_43){
with(_42){
return NO;
}
})]);
var _44="CPThreePartImageImageSlicesKey",_45="CPThreePartImageIsVerticalKey";
var _4=objj_getClass("CPThreePartImage");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPThreePartImage\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("initWithCoder:"),function(_46,_47,_48){
with(_46){
_46=objj_msgSendSuper({receiver:_46,super_class:objj_getClass("CPObject")},"init");
if(_46){
_imageSlices=objj_msgSend(_48,"decodeObjectForKey:",_44);
_isVertical=objj_msgSend(_48,"decodeBoolForKey:",_45);
}
return _46;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_49,_4a,_4b){
with(_49){
objj_msgSend(_4b,"encodeObject:forKey:",_imageSlices,_44);
objj_msgSend(_4b,"encodeBool:forKey:",_isVertical,_45);
}
})]);
var _4=objj_allocateClassPair(CPObject,"CPNinePartImage"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_imageSlices")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("initWithImageSlices:"),function(_4c,_4d,_4e){
with(_4c){
_4c=objj_msgSendSuper({receiver:_4c,super_class:objj_getClass("CPObject")},"init");
if(_4c){
_imageSlices=_4e;
}
return _4c;
}
}),new objj_method(sel_getUid("filename"),function(_4f,_50){
with(_4f){
return "";
}
}),new objj_method(sel_getUid("imageSlices"),function(_51,_52){
with(_51){
return _imageSlices;
}
}),new objj_method(sel_getUid("isThreePartImage"),function(_53,_54){
with(_53){
return NO;
}
}),new objj_method(sel_getUid("isNinePartImage"),function(_55,_56){
with(_55){
return YES;
}
})]);
var _57="CPNinePartImageImageSlicesKey";
var _4=objj_getClass("CPNinePartImage");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPNinePartImage\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("initWithCoder:"),function(_58,_59,_5a){
with(_58){
_58=objj_msgSendSuper({receiver:_58,super_class:objj_getClass("CPObject")},"init");
if(_58){
_imageSlices=objj_msgSend(_5a,"decodeObjectForKey:",_57);
}
return _58;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_5b,_5c,_5d){
with(_5b){
objj_msgSend(_5d,"encodeObject:forKey:",_imageSlices,_57);
}
})]);
p;13;CPImageView.jI;33;Foundation/CPNotificationCenter.ji;11;CPControl.ji;9;CPImage.ji;14;CPShadowView.jc;8025;
CPScaleProportionally=0;
CPScaleToFit=1;
CPScaleNone=2;
var _1=nil;
var _2=3,_3=3,_4=3,_5=5,_6=_4+_5,_7=_2+_3;
var _8=objj_allocateClassPair(CPControl,"CPImageView"),_9=_8.isa;
class_addIvars(_8,[new objj_ivar("_DOMImageElement"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowView"),new objj_ivar("_isEditable"),new objj_ivar("_imageRect")]);
objj_registerClassPair(_8);
objj_addClassForBundle(_8,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_8,[new objj_method(sel_getUid("initWithFrame:"),function(_a,_b,_c){
with(_a){
_a=objj_msgSendSuper({receiver:_a,super_class:objj_getClass("CPControl")},"initWithFrame:",_c);
if(_a){
_DOMImageElement=document.createElement("img");
_DOMImageElement.style.position="absolute";
_DOMImageElement.style.left="0px";
_DOMImageElement.style.top="0px";
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_DOMImageElement.setAttribute("draggable","true");
_DOMImageElement.style["-khtml-user-drag"]="element";
}
_DOMElement.appendChild(_DOMImageElement);
_DOMImageElement.style.visibility="hidden";
}
return _a;
}
}),new objj_method(sel_getUid("image"),function(_d,_e){
with(_d){
return objj_msgSend(_d,"objectValue");
}
}),new objj_method(sel_getUid("setImage:"),function(_f,_10,_11){
with(_f){
objj_msgSend(_f,"setObjectValue:",_11);
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_12,_13,_14){
with(_12){
var _15=objj_msgSend(_12,"objectValue");
if(_15===_14){
return;
}
objj_msgSendSuper({receiver:_12,super_class:objj_getClass("CPControl")},"setObjectValue:",_14);
var _16=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_15){
objj_msgSend(_16,"removeObserver:name:object:",_12,CPImageDidLoadNotification,_15);
}
var _17=objj_msgSend(_12,"objectValue");
_DOMImageElement.src=_17?objj_msgSend(_17,"filename"):"";
var _18=objj_msgSend(_17,"size");
if(_18&&_18.width===-1&&_18.height===-1){
objj_msgSend(_16,"addObserver:selector:name:object:",_12,sel_getUid("imageDidLoad:"),CPImageDidLoadNotification,_17);
_DOMImageElement.width=0;
_DOMImageElement.height=0;
objj_msgSend(_shadowView,"setHidden:",YES);
}else{
objj_msgSend(_12,"hideOrDisplayContents");
objj_msgSend(_12,"setNeedsLayout");
objj_msgSend(_12,"setNeedsDisplay:",YES);
}
}
}),new objj_method(sel_getUid("imageDidLoad:"),function(_19,_1a,_1b){
with(_19){
objj_msgSend(_19,"hideOrDisplayContents");
objj_msgSend(_19,"setNeedsLayout");
objj_msgSend(_19,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("hasShadow"),function(_1c,_1d){
with(_1c){
return _hasShadow;
}
}),new objj_method(sel_getUid("setHasShadow:"),function(_1e,_1f,_20){
with(_1e){
if(_hasShadow==_20){
return;
}
_hasShadow=_20;
if(_hasShadow){
_shadowView=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(_1e,"bounds"));
objj_msgSend(_1e,"addSubview:",_shadowView);
objj_msgSend(_1e,"setNeedsLayout");
objj_msgSend(_1e,"setNeedsDisplay:",YES);
}else{
objj_msgSend(_shadowView,"removeFromSuperview");
_shadowView=nil;
}
objj_msgSend(_1e,"hideOrDisplayContents");
}
}),new objj_method(sel_getUid("setImageScaling:"),function(_21,_22,_23){
with(_21){
objj_msgSendSuper({receiver:_21,super_class:objj_getClass("CPControl")},"setImageScaling:",_23);
if(objj_msgSend(_21,"currentValueForThemeAttribute:","image-scaling")===CPScaleToFit){
if(NULL){
var _24=_CGPointApplyAffineTransform(CGPointMake(0,0),NULL);
}else{
var _24={x:0,y:0};
}
_DOMImageElement.style.left=ROUND(_24.x)+"px";
_DOMImageElement.style.top=ROUND(_24.y)+"px";
}
objj_msgSend(_21,"setNeedsLayout");
objj_msgSend(_21,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("hideOrDisplayContents"),function(_25,_26){
with(_25){
if(!objj_msgSend(_25,"image")){
_DOMImageElement.style.visibility="hidden";
objj_msgSend(_shadowView,"setHidden:",YES);
}else{
_DOMImageElement.style.visibility="visible";
objj_msgSend(_shadowView,"setHidden:",NO);
}
}
}),new objj_method(sel_getUid("imageRect"),function(_27,_28){
with(_27){
return _imageRect;
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_29,_2a){
with(_29){
if(!objj_msgSend(_29,"image")){
return;
}
var _2b=objj_msgSend(_29,"bounds"),_2c=objj_msgSend(_29,"image"),_2d=objj_msgSend(_29,"currentValueForThemeAttribute:","image-scaling"),x=0,y=0,_2e=(_hasShadow?_7:0),_2f=(_hasShadow?_6:0),_30=(_2b.size.width),_31=(_2b.size.height),_32=_30-_2e,_33=_31-_2f;
if(_2d===CPScaleToFit){
_DOMImageElement.width=ROUND(_32);
_DOMImageElement.height=ROUND(_33);
}else{
var _34=objj_msgSend(_2c,"size");
if(_34.width==-1&&_34.height==-1){
return;
}
if(_2d===CPScaleProportionally){
if(_32>=_34.width&&_33>=_34.height){
_32=_34.width;
_33=_34.height;
}else{
var _35=_34.width/_34.height,_36=_32/_33;
if(_36>_35){
_32=_33*_35;
}else{
_33=_32/_35;
}
}
_DOMImageElement.width=ROUND(_32);
_DOMImageElement.height=ROUND(_33);
}else{
_32=_34.width;
_33=_34.height;
}
if(_2d==CPScaleNone){
_DOMImageElement.width=ROUND(_34.width);
_DOMImageElement.height=ROUND(_34.height);
}
var x=(_30-_32)/2,y=(_31-_33)/2;
if(NULL){
var _37=_CGPointApplyAffineTransform(CGPointMake(x,y),NULL);
}else{
var _37={x:x,y:y};
}
_DOMImageElement.style.left=ROUND(_37.x)+"px";
_DOMImageElement.style.top=ROUND(_37.y)+"px";
}
_imageRect={origin:{x:x,y:y},size:{width:_32,height:_33}};
if(_hasShadow){
objj_msgSend(_shadowView,"setFrame:",{origin:{x:x-_2,y:y-_4},size:{width:_32+_2e,height:_33+_2f}});
}
}
}),new objj_method(sel_getUid("mouseDown:"),function(_38,_39,_3a){
with(_38){
objj_msgSend(objj_msgSend(_38,"nextResponder"),"mouseDown:",_3a);
}
}),new objj_method(sel_getUid("setEditable:"),function(_3b,_3c,_3d){
with(_3b){
if(_isEditable===_3d){
return;
}
_isEditable=_3d;
if(_isEditable){
objj_msgSend(_3b,"registerForDraggedTypes:",[CPImagesPboardType]);
}else{
var _3e=objj_msgSend(_3b,"registeredDraggedTypes");
objj_msgSend(_3b,"unregisterDraggedTypes");
objj_msgSend(_3e,"removeObjectIdenticalTo:",CPImagesPboardType);
objj_msgSend(_3b,"registerForDraggedTypes:",_3e);
}
}
}),new objj_method(sel_getUid("isEditable"),function(_3f,_40){
with(_3f){
return _isEditable;
}
}),new objj_method(sel_getUid("performDragOperation:"),function(_41,_42,_43){
with(_41){
var _44=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(objj_msgSend(_43,"draggingPasteboard"),"dataForType:",CPImagesPboardType));
if(objj_msgSend(_44,"count")){
objj_msgSend(_41,"setImage:",_44[0]);
}
}
})]);
var _45="CPImageViewImageKey",_46="CPImageViewImageScalingKey",_47="CPImageViewHasShadowKey",_48="CPImageViewIsEditableKey";
var _8=objj_getClass("CPImageView");
if(!_8){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPImageView\""));
}
var _9=_8.isa;
class_addMethods(_8,[new objj_method(sel_getUid("initWithCoder:"),function(_49,_4a,_4b){
with(_49){
_DOMImageElement=document.createElement("img");
_DOMImageElement.style.position="absolute";
_DOMImageElement.style.left="0px";
_DOMImageElement.style.top="0px";
_DOMImageElement.style.visibility="hidden";
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_DOMImageElement.setAttribute("draggable","true");
_DOMImageElement.style["-khtml-user-drag"]="element";
}
_49=objj_msgSendSuper({receiver:_49,super_class:objj_getClass("CPControl")},"initWithCoder:",_4b);
if(_49){
_DOMElement.appendChild(_DOMImageElement);
objj_msgSend(_49,"setHasShadow:",objj_msgSend(_4b,"decodeBoolForKey:",_47));
if(objj_msgSend(_4b,"decodeBoolForKey:",_48)||NO){
objj_msgSend(_49,"setEditable:",YES);
}
objj_msgSend(_49,"setNeedsLayout");
objj_msgSend(_49,"setNeedsDisplay:",YES);
}
return _49;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_4c,_4d,_4e){
with(_4c){
if(_shadowView){
var _4f=_subviews;
_subviews=objj_msgSend(_subviews,"copy");
objj_msgSend(_subviews,"removeObjectIdenticalTo:",_shadowView);
}
objj_msgSendSuper({receiver:_4c,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_4e);
if(_shadowView){
_subviews=_4f;
}
objj_msgSend(_4e,"encodeBool:forKey:",_hasShadow,_47);
if(_isEditable){
objj_msgSend(_4e,"encodeBool:forKey:",_isEditable,_48);
}
}
})]);
p;13;CPOpenPanel.jI;16;AppKit/CPPanel.jc;2075;
var _1=objj_allocateClassPair(CPPanel,"CPOpenPanel"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_canChooseFiles"),new objj_ivar("_canChooseDirectories"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_directoryURL"),new objj_ivar("_URLs")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("canChooseFiles"),function(_3,_4){
with(_3){
return _canChooseFiles;
}
}),new objj_method(sel_getUid("setCanChooseFiles:"),function(_5,_6,_7){
with(_5){
_canChooseFiles=_7;
}
}),new objj_method(sel_getUid("canChooseDirectories"),function(_8,_9){
with(_8){
return _canChooseDirectories;
}
}),new objj_method(sel_getUid("setCanChooseDirectories:"),function(_a,_b,_c){
with(_a){
_canChooseDirectories=_c;
}
}),new objj_method(sel_getUid("allowsMultipleSelection"),function(_d,_e){
with(_d){
return _allowsMultipleSelection;
}
}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(_f,_10,_11){
with(_f){
_allowsMultipleSelection=_11;
}
}),new objj_method(sel_getUid("directoryURL"),function(_12,_13){
with(_12){
return _directoryURL;
}
}),new objj_method(sel_getUid("setDirectoryURL:"),function(_14,_15,_16){
with(_14){
_directoryURL=_16;
}
}),new objj_method(sel_getUid("runModal"),function(_17,_18){
with(_17){
if(typeof window["cpOpenPanel"]==="function"){
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
var _19={directoryURL:objj_msgSend(_17,"directoryURL"),canChooseFiles:objj_msgSend(_17,"canChooseFiles"),canChooseDirectories:objj_msgSend(_17,"canChooseDirectories"),allowsMultipleSelection:objj_msgSend(_17,"allowsMultipleSelection")};
var _1a=window.cpOpenPanel(_19);
_URLs=_1a.URLs;
return _1a.button;
}
throw "-runModal is unimplemented.";
}
}),new objj_method(sel_getUid("URLs"),function(_1b,_1c){
with(_1b){
return _URLs;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("openPanel"),function(_1d,_1e){
with(_1d){
return objj_msgSend(objj_msgSend(CPOpenPanel,"alloc"),"init");
}
})]);
p;15;CPOutlineView.ji;15;CPTableColumn.ji;13;CPTableView.jc;20456;
CPOutlineViewColumnDidMoveNotification="CPOutlineViewColumnDidMoveNotification";
CPOutlineViewColumnDidResizeNotification="CPOutlineViewColumnDidResizeNotification";
CPOutlineViewItemDidCollapseNotification="CPOutlineViewItemDidCollapseNotification";
CPOutlineViewItemDidExpandNotification="CPOutlineViewItemDidExpandNotification";
CPOutlineViewItemWillCollapseNotification="CPOutlineViewItemWillCollapseNotification";
CPOutlineViewItemWillExpandNotification="CPOutlineViewItemWillExpandNotification";
CPOutlineViewSelectionDidChangeNotification="CPOutlineViewSelectionDidChangeNotification";
CPOutlineViewSelectionIsChangingNotification="CPOutlineViewSelectionIsChangingNotification";
var _1=1<<1,_2=1<<2,_3=1<<3,_4=1<<4,_5=1<<5,_6=1<<6,_7=1<<7,_8=1<<8,_9=1<<9,_a=1<<10;
var _b=objj_allocateClassPair(CPTableView,"CPOutlineView"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_outlineViewDataSource"),new objj_ivar("_outlineViewDelegate"),new objj_ivar("_outlineTableColumn"),new objj_ivar("_indentationPerLevel"),new objj_ivar("_indentationMarkerFollowsDataView"),new objj_ivar("_implementedOutlineViewDataSourceMethods"),new objj_ivar("_rootItemInfo"),new objj_ivar("_itemsForRows"),new objj_ivar("_itemInfosForItems"),new objj_ivar("_disclosureControlPrototype"),new objj_ivar("_disclosureControlsForRows"),new objj_ivar("_disclosureControlData"),new objj_ivar("_disclosureControlQueue")]);
objj_registerClassPair(_b);
objj_addClassForBundle(_b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_b,[new objj_method(sel_getUid("initWithFrame:"),function(_d,_e,_f){
with(_d){
_d=objj_msgSendSuper({receiver:_d,super_class:objj_getClass("CPTableView")},"initWithFrame:",_f);
if(_d){
_rootItemInfo={isExpanded:YES,isExpandable:NO,level:-1,row:-1,children:[],weight:0};
_itemsForRows=[];
_itemInfosForItems={};
_disclosureControlsForRows=[];
objj_msgSend(_d,"setIndentationPerLevel:",16);
objj_msgSend(_d,"setIndentationMarkerFollowsDataView:",YES);
objj_msgSendSuper({receiver:_d,super_class:objj_getClass("CPTableView")},"setDataSource:",objj_msgSend(objj_msgSend(_CPOutlineViewTableViewDataSource,"alloc"),"initWithOutlineView:",_d));
objj_msgSend(_d,"setDisclosureControlPrototype:",objj_msgSend(objj_msgSend(CPDisclosureButton,"alloc"),"initWithFrame:",CGRectMake(0,0,10,10)));
}
return _d;
}
}),new objj_method(sel_getUid("setDataSource:"),function(_10,_11,_12){
with(_10){
if(_outlineViewDataSource===_12){
return;
}
if(!objj_msgSend(_12,"respondsToSelector:",sel_getUid("outlineView:child:ofItem:"))){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Data source must implement 'outlineView:child:ofItem:'");
}
if(!objj_msgSend(_12,"respondsToSelector:",sel_getUid("outlineView:isItemExpandable:"))){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Data source must implement 'outlineView:isItemExpandable:'");
}
if(!objj_msgSend(_12,"respondsToSelector:",sel_getUid("outlineView:numberOfChildrenOfItem:"))){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Data source must implement 'outlineView:numberOfChildrenOfItem:'");
}
if(!objj_msgSend(_12,"respondsToSelector:",sel_getUid("outlineView:objectValueForTableColumn:byItem:"))){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Data source must implement 'outlineView:objectValueForTableColumn:byItem:'");
}
_outlineViewDataSource=_12;
_implementedOutlineViewDataSourceMethods=0;
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:setObjectValue:forTableColumn:byItem:"))){
_implementedOutlineViewDataSourceMethods|=_1;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:shouldDeferDisplayingChildrenOfItem:"))){
_implementedOutlineViewDataSourceMethods|=_2;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:acceptDrop:item:childIndex:"))){
_implementedOutlineViewDataSourceMethods|=_3;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:validateDrop:proposedItem:proposedChildIndex:"))){
_implementedOutlineViewDataSourceMethods|=_4;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:validateDrop:proposedRow:proposedDropOperation:"))){
_implementedOutlineViewDataSourceMethods|=_5;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:namesOfPromisedFilesDroppedAtDestination:forDraggedItems:"))){
_implementedOutlineViewDataSourceMethods|=_6;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:itemForPersistentObject:"))){
_implementedOutlineViewDataSourceMethods|=_7;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:persistentObjectForItem:"))){
_implementedOutlineViewDataSourceMethods|=_8;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:writeItems:toPasteboard:"))){
_implementedOutlineViewDataSourceMethods|=_9;
}
if(objj_msgSend(_outlineViewDataSource,"respondsToSelector:",sel_getUid("outlineView:sortDescriptorsDidChange:"))){
_implementedOutlineViewDataSourceMethods|=_a;
}
objj_msgSend(_10,"reloadData");
}
}),new objj_method(sel_getUid("dataSource"),function(_13,_14){
with(_13){
return _outlineViewDataSource;
}
}),new objj_method(sel_getUid("isExpandable:"),function(_15,_16,_17){
with(_15){
if(!_17){
return YES;
}
var _18=_itemInfosForItems[objj_msgSend(_17,"UID")];
if(!_18){
return NO;
}
return _18.isExpandable;
}
}),new objj_method(sel_getUid("isItemExpanded:"),function(_19,_1a,_1b){
with(_19){
if(!_1b){
return YES;
}
var _1c=_itemInfosForItems[objj_msgSend(_1b,"UID")];
if(!_1c){
return NO;
}
return _1c.isExpanded;
}
}),new objj_method(sel_getUid("expandItem:"),function(_1d,_1e,_1f){
with(_1d){
if(!_1f){
return;
}
var _20=_itemInfosForItems[objj_msgSend(_1f,"UID")];
if(!_20){
return;
}
if(_20.isExpanded){
return;
}
_20.isExpanded=YES;
objj_msgSend(_1d,"reloadItem:reloadChildren:",_1f,YES);
}
}),new objj_method(sel_getUid("collapseItem:"),function(_21,_22,_23){
with(_21){
if(!_23){
return;
}
var _24=_itemInfosForItems[objj_msgSend(_23,"UID")];
if(!_24){
return;
}
if(!_24.isExpanded){
return;
}
_24.isExpanded=NO;
objj_msgSend(_21,"reloadItem:reloadChildren:",_23,YES);
}
}),new objj_method(sel_getUid("reloadItem:"),function(_25,_26,_27){
with(_25){
objj_msgSend(_25,"reloadItem:reloadChildren:",_27,NO);
}
}),new objj_method(sel_getUid("reloadItem:reloadChildren:"),function(_28,_29,_2a,_2b){
with(_28){
if(!!_2b||!_2a){
_2c(_28,_2a);
}else{
_2d(_28,_2a);
}
objj_msgSendSuper({receiver:_28,super_class:objj_getClass("CPTableView")},"reloadData");
}
}),new objj_method(sel_getUid("itemAtRow:"),function(_2e,_2f,_30){
with(_2e){
return _itemsForRows[_30]||nil;
}
}),new objj_method(sel_getUid("rowForItem:"),function(_31,_32,_33){
with(_31){
if(!_33){
return _rootItemInfo.row;
}
var _34=_itemInfosForItems[objj_msgSend(_33,"UID")];
if(!_34){
return CPNotFound;
}
return _34.row;
}
}),new objj_method(sel_getUid("setOutlineTableColumn:"),function(_35,_36,_37){
with(_35){
if(_outlineTableColumn===_37){
return;
}
_outlineTableColumn=_37;
objj_msgSend(_35,"reloadData");
}
}),new objj_method(sel_getUid("outlineTableColumn"),function(_38,_39){
with(_38){
return _outlineTableColumn;
}
}),new objj_method(sel_getUid("levelForItem:"),function(_3a,_3b,_3c){
with(_3a){
if(!_3c){
return _rootItemInfo.level;
}
var _3d=_itemInfosForItems[objj_msgSend(_3c,"UID")];
if(!_3d){
return CPNotFound;
}
return _3d.level;
}
}),new objj_method(sel_getUid("levelForRow:"),function(_3e,_3f,_40){
with(_3e){
return objj_msgSend(_3e,"levelForItem:",objj_msgSend(_3e,"itemAtRow:",_40));
}
}),new objj_method(sel_getUid("setIndentationPerLevel:"),function(_41,_42,_43){
with(_41){
if(_indentationPerLevel===_43){
return;
}
_indentationPerLevel=_43;
objj_msgSend(_41,"reloadData");
}
}),new objj_method(sel_getUid("indentationPerLevel"),function(_44,_45){
with(_44){
return _indentationPerLevel;
}
}),new objj_method(sel_getUid("setIndentationMarkerFollowsDataView:"),function(_46,_47,_48){
with(_46){
if(_indentationMarkerFollowsDataView===_48){
return;
}
_indentationMarkerFollowsDataView=_48;
objj_msgSend(_46,"reloadData");
}
}),new objj_method(sel_getUid("indentationMarkerFollowsDataView"),function(_49,_4a){
with(_49){
return _indentationMarkerFollowsDataView;
}
}),new objj_method(sel_getUid("parentForItem:"),function(_4b,_4c,_4d){
with(_4b){
if(!_4d){
return nil;
}
var _4e=_itemInfosForItems[objj_msgSend(_4d,"UID")];
if(!_4e){
return nil;
}
return _4e.parent;
}
}),new objj_method(sel_getUid("frameOfOutlineDataViewAtColumn:row:"),function(_4f,_50,_51,_52){
with(_4f){
var _53=objj_msgSendSuper({receiver:_4f,super_class:objj_getClass("CPTableView")},"frameOfDataViewAtColumn:row:",_51,_52),_54=(objj_msgSend(_4f,"levelForRow:",_52)+1)*objj_msgSend(_4f,"indentationPerLevel");
_53.origin.x+=_54;
_53.size.width-=_54;
return _53;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_55,_56,_57){
with(_55){
if(_outlineViewDelegate===_57){
return;
}
var _58=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_outlineViewDelegate){
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewColumnDidMove:"))){
objj_msgSend(_58,"removeObserver:name:object:",_outlineViewDelegate,CPOutlineViewColumnDidMoveNotification,_55);
}
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewColumnDidResize:"))){
objj_msgSend(_58,"removeObserver:name:object:",_outlineViewDelegate,CPOutlineViewColumnDidResizeNotification,_55);
}
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewSelectionDidChange:"))){
objj_msgSend(_58,"removeObserver:name:object:",_outlineViewDelegate,CPOutlineViewSelectionDidChangeNotification,_55);
}
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewSelectionIsChanging:"))){
objj_msgSend(_58,"removeObserver:name:object:",_outlineViewDelegate,CPOutlineViewSelectionIsChangingNotification,_55);
}
}
_outlineViewDelegate=_57;
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewColumnDidMove:"))){
objj_msgSend(_58,"addObserver:selector:name:object:",_outlineViewDelegate,sel_getUid("outlineViewColumnDidMove:"),CPOutlineViewColumnDidMoveNotification,_55);
}
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewColumnDidResize:"))){
objj_msgSend(_58,"addObserver:selector:name:object:",_outlineViewDelegate,sel_getUid("outlineViewColumnDidMove:"),CPOutlineViewColumnDidResizeNotification,_55);
}
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewSelectionDidChange:"))){
objj_msgSend(_58,"addObserver:selector:name:object:",_outlineViewDelegate,sel_getUid("outlineViewSelectionDidChange:"),CPOutlineViewSelectionDidChangeNotification,_55);
}
if(objj_msgSend(_outlineViewDelegate,"respondsToSelector:",sel_getUid("outlineViewSelectionIsChanging:"))){
objj_msgSend(_58,"addObserver:selector:name:object:",_outlineViewDelegate,sel_getUid("outlineViewSelectionIsChanging:"),CPOutlineViewSelectionIsChangingNotification,_55);
}
}
}),new objj_method(sel_getUid("delegate"),function(_59,_5a){
with(_59){
return _outlineViewDelegate;
}
}),new objj_method(sel_getUid("setDisclosureControlPrototype:"),function(_5b,_5c,_5d){
with(_5b){
_disclosureControlPrototype=_5d;
_disclosureControlData=nil;
_disclosureControlQueue=[];
objj_msgSend(_5b,"reloadData");
}
}),new objj_method(sel_getUid("reloadData"),function(_5e,_5f){
with(_5e){
objj_msgSend(_5e,"reloadItem:reloadChildren:",nil,YES);
}
}),new objj_method(sel_getUid("frameOfDataViewAtColumn:row:"),function(_60,_61,_62,_63){
with(_60){
var _64=objj_msgSend(_60,"tableColumns")[_62];
if(_64===_outlineTableColumn){
return objj_msgSend(_60,"frameOfOutlineDataViewAtColumn:row:",_62,_63);
}
return objj_msgSendSuper({receiver:_60,super_class:objj_getClass("CPTableView")},"frameOfDataViewAtColumn:row:",_62,_63);
}
}),new objj_method(sel_getUid("_loadDataViewsInRows:columns:"),function(_65,_66,_67,_68){
with(_65){
objj_msgSendSuper({receiver:_65,super_class:objj_getClass("CPTableView")},"_loadDataViewsInRows:columns:",_67,_68);
var _69=objj_msgSend(objj_msgSend(_65,"tableColumns"),"indexOfObjectIdenticalTo:",objj_msgSend(_65,"outlineTableColumn"));
if(!objj_msgSend(_68,"containsIndex:",_69)){
return;
}
var _6a=[];
objj_msgSend(_67,"getIndexes:maxCount:inIndexRange:",_6a,-1,nil);
var _6b=0,_6c=_6a.length;
for(;_6b<_6c;++_6b){
var row=_6a[_6b],_6d=_itemsForRows[row],_6e=objj_msgSend(_65,"isExpandable:",_6d);
if(!_6e){
continue;
}
var _6f=objj_msgSend(_65,"_dequeueDisclosureControl"),_70=objj_msgSend(_6f,"frame"),_71=objj_msgSend(_65,"frameOfDataViewAtColumn:row:",_69,row);
_70.origin.x=_indentationMarkerFollowsDataView?(_71.origin.x)-(_70.size.width):0;
_70.origin.y=(_71.origin.y);
_70.size.height=(_71.size.height);
_disclosureControlsForRows[row]=_6f;
objj_msgSend(_6f,"setState:",objj_msgSend(_65,"isItemExpanded:",_6d)?CPOnState:CPOffState);
objj_msgSend(_6f,"setFrame:",_70);
objj_msgSend(_65,"addSubview:",_6f);
}
}
}),new objj_method(sel_getUid("_unloadDataViewsInRows:columns:"),function(_72,_73,_74,_75){
with(_72){
objj_msgSendSuper({receiver:_72,super_class:objj_getClass("CPTableView")},"_unloadDataViewsInRows:columns:",_74,_75);
var _76=objj_msgSend(objj_msgSend(_72,"tableColumns"),"indexOfObjectIdenticalTo:",objj_msgSend(_72,"outlineTableColumn"));
if(!objj_msgSend(_75,"containsIndex:",_76)){
return;
}
var _77=[];
objj_msgSend(_74,"getIndexes:maxCount:inIndexRange:",_77,-1,nil);
var _78=0,_79=_77.length;
for(;_78<_79;++_78){
var row=_77[_78],_7a=_disclosureControlsForRows[row];
if(!_7a){
continue;
}
objj_msgSend(_7a,"removeFromSuperview");
objj_msgSend(_72,"_enqueueDisclosureControl:",_7a);
_disclosureControlsForRows[row]=nil;
}
}
}),new objj_method(sel_getUid("_toggleFromDisclosureControl:"),function(_7b,_7c,_7d){
with(_7b){
var _7e=objj_msgSend(_7d,"frame"),_7f=objj_msgSend(_7b,"itemAtRow:",objj_msgSend(_7b,"rowAtPoint:",{x:(_7e.origin.x),y:(_7e.origin.y+(_7e.size.height)/2)}));
if(objj_msgSend(_7b,"isItemExpanded:",_7f)){
objj_msgSend(_7b,"collapseItem:",_7f);
}else{
objj_msgSend(_7b,"expandItem:",_7f);
}
}
}),new objj_method(sel_getUid("_enqueueDisclosureControl:"),function(_80,_81,_82){
with(_80){
_disclosureControlQueue.push(_82);
}
}),new objj_method(sel_getUid("_dequeueDisclosureControl"),function(_83,_84){
with(_83){
if(_disclosureControlQueue.length){
return _disclosureControlQueue.pop();
}
if(!_disclosureControlData){
if(!_disclosureControlPrototype){
return nil;
}else{
_disclosureControlData=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_disclosureControlPrototype);
}
}
var _85=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_disclosureControlData);
objj_msgSend(_85,"setTarget:",_83);
objj_msgSend(_85,"setAction:",sel_getUid("_toggleFromDisclosureControl:"));
return _85;
}
}),new objj_method(sel_getUid("_noteSelectionIsChanging"),function(_86,_87){
with(_86){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPOutlineViewSelectionIsChangingNotification,_86,nil);
}
}),new objj_method(sel_getUid("_noteSelectionDidChange"),function(_88,_89){
with(_88){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPOutlineViewSelectionDidChangeNotification,_88,nil);
}
})]);
var _2d=function(_8a,_8b){
if(!_8b){
return;
}
var _8c=_8a._itemInfosForItems,_8d=_8a._outlineViewDataSource,_8e=objj_msgSend(_8b,"UID"),_8f=_8c[_8e];
if(!_8f){
return [];
}
var _90=_8f.parent,_91=_90?_8c[objj_msgSend(_90,"UID")]:_8a._rootItemInfo,_92=_91.children,_93=objj_msgSend(_92,"indexOfObjectIdenticalTo:",_8b),_94=objj_msgSend(_8d,"outlineView:child:ofItem:",_8a,_93,_90);
if(_8b!==_94){
_8c[objj_msgSend(_8b,"UID")]=nil;
_8c[objj_msgSend(_94,"UID")]=_8f;
_92[_93]=_94;
_8a._itemsForRows[_8f.row]=_94;
}
_8f.isExpandable=objj_msgSend(_8d,"outlineView:isItemExpandable:",_8a,_94);
_8f.isExpanded=_8f.isExpandable&&_8f.isExpanded;
};
var _2c=function(_95,_96,_97){
var _98=_95._itemInfosForItems,_99=_95._outlineViewDataSource;
if(!_96){
var _9a=_95._rootItemInfo;
}else{
var _9b=objj_msgSend(_96,"UID"),_9a=_98[_9b];
if(!_9a){
return [];
}
_9a.isExpandable=objj_msgSend(_99,"outlineView:isItemExpandable:",_95,_96);
if(!_9a.isExpandable&&_9a.isExpanded){
_9a.isExpanded=NO;
_9a.children=[];
}
}
var _9c=_9a.weight,_9d=_96?[_96]:[];
if(_9a.isExpanded&&(!(_95._implementedOutlineViewDataSourceMethods&_2)||!objj_msgSend(_99,"outlineView:shouldDeferDisplayingChildrenOfItem:",_95,_96))){
var _9e=0,_9f=objj_msgSend(_99,"outlineView:numberOfChildrenOfItem:",_95,_96),_a0=_9a.level+1;
_9a.children=[];
for(;_9e<_9f;++_9e){
var _a1=objj_msgSend(_99,"outlineView:child:ofItem:",_95,_9e,_96),_a2=_98[objj_msgSend(_a1,"UID")];
if(!_a2){
_a2={isExpanded:NO,isExpandable:NO,children:[],weight:1};
_98[objj_msgSend(_a1,"UID")]=_a2;
}
_9a.children[_9e]=_a1;
var _a3=_2c(_95,_a1,YES);
_a2.parent=_96;
_a2.level=_a0;
_9d=_9d.concat(_a3);
}
}
_9a.weight=_9d.length;
if(!_97){
var _9e=MAX(_9a.row,0),_a4=_95._itemsForRows;
_9d.unshift(_9e,_9c);
_a4.splice.apply(_a4,_9d);
var _9f=_a4.length;
for(;_9e<_9f;++_9e){
_98[objj_msgSend(_a4[_9e],"UID")].row=_9e;
}
var _a5=_9a.weight-_9c;
if(_a5!==0){
var _a6=_9a.parent;
while(_a6){
var _a7=_98[objj_msgSend(_a6,"UID")];
_a7.weight+=_a5;
_a6=_a7.parent;
}
if(_96){
_95._rootItemInfo.weight+=_a5;
}
}
}
return _9d;
};
var _b=objj_allocateClassPair(CPObject,"_CPOutlineViewTableViewDataSource"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_outlineView")]);
objj_registerClassPair(_b);
objj_addClassForBundle(_b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_b,[new objj_method(sel_getUid("initWithOutlineView:"),function(_a8,_a9,_aa){
with(_a8){
_a8=objj_msgSendSuper({receiver:_a8,super_class:objj_getClass("CPObject")},"init");
if(_a8){
_outlineView=_aa;
}
return _a8;
}
}),new objj_method(sel_getUid("numberOfRowsInTableView:"),function(_ab,_ac,_ad){
with(_ab){
return _outlineView._itemsForRows.length;
}
}),new objj_method(sel_getUid("tableView:objectValueForTableColumn:row:"),function(_ae,_af,_b0,_b1,_b2){
with(_ae){
return objj_msgSend(_outlineView._outlineViewDataSource,"outlineView:objectValueForTableColumn:byItem:",_outlineView,_b1,_outlineView._itemsForRows[_b2]);
}
})]);
var _b=objj_allocateClassPair(CPObject,"_CPOutlineViewTableViewDelegate"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_outlineView")]);
objj_registerClassPair(_b);
objj_addClassForBundle(_b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_b,[new objj_method(sel_getUid("initWithOutlineView:"),function(_b3,_b4,_b5){
with(_b3){
_b3=objj_msgSendSuper({receiver:_b3,super_class:objj_getClass("CPObject")},"init");
if(_b3){
_outlineView=_b5;
}
return _b3;
}
})]);
var _b=objj_allocateClassPair(CPButton,"CPDisclosureButton"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_angle")]);
objj_registerClassPair(_b);
objj_addClassForBundle(_b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_b,[new objj_method(sel_getUid("initWithFrame:"),function(_b6,_b7,_b8){
with(_b6){
_b6=objj_msgSendSuper({receiver:_b6,super_class:objj_getClass("CPButton")},"initWithFrame:",_b8);
if(_b6){
objj_msgSend(_b6,"setBordered:",NO);
}
return _b6;
}
}),new objj_method(sel_getUid("setState:"),function(_b9,_ba,_bb){
with(_b9){
objj_msgSendSuper({receiver:_b9,super_class:objj_getClass("CPButton")},"setState:",_bb);
if(objj_msgSend(_b9,"state")===CPOnState){
_angle=0;
}else{
_angle=-PI_2;
}
}
}),new objj_method(sel_getUid("drawRect:"),function(_bc,_bd,_be){
with(_bc){
var _bf=objj_msgSend(_bc,"bounds"),_c0=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextBeginPath(_c0);
CGContextTranslateCTM(_c0,(_bf.size.width)/2,(_bf.size.height)/2);
CGContextRotateCTM(_c0,_angle);
CGContextTranslateCTM(_c0,-(_bf.size.width)/2,-(_bf.size.height)/2);
CGContextTranslateCTM(_c0,FLOOR(((_bf.size.width)-9)/2),FLOOR(((_bf.size.height)-8)/2));
CGContextMoveToPoint(_c0,0,0);
CGContextAddLineToPoint(_c0,9,0);
CGContextAddLineToPoint(_c0,4.5,8);
CGContextAddLineToPoint(_c0,0,0);
CGContextClosePath(_c0);
CGContextSetFillColor(_c0,(objj_msgSend(_bc,"themeState")&CPThemeState("highlighted"))?objj_msgSend(CPColor,"blackColor"):objj_msgSend(CPColor,"grayColor"));
CGContextFillPath(_c0);
}
})]);
p;9;CPPanel.ji;10;CPWindow.jc;1179;
CPOKButton=1;
CPCancelButton=0;
CPDocModalWindowMask=1<<6;
var _1=objj_allocateClassPair(CPWindow,"CPPanel"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_becomesKeyOnlyIfNeeded"),new objj_ivar("_worksWhenModal")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("isFloatingPanel"),function(_3,_4){
with(_3){
return objj_msgSend(_3,"level")==CPFloatingWindowLevel;
}
}),new objj_method(sel_getUid("setFloatingPanel:"),function(_5,_6,_7){
with(_5){
objj_msgSend(_5,"setLevel:",_7?CPFloatingWindowLevel:CPNormalWindowLevel);
}
}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),function(_8,_9){
with(_8){
return _becomesKeyOnlyIfNeeded;
}
}),new objj_method(sel_getUid("setBecomesKeyOnlyIfNeeded:"),function(_a,_b,_c){
with(_a){
_becomesKeyOnlyIfNeeded=_c;
}
}),new objj_method(sel_getUid("worksWhenModal"),function(_d,_e){
with(_d){
return _worksWhenModal;
}
}),new objj_method(sel_getUid("setWorksWhenModal:"),function(_f,_10,_11){
with(_f){
_worksWhenModal=_11;
}
}),new objj_method(sel_getUid("canBecomeMainWindow"),function(_12,_13){
with(_12){
return NO;
}
})]);
p;14;CPPasteboard.jI;21;Foundation/CPObject.jI;20;Foundation/CPArray.jI;25;Foundation/CPDictionary.jI;40;Foundation/CPPropertyListSerialization.jc;8246;
CPGeneralPboard="CPGeneralPboard";
CPFontPboard="CPFontPboard";
CPRulerPboard="CPRulerPboard";
CPFindPboard="CPFindPboard";
CPDragPboard="CPDragPboard";
CPColorPboardType="CPColorPboardType";
CPFilenamesPboardType="CPFilenamesPboardType";
CPFontPboardType="CPFontPboardType";
CPHTMLPboardType="CPHTMLPboardType";
CPStringPboardType="CPStringPboardType";
CPURLPboardType="CPURLPboardType";
CPImagesPboardType="CPImagesPboardType";
CPVideosPboardType="CPVideosPboardType";
UTF8PboardType="public.utf8-plain-text";
CPImagePboardType="CPImagePboardType";
var _1=nil,_2=NO;
var _3=objj_allocateClassPair(CPObject,"CPPasteboard"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_types"),new objj_ivar("_owners"),new objj_ivar("_provided"),new objj_ivar("_changeCount"),new objj_ivar("_stateUID"),new objj_ivar("_nativePasteboard")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("_initWithName:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_name=_7;
_types=[];
_owners=objj_msgSend(CPDictionary,"dictionary");
_provided=objj_msgSend(CPDictionary,"dictionary");
_changeCount=0;
if(_2){
_nativePasteboard=window.cpPasteboardWithName(_7);
objj_msgSend(_5,"_synchronizePasteboard");
}
}
return _5;
}
}),new objj_method(sel_getUid("addTypes:owner:"),function(_8,_9,_a,_b){
with(_8){
var i=0,_c=_a.length;
for(;i<_c;++i){
var _d=_a[i];
if(!objj_msgSend(_owners,"objectForKey:",_d)){
objj_msgSend(_types,"addObject:",_d);
objj_msgSend(_provided,"removeObjectForKey:",_d);
}
objj_msgSend(_owners,"setObject:forKey:",_b,_d);
}
if(_nativePasteboard){
var _e=objj_msgSend(_a,"copy");
if(objj_msgSend(_a,"containsObject:",CPStringPboardType)){
_e.push(UTF8PboardType);
}
_nativePasteboard.addTypes_(_e);
}
return ++_changeCount;
}
}),new objj_method(sel_getUid("declareTypes:owner:"),function(_f,_10,_11,_12){
with(_f){
objj_msgSend(_f,"_declareTypes:owner:updateNativePasteboard:",_11,_12,YES);
}
}),new objj_method(sel_getUid("_declareTypes:owner:updateNativePasteboard:"),function(_13,_14,_15,_16,_17){
with(_13){
objj_msgSend(_types,"setArray:",_15);
_owners=objj_msgSend(CPDictionary,"dictionary");
_provided=objj_msgSend(CPDictionary,"dictionary");
var _18=_types.length;
while(_18--){
objj_msgSend(_owners,"setObject:forKey:",_16,_types[_18]);
}
if(_nativePasteboard&&_17){
var _19=objj_msgSend(_15,"copy");
if(objj_msgSend(_15,"containsObject:",CPStringPboardType)){
_19.push(UTF8PboardType);
}
_nativePasteboard.declareTypes_(_19);
_changeCount=_nativePasteboard.changeCount();
}
return ++_changeCount;
}
}),new objj_method(sel_getUid("setData:forType:"),function(_1a,_1b,_1c,_1d){
with(_1a){
objj_msgSend(_provided,"setObject:forKey:",_1c,_1d);
if(_1d===CPStringPboardType){
objj_msgSend(_1a,"setData:forType:",_1c,UTF8PboardType);
}
return YES;
}
}),new objj_method(sel_getUid("setPropertyList:forType:"),function(_1e,_1f,_20,_21){
with(_1e){
return objj_msgSend(_1e,"setData:forType:",objj_msgSend(CPPropertyListSerialization,"dataFromPropertyList:format:errorDescription:",_20,CPPropertyListXMLFormat_v1_0,nil),_21);
}
}),new objj_method(sel_getUid("setString:forType:"),function(_22,_23,_24,_25){
with(_22){
objj_msgSend(_22,"setPropertyList:forType:",_24,_25);
}
}),new objj_method(sel_getUid("availableTypeFromArray:"),function(_26,_27,_28){
with(_26){
return objj_msgSend(objj_msgSend(_26,"types"),"firstObjectCommonWithArray:",_28);
}
}),new objj_method(sel_getUid("types"),function(_29,_2a){
with(_29){
objj_msgSend(_29,"_synchronizePasteboard");
return _types;
}
}),new objj_method(sel_getUid("changeCount"),function(_2b,_2c){
with(_2b){
return _changeCount;
}
}),new objj_method(sel_getUid("dataForType:"),function(_2d,_2e,_2f){
with(_2d){
var _30=objj_msgSend(_provided,"objectForKey:",_2f);
if(_30){
return _30;
}
var _31=objj_msgSend(_owners,"objectForKey:",_2f);
if(_31){
objj_msgSend(_31,"pasteboard:provideDataForType:",_2d,_2f);
return objj_msgSend(_provided,"objectForKey:",_2f);
}
if(_2f===CPStringPboardType){
return objj_msgSend(_2d,"dataForType:",UTF8PboardType);
}
return nil;
}
}),new objj_method(sel_getUid("_synchronizePasteboard"),function(_32,_33){
with(_32){
if(_nativePasteboard&&_nativePasteboard.changeCount()>_changeCount){
var _34=objj_msgSend(_nativePasteboard.types(),"copy");
if(objj_msgSend(_34,"containsObject:",UTF8PboardType)){
_34.push(CPStringPboardType);
}
objj_msgSend(_32,"_declareTypes:owner:updateNativePasteboard:",_34,_32,NO);
_changeCount=_nativePasteboard.changeCount();
}
}
}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(_35,_36,_37,_38){
with(_35){
if(_38===CPStringPboardType){
var _39=_nativePasteboard.stringForType_(UTF8PboardType);
objj_msgSend(_35,"setString:forType:",_39,CPStringPboardType);
objj_msgSend(_35,"setString:forType:",_39,UTF8PboardType);
}else{
objj_msgSend(_35,"setString:forType:",_nativePasteboard.stringForType_(_38),_38);
}
}
}),new objj_method(sel_getUid("propertyListForType:"),function(_3a,_3b,_3c){
with(_3a){
var _3d=objj_msgSend(_3a,"dataForType:",_3c);
if(_3d){
return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:errorDescription:",_3d,CPPropertyListXMLFormat_v1_0,nil);
}
return nil;
}
}),new objj_method(sel_getUid("stringForType:"),function(_3e,_3f,_40){
with(_3e){
return objj_msgSend(_3e,"propertyListForType:",_40);
}
}),new objj_method(sel_getUid("_generateStateUID"),function(_41,_42){
with(_41){
var _43=32;
_stateUID="";
while(_43--){
_stateUID+=FLOOR(RAND()*16).toString(16).toUpperCase();
}
return _stateUID;
}
}),new objj_method(sel_getUid("_stateUID"),function(_44,_45){
with(_44){
return _stateUID;
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("initialize"),function(_46,_47){
with(_46){
if(_46!=objj_msgSend(CPPasteboard,"class")){
return;
}
objj_msgSend(_46,"setVersion:",1);
_1=objj_msgSend(CPDictionary,"dictionary");
if(typeof window.cpPasteboardWithName!=="undefined"){
_2=YES;
}
}
}),new objj_method(sel_getUid("generalPasteboard"),function(_48,_49){
with(_48){
return objj_msgSend(CPPasteboard,"pasteboardWithName:",CPGeneralPboard);
}
}),new objj_method(sel_getUid("pasteboardWithName:"),function(_4a,_4b,_4c){
with(_4a){
var _4d=objj_msgSend(_1,"objectForKey:",_4c);
if(_4d){
return _4d;
}
_4d=objj_msgSend(objj_msgSend(CPPasteboard,"alloc"),"_initWithName:",_4c);
objj_msgSend(_1,"setObject:forKey:",_4d,_4c);
return _4d;
}
})]);
var _4e=nil;
var _3=objj_allocateClassPair(CPPasteboard,"_CPDOMDataTransferPasteboard"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_dataTransfer")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("_setDataTransfer:"),function(_4f,_50,_51){
with(_4f){
_dataTransfer=_51;
}
}),new objj_method(sel_getUid("_setPasteboard:"),function(_52,_53,_54){
with(_52){
_dataTransfer.clearData();
var _55=objj_msgSend(_54,"types"),_56=_55.length;
while(_56--){
var _57=_55[_56];
if(_57===CPStringPboardType){
_dataTransfer.setData(_57,objj_msgSend(_54,"stringForType:",_57));
}else{
_dataTransfer.setData(_57,objj_msgSend(objj_msgSend(_54,"dataForType:",_57),"string"));
}
}
}
}),new objj_method(sel_getUid("types"),function(_58,_59){
with(_58){
return Array.prototype.slice.apply(_dataTransfer.types);
}
}),new objj_method(sel_getUid("dataForType:"),function(_5a,_5b,_5c){
with(_5a){
var _5d=_dataTransfer.getData(_5c);
if(_5c===CPStringPboardType){
return objj_msgSend(CPData,"dataFromPropertyList:format:errorDescription:",_5d,kCFPropertyList280NorthFormat_v1_0,0);
}
return objj_msgSend(CPData,"dataWithString:",_5d);
}
}),new objj_method(sel_getUid("propertyListForType:"),function(_5e,_5f,_60){
with(_5e){
if(_60===CPStringPboardType){
return _dataTransfer.getData(_60);
}
return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:errorDescription:",objj_msgSend(_5e,"dataForType:",_60),CPPropertyListUnknownFormat,nil);
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("DOMDataTransferPasteboard"),function(_61,_62){
with(_61){
if(!_4e){
_4e=objj_msgSend(objj_msgSend(_CPDOMDataTransferPasteboard,"alloc"),"init");
}
return _4e;
}
})]);
p;15;CPPopUpButton.ji;10;CPButton.ji;12;CPGeometry.ji;8;CPMenu.ji;12;CPMenuItem.jc;12826;
var _1=7;
CPPopUpButtonStatePullsDown=CPThemeState("pulls-down");
var _2=objj_allocateClassPair(CPButton,"CPPopUpButton"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_selectedIndex"),new objj_ivar("_preferredEdge"),new objj_ivar("_menu")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithFrame:pullsDown:"),function(_4,_5,_6,_7){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPButton")},"initWithFrame:",_6);
if(_4){
_selectedIndex=CPNotFound;
_preferredEdge=CPMaxYEdge;
objj_msgSend(_4,"setValue:forThemeAttribute:",CPImageLeft,"image-position");
objj_msgSend(_4,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment");
objj_msgSend(_4,"setValue:forThemeAttribute:",CPLineBreakByTruncatingTail,"line-break-mode");
objj_msgSend(_4,"setMenu:",objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:",""));
objj_msgSend(_4,"setPullsDown:",_7);
}
return _4;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_8,_9,_a){
with(_8){
return objj_msgSend(_8,"initWithFrame:pullsDown:",_a,NO);
}
}),new objj_method(sel_getUid("setPullsDown:"),function(_b,_c,_d){
with(_b){
if(_d){
var _e=objj_msgSend(_b,"setThemeState:",CPPopUpButtonStatePullsDown);
}else{
var _e=objj_msgSend(_b,"unsetThemeState:",CPPopUpButtonStatePullsDown);
}
if(!_e){
return;
}
var _f=objj_msgSend(_menu,"itemArray");
if(objj_msgSend(_f,"count")<=0){
return;
}
objj_msgSend(_f[0],"setHidden:",objj_msgSend(_b,"pullsDown"));
objj_msgSend(_b,"synchronizeTitleAndSelectedItem");
}
}),new objj_method(sel_getUid("pullsDown"),function(_10,_11){
with(_10){
return objj_msgSend(_10,"hasThemeState:",CPPopUpButtonStatePullsDown);
}
}),new objj_method(sel_getUid("addItem:"),function(_12,_13,_14){
with(_12){
objj_msgSend(_menu,"addItem:",_14);
}
}),new objj_method(sel_getUid("addItemWithTitle:"),function(_15,_16,_17){
with(_15){
objj_msgSend(_menu,"addItemWithTitle:action:keyEquivalent:",_17,NULL,nil);
}
}),new objj_method(sel_getUid("addItemsWithTitles:"),function(_18,_19,_1a){
with(_18){
var _1b=0,_1c=objj_msgSend(_1a,"count");
for(;_1b<_1c;++_1b){
objj_msgSend(_18,"addItemWithTitle:",_1a[_1b]);
}
}
}),new objj_method(sel_getUid("insertItemWithTitle:atIndex:"),function(_1d,_1e,_1f,_20){
with(_1d){
var _21=objj_msgSend(_1d,"itemArray"),_22=objj_msgSend(_21,"count");
while(_22--){
if(objj_msgSend(_21[_22],"title")==_1f){
objj_msgSend(_1d,"removeItemAtIndex:",_22);
}
}
objj_msgSend(_menu,"insertItemWithTitle:action:keyEquivalent:atIndex:",_1f,NULL,nil,_20);
}
}),new objj_method(sel_getUid("removeAllItems"),function(_23,_24){
with(_23){
var _25=objj_msgSend(_menu,"numberOfItems");
while(_25--){
objj_msgSend(_menu,"removeItemAtIndex:",0);
}
}
}),new objj_method(sel_getUid("removeItemWithTitle:"),function(_26,_27,_28){
with(_26){
objj_msgSend(_26,"removeItemAtIndex:",objj_msgSend(_26,"indexOfItemWithTitle:",_28));
objj_msgSend(_26,"synchronizeTitleAndSelectedItem");
}
}),new objj_method(sel_getUid("removeItemAtIndex:"),function(_29,_2a,_2b){
with(_29){
objj_msgSend(_menu,"removeItemAtIndex:",_2b);
objj_msgSend(_29,"synchronizeTitleAndSelectedItem");
}
}),new objj_method(sel_getUid("selectedItem"),function(_2c,_2d){
with(_2c){
if(_selectedIndex<0||_selectedIndex>objj_msgSend(_2c,"numberOfItems")-1){
return nil;
}
return objj_msgSend(_menu,"itemAtIndex:",_selectedIndex);
}
}),new objj_method(sel_getUid("titleOfSelectedItem"),function(_2e,_2f){
with(_2e){
return objj_msgSend(objj_msgSend(_2e,"selectedItem"),"title");
}
}),new objj_method(sel_getUid("indexOfSelectedItem"),function(_30,_31){
with(_30){
return _selectedIndex;
}
}),new objj_method(sel_getUid("objectValue"),function(_32,_33){
with(_32){
return _selectedIndex;
}
}),new objj_method(sel_getUid("selectItem:"),function(_34,_35,_36){
with(_34){
objj_msgSend(_34,"selectItemAtIndex:",objj_msgSend(_34,"indexOfItem:",_36));
}
}),new objj_method(sel_getUid("selectItemAtIndex:"),function(_37,_38,_39){
with(_37){
if(_selectedIndex==_39){
return;
}
if(_selectedIndex>=0&&!objj_msgSend(_37,"pullsDown")){
objj_msgSend(objj_msgSend(_37,"selectedItem"),"setState:",CPOffState);
}
_selectedIndex=_39;
if(_selectedIndex>=0&&!objj_msgSend(_37,"pullsDown")){
objj_msgSend(objj_msgSend(_37,"selectedItem"),"setState:",CPOnState);
}
objj_msgSend(_37,"synchronizeTitleAndSelectedItem");
}
}),new objj_method(sel_getUid("selectItemWithTag:"),function(_3a,_3b,_3c){
with(_3a){
objj_msgSend(_3a,"selectItemAtIndex:",objj_msgSend(_3a,"indexOfItemWithTag:",_3c));
}
}),new objj_method(sel_getUid("selectItemWithTitle:"),function(_3d,_3e,_3f){
with(_3d){
objj_msgSend(_3d,"selectItemAtIndex:",objj_msgSend(_3d,"indexOfItemWithTitle:",_3f));
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_40,_41,_42){
with(_40){
objj_msgSend(_40,"selectItemAtIndex:",objj_msgSend(_42,"intValue"));
}
}),new objj_method(sel_getUid("menu"),function(_43,_44){
with(_43){
return _menu;
}
}),new objj_method(sel_getUid("setMenu:"),function(_45,_46,_47){
with(_45){
if(_menu===_47){
return;
}
var _48=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_menu){
objj_msgSend(_48,"removeObserver:name:object:",_45,CPMenuDidAddItemNotification,_menu);
objj_msgSend(_48,"removeObserver:name:object:",_45,CPMenuDidChangeItemNotification,_menu);
objj_msgSend(_48,"removeObserver:name:object:",_45,CPMenuDidRemoveItemNotification,_menu);
}
_menu=_47;
if(_menu){
objj_msgSend(_48,"addObserver:selector:name:object:",_45,sel_getUid("menuDidAddItem:"),CPMenuDidAddItemNotification,_menu);
objj_msgSend(_48,"addObserver:selector:name:object:",_45,sel_getUid("menuDidChangeItem:"),CPMenuDidChangeItemNotification,_menu);
objj_msgSend(_48,"addObserver:selector:name:object:",_45,sel_getUid("menuDidRemoveItem:"),CPMenuDidRemoveItemNotification,_menu);
}
objj_msgSend(_45,"synchronizeTitleAndSelectedItem");
}
}),new objj_method(sel_getUid("numberOfItems"),function(_49,_4a){
with(_49){
return objj_msgSend(_menu,"numberOfItems");
}
}),new objj_method(sel_getUid("itemArray"),function(_4b,_4c){
with(_4b){
return objj_msgSend(_menu,"itemArray");
}
}),new objj_method(sel_getUid("itemAtIndex:"),function(_4d,_4e,_4f){
with(_4d){
return objj_msgSend(_menu,"itemAtIndex:",_4f);
}
}),new objj_method(sel_getUid("itemTitleAtIndex:"),function(_50,_51,_52){
with(_50){
return objj_msgSend(objj_msgSend(_menu,"itemAtIndex:",_52),"title");
}
}),new objj_method(sel_getUid("itemTitles"),function(_53,_54){
with(_53){
var _55=[],_56=objj_msgSend(_53,"itemArray"),_57=0,_58=objj_msgSend(_56,"count");
for(;_57<_58;++_57){
_56.push(objj_msgSend(_56[_57],"title"));
}
}
}),new objj_method(sel_getUid("itemWithTitle:"),function(_59,_5a,_5b){
with(_59){
return objj_msgSend(_menu,"itemAtIndex:",objj_msgSend(_menu,"indexOfItemWithTitle:",_5b));
}
}),new objj_method(sel_getUid("lastItem"),function(_5c,_5d){
with(_5c){
return objj_msgSend(objj_msgSend(_menu,"itemArray"),"lastObject");
}
}),new objj_method(sel_getUid("indexOfItem:"),function(_5e,_5f,_60){
with(_5e){
return objj_msgSend(_menu,"indexOfItem:",_60);
}
}),new objj_method(sel_getUid("indexOfItemWithTag:"),function(_61,_62,_63){
with(_61){
return objj_msgSend(_menu,"indexOfItemWithTag:",_63);
}
}),new objj_method(sel_getUid("indexOfItemWithTitle:"),function(_64,_65,_66){
with(_64){
return objj_msgSend(_menu,"indexOfItemWithTitle:",_66);
}
}),new objj_method(sel_getUid("indexOfItemWithRepresentedObject:"),function(_67,_68,_69){
with(_67){
return objj_msgSend(_menu,"indexOfItemWithRepresentedObject:",_69);
}
}),new objj_method(sel_getUid("indexOfItemWithTarget:action:"),function(_6a,_6b,_6c,_6d){
with(_6a){
return objj_msgSend(_menu,"indexOfItemWithTarget:action:",_6c,_6d);
}
}),new objj_method(sel_getUid("preferredEdge"),function(_6e,_6f){
with(_6e){
return _preferredEdge;
}
}),new objj_method(sel_getUid("setPreferredEdge:"),function(_70,_71,_72){
with(_70){
_preferredEdge=_72;
}
}),new objj_method(sel_getUid("setTitle:"),function(_73,_74,_75){
with(_73){
if(objj_msgSend(_73,"title")===_75){
return;
}
if(objj_msgSend(_73,"pullsDown")){
var _76=objj_msgSend(_menu,"itemArray");
if(objj_msgSend(_76,"count")<=0){
objj_msgSend(_73,"addItemWithTitle:",_75);
}else{
objj_msgSend(_76[0],"setTitle:",_75);
objj_msgSend(_73,"synchronizeTitleAndSelectedItem");
}
}else{
var _77=objj_msgSend(_73,"indexOfItemWithTitle:",_75);
if(_77<0){
objj_msgSend(_73,"addItemWithTitle:",_75);
_77=objj_msgSend(_73,"numberOfItems")-1;
}
objj_msgSend(_73,"selectItemAtIndex:",_77);
}
}
}),new objj_method(sel_getUid("setImage:"),function(_78,_79,_7a){
with(_78){
}
}),new objj_method(sel_getUid("synchronizeTitleAndSelectedItem"),function(_7b,_7c){
with(_7b){
var _7d=nil;
if(objj_msgSend(_7b,"pullsDown")){
var _7e=objj_msgSend(_menu,"itemArray");
if(objj_msgSend(_7e,"count")>0){
_7d=_7e[0];
}
}else{
_7d=objj_msgSend(_7b,"selectedItem");
}
objj_msgSendSuper({receiver:_7b,super_class:objj_getClass("CPButton")},"setImage:",objj_msgSend(_7d,"image"));
objj_msgSendSuper({receiver:_7b,super_class:objj_getClass("CPButton")},"setTitle:",objj_msgSend(_7d,"title"));
}
}),new objj_method(sel_getUid("menuDidAddItem:"),function(_7f,_80,_81){
with(_7f){
var _82=objj_msgSend(objj_msgSend(_81,"userInfo"),"objectForKey:","CPMenuItemIndex");
if(_selectedIndex<0){
objj_msgSend(_7f,"selectItemAtIndex:",0);
}else{
if(_82==_selectedIndex){
objj_msgSend(_7f,"synchronizeTitleAndSelectedItem");
}else{
if(_82<_selectedIndex){
++_selectedIndex;
}
}
}
if(_82==0&&objj_msgSend(_7f,"pullsDown")){
var _83=objj_msgSend(_menu,"itemArray");
objj_msgSend(_83[0],"setHidden:",YES);
if(_83.length>0){
objj_msgSend(_83[1],"setHidden:",NO);
}
}
var _84=objj_msgSend(_menu,"itemArray")[_82],_85=objj_msgSend(_84,"action");
if(!_85||(_85===sel_getUid("_popUpItemAction:"))){
objj_msgSend(_84,"setTarget:",_7f);
objj_msgSend(_84,"setAction:",sel_getUid("_popUpItemAction:"));
}
}
}),new objj_method(sel_getUid("menuDidChangeItem:"),function(_86,_87,_88){
with(_86){
var _89=objj_msgSend(objj_msgSend(_88,"userInfo"),"objectForKey:","CPMenuItemIndex");
if(objj_msgSend(_86,"pullsDown")&&_89!=0){
return;
}
if(!objj_msgSend(_86,"pullsDown")&&_89!=_selectedIndex){
return;
}
objj_msgSend(_86,"synchronizeTitleAndSelectedItem");
}
}),new objj_method(sel_getUid("menuDidRemoveItem:"),function(_8a,_8b,_8c){
with(_8a){
var _8d=objj_msgSend(_8a,"numberOfItems");
if(_8d<=_selectedIndex&&_8d>0){
objj_msgSend(_8a,"selectItemAtIndex:",_8d-1);
}else{
objj_msgSend(_8a,"synchronizeTitleAndSelectedItem");
}
}
}),new objj_method(sel_getUid("mouseDown:"),function(_8e,_8f,_90){
with(_8e){
if(!objj_msgSend(_8e,"isEnabled")||!objj_msgSend(_8e,"numberOfItems")){
return;
}
objj_msgSend(_8e,"highlight:",YES);
var _91=objj_msgSend(_8e,"menu"),_92=objj_msgSend(_8e,"bounds"),_93=CGRectGetWidth(_92);
objj_msgSend(_91,"setFont:",objj_msgSend(_8e,"font"));
if(objj_msgSend(_8e,"pullsDown")){
var _94=nil,_95=CGPointMake(0,CGRectGetMaxY(_92));
}else{
var _96=objj_msgSend(_8e,"contentRectForBounds:",_92),_94=objj_msgSend(_8e,"selectedItem"),_97=objj_msgSend(_CPMenuWindow,"_standardLeftMargin")+objj_msgSend(_CPMenuItemStandardView,"_standardLeftMargin"),_95=CGPointMake(CGRectGetMinX(_96)-_97,0);
_93+=_97;
}
objj_msgSend(_91,"setMinimumWidth:",_93);
objj_msgSend(_91,"_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:",_94,_95,CGRectGetMinY(_92),CGRectGetMaxY(_92),_8e,function(_98){
objj_msgSend(_8e,"highlight:",NO);
var _99=objj_msgSend(_98,"highlightedItem");
if(objj_msgSend(_99,"_isSelectable")){
objj_msgSend(_8e,"selectItem:",_99);
}
});
}
}),new objj_method(sel_getUid("_popUpItemAction:"),function(_9a,_9b,_9c){
with(_9a){
objj_msgSend(_9a,"sendAction:to:",objj_msgSend(_9a,"action"),objj_msgSend(_9a,"target"));
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("themeClass"),function(_9d,_9e){
with(_9d){
return "popup-button";
}
})]);
var _9f="CPPopUpButtonMenuKey",_a0="CPPopUpButtonSelectedIndexKey",_a1="CPPopUpButtonPullsDownKey";
var _2=objj_getClass("CPPopUpButton");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPPopUpButton\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("initWithCoder:"),function(_a2,_a3,_a4){
with(_a2){
_a2=objj_msgSendSuper({receiver:_a2,super_class:objj_getClass("CPButton")},"initWithCoder:",_a4);
if(_a2){
_selectedIndex=-1;
objj_msgSend(_a2,"setMenu:",objj_msgSend(_a4,"decodeObjectForKey:",_9f));
objj_msgSend(_a2,"selectItemAtIndex:",objj_msgSend(_a4,"decodeObjectForKey:",_a0));
}
return _a2;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_a5,_a6,_a7){
with(_a5){
objj_msgSendSuper({receiver:_a5,super_class:objj_getClass("CPButton")},"encodeWithCoder:",_a7);
objj_msgSend(_a7,"encodeObject:forKey:",_menu,_9f);
objj_msgSend(_a7,"encodeInt:forKey:",_selectedIndex,_a0);
}
})]);
p;21;CPProgressIndicator.jI;19;AppKit/CGGeometry.jI;20;AppKit/CPImageView.jI;15;AppKit/CPView.jc;8511;
CPProgressIndicatorBarStyle=0;
CPProgressIndicatorSpinningStyle=1;
CPProgressIndicatorHUDBarStyle=2;
var _1=nil,_2=nil,_3=nil,_4=nil;
var _5=objj_allocateClassPair(CPView,"CPProgressIndicator"),_6=_5.isa;
class_addIvars(_5,[new objj_ivar("_minValue"),new objj_ivar("_maxValue"),new objj_ivar("_doubleValue"),new objj_ivar("_controlSize"),new objj_ivar("_isIndeterminate"),new objj_ivar("_style"),new objj_ivar("_isAnimating"),new objj_ivar("_isDisplayedWhenStoppedSet"),new objj_ivar("_isDisplayedWhenStopped"),new objj_ivar("_barView")]);
objj_registerClassPair(_5);
objj_addClassForBundle(_5,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_5,[new objj_method(sel_getUid("initWithFrame:"),function(_7,_8,_9){
with(_7){
_7=objj_msgSendSuper({receiver:_7,super_class:objj_getClass("CPView")},"initWithFrame:",_9);
if(_7){
_minValue=0;
_maxValue=100;
_doubleValue=0;
_style=CPProgressIndicatorBarStyle;
_isDisplayedWhenStoppedSet=NO;
_controlSize=CPRegularControlSize;
objj_msgSend(_7,"updateBackgroundColor");
objj_msgSend(_7,"drawBar");
}
return _7;
}
}),new objj_method(sel_getUid("setUsesThreadedAnimation:"),function(_a,_b,_c){
with(_a){
}
}),new objj_method(sel_getUid("startAnimation:"),function(_d,_e,_f){
with(_d){
_isAnimating=YES;
objj_msgSend(_d,"_hideOrDisplay");
}
}),new objj_method(sel_getUid("stopAnimation:"),function(_10,_11,_12){
with(_10){
_isAnimating=NO;
objj_msgSend(_10,"_hideOrDisplay");
}
}),new objj_method(sel_getUid("usesThreadedAnimation"),function(_13,_14){
with(_13){
return NO;
}
}),new objj_method(sel_getUid("incrementBy:"),function(_15,_16,_17){
with(_15){
objj_msgSend(_15,"setDoubleValue:",_doubleValue+_17);
}
}),new objj_method(sel_getUid("setDoubleValue:"),function(_18,_19,_1a){
with(_18){
_doubleValue=MIN(MAX(_1a,_minValue),_maxValue);
objj_msgSend(_18,"drawBar");
}
}),new objj_method(sel_getUid("doubleValue"),function(_1b,_1c){
with(_1b){
return _doubleValue;
}
}),new objj_method(sel_getUid("setMinValue:"),function(_1d,_1e,_1f){
with(_1d){
_minValue=_1f;
}
}),new objj_method(sel_getUid("minValue"),function(_20,_21){
with(_20){
return _minValue;
}
}),new objj_method(sel_getUid("setMaxValue:"),function(_22,_23,_24){
with(_22){
_maxValue=_24;
}
}),new objj_method(sel_getUid("maxValue"),function(_25,_26){
with(_25){
return _maxValue;
}
}),new objj_method(sel_getUid("setControlSize:"),function(_27,_28,_29){
with(_27){
if(_controlSize==_29){
return;
}
_controlSize=_29;
objj_msgSend(_27,"updateBackgroundColor");
}
}),new objj_method(sel_getUid("controlSize"),function(_2a,_2b){
with(_2a){
return _controlSize;
}
}),new objj_method(sel_getUid("setControlTint:"),function(_2c,_2d,_2e){
with(_2c){
}
}),new objj_method(sel_getUid("controlTint"),function(_2f,_30){
with(_2f){
return 0;
}
}),new objj_method(sel_getUid("setBezeled:"),function(_31,_32,_33){
with(_31){
}
}),new objj_method(sel_getUid("isBezeled"),function(_34,_35){
with(_34){
return YES;
}
}),new objj_method(sel_getUid("setIndeterminate:"),function(_36,_37,_38){
with(_36){
if(_isIndeterminate==_38){
return;
}
_isIndeterminate=_38;
objj_msgSend(_36,"updateBackgroundColor");
}
}),new objj_method(sel_getUid("isIndeterminate"),function(_39,_3a){
with(_39){
return _isIndeterminate;
}
}),new objj_method(sel_getUid("setStyle:"),function(_3b,_3c,_3d){
with(_3b){
if(_style==_3d){
return;
}
_style=_3d;
objj_msgSend(_3b,"updateBackgroundColor");
}
}),new objj_method(sel_getUid("sizeToFit"),function(_3e,_3f){
with(_3e){
if(_style==CPProgressIndicatorSpinningStyle){
objj_msgSend(_3e,"setFrameSize:",objj_msgSend(objj_msgSend(_1[_controlSize],"patternImage"),"size"));
}else{
objj_msgSend(_3e,"setFrameSize:",CGSizeMake(CGRectGetWidth(objj_msgSend(_3e,"frame")),_4[_2+"BezelBorder"+_3[CPProgressIndicatorBarStyle]+_CPControlIdentifierForControlSize(_controlSize)][0].height));
}
}
}),new objj_method(sel_getUid("setDisplayedWhenStopped:"),function(_40,_41,_42){
with(_40){
if(_isDisplayedWhenStoppedSet&&_isDisplayedWhenStopped==_42){
return;
}
_isDisplayedWhenStoppedSet=YES;
_isDisplayedWhenStopped=_42;
objj_msgSend(_40,"_hideOrDisplay");
}
}),new objj_method(sel_getUid("isDisplayedWhenStopped"),function(_43,_44){
with(_43){
if(_isDisplayedWhenStoppedSet){
return _isDisplayedWhenStopped;
}
if(_style==CPProgressIndicatorBarStyle||_style==CPProgressIndicatorHUDBarStyle){
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("_hideOrDisplay"),function(_45,_46){
with(_45){
objj_msgSend(_45,"setHidden:",!_isAnimating&&!objj_msgSend(_45,"isDisplayedWhenStopped"));
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_47,_48,_49){
with(_47){
objj_msgSendSuper({receiver:_47,super_class:objj_getClass("CPView")},"setFrameSize:",_49);
objj_msgSend(_47,"drawBar");
}
}),new objj_method(sel_getUid("drawBar"),function(_4a,_4b){
with(_4a){
if(_style==CPProgressIndicatorSpinningStyle){
return;
}
if(!_barView){
_barView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(2,2,0,9));
objj_msgSend(_barView,"setBackgroundColor:",objj_msgSend(CPColor,"redColor"));
objj_msgSend(_4a,"addSubview:",_barView);
}
objj_msgSend(_barView,"setBackgroundColor:",_CPControlColorWithPatternImage(_4,_2,"Bar",_3[_style],_CPControlIdentifierForControlSize(_controlSize)));
objj_msgSend(_barView,"setFrameSize:",CGSizeMake(CGRectGetWidth(objj_msgSend(_4a,"bounds"))*(_doubleValue-_minValue)/(_maxValue-_minValue)-4,9));
}
}),new objj_method(sel_getUid("updateBackgroundColor"),function(_4c,_4d){
with(_4c){
if(YES){
if(_style==CPProgressIndicatorSpinningStyle){
objj_msgSend(_barView,"removeFromSuperview");
_barView=nil;
objj_msgSend(_4c,"setBackgroundColor:",_1[_controlSize]);
}else{
objj_msgSend(_4c,"setBackgroundColor:",_CPControlThreePartImagePattern(NO,_4,_2,"BezelBorder",_3[_style],_CPControlIdentifierForControlSize(_controlSize)));
objj_msgSend(_4c,"drawBar");
}
}else{
objj_msgSend(_4c,"setBackgroundColor:",nil);
}
}
})]);
class_addMethods(_6,[new objj_method(sel_getUid("initialize"),function(_4e,_4f){
with(_4e){
if(_4e!=objj_msgSend(CPProgressIndicator,"class")){
return;
}
var _50=objj_msgSend(CPBundle,"bundleForClass:",_4e);
_1=[];
_1[CPMiniControlSize]=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_50,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(64,64)));
_1[CPSmallControlSize]=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_50,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(64,64)));
_1[CPRegularControlSize]=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_50,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(64,64)));
CPProgressIndicatorBezelBorderViewPool=[];
var _51=CPProgressIndicatorBarStyle,end=CPProgressIndicatorHUDBarStyle;
for(;_51<=end;++_51){
CPProgressIndicatorBezelBorderViewPool[_51]=[];
CPProgressIndicatorBezelBorderViewPool[_51][CPMiniControlSize]=[];
CPProgressIndicatorBezelBorderViewPool[_51][CPSmallControlSize]=[];
CPProgressIndicatorBezelBorderViewPool[_51][CPRegularControlSize]=[];
}
_2=objj_msgSend(_4e,"className");
_3=[];
_3[CPProgressIndicatorBarStyle]="Bar";
_3[CPProgressIndicatorSpinningStyle]="Spinny";
_3[CPProgressIndicatorHUDBarStyle]="HUDBar";
var _52=_CPControlIdentifierForControlSize(CPRegularControlSize),_53=_CPControlIdentifierForControlSize(CPSmallControlSize),_54=_CPControlIdentifierForControlSize(CPMiniControlSize);
_4=[];
var _55=_2+"BezelBorder"+_3[CPProgressIndicatorBarStyle];
_4[_55+_52]=[{width:3,height:15},{width:1,height:15},{width:3,height:15}];
_4[_55+_53]=[{width:3,height:15},{width:1,height:15},{width:3,height:15}];
_4[_55+_54]=[{width:3,height:15},{width:1,height:15},{width:3,height:15}];
_55=_2+"Bar"+_3[CPProgressIndicatorBarStyle];
_4[_55+_52]={width:1,height:9};
_4[_55+_53]={width:1,height:9};
_4[_55+_54]={width:1,height:9};
_55=_2+"BezelBorder"+_3[CPProgressIndicatorHUDBarStyle];
_4[_55+_52]=[{width:3,height:15},{width:1,height:15},{width:3,height:15}];
_4[_55+_53]=[{width:3,height:15},{width:1,height:15},{width:3,height:15}];
_4[_55+_54]=[{width:3,height:15},{width:1,height:15},{width:3,height:15}];
_55=_2+"Bar"+_3[CPProgressIndicatorHUDBarStyle];
_4[_55+_52]={width:1,height:9};
_4[_55+_53]={width:1,height:9};
_4[_55+_54]={width:1,height:9};
}
})]);
p;9;CPRadio.jI;21;Foundation/CPObject.jI;18;Foundation/CPSet.ji;10;CPButton.jc;5504;
var _1=objj_allocateClassPair(CPButton,"CPRadio"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_radioGroup")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:radioGroup:"),function(_3,_4,_5,_6){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPButton")},"initWithFrame:",_5);
if(_3){
objj_msgSend(_3,"setRadioGroup:",_6);
objj_msgSend(_3,"setHighlightsBy:",CPContentsCellMask);
objj_msgSend(_3,"setShowsStateBy:",CPContentsCellMask);
objj_msgSend(_3,"setImagePosition:",CPImageLeft);
objj_msgSend(_3,"setAlignment:",CPLeftTextAlignment);
objj_msgSend(_3,"setBordered:",YES);
}
return _3;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_7,_8,_9){
with(_7){
return objj_msgSend(_7,"initWithFrame:radioGroup:",_9,objj_msgSend(CPRadioGroup,"new"));
}
}),new objj_method(sel_getUid("nextState"),function(_a,_b){
with(_a){
return CPOnState;
}
}),new objj_method(sel_getUid("setRadioGroup:"),function(_c,_d,_e){
with(_c){
if(_radioGroup===_e){
return;
}
objj_msgSend(_radioGroup,"_removeRadio:",_c);
_radioGroup=_e;
objj_msgSend(_radioGroup,"_addRadio:",_c);
}
}),new objj_method(sel_getUid("radioGroup"),function(_f,_10){
with(_f){
return _radioGroup;
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_11,_12,_13){
with(_11){
objj_msgSendSuper({receiver:_11,super_class:objj_getClass("CPButton")},"setObjectValue:",_13);
if(objj_msgSend(_11,"state")===CPOnState){
objj_msgSend(_radioGroup,"_setSelectedRadio:",_11);
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("radioWithTitle:theme:"),function(_14,_15,_16,_17){
with(_14){
return objj_msgSend(_14,"buttonWithTitle:theme:",_16,_17);
}
}),new objj_method(sel_getUid("radioWithTitle:"),function(_18,_19,_1a){
with(_18){
return objj_msgSend(_18,"buttonWithTitle:",_1a);
}
}),new objj_method(sel_getUid("standardButtonWithTitle:"),function(_1b,_1c,_1d){
with(_1b){
var _1e=objj_msgSend(objj_msgSend(CPRadio,"alloc"),"init");
objj_msgSend(_1e,"setTitle:",_1d);
return _1e;
}
}),new objj_method(sel_getUid("themeClass"),function(_1f,_20){
with(_1f){
return "radio";
}
})]);
var _21="CPRadioRadioGroupKey";
var _1=objj_getClass("CPRadio");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPRadio\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_22,_23,_24){
with(_22){
_22=objj_msgSendSuper({receiver:_22,super_class:objj_getClass("CPButton")},"initWithCoder:",_24);
if(_22){
_radioGroup=objj_msgSend(_24,"decodeObjectForKey:",_21);
}
return _22;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_25,_26,_27){
with(_25){
objj_msgSendSuper({receiver:_25,super_class:objj_getClass("CPButton")},"encodeWithCoder:",_27);
objj_msgSend(_27,"encodeObject:forKey:",_radioGroup,_21);
}
})]);
var _1=objj_allocateClassPair(CPObject,"CPRadioGroup"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_radios"),new objj_ivar("_selectedRadio"),new objj_ivar("_target"),new objj_ivar("_action")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("target"),function(_28,_29){
with(_28){
return _target;
}
}),new objj_method(sel_getUid("setTarget:"),function(_2a,_2b,_2c){
with(_2a){
_target=_2c;
}
}),new objj_method(sel_getUid("action"),function(_2d,_2e){
with(_2d){
return _action;
}
}),new objj_method(sel_getUid("setAction:"),function(_2f,_30,_31){
with(_2f){
_action=_31;
}
}),new objj_method(sel_getUid("init"),function(_32,_33){
with(_32){
_32=objj_msgSendSuper({receiver:_32,super_class:objj_getClass("CPObject")},"init");
if(_32){
_radios=objj_msgSend(CPSet,"set");
_selectedRadio=nil;
}
return _32;
}
}),new objj_method(sel_getUid("_addRadio:"),function(_34,_35,_36){
with(_34){
objj_msgSend(_radios,"addObject:",_36);
if(objj_msgSend(_36,"state")===CPOnState){
objj_msgSend(_34,"_setSelectedRadio:",_36);
}
}
}),new objj_method(sel_getUid("_removeRadio:"),function(_37,_38,_39){
with(_37){
if(_selectedRadio===_39){
_selectedRadio=nil;
}
objj_msgSend(_radios,"removeObject:",_39);
}
}),new objj_method(sel_getUid("_setSelectedRadio:"),function(_3a,_3b,_3c){
with(_3a){
if(_selectedRadio===_3c){
return;
}
objj_msgSend(_selectedRadio,"setState:",CPOffState);
_selectedRadio=_3c;
objj_msgSend(CPApp,"sendAction:to:from:",_action,_target,_3a);
}
}),new objj_method(sel_getUid("selectedRadio"),function(_3d,_3e){
with(_3d){
return _selectedRadio;
}
}),new objj_method(sel_getUid("radios"),function(_3f,_40){
with(_3f){
return objj_msgSend(_radios,"allObjects");
}
})]);
var _41="CPRadioGroupRadiosKey",_42="CPRadioGroupSelectedRadioKey";
var _1=objj_getClass("CPRadioGroup");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPRadioGroup\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_43,_44,_45){
with(_43){
_43=objj_msgSendSuper({receiver:_43,super_class:objj_getClass("CPObject")},"init");
if(_43){
_radios=objj_msgSend(_45,"decodeObjectForKey:",_41);
_selectedRadio=objj_msgSend(_45,"decodeObjectForKey:",_42);
}
return _43;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_46,_47,_48){
with(_46){
objj_msgSend(_48,"encodeObject:forKey:",_radios,_41);
objj_msgSend(_48,"encodeObject:forKey:",_selectedRadio,_42);
}
})]);
p;13;CPResponder.jI;21;Foundation/CPObject.jc;5779;
CPDeleteKeyCode=8;
CPTabKeyCode=9;
CPReturnKeyCode=13;
CPEscapeKeyCode=27;
CPLeftArrowKeyCode=37;
CPUpArrowKeyCode=38;
CPRightArrowKeyCode=39;
CPDownArrowKeyCode=40;
var _1=objj_allocateClassPair(CPObject,"CPResponder"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_menu"),new objj_ivar("_nextResponder")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("acceptsFirstResponder"),function(_3,_4){
with(_3){
return NO;
}
}),new objj_method(sel_getUid("becomeFirstResponder"),function(_5,_6){
with(_5){
return YES;
}
}),new objj_method(sel_getUid("resignFirstResponder"),function(_7,_8){
with(_7){
return YES;
}
}),new objj_method(sel_getUid("setNextResponder:"),function(_9,_a,_b){
with(_9){
_nextResponder=_b;
}
}),new objj_method(sel_getUid("nextResponder"),function(_c,_d){
with(_c){
return _nextResponder;
}
}),new objj_method(sel_getUid("interpretKeyEvents:"),function(_e,_f,_10){
with(_e){
var _11=0,_12=objj_msgSend(_10,"count");
for(;_11<_12;++_11){
var _13=_10[_11];
switch(objj_msgSend(_13,"keyCode")){
case CPLeftArrowKeyCode:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("moveLeft:"));
break;
case CPRightArrowKeyCode:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("moveRight:"));
break;
case CPUpArrowKeyCode:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("moveUp:"));
break;
case CPDownArrowKeyCode:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("moveDown:"));
break;
case CPDeleteKeyCode:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("deleteBackward:"));
break;
case CPReturnKeyCode:
case 3:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("insertLineBreak:"));
break;
case CPEscapeKeyCode:
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("cancel:"));
break;
case CPTabKeyCode:
var _14=objj_msgSend(_13,"modifierFlags")&CPShiftKeyMask;
if(!_14){
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("insertTab:"));
}else{
objj_msgSend(_e,"doCommandBySelector:",sel_getUid("insertBackTab:"));
}
break;
default:
objj_msgSend(_e,"insertText:",objj_msgSend(_13,"characters"));
}
}
}
}),new objj_method(sel_getUid("mouseDown:"),function(_15,_16,_17){
with(_15){
objj_msgSend(_nextResponder,"performSelector:withObject:",_16,_17);
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_18,_19,_1a){
with(_18){
objj_msgSend(_nextResponder,"performSelector:withObject:",_19,_1a);
}
}),new objj_method(sel_getUid("mouseUp:"),function(_1b,_1c,_1d){
with(_1b){
objj_msgSend(_nextResponder,"performSelector:withObject:",_1c,_1d);
}
}),new objj_method(sel_getUid("mouseMoved:"),function(_1e,_1f,_20){
with(_1e){
objj_msgSend(_nextResponder,"performSelector:withObject:",_1f,_20);
}
}),new objj_method(sel_getUid("mouseEntered:"),function(_21,_22,_23){
with(_21){
objj_msgSend(_nextResponder,"performSelector:withObject:",_22,_23);
}
}),new objj_method(sel_getUid("mouseExited:"),function(_24,_25,_26){
with(_24){
objj_msgSend(_nextResponder,"performSelector:withObject:",_25,_26);
}
}),new objj_method(sel_getUid("scrollWheel:"),function(_27,_28,_29){
with(_27){
objj_msgSend(_nextResponder,"performSelector:withObject:",_28,_29);
}
}),new objj_method(sel_getUid("keyDown:"),function(_2a,_2b,_2c){
with(_2a){
objj_msgSend(_nextResponder,"performSelector:withObject:",_2b,_2c);
}
}),new objj_method(sel_getUid("keyUp:"),function(_2d,_2e,_2f){
with(_2d){
objj_msgSend(_nextResponder,"performSelector:withObject:",_2e,_2f);
}
}),new objj_method(sel_getUid("performKeyEquivalent:"),function(_30,_31,_32){
with(_30){
return NO;
}
}),new objj_method(sel_getUid("insertLineBreak:"),function(_33,_34,_35){
with(_33){
objj_msgSend(_33,"insertNewline:",_35);
}
}),new objj_method(sel_getUid("insertNewline:"),function(_36,_37,_38){
with(_36){
objj_msgSend(objj_msgSend(_36,"nextResponder"),"insertNewline:",_38);
}
}),new objj_method(sel_getUid("cancel:"),function(_39,_3a,_3b){
with(_39){
}
}),new objj_method(sel_getUid("insertTab:"),function(_3c,_3d,_3e){
with(_3c){
}
}),new objj_method(sel_getUid("insertBackTab:"),function(_3f,_40,_41){
with(_3f){
}
}),new objj_method(sel_getUid("insertText:"),function(_42,_43,_44){
with(_42){
}
}),new objj_method(sel_getUid("doCommandBySelector:"),function(_45,_46,_47){
with(_45){
if(objj_msgSend(_45,"respondsToSelector:",_47)){
objj_msgSend(_45,"performSelector:",_47);
}else{
objj_msgSend(_nextResponder,"doCommandBySelector:",_47);
}
}
}),new objj_method(sel_getUid("tryToPerform:with:"),function(_48,_49,_4a,_4b){
with(_48){
if(objj_msgSend(_48,"respondsToSelector:",_4a)){
objj_msgSend(_48,"performSelector:withObject:",_4a,_4b);
return YES;
}
return objj_msgSend(_nextResponder,"tryToPerform:with:",_4a,_4b);
}
}),new objj_method(sel_getUid("setMenu:"),function(_4c,_4d,_4e){
with(_4c){
_menu=_4e;
}
}),new objj_method(sel_getUid("menu"),function(_4f,_50){
with(_4f){
return _menu;
}
}),new objj_method(sel_getUid("undoManager"),function(_51,_52){
with(_51){
return objj_msgSend(_nextResponder,"performSelector:",_52);
}
}),new objj_method(sel_getUid("noResponderFor:"),function(_53,_54,_55){
with(_53){
}
})]);
var _56="CPResponderNextResponderKey";
var _1=objj_getClass("CPResponder");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPResponder\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_57,_58,_59){
with(_57){
_57=objj_msgSendSuper({receiver:_57,super_class:objj_getClass("CPObject")},"init");
if(_57){
_nextResponder=objj_msgSend(_59,"decodeObjectForKey:",_56);
}
return _57;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_5a,_5b,_5c){
with(_5a){
if(_nextResponder!==nil){
objj_msgSend(_5c,"encodeConditionalObject:forKey:",_nextResponder,_56);
}
}
})]);
p;13;CPSavePanel.jI;16;AppKit/CPPanel.jc;2724;
var _1=objj_allocateClassPair(CPPanel,"CPSavePanel"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_URL"),new objj_ivar("_isExtensionHidden"),new objj_ivar("_canSelectHiddenExtension"),new objj_ivar("_allowsOtherFileTypes"),new objj_ivar("_canCreateDirectories"),new objj_ivar("_allowedFileTypes")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("isExtensionHidden"),function(_3,_4){
with(_3){
return _isExtensionHidden;
}
}),new objj_method(sel_getUid("setExtensionHidden:"),function(_5,_6,_7){
with(_5){
_isExtensionHidden=_7;
}
}),new objj_method(sel_getUid("canSelectHiddenExtension"),function(_8,_9){
with(_8){
return _canSelectHiddenExtension;
}
}),new objj_method(sel_getUid("setCanSelectHiddenExtension:"),function(_a,_b,_c){
with(_a){
_canSelectHiddenExtension=_c;
}
}),new objj_method(sel_getUid("allowsOtherFileTypes"),function(_d,_e){
with(_d){
return _allowsOtherFileTypes;
}
}),new objj_method(sel_getUid("setAllowsOtherFileTypes:"),function(_f,_10,_11){
with(_f){
_allowsOtherFileTypes=_11;
}
}),new objj_method(sel_getUid("canCreateDirectories"),function(_12,_13){
with(_12){
return _canCreateDirectories;
}
}),new objj_method(sel_getUid("setCanCreateDirectories:"),function(_14,_15,_16){
with(_14){
_canCreateDirectories=_16;
}
}),new objj_method(sel_getUid("allowedFileTypes"),function(_17,_18){
with(_17){
return _allowedFileTypes;
}
}),new objj_method(sel_getUid("setAllowedFileTypes:"),function(_19,_1a,_1b){
with(_19){
_allowedFileTypes=_1b;
}
}),new objj_method(sel_getUid("init"),function(_1c,_1d){
with(_1c){
if(_1c=objj_msgSendSuper({receiver:_1c,super_class:objj_getClass("CPPanel")},"init")){
_canCreateDirectories=YES;
}
return _1c;
}
}),new objj_method(sel_getUid("runModal"),function(_1e,_1f){
with(_1e){
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
if(typeof window["cpSavePanel"]==="function"){
var _20=window.cpSavePanel({isExtensionHidden:_isExtensionHidden,canSelectHiddenExtension:_canSelectHiddenExtension,allowsOtherFileTypes:_allowsOtherFileTypes,canCreateDirectories:_canCreateDirectories,allowedFileTypes:_allowedFileTypes}),_21=_20.button;
_URL=_21?objj_msgSend(CPURL,"URLWithString:",_20.URL):nil;
}else{
var _22=window.prompt("Document Name:"),_21=_22!==null;
_URL=_21?objj_msgSend(objj_msgSend(_1e,"class"),"proposedFileURLWithDocumentName:",_22):nil;
}
return _21;
}
}),new objj_method(sel_getUid("URL"),function(_23,_24){
with(_23){
return _URL;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("savePanel"),function(_25,_26){
with(_25){
return objj_msgSend(objj_msgSend(CPSavePanel,"alloc"),"init");
}
})]);
p;10;CPScreen.jI;21;Foundation/CPObject.jc;408;
var _1=objj_allocateClassPair(CPObject,"CPScreen"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("visibleFrame"),function(_3,_4){
with(_3){
return {origin:{x:window.screen.availLeft,y:window.screen.availTop},size:{width:window.screen.availWidth,height:window.screen.availHeight}};
}
})]);
p;12;CPScroller.ji;11;CPControl.jc;15644;
CPScrollerNoPart=0;
CPScrollerDecrementPage=1;
CPScrollerKnob=2;
CPScrollerIncrementPage=3;
CPScrollerDecrementLine=4;
CPScrollerIncrementLine=5;
CPScrollerKnobSlot=6;
CPScrollerIncrementArrow=0;
CPScrollerDecrementArrow=1;
CPNoScrollerParts=0;
CPOnlyScrollerArrows=1;
CPAllScrollerParts=2;
var _1=[CPScrollerKnobSlot,CPScrollerDecrementLine,CPScrollerIncrementLine,CPScrollerKnob],_2={},_3={};
_2[CPScrollerDecrementLine]="decrement-line";
_2[CPScrollerIncrementLine]="increment-line";
_2[CPScrollerKnobSlot]="knob-slot";
_2[CPScrollerKnob]="knob";
var _4=objj_allocateClassPair(CPControl,"CPScroller"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_controlSize"),new objj_ivar("_usableParts"),new objj_ivar("_partRects"),new objj_ivar("_isVertical"),new objj_ivar("_knobProportion"),new objj_ivar("_hitPart"),new objj_ivar("_trackingPart"),new objj_ivar("_trackingFloatValue"),new objj_ivar("_trackingStartPoint")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("isVertical"),function(_6,_7){
with(_6){
return _isVertical;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_8,_9,_a){
with(_8){
_8=objj_msgSendSuper({receiver:_8,super_class:objj_getClass("CPControl")},"initWithFrame:",_a);
if(_8){
_controlSize=CPRegularControlSize;
_partRects=[];
objj_msgSend(_8,"setFloatValue:",0);
objj_msgSend(_8,"setKnobProportion:",1);
_hitPart=CPScrollerNoPart;
objj_msgSend(_8,"_calculateIsVertical");
}
return _8;
}
}),new objj_method(sel_getUid("setControlSize:"),function(_b,_c,_d){
with(_b){
if(_controlSize==_d){
return;
}
_controlSize=_d;
objj_msgSend(_b,"setNeedsLayout");
objj_msgSend(_b,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("controlSize"),function(_e,_f){
with(_e){
return _controlSize;
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_10,_11,_12){
with(_10){
objj_msgSendSuper({receiver:_10,super_class:objj_getClass("CPControl")},"setObjectValue:",MIN(1,MAX(0,+_12)));
}
}),new objj_method(sel_getUid("setKnobProportion:"),function(_13,_14,_15){
with(_13){
_knobProportion=MIN(1,MAX(0.0001,_15));
objj_msgSend(_13,"setNeedsDisplay:",YES);
objj_msgSend(_13,"setNeedsLayout");
}
}),new objj_method(sel_getUid("knobProportion"),function(_16,_17){
with(_16){
return _knobProportion;
}
}),new objj_method(sel_getUid("currentValueForThemeAttribute:"),function(_18,_19,_1a){
with(_18){
var _1b=_themeState;
if(_2[_hitPart]+"-color"!==_1a){
_1b&=~CPThemeStateHighlighted;
}
return objj_msgSend(_18,"valueForThemeAttribute:inState:",_1a,_1b);
}
}),new objj_method(sel_getUid("rectForPart:"),function(_1c,_1d,_1e){
with(_1c){
if(_1e==CPScrollerNoPart){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
return _partRects[_1e];
}
}),new objj_method(sel_getUid("testPart:"),function(_1f,_20,_21){
with(_1f){
_21=objj_msgSend(_1f,"convertPoint:fromView:",_21,nil);
if(CGRectContainsPoint(objj_msgSend(_1f,"rectForPart:",CPScrollerKnob),_21)){
return CPScrollerKnob;
}
if(CGRectContainsPoint(objj_msgSend(_1f,"rectForPart:",CPScrollerDecrementPage),_21)){
return CPScrollerDecrementPage;
}
if(CGRectContainsPoint(objj_msgSend(_1f,"rectForPart:",CPScrollerIncrementPage),_21)){
return CPScrollerIncrementPage;
}
if(CGRectContainsPoint(objj_msgSend(_1f,"rectForPart:",CPScrollerDecrementLine),_21)){
return CPScrollerDecrementLine;
}
if(CGRectContainsPoint(objj_msgSend(_1f,"rectForPart:",CPScrollerIncrementLine),_21)){
return CPScrollerIncrementLine;
}
if(CGRectContainsPoint(objj_msgSend(_1f,"rectForPart:",CPScrollerKnobSlot),_21)){
return CPScrollerKnobSlot;
}
return CPScrollerNoPart;
}
}),new objj_method(sel_getUid("checkSpaceForParts"),function(_22,_23){
with(_22){
var _24=objj_msgSend(_22,"bounds");
if(_knobProportion===1){
_usableParts=CPNoScrollerParts;
_partRects[CPScrollerDecrementPage]={origin:{x:0,y:0},size:{width:0,height:0}};
_partRects[CPScrollerKnob]={origin:{x:0,y:0},size:{width:0,height:0}};
_partRects[CPScrollerIncrementPage]={origin:{x:0,y:0},size:{width:0,height:0}};
_partRects[CPScrollerDecrementLine]={origin:{x:0,y:0},size:{width:0,height:0}};
_partRects[CPScrollerIncrementLine]={origin:{x:0,y:0},size:{width:0,height:0}};
_partRects[CPScrollerKnobSlot]={origin:{x:_24.origin.x,y:_24.origin.y},size:{width:_24.size.width,height:_24.size.height}};
return;
}
_usableParts=CPAllScrollerParts;
var _25=objj_msgSend(_22,"currentValueForThemeAttribute:","knob-inset"),_26=objj_msgSend(_22,"currentValueForThemeAttribute:","track-inset"),_27=(_24.size.width),_28=(_24.size.height);
if(objj_msgSend(_22,"isVertical")){
var _29=objj_msgSend(_22,"currentValueForThemeAttribute:","decrement-line-size"),_2a=objj_msgSend(_22,"currentValueForThemeAttribute:","increment-line-size"),_2b=_29.height+_26.top,_2c=_2a.height+_26.bottom,_2d=_28-_2b-_2c,_2e=objj_msgSend(_22,"currentValueForThemeAttribute:","minimum-knob-length"),_2f=_27-_25.left-_25.right,_30=MAX(_2e,(_2d*_knobProportion)),_31=_2b+(_2d-_30)*objj_msgSend(_22,"floatValue");
_partRects[CPScrollerDecrementPage]={origin:{x:0,y:_2b},size:{width:_27,height:_31-_2b}};
_partRects[CPScrollerKnob]={origin:{x:_25.left,y:_31},size:{width:_2f,height:_30}};
_partRects[CPScrollerIncrementPage]={origin:{x:0,y:_31+_30},size:{width:_27,height:_28-(_31+_30)-_2c}};
_partRects[CPScrollerKnobSlot]={origin:{x:_26.left,y:_2b},size:{width:_27-_26.left-_26.right,height:_2d}};
_partRects[CPScrollerDecrementLine]={origin:{x:0,y:0},size:{width:_29.width,height:_29.height}};
_partRects[CPScrollerIncrementLine]={origin:{x:0,y:_28-_2a.height},size:{width:_2a.width,height:_2a.height}};
}else{
var _29=objj_msgSend(_22,"currentValueForThemeAttribute:","decrement-line-size"),_2a=objj_msgSend(_22,"currentValueForThemeAttribute:","increment-line-size"),_32=_29.width+_26.left,_33=_2a.width+_26.right;
slotWidth=_27-_32-_33,_2e=objj_msgSend(_22,"currentValueForThemeAttribute:","minimum-knob-length"),_2f=MAX(_2e,(slotWidth*_knobProportion)),_30=_28-_25.top-_25.bottom,_31=_32+(slotWidth-_2f)*objj_msgSend(_22,"floatValue");
_partRects[CPScrollerDecrementPage]={origin:{x:_32,y:0},size:{width:_31-_32,height:_28}};
_partRects[CPScrollerKnob]={origin:{x:_31,y:_25.top},size:{width:_2f,height:_30}};
_partRects[CPScrollerIncrementPage]={origin:{x:_31+_2f,y:0},size:{width:_27-(_31+_2f)-_33,height:_28}};
_partRects[CPScrollerKnobSlot]={origin:{x:_32,y:_26.top},size:{width:slotWidth,height:_28-_26.top-_26.bottom}};
_partRects[CPScrollerDecrementLine]={origin:{x:0,y:0},size:{width:_29.width,height:_29.height}};
_partRects[CPScrollerIncrementLine]={origin:{x:_27-_2a.width,y:0},size:{width:_2a.width,height:_2a.height}};
}
}
}),new objj_method(sel_getUid("usableParts"),function(_34,_35){
with(_34){
return _usableParts;
}
}),new objj_method(sel_getUid("drawArrow:highlight:"),function(_36,_37,_38,_39){
with(_36){
}
}),new objj_method(sel_getUid("drawKnob"),function(_3a,_3b){
with(_3a){
}
}),new objj_method(sel_getUid("drawKnobSlot"),function(_3c,_3d){
with(_3c){
}
}),new objj_method(sel_getUid("createViewForPart:"),function(_3e,_3f,_40){
with(_3e){
var _41=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
objj_msgSend(_41,"setHitTests:",NO);
return _41;
}
}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(_42,_43,_44){
with(_42){
return _partRects[_44];
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(_45,_46,_47){
with(_45){
var _48=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
objj_msgSend(_48,"setHitTests:",NO);
return _48;
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_49,_4a){
with(_49){
objj_msgSend(_49,"checkSpaceForParts");
var _4b=0,_4c=_1.length;
for(;_4b<_4c;++_4b){
var _4d=_1[_4b];
if(_4b===0){
view=objj_msgSend(_49,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:",_4d,CPWindowBelow,_1[_4b+1]);
}else{
view=objj_msgSend(_49,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:",_4d,CPWindowAbove,_1[_4b-1]);
}
if(view){
objj_msgSend(view,"setBackgroundColor:",objj_msgSend(_49,"currentValueForThemeAttribute:",_2[_4d]+"-color"));
}
}
}
}),new objj_method(sel_getUid("drawParts"),function(_4e,_4f){
with(_4e){
objj_msgSend(_4e,"drawKnobSlot");
objj_msgSend(_4e,"drawKnob");
objj_msgSend(_4e,"drawArrow:highlight:",CPScrollerDecrementArrow,NO);
objj_msgSend(_4e,"drawArrow:highlight:",CPScrollerIncrementArrow,NO);
}
}),new objj_method(sel_getUid("hitPart"),function(_50,_51){
with(_50){
return _hitPart;
}
}),new objj_method(sel_getUid("trackKnob:"),function(_52,_53,_54){
with(_52){
var _55=objj_msgSend(_54,"type");
if(_55===CPLeftMouseUp){
_hitPart=CPScrollerNoPart;
return;
}
if(_55===CPLeftMouseDown){
_trackingFloatValue=objj_msgSend(_52,"floatValue");
_trackingStartPoint=objj_msgSend(_52,"convertPoint:fromView:",objj_msgSend(_54,"locationInWindow"),nil);
}else{
if(_55===CPLeftMouseDragged){
var _56=objj_msgSend(_52,"rectForPart:",CPScrollerKnob),_57=objj_msgSend(_52,"rectForPart:",CPScrollerKnobSlot),_58=!objj_msgSend(_52,"isVertical")?((_57.size.width)-(_56.size.width)):((_57.size.height)-(_56.size.height));
if(_58<=0){
objj_msgSend(_52,"setFloatValue:",0);
}else{
var _59=objj_msgSend(_52,"convertPoint:fromView:",objj_msgSend(_54,"locationInWindow"),nil);
delta=!objj_msgSend(_52,"isVertical")?_59.x-_trackingStartPoint.x:_59.y-_trackingStartPoint.y;
objj_msgSend(_52,"setFloatValue:",_trackingFloatValue+delta/_58);
}
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_52,sel_getUid("trackKnob:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
objj_msgSend(_52,"sendAction:to:",objj_msgSend(_52,"action"),objj_msgSend(_52,"target"));
}
}),new objj_method(sel_getUid("trackScrollButtons:"),function(_5a,_5b,_5c){
with(_5a){
var _5d=objj_msgSend(_5c,"type");
if(_5d===CPLeftMouseUp){
objj_msgSend(_5a,"highlight:",NO);
objj_msgSend(CPEvent,"stopPeriodicEvents");
_hitPart=CPScrollerNoPart;
return;
}
if(_5d===CPLeftMouseDown){
_trackingPart=objj_msgSend(_5a,"hitPart");
_trackingStartPoint=objj_msgSend(_5a,"convertPoint:fromView:",objj_msgSend(_5c,"locationInWindow"),nil);
if(objj_msgSend(_5c,"modifierFlags")&CPAlternateKeyMask){
if(_trackingPart==CPScrollerDecrementLine){
_hitPart=CPScrollerDecrementPage;
}else{
if(_trackingPart==CPScrollerIncrementLine){
_hitPart=CPScrollerIncrementPage;
}else{
if(_trackingPart==CPScrollerDecrementPage||_trackingPart==CPScrollerIncrementPage){
var _5e=objj_msgSend(_5a,"rectForPart:",CPScrollerKnob),_5f=!objj_msgSend(_5a,"isVertical")?(_5e.size.width):(_5e.size.height),_60=objj_msgSend(_5a,"rectForPart:",CPScrollerKnobSlot),_61=(!objj_msgSend(_5a,"isVertical")?(_60.size.width):(_60.size.height))-_5f;
objj_msgSend(_5a,"setFloatValue:",((!objj_msgSend(_5a,"isVertical")?_trackingStartPoint.x-(_60.origin.x):_trackingStartPoint.y-(_60.origin.y))-_5f/2)/_61);
_hitPart=CPScrollerKnob;
objj_msgSend(_5a,"sendAction:to:",objj_msgSend(_5a,"action"),objj_msgSend(_5a,"target"));
return objj_msgSend(_5a,"trackKnob:",_5c);
}
}
}
}
objj_msgSend(_5a,"highlight:",YES);
objj_msgSend(_5a,"sendAction:to:",objj_msgSend(_5a,"action"),objj_msgSend(_5a,"target"));
objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0.5,0.04);
}else{
if(_5d===CPLeftMouseDragged){
_trackingStartPoint=objj_msgSend(_5a,"convertPoint:fromView:",objj_msgSend(_5c,"locationInWindow"),nil);
if(_trackingPart==CPScrollerDecrementPage||_trackingPart==CPScrollerIncrementPage){
var _62=objj_msgSend(_5a,"testPart:",objj_msgSend(_5c,"locationInWindow"));
if(_62==CPScrollerDecrementPage||_62==CPScrollerIncrementPage){
_trackingPart=_62;
_hitPart=_62;
}
}
objj_msgSend(_5a,"highlight:",CGRectContainsPoint(objj_msgSend(_5a,"rectForPart:",_trackingPart),_trackingStartPoint));
}else{
if(_5d==CPPeriodic&&CGRectContainsPoint(objj_msgSend(_5a,"rectForPart:",_trackingPart),_trackingStartPoint)){
objj_msgSend(_5a,"sendAction:to:",objj_msgSend(_5a,"action"),objj_msgSend(_5a,"target"));
}
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_5a,sel_getUid("trackScrollButtons:"),CPPeriodicMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
}
}),new objj_method(sel_getUid("_calculateIsVertical"),function(_63,_64){
with(_63){
var _65=objj_msgSend(_63,"bounds"),_66=(_65.size.width),_67=(_65.size.height);
_isVertical=_66<_67?1:(_66>_67?0:-1);
if(_isVertical===1){
objj_msgSend(_63,"setThemeState:",CPThemeStateVertical);
}else{
if(_isVertical===0){
objj_msgSend(_63,"unsetThemeState:",CPThemeStateVertical);
}
}
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_68,_69,_6a){
with(_68){
objj_msgSendSuper({receiver:_68,super_class:objj_getClass("CPControl")},"setFrameSize:",_6a);
objj_msgSend(_68,"checkSpaceForParts");
objj_msgSend(_68,"setNeedsLayout");
}
}),new objj_method(sel_getUid("mouseDown:"),function(_6b,_6c,_6d){
with(_6b){
if(!objj_msgSend(_6b,"isEnabled")){
return;
}
_hitPart=objj_msgSend(_6b,"testPart:",objj_msgSend(_6d,"locationInWindow"));
switch(_hitPart){
case CPScrollerKnob:
return objj_msgSend(_6b,"trackKnob:",_6d);
case CPScrollerDecrementLine:
case CPScrollerIncrementLine:
case CPScrollerDecrementPage:
case CPScrollerIncrementPage:
return objj_msgSend(_6b,"trackScrollButtons:",_6d);
}
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("themeClass"),function(_6e,_6f){
with(_6e){
return "scroller";
}
}),new objj_method(sel_getUid("themeAttributes"),function(_70,_71){
with(_70){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[nil,nil,nil,nil,{width:0,height:0},{width:0,height:0},{top:(0),right:(0),bottom:(0),left:(0)},{top:(0),right:(0),bottom:(0),left:(0)},{width:0,height:0}],["knob-slot-color","decrement-line-color","increment-line-color","knob-color","decrement-line-size","increment-line-size","track-inset","knob-inset","minimum-knob-length"]);
}
}),new objj_method(sel_getUid("scrollerWidth"),function(_72,_73){
with(_72){
return 15;
}
}),new objj_method(sel_getUid("scrollerWidthForControlSize:"),function(_74,_75,_76){
with(_74){
return 15;
}
})]);
var _77="CPScrollerControlSize",_78="CPScrollerKnobProportion";
var _4=objj_getClass("CPScroller");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPScroller\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("initWithCoder:"),function(_79,_7a,_7b){
with(_79){
if(_79=objj_msgSendSuper({receiver:_79,super_class:objj_getClass("CPControl")},"initWithCoder:",_7b)){
_controlSize=CPRegularControlSize;
if(objj_msgSend(_7b,"containsValueForKey:",_77)){
_controlSize=objj_msgSend(_7b,"decodeIntForKey:",_77);
}
_knobProportion=1;
if(objj_msgSend(_7b,"containsValueForKey:",_78)){
_knobProportion=objj_msgSend(_7b,"decodeFloatForKey:",_78);
}
_partRects=[];
_hitPart=CPScrollerNoPart;
objj_msgSend(_79,"_calculateIsVertical");
}
return _79;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_7c,_7d,_7e){
with(_7c){
objj_msgSendSuper({receiver:_7c,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_7e);
objj_msgSend(_7e,"encodeInt:forKey:",_controlSize,_77);
objj_msgSend(_7e,"encodeFloat:forKey:",_knobProportion,_78);
}
})]);
var _4=objj_getClass("CPScroller");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPScroller\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("setFloatValue:knobProportion:"),function(_7f,_80,_81,_82){
with(_7f){
objj_msgSend(_7f,"setFloatValue:",_81);
objj_msgSend(_7f,"setKnobProportion:",_82);
}
})]);
p;14;CPScrollView.ji;8;CPView.ji;12;CPClipView.ji;12;CPScroller.jc;17078;
var _1=objj_allocateClassPair(CPView,"CPScrollView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_contentView"),new objj_ivar("_headerClipView"),new objj_ivar("_cornerView"),new objj_ivar("_hasVerticalScroller"),new objj_ivar("_hasHorizontalScroller"),new objj_ivar("_autohidesScrollers"),new objj_ivar("_verticalScroller"),new objj_ivar("_horizontalScroller"),new objj_ivar("_recursionCount"),new objj_ivar("_verticalLineScroll"),new objj_ivar("_verticalPageScroll"),new objj_ivar("_horizontalLineScroll"),new objj_ivar("_horizontalPageScroll")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPView")},"initWithFrame:",_5);
if(_3){
_verticalLineScroll=10;
_verticalPageScroll=10;
_horizontalLineScroll=10;
_horizontalPageScroll=10;
_contentView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"initWithFrame:",objj_msgSend(_3,"bounds"));
objj_msgSend(_3,"addSubview:",_contentView);
_headerClipView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"init");
objj_msgSend(_3,"addSubview:",_headerClipView);
objj_msgSend(_3,"setHasVerticalScroller:",YES);
objj_msgSend(_3,"setHasHorizontalScroller:",YES);
}
return _3;
}
}),new objj_method(sel_getUid("contentSize"),function(_6,_7){
with(_6){
return objj_msgSend(_contentView,"frame").size;
}
}),new objj_method(sel_getUid("documentView"),function(_8,_9){
with(_8){
return objj_msgSend(_contentView,"documentView");
}
}),new objj_method(sel_getUid("setContentView:"),function(_a,_b,_c){
with(_a){
if(_contentView!==_c||!_c){
return;
}
var _d=objj_msgSend(_c,"documentView");
if(_d){
objj_msgSend(_d,"removeFromSuperview");
}
objj_msgSend(_contentView,"removeFromSuperview");
_contentView=_c;
objj_msgSend(_contentView,"setDocumentView:",_d);
objj_msgSend(_a,"addSubview:",_contentView);
objj_msgSend(_a,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("contentView"),function(_e,_f){
with(_e){
return _contentView;
}
}),new objj_method(sel_getUid("setDocumentView:"),function(_10,_11,_12){
with(_10){
objj_msgSend(_contentView,"setDocumentView:",_12);
objj_msgSend(_10,"_updateCornerAndHeaderView");
objj_msgSend(_10,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("reflectScrolledClipView:"),function(_13,_14,_15){
with(_13){
if(_contentView!==_15){
return;
}
if(_recursionCount>5){
return;
}
++_recursionCount;
var _16=objj_msgSend(_13,"documentView");
if(!_16){
if(_autohidesScrollers){
objj_msgSend(_verticalScroller,"setHidden:",YES);
objj_msgSend(_horizontalScroller,"setHidden:",YES);
}else{
}
objj_msgSend(_contentView,"setFrame:",objj_msgSend(_13,"bounds"));
objj_msgSend(_headerClipView,"setFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
--_recursionCount;
return;
}
var _17=objj_msgSend(_16,"frame"),_18=objj_msgSend(_13,"bounds"),_19=objj_msgSend(_13,"_headerClipViewFrame"),_1a=(_19.size.height);
_18.origin.y+=_1a;
_18.size.height-=_1a;
var _1b={width:(_17.size.width)-(_18.size.width),height:(_17.size.height)-(_18.size.height)},_1c=(objj_msgSend(_verticalScroller,"frame").size.width),_1d=(objj_msgSend(_horizontalScroller,"frame").size.height),_1e=_1b.height>0,_1f=_1b.width>0,_20=_hasVerticalScroller&&(!_autohidesScrollers||_1e),_21=_hasHorizontalScroller&&(!_autohidesScrollers||_1f);
if(_20){
_1b.width+=_1c;
_1f=_1b.width>0;
_21=_hasHorizontalScroller&&(!_autohidesScrollers||_1f);
}
if(_21){
_1b.height+=_1d;
_1e=_1b.height>0;
_20=_hasVerticalScroller&&(!_autohidesScrollers||_1e);
}
objj_msgSend(_verticalScroller,"setHidden:",!_20);
objj_msgSend(_verticalScroller,"setEnabled:",_1e);
objj_msgSend(_horizontalScroller,"setHidden:",!_21);
objj_msgSend(_horizontalScroller,"setEnabled:",_1f);
if(_20){
_18.size.width-=_1c;
}
if(_21){
_18.size.height-=_1d;
}
var _22=objj_msgSend(_contentView,"bounds").origin,_23=!objj_msgSend(_verticalScroller,"isHidden"),_24=!objj_msgSend(_horizontalScroller,"isHidden");
if(_20){
var _25=MAX((objj_msgSend(_13,"_cornerViewFrame").size.height),_1a),_26=(objj_msgSend(_13,"bounds").size.height)-_25;
if(_21){
_26-=_1d;
}
objj_msgSend(_verticalScroller,"setFloatValue:",(_1b.height<=0)?0:_22.y/_1b.height);
objj_msgSend(_verticalScroller,"setKnobProportion:",(_18.size.height)/(_17.size.height));
objj_msgSend(_verticalScroller,"setFrame:",{origin:{x:(_18.origin.x+_18.size.width),y:_25},size:{width:_1c,height:_26}});
}else{
if(_23){
objj_msgSend(_verticalScroller,"setFloatValue:",0);
objj_msgSend(_verticalScroller,"setKnobProportion:",1);
}
}
if(_21){
objj_msgSend(_horizontalScroller,"setFloatValue:",(_1b.width<=0)?0:_22.x/_1b.width);
objj_msgSend(_horizontalScroller,"setKnobProportion:",(_18.size.width)/(_17.size.width));
objj_msgSend(_horizontalScroller,"setFrame:",{origin:{x:0,y:(_18.origin.y+_18.size.height)},size:{width:(_18.size.width),height:_1d}});
}else{
if(_24){
objj_msgSend(_horizontalScroller,"setFloatValue:",0);
objj_msgSend(_horizontalScroller,"setKnobProportion:",1);
}
}
objj_msgSend(_contentView,"setFrame:",_18);
objj_msgSend(_headerClipView,"setFrame:",_19);
objj_msgSend(_cornerView,"setFrame:",objj_msgSend(_13,"_cornerViewFrame"));
--_recursionCount;
}
}),new objj_method(sel_getUid("setHorizontalScroller:"),function(_27,_28,_29){
with(_27){
if(_horizontalScroller===_29){
return;
}
objj_msgSend(_horizontalScroller,"removeFromSuperview");
objj_msgSend(_horizontalScroller,"setTarget:",nil);
objj_msgSend(_horizontalScroller,"setAction:",nil);
_horizontalScroller=_29;
objj_msgSend(_horizontalScroller,"setTarget:",_27);
objj_msgSend(_horizontalScroller,"setAction:",sel_getUid("_horizontalScrollerDidScroll:"));
objj_msgSend(_27,"addSubview:",_horizontalScroller);
objj_msgSend(_27,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("horizontalScroller"),function(_2a,_2b){
with(_2a){
return _horizontalScroller;
}
}),new objj_method(sel_getUid("setHasHorizontalScroller:"),function(_2c,_2d,_2e){
with(_2c){
if(_hasHorizontalScroller===_2e){
return;
}
_hasHorizontalScroller=_2e;
if(_hasHorizontalScroller&&!_horizontalScroller){
objj_msgSend(_2c,"setHorizontalScroller:",objj_msgSend(objj_msgSend(CPScroller,"alloc"),"initWithFrame:",CGRectMake(0,0,(objj_msgSend(_2c,"bounds").size.width),objj_msgSend(CPScroller,"scrollerWidth"))));
}
objj_msgSend(_2c,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("hasHorizontalScroller"),function(_2f,_30){
with(_2f){
return _hasHorizontalScroller;
}
}),new objj_method(sel_getUid("setVerticalScroller:"),function(_31,_32,_33){
with(_31){
if(_verticalScroller===_33){
return;
}
objj_msgSend(_verticalScroller,"removeFromSuperview");
objj_msgSend(_verticalScroller,"setTarget:",nil);
objj_msgSend(_verticalScroller,"setAction:",nil);
_verticalScroller=_33;
objj_msgSend(_verticalScroller,"setTarget:",_31);
objj_msgSend(_verticalScroller,"setAction:",sel_getUid("_verticalScrollerDidScroll:"));
objj_msgSend(_31,"addSubview:",_verticalScroller);
objj_msgSend(_31,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("verticalScroller"),function(_34,_35){
with(_34){
return _verticalScroller;
}
}),new objj_method(sel_getUid("setHasVerticalScroller:"),function(_36,_37,_38){
with(_36){
if(_hasVerticalScroller===_38){
return;
}
_hasVerticalScroller=_38;
if(_hasVerticalScroller&&!_verticalScroller){
objj_msgSend(_36,"setVerticalScroller:",objj_msgSend(objj_msgSend(CPScroller,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:objj_msgSend(CPScroller,"scrollerWidth"),height:(objj_msgSend(_36,"bounds").size.height)}}));
}
objj_msgSend(_36,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("hasVerticalScroller"),function(_39,_3a){
with(_39){
return _hasVerticalScroller;
}
}),new objj_method(sel_getUid("setAutohidesScrollers:"),function(_3b,_3c,_3d){
with(_3b){
if(_autohidesScrollers==_3d){
return;
}
_autohidesScrollers=_3d;
objj_msgSend(_3b,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("autohidesScrollers"),function(_3e,_3f){
with(_3e){
return _autohidesScrollers;
}
}),new objj_method(sel_getUid("_updateCornerAndHeaderView"),function(_40,_41){
with(_40){
var _42=objj_msgSend(_40,"documentView"),_43=objj_msgSend(_40,"_headerView"),_44=objj_msgSend(_42,"respondsToSelector:",sel_getUid("headerView"))?objj_msgSend(_42,"headerView"):nil;
if(_43!==_44){
objj_msgSend(_43,"removeFromSuperview");
objj_msgSend(_headerClipView,"setDocumentView:",_44);
}
var _45=objj_msgSend(_42,"respondsToSelector:",sel_getUid("cornerView"))?objj_msgSend(_42,"cornerView"):nil;
if(_cornerView!==_45){
objj_msgSend(_cornerView,"removeFromSuperview");
_cornerView=_45;
if(_cornerView){
objj_msgSend(_40,"addSubview:",_cornerView);
}
}
objj_msgSend(_40,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("_headerView"),function(_46,_47){
with(_46){
var _48=objj_msgSend(_headerClipView,"subviews");
return objj_msgSend(_48,"count")?_48[0]:nil;
}
}),new objj_method(sel_getUid("_cornerViewFrame"),function(_49,_4a){
with(_49){
if(!_cornerView){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
var _4b=objj_msgSend(_49,"bounds"),_4c=objj_msgSend(_cornerView,"frame");
_4c.origin.x=(_4b.origin.x+_4b.size.width)-(_4c.size.width);
_4c.origin.y=0;
return _4c;
}
}),new objj_method(sel_getUid("_headerClipViewFrame"),function(_4d,_4e){
with(_4d){
var _4f=objj_msgSend(_4d,"_headerView");
if(!_4f){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
var _50=objj_msgSend(_4d,"bounds");
_50.size.height=(objj_msgSend(_4f,"frame").size.height);
_50.size.width-=(objj_msgSend(_4d,"_cornerViewFrame").size.width);
return _50;
}
}),new objj_method(sel_getUid("_verticalScrollerDidScroll:"),function(_51,_52,_53){
with(_51){
var _54=objj_msgSend(_53,"floatValue"),_55=objj_msgSend(objj_msgSend(_contentView,"documentView"),"frame");
contentBounds=objj_msgSend(_contentView,"bounds");
switch(objj_msgSend(_verticalScroller,"hitPart")){
case CPScrollerDecrementLine:
contentBounds.origin.y-=_verticalLineScroll;
break;
case CPScrollerIncrementLine:
contentBounds.origin.y+=_verticalLineScroll;
break;
case CPScrollerDecrementPage:
contentBounds.origin.y-=(contentBounds.size.height)-_verticalPageScroll;
break;
case CPScrollerIncrementPage:
contentBounds.origin.y+=(contentBounds.size.height)-_verticalPageScroll;
break;
case CPScrollerKnobSlot:
case CPScrollerKnob:
default:
contentBounds.origin.y=ROUND(_54*((_55.size.height)-(contentBounds.size.height)));
}
objj_msgSend(_contentView,"scrollToPoint:",contentBounds.origin);
}
}),new objj_method(sel_getUid("_horizontalScrollerDidScroll:"),function(_56,_57,_58){
with(_56){
var _59=objj_msgSend(_58,"floatValue"),_5a=objj_msgSend(objj_msgSend(_56,"documentView"),"frame"),_5b=objj_msgSend(_contentView,"bounds");
switch(objj_msgSend(_horizontalScroller,"hitPart")){
case CPScrollerDecrementLine:
_5b.origin.x-=_horizontalLineScroll;
break;
case CPScrollerIncrementLine:
_5b.origin.x+=_horizontalLineScroll;
break;
case CPScrollerDecrementPage:
_5b.origin.x-=(_5b.size.width)-_horizontalPageScroll;
break;
case CPScrollerIncrementPage:
_5b.origin.x+=(_5b.size.width)-_horizontalPageScroll;
break;
case CPScrollerKnobSlot:
case CPScrollerKnob:
default:
_5b.origin.x=ROUND(_59*((_5a.size.width)-(_5b.size.width)));
}
objj_msgSend(_contentView,"scrollToPoint:",_5b.origin);
objj_msgSend(_headerClipView,"scrollToPoint:",CGPointMake(_5b.origin.x,0));
}
}),new objj_method(sel_getUid("tile"),function(_5c,_5d){
with(_5c){
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_5e,_5f,_60){
with(_5e){
objj_msgSend(_5e,"reflectScrolledClipView:",_contentView);
}
}),new objj_method(sel_getUid("setLineScroll:"),function(_61,_62,_63){
with(_61){
objj_msgSend(_61,"setHorizonalLineScroll:",_63);
objj_msgSend(_61,"setVerticalLineScroll:",_63);
}
}),new objj_method(sel_getUid("lineScroll"),function(_64,_65){
with(_64){
return objj_msgSend(_64,"horizontalLineScroll");
}
}),new objj_method(sel_getUid("setHorizontalLineScroll:"),function(_66,_67,_68){
with(_66){
_horizontalLineScroll=_68;
}
}),new objj_method(sel_getUid("horizontalLineScroll"),function(_69,_6a){
with(_69){
return _horizontalLineScroll;
}
}),new objj_method(sel_getUid("setVerticalLineScroll:"),function(_6b,_6c,_6d){
with(_6b){
_verticalLineScroll=_6d;
}
}),new objj_method(sel_getUid("verticalLineScroll"),function(_6e,_6f){
with(_6e){
return _verticalLineScroll;
}
}),new objj_method(sel_getUid("setPageScroll:"),function(_70,_71,_72){
with(_70){
objj_msgSend(_70,"setHorizontalPageScroll:",_72);
objj_msgSend(_70,"setVerticalPageScroll:",_72);
}
}),new objj_method(sel_getUid("pageScroll"),function(_73,_74){
with(_73){
return objj_msgSend(_73,"horizontalPageScroll");
}
}),new objj_method(sel_getUid("setHorizontalPageScroll:"),function(_75,_76,_77){
with(_75){
_horizontalPageScroll=_77;
}
}),new objj_method(sel_getUid("horizontalPageScroll"),function(_78,_79){
with(_78){
return _horizontalPageScroll;
}
}),new objj_method(sel_getUid("setVerticalPageScroll:"),function(_7a,_7b,_7c){
with(_7a){
_verticalPageScroll=_7c;
}
}),new objj_method(sel_getUid("verticalPageScroll"),function(_7d,_7e){
with(_7d){
return _verticalPageScroll;
}
}),new objj_method(sel_getUid("scrollWheel:"),function(_7f,_80,_81){
with(_7f){
var _82=objj_msgSend(objj_msgSend(_7f,"documentView"),"frame"),_83=objj_msgSend(_contentView,"bounds");
_83.origin.x=ROUND(_83.origin.x+objj_msgSend(_81,"deltaX")*_horizontalLineScroll);
_83.origin.y=ROUND(_83.origin.y+objj_msgSend(_81,"deltaY")*_verticalLineScroll);
objj_msgSend(_contentView,"scrollToPoint:",_83.origin);
objj_msgSend(_headerClipView,"scrollToPoint:",CGPointMake(_83.origin.x,0));
}
}),new objj_method(sel_getUid("keyDown:"),function(_84,_85,_86){
with(_84){
var _87=objj_msgSend(_86,"keyCode"),_88=objj_msgSend(objj_msgSend(_84,"documentView"),"frame"),_89=objj_msgSend(_contentView,"bounds");
switch(_87){
case 33:
_89.origin.y-=(_89.size.height)-_verticalPageScroll;
break;
case 34:
_89.origin.y+=(_89.size.height)-_verticalPageScroll;
break;
case 38:
_89.origin.y-=_verticalLineScroll;
break;
case 40:
_89.origin.y+=_verticalLineScroll;
break;
case 37:
_89.origin.x-=_horizontalLineScroll;
break;
case 49:
_89.origin.x+=_horizontalLineScroll;
break;
default:
return objj_msgSendSuper({receiver:_84,super_class:objj_getClass("CPView")},"keyDown:",_86);
}
objj_msgSend(_contentView,"scrollToPoint:",_89.origin);
objj_msgSend(_headerClipView,"scrollToPoint:",CGPointMake(_89.origin,0));
}
})]);
var _8a="CPScrollViewContentView",_8b="CPScrollViewHeaderClipViewKey",_8c="CPScrollViewVLineScroll",_8d="CPScrollViewHLineScroll",_8e="CPScrollViewVPageScroll",_8f="CPScrollViewHPageScroll",_90="CPScrollViewHasVScroller",_91="CPScrollViewHasHScroller",_92="CPScrollViewVScroller",_93="CPScrollViewHScroller",_94="CPScrollViewAutohidesScroller";
var _1=objj_getClass("CPScrollView");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPScrollView\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_95,_96,_97){
with(_95){
if(_95=objj_msgSendSuper({receiver:_95,super_class:objj_getClass("CPView")},"initWithCoder:",_97)){
_verticalLineScroll=objj_msgSend(_97,"decodeFloatForKey:",_8c);
_verticalPageScroll=objj_msgSend(_97,"decodeFloatForKey:",_8e);
_horizontalLineScroll=objj_msgSend(_97,"decodeFloatForKey:",_8d);
_horizontalPageScroll=objj_msgSend(_97,"decodeFloatForKey:",_8f);
_contentView=objj_msgSend(_97,"decodeObjectForKey:",_8a);
_headerClipView=objj_msgSend(_97,"decodeObjectForKey:",_8b);
_verticalScroller=objj_msgSend(_97,"decodeObjectForKey:",_92);
_horizontalScroller=objj_msgSend(_97,"decodeObjectForKey:",_93);
_hasVerticalScroller=objj_msgSend(_97,"decodeBoolForKey:",_90);
_hasHorizontalScroller=objj_msgSend(_97,"decodeBoolForKey:",_91);
_autohidesScrollers=objj_msgSend(_97,"decodeBoolForKey:",_94);
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("reflectScrolledClipView:"),_95,_contentView,0,[CPDefaultRunLoopMode]);
}
return _95;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_98,_99,_9a){
with(_98){
objj_msgSendSuper({receiver:_98,super_class:objj_getClass("CPView")},"encodeWithCoder:",_9a);
objj_msgSend(_9a,"encodeObject:forKey:",_contentView,_8a);
objj_msgSend(_9a,"encodeObject:forKey:",_headerClipView,_8b);
objj_msgSend(_9a,"encodeObject:forKey:",_verticalScroller,_92);
objj_msgSend(_9a,"encodeObject:forKey:",_horizontalScroller,_93);
objj_msgSend(_9a,"encodeFloat:forKey:",_verticalLineScroll,_8c);
objj_msgSend(_9a,"encodeFloat:forKey:",_verticalPageScroll,_8e);
objj_msgSend(_9a,"encodeFloat:forKey:",_horizontalLineScroll,_8d);
objj_msgSend(_9a,"encodeFloat:forKey:",_horizontalPageScroll,_8f);
objj_msgSend(_9a,"encodeBool:forKey:",_hasVerticalScroller,_90);
objj_msgSend(_9a,"encodeBool:forKey:",_hasHorizontalScroller,_91);
objj_msgSend(_9a,"encodeBool:forKey:",_autohidesScrollers,_94);
}
})]);
p;15;CPSearchField.ji;13;CPTextField.jc;19428;
CPSearchFieldRecentsTitleMenuItemTag=1000;
CPSearchFieldRecentsMenuItemTag=1001;
CPSearchFieldClearRecentsMenuItemTag=1002;
CPSearchFieldNoRecentsMenuItemTag=1003;
var _1=nil,_2=nil,_3=nil,_4=nil;
var _5=objj_allocateClassPair(CPTextField,"CPSearchField"),_6=_5.isa;
class_addIvars(_5,[new objj_ivar("_searchButton"),new objj_ivar("_cancelButton"),new objj_ivar("_searchMenuTemplate"),new objj_ivar("_searchMenu"),new objj_ivar("_recentsAutosaveName"),new objj_ivar("_recentSearches"),new objj_ivar("_maximumRecents"),new objj_ivar("_sendsWholeSearchString"),new objj_ivar("_sendsSearchStringImmediately"),new objj_ivar("_partialStringTimer")]);
objj_registerClassPair(_5);
objj_addClassForBundle(_5,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_5,[new objj_method(sel_getUid("initWithFrame:"),function(_7,_8,_9){
with(_7){
_7=objj_msgSendSuper({receiver:_7,super_class:objj_getClass("CPTextField")},"initWithFrame:",_9);
if(_7!=nil){
_recentSearches=objj_msgSend(CPArray,"array");
_maximumRecents=10;
_sendsWholeSearchString=NO;
_sendsSearchStringImmediately=NO;
_recentsAutosaveName=nil;
objj_msgSend(_7,"setBezeled:",YES);
objj_msgSend(_7,"setBezelStyle:",CPTextFieldRoundedBezel);
objj_msgSend(_7,"setBordered:",YES);
objj_msgSend(_7,"setEditable:",YES);
objj_msgSend(_7,"setDelegate:",_7);
_cancelButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CPMakeRect(_9.size.width-27,(_9.size.height-22)/2,22,22));
objj_msgSend(_7,"resetCancelButton");
objj_msgSend(_cancelButton,"setHidden:",YES);
objj_msgSend(_cancelButton,"setAutoresizingMask:",CPViewMinXMargin);
objj_msgSend(_7,"addSubview:",_cancelButton);
_searchButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CPMakeRect(5,(_9.size.height-25)/2,25,25));
objj_msgSend(_7,"resetSearchButton");
objj_msgSend(_7,"addSubview:",_searchButton);
_cancelButton._DOMElement.style.cursor="default";
_searchButton._DOMElement.style.cursor="default";
}
return _7;
}
}),new objj_method(sel_getUid("copy"),function(_a,_b){
with(_a){
var _c=objj_msgSendSuper({receiver:_a,super_class:objj_getClass("CPTextField")},"copy");
objj_msgSend(_c,"setCancelButton:",objj_msgSend(_cancelButton,"copy"));
objj_msgSend(_c,"setSearchButton:",objj_msgSend(_searchButton,"copy"));
objj_msgSend(_c,"setSendsWholeSearchString:",objj_msgSend(_sendsWholeSearchString,"copy"));
objj_msgSend(_c,"setSendsSearchStringImmediately:",objj_msgSend(_sendsSearchStringImmediately,"copy"));
objj_msgSend(_c,"setMaximumRecents:",_maximumRecents);
if(_recentsAutosaveName){
objj_msgSend(_c,"setrecentsAutosaveName:",objj_msgSend(_recentsAutosaveName,"copy"));
}
if(_searchMenuTemplate){
objj_msgSend(_c,"setSearchMenutemplate:",objj_msgSend(_searchMenuTemplate,"copy"));
}
return _c;
}
}),new objj_method(sel_getUid("setSearchButton:"),function(_d,_e,_f){
with(_d){
_searchButton=_f;
}
}),new objj_method(sel_getUid("searchButton"),function(_10,_11){
with(_10){
return _searchButton;
}
}),new objj_method(sel_getUid("resetSearchButton"),function(_12,_13){
with(_12){
var _14,_15,_16,_17=objj_msgSend(_12,"searchButton");
if(_searchMenuTemplate===nil){
_14=_1;
_15=sel_getUid("_sendAction:");
_16=_12;
}else{
_14=_2;
_15=sel_getUid("_showMenu:");
_16=_12;
}
objj_msgSend(_17,"setBordered:",NO);
objj_msgSend(_17,"setImageScaling:",CPScaleToFit);
objj_msgSend(_17,"setImage:",_14);
objj_msgSend(_17,"setAutoresizingMask:",CPViewMaxXMargin);
objj_msgSend(_17,"setTarget:",_16);
objj_msgSend(_17,"setAction:",_15);
}
}),new objj_method(sel_getUid("setCancelButton:"),function(_18,_19,_1a){
with(_18){
_cancelButton=_1a;
}
}),new objj_method(sel_getUid("cancelButton"),function(_1b,_1c){
with(_1b){
return _cancelButton;
}
}),new objj_method(sel_getUid("resetCancelButton"),function(_1d,_1e){
with(_1d){
var _1f=objj_msgSend(_1d,"cancelButton");
objj_msgSend(_1f,"setBordered:",NO);
objj_msgSend(_1f,"setImageScaling:",CPScaleToFit);
objj_msgSend(_1f,"setImage:",_3);
objj_msgSend(_1f,"setAlternateImage:",_4);
objj_msgSend(_1f,"setAutoresizingMask:",CPViewMinXMargin);
objj_msgSend(_1f,"setTarget:",_1d);
objj_msgSend(_1f,"setAction:",sel_getUid("_searchFieldCancel:"));
}
}),new objj_method(sel_getUid("searchTextRectForBounds:"),function(_20,_21,_22){
with(_20){
var _23=0,_24=_22.size.width;
if(_searchButton){
var _25=objj_msgSend(_searchButton,"frame");
_23=_25.origin.x+_25.size.width;
}
if(_cancelButton){
var _26=objj_msgSend(_cancelButton,"frame");
_24=_26.origin.x-_23;
}
return CPMakeRect(_23,_22.origin.y,_24,_22.size.height);
}
}),new objj_method(sel_getUid("searchButtonRectForBounds:"),function(_27,_28,_29){
with(_27){
return objj_msgSend(_searchButton,"frame");
}
}),new objj_method(sel_getUid("cancelButtonRectForBounds:"),function(_2a,_2b,_2c){
with(_2a){
return objj_msgSend(_cancelButton,"frame");
}
}),new objj_method(sel_getUid("searchMenuTemplate"),function(_2d,_2e){
with(_2d){
return _searchMenuTemplate;
}
}),new objj_method(sel_getUid("setSearchMenuTemplate:"),function(_2f,_30,_31){
with(_2f){
_searchMenuTemplate=_31;
objj_msgSend(_2f,"resetSearchButton");
objj_msgSend(_2f,"_loadRecentSearchList");
objj_msgSend(_2f,"_updateSearchMenu");
}
}),new objj_method(sel_getUid("sendsWholeSearchString"),function(_32,_33){
with(_32){
return _sendsWholeSearchString;
}
}),new objj_method(sel_getUid("setSendsWholeSearchString:"),function(_34,_35,_36){
with(_34){
_sendsWholeSearchString=_36;
}
}),new objj_method(sel_getUid("sendsSearchStringImmediately"),function(_37,_38){
with(_37){
return _sendsSearchStringImmediately;
}
}),new objj_method(sel_getUid("setSendsSearchStringImmediately:"),function(_39,_3a,_3b){
with(_39){
_sendsSearchStringImmediately=_3b;
}
}),new objj_method(sel_getUid("maximumRecents"),function(_3c,_3d){
with(_3c){
return _maximumRecents;
}
}),new objj_method(sel_getUid("setMaximumRecents:"),function(_3e,_3f,max){
with(_3e){
if(max>254){
max=254;
}else{
if(max<0){
max=10;
}
}
_maximumRecents=max;
}
}),new objj_method(sel_getUid("recentSearches"),function(_40,_41){
with(_40){
return _recentSearches;
}
}),new objj_method(sel_getUid("setRecentSearches:"),function(_42,_43,_44){
with(_42){
var max=MIN(objj_msgSend(_42,"maximumRecents"),objj_msgSend(_44,"count")),_44=objj_msgSend(_44,"subarrayWithRange:",CPMakeRange(0,max));
_recentSearches=_44;
objj_msgSend(_42,"_autosaveRecentSearchList");
}
}),new objj_method(sel_getUid("recentsAutosaveName"),function(_45,_46){
with(_45){
return _recentsAutosaveName;
}
}),new objj_method(sel_getUid("setRecentsAutosaveName:"),function(_47,_48,_49){
with(_47){
if(_recentsAutosaveName!=nil){
objj_msgSend(_47,"_deregisterForAutosaveNotification");
}
_recentsAutosaveName=_49;
if(_recentsAutosaveName!=nil){
objj_msgSend(_47,"_registerForAutosaveNotification");
}
}
}),new objj_method(sel_getUid("contentRectForBounds:"),function(_4a,_4b,_4c){
with(_4a){
var _4d=objj_msgSendSuper({receiver:_4a,super_class:objj_getClass("CPTextField")},"contentRectForBounds:",_4c);
return objj_msgSend(_4a,"searchTextRectForBounds:",_4d);
}
}),new objj_method(sel_getUid("menu"),function(_4e,_4f){
with(_4e){
return _searchMenu;
}
}),new objj_method(sel_getUid("isOpaque"),function(_50,_51){
with(_50){
return objj_msgSendSuper({receiver:_50,super_class:objj_getClass("CPTextField")},"isOpaque")&&objj_msgSend(_cancelButton,"isOpaque")&&objj_msgSend(_searchButton,"isOpaque");
}
}),new objj_method(sel_getUid("_updateCancelButtonVisibility"),function(_52,_53){
with(_52){
objj_msgSend(_cancelButton,"setHidden:",(objj_msgSend(objj_msgSend(_52,"stringValue"),"length")===0));
}
}),new objj_method(sel_getUid("controlTextDidChange:"),function(_54,_55,_56){
with(_54){
if(!objj_msgSend(_54,"sendsWholeSearchString")){
if(objj_msgSend(_54,"sendsSearchStringImmediately")){
objj_msgSend(_54,"_sendPartialString");
}else{
objj_msgSend(_partialStringTimer,"invalidate");
var _57=objj_msgSend(CPSearchField,"_keyboardDelayForPartialSearchString:",objj_msgSend(_54,"stringValue"));
_partialStringTimer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",_57,_54,sel_getUid("_sendPartialString"),nil,NO);
}
}
objj_msgSend(_54,"_updateCancelButtonVisibility");
}
}),new objj_method(sel_getUid("_sendAction:"),function(_58,_59,_5a){
with(_58){
objj_msgSend(_58,"sendAction:to:",objj_msgSend(_58,"action"),objj_msgSend(_58,"target"));
}
}),new objj_method(sel_getUid("sendAction:to:"),function(_5b,_5c,_5d,_5e){
with(_5b){
objj_msgSendSuper({receiver:_5b,super_class:objj_getClass("CPTextField")},"sendAction:to:",_5d,_5e);
objj_msgSend(_partialStringTimer,"invalidate");
objj_msgSend(_5b,"_addStringToRecentSearches:",objj_msgSend(_5b,"stringValue"));
objj_msgSend(_5b,"_updateCancelButtonVisibility");
}
}),new objj_method(sel_getUid("_addStringToRecentSearches:"),function(_5f,_60,_61){
with(_5f){
if(_61===nil||_61===""||objj_msgSend(_recentSearches,"containsObject:",_61)){
return;
}
var _62=objj_msgSend(CPMutableArray,"arrayWithArray:",_recentSearches);
objj_msgSend(_62,"addObject:",_61);
objj_msgSend(_5f,"setRecentSearches:",_62);
objj_msgSend(_5f,"_updateSearchMenu");
}
}),new objj_method(sel_getUid("trackMouse:"),function(_63,_64,_65){
with(_63){
var _66,_67,_68=objj_msgSend(_65,"locationInWindow");
_67=objj_msgSend(_63,"convertPoint:fromView:",_68,nil);
_66=objj_msgSend(_63,"searchButtonRectForBounds:",objj_msgSend(_63,"frame"));
if(CPRectContainsPoint(_66,_67)){
return objj_msgSend(objj_msgSend(_63,"searchButton"),"trackMouse:",_65);
}
_66=objj_msgSend(_63,"cancelButtonRectForBounds:",objj_msgSend(_63,"frame"));
if(CPRectContainsPoint(_66,_67)){
return objj_msgSend(objj_msgSend(_63,"cancelButton"),"trackMouse:",_65);
}
return objj_msgSendSuper({receiver:_63,super_class:objj_getClass("CPTextField")},"trackMouse:",_65);
}
}),new objj_method(sel_getUid("_defaultSearchMenuTemplate"),function(_69,_6a){
with(_69){
var _6b,_6c;
_6b=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"init");
_6c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Recent searches",NULL,"");
objj_msgSend(_6c,"setTag:",CPSearchFieldRecentsTitleMenuItemTag);
objj_msgSend(_6c,"setEnabled:",NO);
objj_msgSend(_6b,"addItem:",_6c);
_6c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Recent search item",sel_getUid("_searchFieldSearch:"),"");
objj_msgSend(_6c,"setTag:",CPSearchFieldRecentsMenuItemTag);
objj_msgSend(_6c,"setTarget:",_69);
objj_msgSend(_6b,"addItem:",_6c);
_6c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Clear recent searches",sel_getUid("_searchFieldClearRecents:"),"");
objj_msgSend(_6c,"setTag:",CPSearchFieldClearRecentsMenuItemTag);
objj_msgSend(_6c,"setTarget:",_69);
objj_msgSend(_6b,"addItem:",_6c);
_6c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","No recent searches",NULL,"");
objj_msgSend(_6c,"setTag:",CPSearchFieldNoRecentsMenuItemTag);
objj_msgSend(_6c,"setEnabled:",NO);
objj_msgSend(_6b,"addItem:",_6c);
return _6b;
}
}),new objj_method(sel_getUid("_updateSearchMenu"),function(_6d,_6e){
with(_6d){
if(_searchMenuTemplate===nil){
return;
}
var i,_6f=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"init"),_70=objj_msgSend(_recentSearches,"count"),_71=objj_msgSend(_searchMenuTemplate,"numberOfItems");
for(i=0;i<_71;i++){
var _72=objj_msgSend(_searchMenuTemplate,"itemAtIndex:",i),tag=objj_msgSend(_72,"tag");
if(!(tag===CPSearchFieldRecentsTitleMenuItemTag&&_70===0)&&!(tag===CPSearchFieldClearRecentsMenuItemTag&&_70===0)&&!(tag===CPSearchFieldNoRecentsMenuItemTag&&_70!=0)&&!(tag===CPSearchFieldRecentsMenuItemTag)){
var _73,_74;
switch(tag){
case CPSearchFieldRecentsTitleMenuItemTag:
_73=NULL;
_74=NULL;
break;
case CPSearchFieldClearRecentsMenuItemTag:
_73=sel_getUid("_searchFieldClearRecents:");
_74=_6d;
break;
case CPSearchFieldNoRecentsMenuItemTag:
_73=NULL;
_74=NULL;
break;
default:
_73=objj_msgSend(_72,"action");
_74=objj_msgSend(_72,"target");
break;
}
if(tag===CPSearchFieldClearRecentsMenuItemTag||tag===CPSearchFieldRecentsTitleMenuItemTag){
var _75=objj_msgSend(CPMenuItem,"separatorItem");
objj_msgSend(_75,"setEnabled:",NO);
objj_msgSend(_6f,"addItem:",_75);
}
var _76=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(_72,"title"),_73,objj_msgSend(_72,"keyEquivalent"));
objj_msgSend(_76,"setTarget:",_74);
objj_msgSend(_76,"setEnabled:",(objj_msgSend(_72,"isEnabled")&&_73!=NULL));
objj_msgSend(_76,"setTag:",tag);
objj_msgSend(_6f,"addItem:",_76);
}else{
if(tag===CPSearchFieldRecentsMenuItemTag){
var j;
for(j=0;j<_70;j++){
var _77=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(_recentSearches,"objectAtIndex:",j),sel_getUid("_searchFieldSearch:"),objj_msgSend(_72,"keyEquivalent"));
objj_msgSend(_77,"setTarget:",_6d);
objj_msgSend(_6f,"addItem:",_77);
}
}
}
}
_searchMenu=_6f;
}
}),new objj_method(sel_getUid("_showMenu:"),function(_78,_79,_7a){
with(_78){
if(_searchMenu===nil||objj_msgSend(_searchMenu,"numberOfItems")===0||!objj_msgSend(_78,"isEnabled")){
return;
}
var _7b=objj_msgSend(objj_msgSend(_78,"superview"),"convertRect:toView:",objj_msgSend(_78,"frame"),nil),_7c=CPMakePoint(_7b.origin.x+10,_7b.origin.y+_7b.size.height-4);
var _7d=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPRightMouseDown,_7c,0,objj_msgSend(objj_msgSend(CPApp,"currentEvent"),"timestamp"),objj_msgSend(objj_msgSend(_78,"window"),"windowNumber"),nil,1,1,0);
objj_msgSend(CPMenu,"popUpContextMenu:withEvent:forView:",_searchMenu,_7d,_7a);
}
}),new objj_method(sel_getUid("_sendPartialString"),function(_7e,_7f){
with(_7e){
objj_msgSend(objj_msgSend(_7e,"target"),"performSelector:withObject:",objj_msgSend(_7e,"action"),_7e);
}
}),new objj_method(sel_getUid("_searchFieldCancel:"),function(_80,_81,_82){
with(_80){
objj_msgSend(_80,"setObjectValue:","");
objj_msgSend(_80,"_sendPartialString");
objj_msgSend(_80,"_updateCancelButtonVisibility");
}
}),new objj_method(sel_getUid("_searchFieldSearch:"),function(_83,_84,_85){
with(_83){
var _86=objj_msgSend(_85,"title");
if(objj_msgSend(_85,"tag")!=CPSearchFieldRecentsMenuItemTag){
objj_msgSend(_83,"_addStringToRecentSearches:",_86);
}
objj_msgSend(_83,"setObjectValue:",_86);
objj_msgSend(_83,"_sendPartialString");
objj_msgSend(_83,"_updateCancelButtonVisibility");
}
}),new objj_method(sel_getUid("_searchFieldClearRecents:"),function(_87,_88,_89){
with(_87){
objj_msgSend(_87,"setRecentSearches:",objj_msgSend(CPArray,"array"));
objj_msgSend(_87,"_updateSearchMenu");
}
}),new objj_method(sel_getUid("_registerForAutosaveNotification"),function(_8a,_8b){
with(_8a){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_8a,sel_getUid("_updateAutosavedRecents:"),"CPAutosavedRecentsChangedNotification",nil);
}
}),new objj_method(sel_getUid("_deregisterForAutosaveNotification"),function(_8c,_8d){
with(_8c){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_8c,"CPAutosavedRecentsChangedNotification",nil);
}
}),new objj_method(sel_getUid("_autosaveRecentSearchList"),function(_8e,_8f){
with(_8e){
if(_recentsAutosaveName!=nil){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:","CPAutosavedRecentsChangedNotification",_recentsAutosaveName);
}
}
}),new objj_method(sel_getUid("_updateAutosavedRecents:"),function(_90,_91,_92){
with(_90){
var _93=objj_msgSend(_90,"recentSearches"),_94=objj_msgSend(_92,"object"),_95=objj_msgSend(objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),"objectForKey:","CPBundleName"),_96=objj_msgSend(_95,"lowercaseString")+"."+objj_msgSend(_92,"object"),_97=objj_msgSend(objj_msgSend(CPCookie,"alloc"),"initWithName:",_96),_98=objj_msgSend(_93,"componentsJoinedByString:",",");
objj_msgSend(_97,"setValue:expires:domain:",_98,objj_msgSend(objj_msgSend(CPDate,"alloc"),"initWithTimeIntervalSinceNow:",3600*24*365),(window.location.href.hostname));
}
}),new objj_method(sel_getUid("_loadRecentSearchList"),function(_99,_9a){
with(_99){
var _9b,_9c=objj_msgSend(_99,"recentsAutosaveName");
if(_9c===nil){
return;
}
var _9d=objj_msgSend(objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),"objectForKey:","CPBundleName"),_9e=objj_msgSend(_9d,"lowercaseString")+"."+_9c,_9f=objj_msgSend(objj_msgSend(CPCookie,"alloc"),"initWithName:",_9e);
if(_9f!=nil){
var _a0=objj_msgSend(_9f,"value");
_9b=(_a0!="")?objj_msgSend(_a0,"componentsSeparatedByString:",","):objj_msgSend(CPArray,"array");
_recentSearches=_9b;
}
}
})]);
class_addMethods(_6,[new objj_method(sel_getUid("initialize"),function(_a1,_a2){
with(_a1){
if(_a1!=objj_msgSend(CPSearchField,"class")){
return;
}
var _a3=objj_msgSend(CPBundle,"bundleForClass:",_a1);
_1=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(_a3,"pathForResource:","CPSearchField/CPSearchFieldSearch.png"));
_2=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(_a3,"pathForResource:","CPSearchField/CPSearchFieldFind.png"));
_3=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(_a3,"pathForResource:","CPSearchField/CPSearchFieldCancel.png"));
_4=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(_a3,"pathForResource:","CPSearchField/CPSearchFieldCancelPressed.png"));
}
}),new objj_method(sel_getUid("_keyboardDelayForPartialSearchString:"),function(_a4,_a5,_a6){
with(_a4){
return (6-MIN(objj_msgSend(_a6,"length"),4))/10;
}
})]);
var _a7="CPSearchButtonKey",_a8="CPCancelButtonKey",_a9="CPRecentsAutosaveNameKey",_aa="CPSendsWholeSearchStringKey",_ab="CPSendsSearchStringImmediatelyKey",_ac="CPMaximumRecentsKey",_ad="CPSearchMenuTemplateKey";
var _5=objj_getClass("CPSearchField");
if(!_5){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPSearchField\""));
}
var _6=_5.isa;
class_addMethods(_5,[new objj_method(sel_getUid("encodeWithCoder:"),function(_ae,_af,_b0){
with(_ae){
objj_msgSendSuper({receiver:_ae,super_class:objj_getClass("CPTextField")},"encodeWithCoder:",_b0);
objj_msgSend(_b0,"encodeObject:forKey:",_searchButton,_a7);
objj_msgSend(_b0,"encodeObject:forKey:",_cancelButton,_a8);
objj_msgSend(_b0,"encodeBool:forKey:",_sendsWholeSearchString,_aa);
objj_msgSend(_b0,"encodeBool:forKey:",_sendsSearchStringImmediately,_ab);
objj_msgSend(_b0,"encodeInt:forKey:",_maximumRecents,_ac);
if(_recentsAutosaveName){
objj_msgSend(_b0,"encodeObject:forKey:",_recentsAutosaveName,_a9);
}
if(_searchMenuTemplate){
objj_msgSend(_b0,"encodeObject:forKey:",_searchMenuTemplate,_ad);
}
}
}),new objj_method(sel_getUid("initWithCoder:"),function(_b1,_b2,_b3){
with(_b1){
_b1=objj_msgSendSuper({receiver:_b1,super_class:objj_getClass("CPTextField")},"initWithCoder:",_b3);
_searchButton=objj_msgSend(_b3,"decodeObjectForKey:",_a7);
_cancelButton=objj_msgSend(_b3,"decodeObjectForKey:",_a8);
_recentsAutosaveName=objj_msgSend(_b3,"decodeObjectForKey:",_a9);
_sendsWholeSearchString=objj_msgSend(_b3,"decodeBoolForKey:",_aa);
_sendsSearchStringImmediately=objj_msgSend(_b3,"decodeBoolForKey:",_ab);
_maximumRecents=objj_msgSend(_b3,"decodeIntForKey:",_ac);
var _b4=objj_msgSend(_b3,"decodeObjectForKey:",_ad);
if(_b4){
objj_msgSend(_b1,"setSearchMenuTemplate:",_b4);
}
objj_msgSend(_b1,"setDelegate:",_b1);
return _b1;
}
})]);
p;19;CPSecureTextField.ji;13;CPTextField.jc;287;
var _1=objj_allocateClassPair(CPTextField,"CPSecureTextField"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("isSecure"),function(_3,_4){
with(_3){
return YES;
}
})]);
p;20;CPSegmentedControl.jI;20;Foundation/CPArray.ji;11;CPControl.jc;20550;
CPSegmentSwitchTrackingSelectOne=0;
CPSegmentSwitchTrackingSelectAny=1;
CPSegmentSwitchTrackingMomentary=2;
var _1=objj_allocateClassPair(CPControl,"CPSegmentedControl"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_segments"),new objj_ivar("_themeStates"),new objj_ivar("_selectedSegment"),new objj_ivar("_segmentStyle"),new objj_ivar("_trackingMode"),new objj_ivar("_trackingSegment"),new objj_ivar("_trackingHighlighted")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_segments=[];
_themeStates=[];
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPControl")},"initWithFrame:",_5);
if(_3){
_selectedSegment=-1;
_trackingMode=CPSegmentSwitchTrackingSelectOne;
}
return _3;
}
}),new objj_method(sel_getUid("selectedTag"),function(_6,_7){
with(_6){
return _segments[_selectedSegment].tag;
}
}),new objj_method(sel_getUid("setSegmentCount:"),function(_8,_9,_a){
with(_8){
if(_segments.length==_a){
return;
}
var _b=CGRectGetHeight(objj_msgSend(_8,"bounds"));
if(_segments.length<_a){
for(var _c=_segments.length;_c<_a;++_c){
_segments[_c]=objj_msgSend(objj_msgSend(_CPSegmentItem,"alloc"),"init");
_themeStates[_c]=CPThemeStateNormal;
}
}else{
if(_a<_segments.length){
_segments.length=_a;
_themeStates.length=_a;
}
}
if(_selectedSegment>=_segments.length){
_selectedSegment=-1;
}
objj_msgSend(_8,"tileWithChangedSegment:",0);
}
}),new objj_method(sel_getUid("segmentCount"),function(_d,_e){
with(_d){
return _segments.length;
}
}),new objj_method(sel_getUid("setSelectedSegment:"),function(_f,_10,_11){
with(_f){
objj_msgSend(_f,"setSelected:forSegment:",YES,_11);
}
}),new objj_method(sel_getUid("selectedSegment"),function(_12,_13){
with(_12){
return _selectedSegment;
}
}),new objj_method(sel_getUid("selectSegmentWithTag:"),function(_14,_15,_16){
with(_14){
var _17=0;
for(;_17<_segments.length;++_17){
if(_segments[_17].tag==_16){
objj_msgSend(_14,"setSelectedSegment:",_17);
return YES;
}
}
return NO;
}
}),new objj_method(sel_getUid("isTracking"),function(_18,_19){
with(_18){
}
}),new objj_method(sel_getUid("setTrackingMode:"),function(_1a,_1b,_1c){
with(_1a){
if(_trackingMode==_1c){
return;
}
_trackingMode=_1c;
if(_trackingMode==CPSegmentSwitchTrackingSelectOne){
var _1d=0,_1e=NO;
for(;_1d<_segments.length;++_1d){
if(_segments[_1d].selected){
if(_1e){
objj_msgSend(_1a,"setSelected:forSegment:",NO,_1d);
}else{
_1e=YES;
}
}
}
}else{
if(_trackingMode==CPSegmentSwitchTrackingMomentary){
var _1d=0;
for(;_1d<_segments.length;++_1d){
if(_segments[_1d].selected){
objj_msgSend(_1a,"setSelected:forSegment:",NO,_1d);
}
}
}
}
}
}),new objj_method(sel_getUid("trackingMode"),function(_1f,_20){
with(_1f){
return _trackingMode;
}
}),new objj_method(sel_getUid("setWidth:forSegment:"),function(_21,_22,_23,_24){
with(_21){
_segments[_24].width=_23;
objj_msgSend(_21,"tileWithChangedSegment:",_24);
}
}),new objj_method(sel_getUid("widthForSegment:"),function(_25,_26,_27){
with(_25){
return _segments[_27].width;
}
}),new objj_method(sel_getUid("setImage:forSegment:"),function(_28,_29,_2a,_2b){
with(_28){
var _2c=_segments[_2b];
_2c.image=_2a;
objj_msgSend(_28,"tileWithChangedSegment:",_2b);
}
}),new objj_method(sel_getUid("imageForSegment:"),function(_2d,_2e,_2f){
with(_2d){
return _segments[_2f].image;
}
}),new objj_method(sel_getUid("setLabel:forSegment:"),function(_30,_31,_32,_33){
with(_30){
var _34=_segments[_33];
_segments[_33].label=_32;
objj_msgSend(_30,"tileWithChangedSegment:",_33);
}
}),new objj_method(sel_getUid("labelForSegment:"),function(_35,_36,_37){
with(_35){
return _segments[_37].label;
}
}),new objj_method(sel_getUid("setMenu:forSegment:"),function(_38,_39,_3a,_3b){
with(_38){
_segments[_3b].menu=_3a;
}
}),new objj_method(sel_getUid("menuForSegment:"),function(_3c,_3d,_3e){
with(_3c){
return _segments[_3e].menu;
}
}),new objj_method(sel_getUid("setSelected:forSegment:"),function(_3f,_40,_41,_42){
with(_3f){
var _43=_segments[_42];
if(_43.selected==_41){
return;
}
_43.selected=_41;
_themeStates[_42]=_41?CPThemeStateSelected:CPThemeStateNormal;
if(_41){
var _44=_selectedSegment;
_selectedSegment=_42;
if(_trackingMode==CPSegmentSwitchTrackingSelectOne&&_44!=_42&&_44!=-1){
_segments[_44].selected=NO;
_themeStates[_44]=CPThemeStateNormal;
objj_msgSend(_3f,"drawSegmentBezel:highlight:",_44,NO);
}
}
if(_trackingMode!=CPSegmentSwitchTrackingMomentary){
objj_msgSend(_3f,"drawSegmentBezel:highlight:",_42,NO);
}
objj_msgSend(_3f,"setNeedsLayout");
objj_msgSend(_3f,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("isSelectedForSegment:"),function(_45,_46,_47){
with(_45){
return _segments[_47].selected;
}
}),new objj_method(sel_getUid("setEnabled:forSegment:"),function(_48,_49,_4a,_4b){
with(_48){
_segments[_4b].enabled=_4a;
objj_msgSend(_48,"setNeedsLayout");
objj_msgSend(_48,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("isEnabledForSegment:"),function(_4c,_4d,_4e){
with(_4c){
return _segments[_4e].enabled;
}
}),new objj_method(sel_getUid("setTag:forSegment:"),function(_4f,_50,_51,_52){
with(_4f){
_segments[_52].tag=_51;
}
}),new objj_method(sel_getUid("tagForSegment:"),function(_53,_54,_55){
with(_53){
return _segments[_55].tag;
}
}),new objj_method(sel_getUid("drawSegmentBezel:highlight:"),function(_56,_57,_58,_59){
with(_56){
if(_59){
_themeStates[_58]|=CPThemeStateHighlighted;
}else{
_themeStates[_58]&=~CPThemeStateHighlighted;
}
objj_msgSend(_56,"setNeedsLayout");
objj_msgSend(_56,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("_leftOffsetForSegment:"),function(_5a,_5b,_5c){
with(_5a){
var _5d=objj_msgSend(_5a,"currentValueForThemeAttribute:","bezel-inset");
if(_5c==0){
return _5d.left;
}
var _5e=objj_msgSend(_5a,"currentValueForThemeAttribute:","divider-thickness");
return objj_msgSend(_5a,"_leftOffsetForSegment:",_5c-1)+objj_msgSend(_5a,"widthForSegment:",_5c-1)+_5e;
}
}),new objj_method(sel_getUid("_indexOfLastSegment"),function(_5f,_60){
with(_5f){
var _61=objj_msgSend(_segments,"count")-1;
if(_61<0){
_61=0;
}
return _61;
}
}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(_62,_63,_64){
with(_62){
var _65=objj_msgSend(_62,"currentValueForThemeAttribute:","default-height"),_66=objj_msgSend(_62,"currentValueForThemeAttribute:","content-inset"),_67=objj_msgSend(_62,"currentValueForThemeAttribute:","bezel-inset"),_68=objj_msgSend(_62,"bounds");
if(_64==="left-segment-bezel"){
return CGRectMake(_67.left,_67.top,_66.left,_65);
}else{
if(_64==="right-segment-bezel"){
var _69=objj_msgSend(_62,"_leftOffsetForSegment:",objj_msgSend(_62,"_indexOfLastSegment"));
return CPRectMake(_69+objj_msgSend(_62,"widthForSegment:",objj_msgSend(_62,"_indexOfLastSegment"))-_66.right,_67.top,_66.right,_65);
}else{
if(_64.substring(0,"segment-bezel".length)=="segment-bezel"){
var _6a=parseInt(_64.substring("segment-bezel-".length),10),_6b=CGRectCreateCopy(_segments[_6a].frame);
if(_6a==0){
_6b.origin.x+=_66.left;
_6b.size.width-=_66.left;
}
if(_6a==_segments.length-1){
_6b.size.width-=_66.right;
}
return _6b;
}else{
if(_64.substring(0,"divider-bezel".length)=="divider-bezel"){
var _6a=parseInt(_64.substring("divider-bezel-".length),10),_6c=objj_msgSend(_62,"widthForSegment:",_6a),_6d=objj_msgSend(_62,"_leftOffsetForSegment:",_6a),_6e=objj_msgSend(_62,"currentValueForThemeAttribute:","divider-thickness");
return CGRectMake(_6d+_6c,_67.top,_6e,_65);
}else{
if(_64.substring(0,"segment-content".length)=="segment-content"){
var _6a=parseInt(_64.substring("segment-content-".length),10);
return objj_msgSend(_62,"contentFrameForSegment:",_6a);
}
}
}
}
}
return objj_msgSendSuper({receiver:_62,super_class:objj_getClass("CPControl")},"rectForEphemeralSubviewNamed:",_64);
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(_6f,_70,_71){
with(_6f){
if(_71.substring(0,"segment-content".length)=="segment-content"){
return objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
}
return objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_72,_73){
with(_72){
if(_segments.length<=0){
return;
}
var _74=objj_msgSend(_72,"valueForThemeAttribute:inState:","left-segment-bezel-color",_themeStates[0]);
var _75=objj_msgSend(_72,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","left-segment-bezel",CPWindowBelow,nil);
objj_msgSend(_75,"setBackgroundColor:",_74);
var _76=objj_msgSend(_72,"valueForThemeAttribute:inState:","right-segment-bezel-color",_themeStates[_themeStates.length-1]);
var _77=objj_msgSend(_72,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","right-segment-bezel",CPWindowBelow,nil);
objj_msgSend(_77,"setBackgroundColor:",_76);
for(var i=0,_78=_themeStates.length;i<_78;i++){
var _79=_themeStates[i];
_79|=_themeState&CPThemeStateDisabled;
var _7a=objj_msgSend(_72,"valueForThemeAttribute:inState:","center-segment-bezel-color",_79);
var _7b=objj_msgSend(_72,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","segment-bezel-"+i,CPWindowBelow,nil);
objj_msgSend(_7b,"setBackgroundColor:",_7a);
var _7c=_segments[i];
var _7d=objj_msgSend(_72,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","segment-content-"+i,CPWindowAbove,"segment-bezel-"+i);
objj_msgSend(_7d,"setText:",_7c.label);
objj_msgSend(_7d,"setImage:",_7c.image);
objj_msgSend(_7d,"setFont:",objj_msgSend(_72,"valueForThemeAttribute:inState:","font",_79));
objj_msgSend(_7d,"setTextColor:",objj_msgSend(_72,"valueForThemeAttribute:inState:","text-color",_79));
objj_msgSend(_7d,"setAlignment:",objj_msgSend(_72,"valueForThemeAttribute:inState:","alignment",_79));
objj_msgSend(_7d,"setVerticalAlignment:",objj_msgSend(_72,"valueForThemeAttribute:inState:","vertical-alignment",_79));
objj_msgSend(_7d,"setLineBreakMode:",objj_msgSend(_72,"valueForThemeAttribute:inState:","line-break-mode",_79));
objj_msgSend(_7d,"setTextShadowColor:",objj_msgSend(_72,"valueForThemeAttribute:inState:","text-shadow-color",_79));
objj_msgSend(_7d,"setTextShadowOffset:",objj_msgSend(_72,"valueForThemeAttribute:inState:","text-shadow-offset",_79));
objj_msgSend(_7d,"setImageScaling:",objj_msgSend(_72,"valueForThemeAttribute:inState:","image-scaling",_79));
if(_7c.image&&_7c.label){
objj_msgSend(_7d,"setImagePosition:",objj_msgSend(_72,"valueForThemeAttribute:inState:","image-position",_79));
}else{
if(_7c.image){
objj_msgSend(_7d,"setImagePosition:",CPImageOnly);
}
}
if(i==_78-1){
continue;
}
var _7e=_themeStates[i]|_themeStates[i+1];
_7e=(_7e&CPThemeStateSelected&~CPThemeStateHighlighted)?CPThemeStateSelected:CPThemeStateNormal;
_7e|=_themeState&CPThemeStateDisabled;
var _7f=objj_msgSend(_72,"valueForThemeAttribute:inState:","divider-bezel-color",_7e);
var _80=objj_msgSend(_72,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","divider-bezel-"+i,CPWindowBelow,nil);
objj_msgSend(_80,"setBackgroundColor:",_7f);
}
}
}),new objj_method(sel_getUid("drawSegment:highlight:"),function(_81,_82,_83,_84){
with(_81){
}
}),new objj_method(sel_getUid("tileWithChangedSegment:"),function(_85,_86,_87){
with(_85){
if(_87>=_segments.length){
return;
}
var _88=_segments[_87],_89=_88.width,_8a=_themeStates[_87]|(_themeState&CPThemeStateDisabled),_8b=objj_msgSend(_85,"valueForThemeAttribute:inState:","content-inset",_8a),_8c=objj_msgSend(_85,"valueForThemeAttribute:inState:","font",_8a);
if(!_89){
if(_88.image&&_88.label){
_89=objj_msgSend(_88.label,"sizeWithFont:",_8c).width+objj_msgSend(_88.image,"size").width+_8b.left+_8b.right;
}else{
if(_88.image){
_89=objj_msgSend(_88.image,"size").width+_8b.left+_8b.right;
}else{
if(_88.label){
_89=objj_msgSend(_88.label,"sizeWithFont:",_8c).width+_8b.left+_8b.right;
}else{
_89=0;
}
}
}
}
var _8d=_89-CGRectGetWidth(_88.frame);
if(!_8d){
return;
}
var _8e=objj_msgSend(_85,"frame");
objj_msgSend(_85,"setFrameSize:",CGSizeMake(CGRectGetWidth(_8e)+_8d,CGRectGetHeight(_8e)));
_88.width=_89;
_88.frame=objj_msgSend(_85,"frameForSegment:",_87);
var _8f=_87+1;
for(;_8f<_segments.length;++_8f){
_segments[_8f].frame.origin.x+=_8d;
objj_msgSend(_85,"drawSegmentBezel:highlight:",_8f,NO);
objj_msgSend(_85,"drawSegment:highlight:",_8f,NO);
}
objj_msgSend(_85,"drawSegmentBezel:highlight:",_87,NO);
objj_msgSend(_85,"drawSegment:highlight:",_87,NO);
objj_msgSend(_85,"setNeedsLayout");
objj_msgSend(_85,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("frameForSegment:"),function(_90,_91,_92){
with(_90){
return objj_msgSend(_90,"bezelFrameForSegment:",_92);
}
}),new objj_method(sel_getUid("bezelFrameForSegment:"),function(_93,_94,_95){
with(_93){
var _96=objj_msgSend(_93,"currentValueForThemeAttribute:","default-height"),_97=objj_msgSend(_93,"currentValueForThemeAttribute:","bezel-inset"),_98=objj_msgSend(_93,"widthForSegment:",_95),_99=objj_msgSend(_93,"_leftOffsetForSegment:",_95);
return CGRectMake(_99,_97.top,_98,_96);
}
}),new objj_method(sel_getUid("contentFrameForSegment:"),function(_9a,_9b,_9c){
with(_9a){
var _9d=objj_msgSend(_9a,"currentValueForThemeAttribute:","default-height"),_9e=objj_msgSend(_9a,"currentValueForThemeAttribute:","content-inset"),_9f=objj_msgSend(_9a,"widthForSegment:",_9c),_a0=objj_msgSend(_9a,"_leftOffsetForSegment:",_9c);
return CGRectMake(_a0+_9e.left,_9e.top,_9f-_9e.left-_9e.right,_9d-_9e.top-_9e.bottom);
}
}),new objj_method(sel_getUid("testSegment:"),function(_a1,_a2,_a3){
with(_a1){
var _a4=objj_msgSend(_a1,"convertPoint:fromView:",_a3,nil),_a5=_segments.length;
while(_a5--){
if(CGRectContainsPoint(_segments[_a5].frame,_a3)){
return _a5;
}
}
return -1;
}
}),new objj_method(sel_getUid("mouseDown:"),function(_a6,_a7,_a8){
with(_a6){
if(!objj_msgSend(_a6,"isEnabled")){
return;
}
objj_msgSend(_a6,"trackSegment:",_a8);
}
}),new objj_method(sel_getUid("mouseUp:"),function(_a9,_aa,_ab){
with(_a9){
}
}),new objj_method(sel_getUid("trackSegment:"),function(_ac,_ad,_ae){
with(_ac){
var _af=objj_msgSend(_ae,"type"),_b0=objj_msgSend(_ac,"convertPoint:fromView:",objj_msgSend(_ae,"locationInWindow"),nil);
if(_af==CPLeftMouseUp){
if(_trackingSegment==-1){
return;
}
if(CGRectContainsPoint(_segments[_trackingSegment].frame,_b0)){
if(_trackingMode==CPSegmentSwitchTrackingSelectAny){
objj_msgSend(_ac,"setSelected:forSegment:",!objj_msgSend(_ac,"isSelectedForSegment:",_trackingSegment),_trackingSegment);
_selectedSegment=_trackingSegment;
}else{
objj_msgSend(_ac,"setSelected:forSegment:",YES,_trackingSegment);
}
objj_msgSend(_ac,"sendAction:to:",objj_msgSend(_ac,"action"),objj_msgSend(_ac,"target"));
if(_trackingMode==CPSegmentSwitchTrackingMomentary){
objj_msgSend(_ac,"setSelected:forSegment:",NO,_trackingSegment);
_selectedSegment=-1;
}
}
objj_msgSend(_ac,"drawSegmentBezel:highlight:",_trackingSegment,NO);
_trackingSegment=-1;
return;
}
if(_af==CPLeftMouseDown){
_trackingHighlighted=YES;
_trackingSegment=objj_msgSend(_ac,"testSegment:",_b0);
objj_msgSend(_ac,"drawSegmentBezel:highlight:",_trackingSegment,YES);
}else{
if(_af==CPLeftMouseDragged){
if(_trackingSegment==-1){
return;
}
var _b1=CGRectContainsPoint(_segments[_trackingSegment].frame,_b0);
if(_b1!=_trackingHighlighted){
_trackingHighlighted=_b1;
objj_msgSend(_ac,"drawSegmentBezel:highlight:",_trackingSegment,_trackingHighlighted);
}
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_ac,sel_getUid("trackSegment:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
}
}),new objj_method(sel_getUid("setFont:"),function(_b2,_b3,_b4){
with(_b2){
objj_msgSendSuper({receiver:_b2,super_class:objj_getClass("CPControl")},"setFont:",_b4);
objj_msgSend(_b2,"tileWithChangedSegment:",0);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("themeClass"),function(_b5,_b6){
with(_b5){
return "segmented-control";
}
}),new objj_method(sel_getUid("themeAttributes"),function(_b7,_b8){
with(_b7){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[CPCenterTextAlignment,CPCenterVerticalTextAlignment,CPImageLeft,CPScaleNone,{top:(0),right:(0),bottom:(0),left:(0)},{top:(0),right:(0),bottom:(0),left:(0)},nil,nil,nil,nil,1,24],["alignment","vertical-alignment","image-position","image-scaling","bezel-inset","content-inset","left-segment-bezel-color","right-segment-bezel-color","center-segment-bezel-color","divider-bezel-color","divider-thickness","default-height"]);
}
})]);
var _b9="CPSegmentedControlSegmentsKey",_ba="CPSegmentedControlSelectedKey",_bb="CPSegmentedControlSegmentStyleKey",_bc="CPSegmentedControlTrackingModeKey";
var _1=objj_getClass("CPSegmentedControl");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPSegmentedControl\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_bd,_be,_bf){
with(_bd){
_bd=objj_msgSendSuper({receiver:_bd,super_class:objj_getClass("CPControl")},"initWithCoder:",_bf);
if(_bd){
var _c0=objj_msgSend(_bd,"frame"),_c1=_c0.size.width;
_c0.size.width=0;
objj_msgSend(_bd,"setFrame:",_c0);
_segments=objj_msgSend(_bf,"decodeObjectForKey:",_b9);
_segmentStyle=objj_msgSend(_bf,"decodeIntForKey:",_bb);
_themeStates=[];
if(objj_msgSend(_bf,"containsValueForKey:",_ba)){
_selectedSegment=objj_msgSend(_bf,"decodeIntForKey:",_ba);
}else{
_selectedSegment=-1;
}
if(objj_msgSend(_bf,"containsValueForKey:",_bc)){
_trackingMode=objj_msgSend(_bf,"decodeIntForKey:",_bc);
}else{
_trackingMode=CPSegmentSwitchTrackingSelectOne;
}
for(var i=0;i<_segments.length;i++){
_themeStates[i]=_segments[i].selected?CPThemeStateSelected:CPThemeStateNormal;
objj_msgSend(_bd,"tileWithChangedSegment:",i);
}
var _c2=MAX(_c1-objj_msgSend(_bd,"frame").size.width,0),_c3=FLOOR(_c2/_segments.length);
for(var i=0;i<_segments.length;i++){
objj_msgSend(_bd,"setWidth:forSegment:",_segments[i].width+_c3,i);
}
objj_msgSend(_bd,"tileWithChangedSegment:",0);
}
return _bd;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_c4,_c5,_c6){
with(_c4){
objj_msgSendSuper({receiver:_c4,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_c6);
objj_msgSend(_c6,"encodeObject:forKey:",_segments,_b9);
objj_msgSend(_c6,"encodeInt:forKey:",_selectedSegment,_ba);
objj_msgSend(_c6,"encodeInt:forKey:",_segmentStyle,_bb);
objj_msgSend(_c6,"encodeInt:forKey:",_trackingMode,_bc);
}
})]);
var _1=objj_allocateClassPair(CPObject,"_CPSegmentItem"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("image"),new objj_ivar("label"),new objj_ivar("menu"),new objj_ivar("selected"),new objj_ivar("enabled"),new objj_ivar("tag"),new objj_ivar("width"),new objj_ivar("frame")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_c7,_c8){
with(_c7){
if(_c7=objj_msgSendSuper({receiver:_c7,super_class:objj_getClass("CPObject")},"init")){
image=nil;
label="";
menu=nil;
selected=NO;
enabled=NO;
tag=0;
width=0;
frame=CGRectMakeZero();
}
return _c7;
}
})]);
var _c9="CPSegmentItemImageKey",_ca="CPSegmentItemLabelKey",_cb="CPSegmentItemMenuKey",_cc="CPSegmentItemSelectedKey",_cd="CPSegmentItemEnabledKey",_ce="CPSegmentItemTagKey",_cf="CPSegmentItemWidthKey";
var _1=objj_getClass("_CPSegmentItem");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPSegmentItem\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_d0,_d1,_d2){
with(_d0){
_d0=objj_msgSendSuper({receiver:_d0,super_class:objj_getClass("CPObject")},"init");
if(_d0){
image=objj_msgSend(_d2,"decodeObjectForKey:",_c9);
label=objj_msgSend(_d2,"decodeObjectForKey:",_ca);
menu=objj_msgSend(_d2,"decodeObjectForKey:",_cb);
selected=objj_msgSend(_d2,"decodeBoolForKey:",_cc);
enabled=objj_msgSend(_d2,"decodeBoolForKey:",_cd);
tag=objj_msgSend(_d2,"decodeIntForKey:",_ce);
width=objj_msgSend(_d2,"decodeFloatForKey:",_cf);
frame=CGRectMakeZero();
}
return _d0;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_d3,_d4,_d5){
with(_d3){
objj_msgSend(_d5,"encodeObject:forKey:",image,_c9);
objj_msgSend(_d5,"encodeObject:forKey:",label,_ca);
objj_msgSend(_d5,"encodeObject:forKey:",menu,_cb);
objj_msgSend(_d5,"encodeBool:forKey:",selected,_cc);
objj_msgSend(_d5,"encodeBool:forKey:",enabled,_cd);
objj_msgSend(_d5,"encodeInt:forKey:",tag,_ce);
objj_msgSend(_d5,"encodeFloat:forKey:",width,_cf);
}
})]);
p;10;CPShadow.jI;21;Foundation/CPObject.jc;1307;
var _1=objj_allocateClassPair(CPObject,"CPShadow"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_offset"),new objj_ivar("_blurRadius"),new objj_ivar("_color"),new objj_ivar("_cssString")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("_initWithOffset:blurRadius:color:"),function(_3,_4,_5,_6,_7){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
if(_3){
_offset=_5;
_blurRadius=_6;
_color=_7;
_cssString=objj_msgSend(_color,"cssString")+" "+Math.round(_5.width)+"px "+Math.round(_5.height)+"px "+Math.round(_blurRadius)+"px";
}
return _3;
}
}),new objj_method(sel_getUid("shadowOffset"),function(_8,_9){
with(_8){
return _offset;
}
}),new objj_method(sel_getUid("shadowBlurRadius"),function(_a,_b){
with(_a){
return _blurRadius;
}
}),new objj_method(sel_getUid("shadowColor"),function(_c,_d){
with(_c){
return _color;
}
}),new objj_method(sel_getUid("cssString"),function(_e,_f){
with(_e){
return _cssString;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("shadowWithOffset:blurRadius:color:"),function(_10,_11,_12,_13,_14){
with(_10){
return objj_msgSend(objj_msgSend(CPShadow,"alloc"),"_initWithOffset:blurRadius:color:",_12,_13,_14);
}
})]);
p;14;CPShadowView.jI;21;Foundation/CPBundle.ji;12;CGGeometry.ji;9;CPImage.ji;13;CPImageView.ji;8;CPView.jc;5564;
CPLightShadow=0;
CPHeavyShadow=1;
var _1=nil,_2=nil;
var _3=3,_4=3,_5=3,_6=5,_7=7,_8=7,_9=5,_a=5;
var _b=objj_allocateClassPair(CPView,"CPShadowView"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_weight")]);
objj_registerClassPair(_b);
objj_addClassForBundle(_b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_b,[new objj_method(sel_getUid("initWithFrame:"),function(_d,_e,_f){
with(_d){
_d=objj_msgSendSuper({receiver:_d,super_class:objj_getClass("CPView")},"initWithFrame:",_f);
if(_d){
_weight=CPLightShadow;
objj_msgSend(_d,"setBackgroundColor:",_1);
objj_msgSend(_d,"setHitTests:",NO);
}
return _d;
}
}),new objj_method(sel_getUid("setWeight:"),function(_10,_11,_12){
with(_10){
if(_weight==_12){
return;
}
_weight=_12;
if(_weight==CPLightShadow){
objj_msgSend(_10,"setBackgroundColor:",_1);
}else{
objj_msgSend(_10,"setBackgroundColor:",_2);
}
}
}),new objj_method(sel_getUid("leftInset"),function(_13,_14){
with(_13){
return _weight==CPLightShadow?_3:_7;
}
}),new objj_method(sel_getUid("rightInset"),function(_15,_16){
with(_15){
return _weight==CPLightShadow?_4:_8;
}
}),new objj_method(sel_getUid("topInset"),function(_17,_18){
with(_17){
return _weight==CPLightShadow?_5:_9;
}
}),new objj_method(sel_getUid("bottomInset"),function(_19,_1a){
with(_19){
return _weight==CPLightShadow?_6:_a;
}
}),new objj_method(sel_getUid("horizontalInset"),function(_1b,_1c){
with(_1b){
if(_weight==CPLightShadow){
return _3+_4;
}
return _7+_8;
}
}),new objj_method(sel_getUid("verticalInset"),function(_1d,_1e){
with(_1d){
if(_weight==CPLightShadow){
return _5+_6;
}
return _9+_a;
}
}),new objj_method(sel_getUid("frameForContentFrame:"),function(_1f,_20,_21){
with(_1f){
return objj_msgSend(objj_msgSend(_1f,"class"),"frameForContentFrame:withWeight:",_21,_weight);
}
}),new objj_method(sel_getUid("setFrameForContentFrame:"),function(_22,_23,_24){
with(_22){
objj_msgSend(_22,"setFrame:",objj_msgSend(_22,"frameForContentFrame:",_24));
}
})]);
class_addMethods(_c,[new objj_method(sel_getUid("initialize"),function(_25,_26){
with(_25){
if(_25!=objj_msgSend(CPShadowView,"class")){
return;
}
var _27=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_25,"class"));
_1=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightTopLeft.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightTop.png"),CGSizeMake(1,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightTopRight.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightLeft.png"),CGSizeMake(9,1)),nil,objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightRight.png"),CGSizeMake(9,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightBottomLeft.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightBottom.png"),CGSizeMake(1,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewLightBottomRight.png"),CGSizeMake(9,9))]));
_2=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyTopLeft.png"),CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyTop.png"),CGSizeMake(1,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyTopRight.png"),CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyLeft.png"),CGSizeMake(17,1)),nil,objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyRight.png"),CGSizeMake(17,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyBottomLeft.png"),CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyBottom.png"),CGSizeMake(1,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_27,"pathForResource:","CPShadowView/CPShadowViewHeavyBottomRight.png"),CGSizeMake(17,17))]));
}
}),new objj_method(sel_getUid("frameForContentFrame:withWeight:"),function(_28,_29,_2a,_2b){
with(_28){
if(_2b==CPLightShadow){
return CGRectMake((_2a.origin.x)-_3,(_2a.origin.y)-_5,(_2a.size.width)+_3+_4,(_2a.size.height)+_5+_6);
}else{
return CGRectMake((_2a.origin.x)-_7,(_2a.origin.y)-_9,(_2a.size.width)+_7+_8,(_2a.size.height)+_9+_a);
}
}
})]);
p;10;CPSlider.ji;11;CPControl.jc;11368;
CPLinearSlider=0;
CPCircularSlider=1;
var _1=objj_allocateClassPair(CPControl,"CPSlider"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_minValue"),new objj_ivar("_maxValue"),new objj_ivar("_altIncrementValue"),new objj_ivar("_isVertical")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPControl")},"initWithFrame:",_5);
if(_3){
_minValue=0;
_maxValue=100;
objj_msgSend(_3,"setObjectValue:",50);
objj_msgSend(_3,"setContinuous:",YES);
objj_msgSend(_3,"_recalculateIsVertical");
}
return _3;
}
}),new objj_method(sel_getUid("setMinValue:"),function(_6,_7,_8){
with(_6){
if(_minValue===_8){
return;
}
_minValue=_8;
var _9=objj_msgSend(_6,"doubleValue");
if(_9<_minValue){
objj_msgSend(_6,"setDoubleValue:",_minValue);
}
objj_msgSend(_6,"setNeedsLayout");
objj_msgSend(_6,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("minValue"),function(_a,_b){
with(_a){
return _minValue;
}
}),new objj_method(sel_getUid("setMaxValue:"),function(_c,_d,_e){
with(_c){
if(_maxValue===_e){
return;
}
_maxValue=_e;
var _f=objj_msgSend(_c,"doubleValue");
if(_f>_maxValue){
objj_msgSend(_c,"setDoubleValue:",_maxValue);
}
objj_msgSend(_c,"setNeedsLayout");
objj_msgSend(_c,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("maxValue"),function(_10,_11){
with(_10){
return _maxValue;
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_12,_13,_14){
with(_12){
objj_msgSendSuper({receiver:_12,super_class:objj_getClass("CPControl")},"setObjectValue:",MIN(MAX(_14,_minValue),_maxValue));
objj_msgSend(_12,"setNeedsLayout");
objj_msgSend(_12,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("setSliderType:"),function(_15,_16,_17){
with(_15){
if(_17===CPCircularSlider){
objj_msgSend(_15,"setThemeState:",CPThemeStateCircular);
}else{
objj_msgSend(_15,"unsetThemeState:",CPThemeStateCircular);
}
}
}),new objj_method(sel_getUid("sliderType"),function(_18,_19){
with(_18){
return objj_msgSend(_18,"hasThemeState:",CPThemeStateCircular)?CPCircularSlider:CPLinearSlider;
}
}),new objj_method(sel_getUid("trackRectForBounds:"),function(_1a,_1b,_1c){
with(_1a){
if(objj_msgSend(_1a,"hasThemeState:",CPThemeStateCircular)){
var _1d=CGRectCreateCopy(_1c);
_1c.size.width=MIN(_1c.size.width,_1c.size.height);
_1c.size.height=_1c.size.width;
if(_1c.size.width<_1d.size.width){
_1c.origin.x+=(_1d.size.width-_1c.size.width)/2;
}else{
_1c.origin.y+=(_1d.size.height-_1c.size.height)/2;
}
}else{
var _1e=objj_msgSend(_1a,"currentValueForThemeAttribute:","track-width");
if(_1e<=0){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
if(objj_msgSend(_1a,"isVertical")){
_1c.origin.x=((_1c.size.width)-_1e)/2;
_1c.size.width=_1e;
}else{
_1c.origin.y=((_1c.size.height)-_1e)/2;
_1c.size.height=_1e;
}
}
return _1c;
}
}),new objj_method(sel_getUid("knobRectForBounds:"),function(_1f,_20,_21){
with(_1f){
var _22=objj_msgSend(_1f,"currentValueForThemeAttribute:","knob-size");
if(_22.width<=0||_22.height<=0){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
var _23={origin:{x:0,y:0},size:{width:_22.width,height:_22.height}},_24=objj_msgSend(_1f,"trackRectForBounds:",_21);
if(!_24||(_24.size.width<=0||_24.size.height<=0)){
_24=_21;
}
if(objj_msgSend(_1f,"hasThemeState:",CPThemeStateCircular)){
var _25=3*PI_2-(1-objj_msgSend(_1f,"doubleValue")-_minValue)/(_maxValue-_minValue)*PI2,_26=CGRectGetWidth(_24)/2-8;
_23.origin.x=_26*COS(_25)+CGRectGetMidX(_24)-3;
_23.origin.y=_26*SIN(_25)+CGRectGetMidY(_24)-2;
}else{
if(objj_msgSend(_1f,"isVertical")){
_23.origin.x=(_24.origin.x+(_24.size.width)/2)-_22.width/2;
_23.origin.y=((objj_msgSend(_1f,"doubleValue")-_minValue)/(_maxValue-_minValue))*((_24.size.height)-_22.height);
}else{
_23.origin.x=((objj_msgSend(_1f,"doubleValue")-_minValue)/(_maxValue-_minValue))*((_24.size.width)-_22.width);
_23.origin.y=(_24.origin.y+(_24.size.height)/2)-_22.height/2;
}
}
return _23;
}
}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(_27,_28,_29){
with(_27){
if(_29==="track-view"){
return objj_msgSend(_27,"trackRectForBounds:",objj_msgSend(_27,"bounds"));
}else{
if(_29==="knob-view"){
return objj_msgSend(_27,"knobRectForBounds:",objj_msgSend(_27,"bounds"));
}
}
return objj_msgSendSuper({receiver:_27,super_class:objj_getClass("CPControl")},"rectForEphemeralSubviewNamed:",_29);
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(_2a,_2b,_2c){
with(_2a){
if(_2c==="track-view"||_2c==="knob-view"){
var _2d=objj_msgSend(objj_msgSend(CPView,"alloc"),"init");
objj_msgSend(_2d,"setHitTests:",NO);
return _2d;
}
return objj_msgSendSuper({receiver:_2a,super_class:objj_getClass("CPControl")},"createEphemeralSubviewNamed:",_2c);
}
}),new objj_method(sel_getUid("setAltIncrementValue:"),function(_2e,_2f,_30){
with(_2e){
_altIncrementValue=_30;
}
}),new objj_method(sel_getUid("altIncrementValue"),function(_31,_32){
with(_31){
return _altIncrementValue;
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_33,_34,_35){
with(_33){
objj_msgSendSuper({receiver:_33,super_class:objj_getClass("CPControl")},"setFrameSize:",_35);
objj_msgSend(_33,"_recalculateIsVertical");
}
}),new objj_method(sel_getUid("_recalculateIsVertical"),function(_36,_37){
with(_36){
var _38=objj_msgSend(_36,"bounds"),_39=(_38.size.width),_3a=(_38.size.height);
_isVertical=_39<_3a?1:(_39>_3a?0:-1);
if(_isVertical===1){
objj_msgSend(_36,"setThemeState:",CPThemeStateVertical);
}else{
if(_isVertical===0){
objj_msgSend(_36,"unsetThemeState:",CPThemeStateVertical);
}
}
}
}),new objj_method(sel_getUid("isVertical"),function(_3b,_3c){
with(_3b){
return _isVertical;
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_3d,_3e){
with(_3d){
var _3f=objj_msgSend(_3d,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","track-view",CPWindowBelow,"knob-view");
if(_3f){
objj_msgSend(_3f,"setBackgroundColor:",objj_msgSend(_3d,"currentValueForThemeAttribute:","track-color"));
}
var _40=objj_msgSend(_3d,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","knob-view",CPWindowAbove,"track-view");
if(_40){
objj_msgSend(_40,"setBackgroundColor:",objj_msgSend(_3d,"currentValueForThemeAttribute:","knob-color"));
}
}
}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),function(_41,_42){
with(_41){
return YES;
}
}),new objj_method(sel_getUid("_valueAtPoint:"),function(_43,_44,_45){
with(_43){
var _46=objj_msgSend(_43,"bounds"),_47=objj_msgSend(_43,"knobRectForBounds:",_46),_48=objj_msgSend(_43,"trackRectForBounds:",_46);
if(objj_msgSend(_43,"hasThemeState:",CPThemeStateCircular)){
var _49=(_47.size.width);
_48.origin.x+=_49/2;
_48.size.width-=_49;
var _4a=objj_msgSend(_43,"minValue"),dx=_45.x-(_48.origin.x+(_48.size.width)/2),dy=_45.y-(_48.origin.y+(_48.size.height)/2);
return MAX(0,MIN(1,1-(3*PI_2-ATAN2(dy,dx))%PI2/PI2))*(objj_msgSend(_43,"maxValue")-_4a)+_4a;
}else{
if(objj_msgSend(_43,"isVertical")){
var _4b=(_47.size.height);
_48.origin.y+=_4b/2;
_48.size.height-=_4b;
var _4a=objj_msgSend(_43,"minValue");
return MAX(0,MIN(1,(_45.y-(_48.origin.y))/(_48.size.height)))*(objj_msgSend(_43,"maxValue")-_4a)+_4a;
}else{
var _49=(_47.size.width);
_48.origin.x+=_49/2;
_48.size.width-=_49;
var _4a=objj_msgSend(_43,"minValue");
return MAX(0,MIN(1,(_45.x-(_48.origin.x))/(_48.size.width)))*(objj_msgSend(_43,"maxValue")-_4a)+_4a;
}
}
}
}),new objj_method(sel_getUid("startTrackingAt:"),function(_4c,_4d,_4e){
with(_4c){
var _4f=objj_msgSend(_4c,"bounds"),_50=objj_msgSend(_4c,"knobRectForBounds:",{origin:{x:_4f.origin.x,y:_4f.origin.y},size:{width:_4f.size.width,height:_4f.size.height}});
if((_4e.x>=(_50.origin.x)&&_4e.y>=(_50.origin.y)&&_4e.x<(_50.origin.x+_50.size.width)&&_4e.y<(_50.origin.y+_50.size.height))){
_dragOffset={width:(_50.origin.x+(_50.size.width)/2)-_4e.x,height:(_50.origin.y+(_50.size.height)/2)-_4e.y};
}else{
var _51=objj_msgSend(_4c,"trackRectForBounds:",_4f);
if(_51&&(_4e.x>=(_51.origin.x)&&_4e.y>=(_51.origin.y)&&_4e.x<(_51.origin.x+_51.size.width)&&_4e.y<(_51.origin.y+_51.size.height))){
_dragOffset={width:0,height:0};
objj_msgSend(_4c,"setObjectValue:",objj_msgSend(_4c,"_valueAtPoint:",_4e));
}else{
return NO;
}
}
objj_msgSend(_4c,"setHighlighted:",YES);
objj_msgSend(_4c,"setNeedsLayout");
objj_msgSend(_4c,"setNeedsDisplay:",YES);
return YES;
}
}),new objj_method(sel_getUid("continueTracking:at:"),function(_52,_53,_54,_55){
with(_52){
objj_msgSend(_52,"setObjectValue:",objj_msgSend(_52,"_valueAtPoint:",{x:_55.x+_dragOffset.width,y:_55.y+_dragOffset.height}));
return YES;
}
}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(_56,_57,_58,_59,_5a){
with(_56){
objj_msgSend(_56,"setHighlighted:",NO);
if(objj_msgSend(_target,"respondsToSelector:",sel_getUid("sliderDidFinish:"))){
objj_msgSend(_target,"sliderDidFinish:",_56);
}
objj_msgSend(_56,"setNeedsLayout");
objj_msgSend(_56,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("setContinuous:"),function(_5b,_5c,_5d){
with(_5b){
if(_5d){
_sendActionOn|=CPLeftMouseDraggedMask;
}else{
_sendActionOn&=~CPLeftMouseDraggedMask;
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("themeClass"),function(_5e,_5f){
with(_5e){
return "slider";
}
}),new objj_method(sel_getUid("themeAttributes"),function(_60,_61){
with(_60){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[nil,{width:0,height:0},0,nil],["knob-color","knob-size","track-width","track-color"]);
}
})]);
var _62="CPSliderMinValueKey",_63="CPSliderMaxValueKey",_64="CPSliderAltIncrValueKey";
var _1=objj_getClass("CPSlider");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPSlider\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_65,_66,_67){
with(_65){
_minValue=objj_msgSend(_67,"decodeDoubleForKey:",_62);
_maxValue=objj_msgSend(_67,"decodeDoubleForKey:",_63);
_65=objj_msgSendSuper({receiver:_65,super_class:objj_getClass("CPControl")},"initWithCoder:",_67);
if(_65){
_altIncrementValue=objj_msgSend(_67,"decodeDoubleForKey:",_64);
objj_msgSend(_65,"setContinuous:",YES);
objj_msgSend(_65,"_recalculateIsVertical");
objj_msgSend(_65,"setNeedsLayout");
objj_msgSend(_65,"setNeedsDisplay:",YES);
}
return _65;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_68,_69,_6a){
with(_68){
objj_msgSendSuper({receiver:_68,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_6a);
objj_msgSend(_6a,"encodeDouble:forKey:",_minValue,_62);
objj_msgSend(_6a,"encodeDouble:forKey:",_maxValue,_63);
objj_msgSend(_6a,"encodeDouble:forKey:",_altIncrementValue,_64);
}
})]);
var _1=objj_getClass("CPSlider");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPSlider\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("value"),function(_6b,_6c){
with(_6b){
CPLog.warn("[CPSlider value] is deprecated, use doubleValue or objectValue instead.");
return objj_msgSend(_6b,"doubleValue");
}
}),new objj_method(sel_getUid("setValue:"),function(_6d,_6e,_6f){
with(_6d){
CPLog.warn("[CPSlider setValue:] is deprecated, use setDoubleValue: or setObjectValue: instead.");
objj_msgSend(_6d,"setObjectValue:",_6f);
}
})]);
p;21;CPSliderColorPicker.ji;15;CPColorPicker.jc;13716;
var _1=objj_allocateClassPair(CPColorPicker,"CPSliderColorPicker"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_contentView"),new objj_ivar("_redSlider"),new objj_ivar("_greenSlider"),new objj_ivar("_blueSlider"),new objj_ivar("_hueSlider"),new objj_ivar("_saturationSlider"),new objj_ivar("_brightnessSlider"),new objj_ivar("_rgbLabel"),new objj_ivar("_hsbLabel"),new objj_ivar("_redLabel"),new objj_ivar("_greenLabel"),new objj_ivar("_blueLabel"),new objj_ivar("_hueLabel"),new objj_ivar("_saturationLabel"),new objj_ivar("_brightnessLabel"),new objj_ivar("_hexLabel"),new objj_ivar("_redValue"),new objj_ivar("_greenValue"),new objj_ivar("_blueValue"),new objj_ivar("_hueValue"),new objj_ivar("_saturationValue"),new objj_ivar("_brightnessValue"),new objj_ivar("_hexValue")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(_3,_4,_5,_6){
with(_3){
return objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPColorPicker")},"initWithPickerMask:colorPanel:",_5,_6);
}
}),new objj_method(sel_getUid("initView"),function(_7,_8){
with(_7){
aFrame=CPRectMake(0,0,CPColorPickerViewWidth,CPColorPickerViewHeight);
_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",aFrame);
objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
_rgbLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,10,100,20));
objj_msgSend(_rgbLabel,"setStringValue:","Red, Green, Blue");
objj_msgSend(_rgbLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_redLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,35,15,20));
objj_msgSend(_redLabel,"setStringValue:","R");
objj_msgSend(_redLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_redSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CPRectMake(15,35,aFrame.size.width-70,20));
objj_msgSend(_redSlider,"setMaxValue:",1);
objj_msgSend(_redSlider,"setMinValue:",0);
objj_msgSend(_redSlider,"setTarget:",_7);
objj_msgSend(_redSlider,"setAction:",sel_getUid("sliderChanged:"));
objj_msgSend(_redSlider,"setAutoresizingMask:",CPViewWidthSizable);
var _9=function(_a){
if(isNaN(this.value)){
return;
}
switch(this){
case _redValue:
objj_msgSend(_redSlider,"setFloatValue:",MAX(MIN(ROUND(this.value),255)/255,0));
break;
case _greenValue:
objj_msgSend(_greenSlider,"setFloatValue:",MAX(MIN(ROUND(this.value),255)/255,0));
break;
case _blueValue:
objj_msgSend(_blueSlider,"setFloatValue:",MAX(MIN(ROUND(this.value),255)/255,0));
break;
case _hueValue:
objj_msgSend(_hueSlider,"setFloatValue:",MAX(MIN(ROUND(this.value),360),0));
break;
case _saturationValue:
objj_msgSend(_saturationSlider,"setFloatValue:",MAX(MIN(ROUND(this.value),100),0));
break;
case _brightnessValue:
objj_msgSend(_brightnessSlider,"setFloatValue:",MAX(MIN(ROUND(this.value),100),0));
break;
}
this.blur();
};
var _b=function(_c){
_c=_c||window.event;
if(_c.keyCode==13){
_9(_c);
if(_c.preventDefault){
_c.preventDefault();
}else{
if(_c.stopPropagation){
_c.stopPropagation();
}
}
}
};
var _d=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(aFrame.size.width-45,35,45,20));
objj_msgSend(_d,"setAutoresizingMask:",CPViewMinXMargin);
_redValue=document.createElement("input");
_redValue.style.width="40px";
_redValue.style.backgroundColor="transparent";
_redValue.style.border="1px solid black";
_redValue.style.color="black";
_redValue.style.position="absolute";
_redValue.style.top="0px";
_redValue.style.left="0px";
_redValue.onchange=_9;
_d._DOMElement.appendChild(_redValue);
objj_msgSend(_contentView,"addSubview:",_d);
_greenLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,58,15,20));
objj_msgSend(_greenLabel,"setStringValue:","G");
objj_msgSend(_greenLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_greenSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CPRectMake(15,58,aFrame.size.width-70,20));
objj_msgSend(_greenSlider,"setMaxValue:",1);
objj_msgSend(_greenSlider,"setMinValue:",0);
objj_msgSend(_greenSlider,"setTarget:",_7);
objj_msgSend(_greenSlider,"setAction:",sel_getUid("sliderChanged:"));
objj_msgSend(_greenSlider,"setAutoresizingMask:",CPViewWidthSizable);
var _e=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(aFrame.size.width-45,58,45,20));
objj_msgSend(_e,"setAutoresizingMask:",CPViewMinXMargin);
_greenValue=_redValue.cloneNode(false);
_greenValue.onchange=_9;
_e._DOMElement.appendChild(_greenValue);
objj_msgSend(_contentView,"addSubview:",_e);
_blueLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,81,15,20));
objj_msgSend(_blueLabel,"setStringValue:","B");
objj_msgSend(_blueLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_blueSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CPRectMake(15,81,aFrame.size.width-70,20));
objj_msgSend(_blueSlider,"setMaxValue:",1);
objj_msgSend(_blueSlider,"setMinValue:",0);
objj_msgSend(_blueSlider,"setTarget:",_7);
objj_msgSend(_blueSlider,"setAction:",sel_getUid("sliderChanged:"));
objj_msgSend(_blueSlider,"setAutoresizingMask:",CPViewWidthSizable);
var _f=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(aFrame.size.width-45,81,45,20));
objj_msgSend(_f,"setAutoresizingMask:",CPViewMinXMargin);
_blueValue=_redValue.cloneNode(false);
_blueValue.onchange=_9;
_f._DOMElement.appendChild(_blueValue);
objj_msgSend(_contentView,"addSubview:",_f);
_hsbLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,120,190,20));
objj_msgSend(_hsbLabel,"setStringValue:","Hue, Saturation, Brightness");
objj_msgSend(_hsbLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_hueLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,145,15,20));
objj_msgSend(_hueLabel,"setStringValue:","H");
objj_msgSend(_hueLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_hueSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CPRectMake(15,145,aFrame.size.width-70,20));
objj_msgSend(_hueSlider,"setMaxValue:",359);
objj_msgSend(_hueSlider,"setMinValue:",0);
objj_msgSend(_hueSlider,"setTarget:",_7);
objj_msgSend(_hueSlider,"setAction:",sel_getUid("sliderChanged:"));
objj_msgSend(_hueSlider,"setAutoresizingMask:",CPViewWidthSizable);
var _10=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(aFrame.size.width-45,145,45,20));
objj_msgSend(_10,"setAutoresizingMask:",CPViewMinXMargin);
_hueValue=_redValue.cloneNode(false);
_hueValue.onchange=_9;
_10._DOMElement.appendChild(_hueValue);
objj_msgSend(_contentView,"addSubview:",_10);
_saturationLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,168,15,20));
objj_msgSend(_saturationLabel,"setStringValue:","S");
objj_msgSend(_saturationLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_saturationSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CPRectMake(15,168,aFrame.size.width-70,20));
objj_msgSend(_saturationSlider,"setMaxValue:",100);
objj_msgSend(_saturationSlider,"setMinValue:",0);
objj_msgSend(_saturationSlider,"setTarget:",_7);
objj_msgSend(_saturationSlider,"setAction:",sel_getUid("sliderChanged:"));
objj_msgSend(_saturationSlider,"setAutoresizingMask:",CPViewWidthSizable);
var _11=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(aFrame.size.width-45,168,45,20));
objj_msgSend(_11,"setAutoresizingMask:",CPViewMinXMargin);
_saturationValue=_redValue.cloneNode(false);
_saturationValue.onchange=_9;
_11._DOMElement.appendChild(_saturationValue);
objj_msgSend(_contentView,"addSubview:",_11);
_brightnessLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,191,15,20));
objj_msgSend(_brightnessLabel,"setStringValue:","B");
objj_msgSend(_brightnessLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_brightnessSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CPRectMake(15,191,aFrame.size.width-70,20));
objj_msgSend(_brightnessSlider,"setMaxValue:",100);
objj_msgSend(_brightnessSlider,"setMinValue:",0);
objj_msgSend(_brightnessSlider,"setTarget:",_7);
objj_msgSend(_brightnessSlider,"setAction:",sel_getUid("sliderChanged:"));
objj_msgSend(_brightnessSlider,"setAutoresizingMask:",CPViewWidthSizable);
var _12=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(aFrame.size.width-45,191,45,20));
objj_msgSend(_12,"setAutoresizingMask:",CPViewMinXMargin);
_brightnessValue=_redValue.cloneNode(false);
_brightnessValue.onchange=_9;
_12._DOMElement.appendChild(_brightnessValue);
objj_msgSend(_contentView,"addSubview:",_12);
_hexLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CPRectMake(0,230,30,20));
objj_msgSend(_hexLabel,"setStringValue:","Hex");
objj_msgSend(_hexLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor"));
_hexValue=_redValue.cloneNode(false);
_hexValue.style.top="228px";
_hexValue.style.width="80px";
_hexValue.style.left="35px";
_hexValue.onkeypress=function(_13){
_13=_13||window.event;
if(_13.keyCode==13){
var _14=objj_msgSend(CPColor,"colorWithHexString:",this.value);
if(_14){
objj_msgSend(_7,"setColor:",_14);
objj_msgSend(objj_msgSend(_7,"colorPanel"),"setColor:",_14);
}
if(_13.preventDefault){
_13.preventDefault();
}else{
if(_13.stopPropagation){
_13.stopPropagation();
}
}
this.blur();
}
};
_contentView._DOMElement.appendChild(_hexValue);
objj_msgSend(_contentView,"addSubview:",_rgbLabel);
objj_msgSend(_contentView,"addSubview:",_redLabel);
objj_msgSend(_contentView,"addSubview:",_greenLabel);
objj_msgSend(_contentView,"addSubview:",_blueLabel);
objj_msgSend(_contentView,"addSubview:",_redSlider);
objj_msgSend(_contentView,"addSubview:",_greenSlider);
objj_msgSend(_contentView,"addSubview:",_blueSlider);
objj_msgSend(_contentView,"addSubview:",_hsbLabel);
objj_msgSend(_contentView,"addSubview:",_hueLabel);
objj_msgSend(_contentView,"addSubview:",_saturationLabel);
objj_msgSend(_contentView,"addSubview:",_brightnessLabel);
objj_msgSend(_contentView,"addSubview:",_hueSlider);
objj_msgSend(_contentView,"addSubview:",_saturationSlider);
objj_msgSend(_contentView,"addSubview:",_brightnessSlider);
objj_msgSend(_contentView,"addSubview:",_hexLabel);
}
}),new objj_method(sel_getUid("provideNewView:"),function(_15,_16,_17){
with(_15){
if(_17){
objj_msgSend(_15,"initView");
}
return _contentView;
}
}),new objj_method(sel_getUid("currentMode"),function(_18,_19){
with(_18){
return CPSliderColorPickerMode;
}
}),new objj_method(sel_getUid("supportsMode:"),function(_1a,_1b,_1c){
with(_1a){
return (_1c==CPSliderColorPickerMode)?YES:NO;
}
}),new objj_method(sel_getUid("sliderChanged:"),function(_1d,_1e,_1f){
with(_1d){
var _20,_21=objj_msgSend(_1d,"colorPanel"),_22=objj_msgSend(_21,"opacity");
switch(_1f){
case _hueSlider:
case _saturationSlider:
case _brightnessSlider:
_20=objj_msgSend(CPColor,"colorWithHue:saturation:brightness:alpha:",objj_msgSend(_hueSlider,"floatValue"),objj_msgSend(_saturationSlider,"floatValue"),objj_msgSend(_brightnessSlider,"floatValue"),_22);
objj_msgSend(_1d,"updateRGBSliders:",_20);
break;
case _redSlider:
case _greenSlider:
case _blueSlider:
_20=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",objj_msgSend(_redSlider,"floatValue"),objj_msgSend(_greenSlider,"floatValue"),objj_msgSend(_blueSlider,"floatValue"),_22);
objj_msgSend(_1d,"updateHSBSliders:",_20);
break;
}
objj_msgSend(_1d,"updateLabels");
objj_msgSend(_1d,"updateHex:",_20);
objj_msgSend(_21,"setColor:",_20);
}
}),new objj_method(sel_getUid("setColor:"),function(_23,_24,_25){
with(_23){
objj_msgSend(_23,"updateRGBSliders:",_25);
objj_msgSend(_23,"updateHSBSliders:",_25);
objj_msgSend(_23,"updateHex:",_25);
objj_msgSend(_23,"updateLabels");
}
}),new objj_method(sel_getUid("updateHSBSliders:"),function(_26,_27,_28){
with(_26){
var hsb=objj_msgSend(_28,"hsbComponents");
objj_msgSend(_hueSlider,"setFloatValue:",hsb[0]);
objj_msgSend(_saturationSlider,"setFloatValue:",hsb[1]);
objj_msgSend(_brightnessSlider,"setFloatValue:",hsb[2]);
}
}),new objj_method(sel_getUid("updateHex:"),function(_29,_2a,_2b){
with(_29){
_hexValue.value=objj_msgSend(_2b,"hexString");
}
}),new objj_method(sel_getUid("updateRGBSliders:"),function(_2c,_2d,_2e){
with(_2c){
var rgb=objj_msgSend(_2e,"components");
objj_msgSend(_redSlider,"setFloatValue:",rgb[0]);
objj_msgSend(_greenSlider,"setFloatValue:",rgb[1]);
objj_msgSend(_blueSlider,"setFloatValue:",rgb[2]);
}
}),new objj_method(sel_getUid("updateLabels"),function(_2f,_30){
with(_2f){
_hueValue.value=ROUND(objj_msgSend(_hueSlider,"floatValue"));
_saturationValue.value=ROUND(objj_msgSend(_saturationSlider,"floatValue"));
_brightnessValue.value=ROUND(objj_msgSend(_brightnessSlider,"floatValue"));
_redValue.value=ROUND(objj_msgSend(_redSlider,"floatValue")*255);
_greenValue.value=ROUND(objj_msgSend(_greenSlider,"floatValue")*255);
_blueValue.value=ROUND(objj_msgSend(_blueSlider,"floatValue")*255);
}
}),new objj_method(sel_getUid("provideNewButtonImage"),function(_31,_32){
with(_31){
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","slider_button.png"),CGSizeMake(32,32));
}
}),new objj_method(sel_getUid("provideNewAlternateButtonImage"),function(_33,_34){
with(_33){
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","slider_button_h.png"),CGSizeMake(32,32));
}
})]);
p;13;CPSplitView.ji;9;CPImage.ji;8;CPView.jc;17506;
CPSplitViewDidResizeSubviewsNotification="CPSplitViewDidResizeSubviewsNotification";
CPSplitViewWillResizeSubviewsNotification="CPSplitViewWillResizeSubviewsNotification";
var _1=nil,_2=nil;
var _3=objj_allocateClassPair(CPView,"CPSplitView"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_delegate"),new objj_ivar("_isVertical"),new objj_ivar("_isPaneSplitter"),new objj_ivar("_currentDivider"),new objj_ivar("_initialOffset"),new objj_ivar("_originComponent"),new objj_ivar("_sizeComponent"),new objj_ivar("_DOMDividerElements"),new objj_ivar("_dividerImagePath"),new objj_ivar("_drawingDivider"),new objj_ivar("_needsResizeSubviews")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("initWithFrame:"),function(_5,_6,_7){
with(_5){
if(_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPView")},"initWithFrame:",_7)){
_currentDivider=CPNotFound;
_DOMDividerElements=[];
objj_msgSend(_5,"_setVertical:",YES);
}
return _5;
}
}),new objj_method(sel_getUid("dividerThickness"),function(_8,_9){
with(_8){
return _isPaneSplitter?1:10;
}
}),new objj_method(sel_getUid("isVertical"),function(_a,_b){
with(_a){
return _isVertical;
}
}),new objj_method(sel_getUid("setVertical:"),function(_c,_d,_e){
with(_c){
if(!objj_msgSend(_c,"_setVertical:",_e)){
return;
}
var _f=objj_msgSend(_c,"frame"),_10=objj_msgSend(_c,"dividerThickness");
objj_msgSend(_c,"_postNotificationWillResize");
var _11=ROUND((_f.size[_sizeComponent]-_10*(_subviews.length-1))/_subviews.length),_12=0,_13=_subviews.length;
if(objj_msgSend(_c,"isVertical")){
for(;_12<_13;++_12){
objj_msgSend(_subviews[_12],"setFrame:",CGRectMake(ROUND((_11+_10)*_12),0,_11,_f.size.height));
}
}else{
for(;_12<_13;++_12){
objj_msgSend(_subviews[_12],"setFrame:",CGRectMake(0,ROUND((_11+_10)*_12),_f.size.width,_11));
}
}
objj_msgSend(_c,"setNeedsDisplay:",YES);
objj_msgSend(_c,"_postNotificationDidResize");
}
}),new objj_method(sel_getUid("_setVertical:"),function(_14,_15,_16){
with(_14){
var _17=(_isVertical!=_16);
_isVertical=_16;
_originComponent=objj_msgSend(_14,"isVertical")?"x":"y";
_sizeComponent=objj_msgSend(_14,"isVertical")?"width":"height";
_dividerImagePath=objj_msgSend(_14,"isVertical")?objj_msgSend(_2,"filename"):objj_msgSend(_1,"filename");
return _17;
}
}),new objj_method(sel_getUid("isPaneSplitter"),function(_18,_19){
with(_18){
return _isPaneSplitter;
}
}),new objj_method(sel_getUid("setIsPaneSplitter:"),function(_1a,_1b,_1c){
with(_1a){
if(_isPaneSplitter==_1c){
return;
}
_isPaneSplitter=_1c;
_DOMDividerElements=[];
_needsResizeSubviews=YES;
objj_msgSend(_1a,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("didAddSubview:"),function(_1d,_1e,_1f){
with(_1d){
_needsResizeSubviews=YES;
}
}),new objj_method(sel_getUid("isSubviewCollapsed:"),function(_20,_21,_22){
with(_20){
return objj_msgSend(_22,"frame").size[_sizeComponent]<1?YES:NO;
}
}),new objj_method(sel_getUid("rectOfDividerAtIndex:"),function(_23,_24,_25){
with(_23){
var _26=objj_msgSend(_subviews[_25],"frame"),_27=CGRectMakeZero();
_27.size=objj_msgSend(_23,"frame").size;
_27.size[_sizeComponent]=objj_msgSend(_23,"dividerThickness");
_27.origin[_originComponent]=_26.origin[_originComponent]+_26.size[_sizeComponent];
return _27;
}
}),new objj_method(sel_getUid("effectiveRectOfDividerAtIndex:"),function(_28,_29,_2a){
with(_28){
var _2b=objj_msgSend(_28,"rectOfDividerAtIndex:",_2a);
var _2c=2;
_2b.size[_sizeComponent]+=_2c*2;
_2b.origin[_originComponent]-=_2c;
return _2b;
}
}),new objj_method(sel_getUid("drawRect:"),function(_2d,_2e,_2f){
with(_2d){
var _30=objj_msgSend(_subviews,"count")-1;
while((_30--)>0){
_drawingDivider=_30;
objj_msgSend(_2d,"drawDividerInRect:",objj_msgSend(_2d,"rectOfDividerAtIndex:",_30));
}
}
}),new objj_method(sel_getUid("drawDividerInRect:"),function(_31,_32,_33){
with(_31){
if(!_DOMDividerElements[_drawingDivider]){
_DOMDividerElements[_drawingDivider]=document.createElement("div");
_DOMDividerElements[_drawingDivider].style.cursor="move";
_DOMDividerElements[_drawingDivider].style.position="absolute";
_DOMDividerElements[_drawingDivider].style.backgroundRepeat="repeat";
_DOMElement.appendChild(_DOMDividerElements[_drawingDivider]);
if(_isPaneSplitter){
_DOMDividerElements[_drawingDivider].style.backgroundColor="#A5A5A5";
_DOMDividerElements[_drawingDivider].style.backgroundImage="";
}else{
_DOMDividerElements[_drawingDivider].style.backgroundColor="";
_DOMDividerElements[_drawingDivider].style.backgroundImage="url('"+_dividerImagePath+"')";
}
}
if(NULL){
var _34=_CGPointApplyAffineTransform(CGPointMake((_33.origin.x),(_33.origin.y)),NULL);
}else{
var _34={x:(_33.origin.x),y:(_33.origin.y)};
}
_DOMDividerElements[_drawingDivider].style.left=ROUND(_34.x)+"px";
_DOMDividerElements[_drawingDivider].style.top=ROUND(_34.y)+"px";
_DOMDividerElements[_drawingDivider].style.width=MAX(0,ROUND((_33.size.width)))+"px";
_DOMDividerElements[_drawingDivider].style.height=MAX(0,ROUND((_33.size.height)))+"px";
}
}),new objj_method(sel_getUid("viewWillDraw"),function(_35,_36){
with(_35){
objj_msgSend(_35,"_adjustSubviewsWithCalculatedSize");
}
}),new objj_method(sel_getUid("_adjustSubviewsWithCalculatedSize"),function(_37,_38){
with(_37){
if(!_needsResizeSubviews){
return;
}
_needsResizeSubviews=NO;
var _39=objj_msgSend(_37,"subviews"),_3a=_39.length,_3b=CGSizeMakeZero();
if(objj_msgSend(_37,"isVertical")){
_3b.width+=objj_msgSend(_37,"dividerThickness")*(_3a-1);
_3b.height=CGRectGetHeight(objj_msgSend(_37,"frame"));
}else{
_3b.width=CGRectGetWidth(objj_msgSend(_37,"frame"));
_3b.height+=objj_msgSend(_37,"dividerThickness")*(_3a-1);
}
while(_3a--){
_3b[_sizeComponent]+=objj_msgSend(_39[_3a],"frame").size[_sizeComponent];
}
objj_msgSend(_37,"resizeSubviewsWithOldSize:",_3b);
}
}),new objj_method(sel_getUid("cursorAtPoint:hitDividerAtIndex:"),function(_3c,_3d,_3e,_3f){
with(_3c){
var _40=objj_msgSend(_subviews[_3f],"frame"),_41=_40.origin[_originComponent]+_40.size[_sizeComponent],_42=objj_msgSend(_3c,"effectiveRectOfDividerAtIndex:",_3f),_43=null;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:effectiveRect:forDrawnRect:ofDividerAtIndex:"))){
_42=objj_msgSend(_delegate,"splitView:effectiveRect:forDrawnRect:ofDividerAtIndex:",_3c,_42,_42,_3f);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:additionalEffectiveRectOfDividerAtIndex:"))){
_43=objj_msgSend(_delegate,"splitView:additionalEffectiveRectOfDividerAtIndex:",_3c,_3f);
}
return CGRectContainsPoint(_42,_3e)||(_43&&CGRectContainsPoint(_43,_3e));
}
}),new objj_method(sel_getUid("hitTest:"),function(_44,_45,_46){
with(_44){
if(objj_msgSend(_44,"isHidden")||!objj_msgSend(_44,"hitTests")||!CGRectContainsPoint(objj_msgSend(_44,"frame"),_46)){
return nil;
}
var _47=objj_msgSend(_44,"convertPoint:fromView:",_46,objj_msgSend(_44,"superview"));
var _48=objj_msgSend(_subviews,"count")-1;
for(var i=0;i<_48;i++){
if(objj_msgSend(_44,"cursorAtPoint:hitDividerAtIndex:",_47,i)){
return _44;
}
}
return objj_msgSendSuper({receiver:_44,super_class:objj_getClass("CPView")},"hitTest:",_46);
}
}),new objj_method(sel_getUid("trackDivider:"),function(_49,_4a,_4b){
with(_49){
var _4c=objj_msgSend(_4b,"type");
if(_4c==CPLeftMouseUp){
if(_currentDivider!=CPNotFound){
_currentDivider=CPNotFound;
objj_msgSend(_49,"_postNotificationDidResize");
}
return;
}
if(_4c==CPLeftMouseDown){
var _4d=objj_msgSend(_49,"convertPoint:fromView:",objj_msgSend(_4b,"locationInWindow"),nil);
_currentDivider=CPNotFound;
var _4e=objj_msgSend(_subviews,"count")-1;
for(var i=0;i<_4e;i++){
var _4f=objj_msgSend(_subviews[i],"frame"),_50=_4f.origin[_originComponent]+_4f.size[_sizeComponent];
if(objj_msgSend(_49,"cursorAtPoint:hitDividerAtIndex:",_4d,i)){
if(objj_msgSend(_4b,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:canCollapseSubview:"))&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:shouldCollapseSubview:forDoubleClickOnDividerAtIndex:"))){
var _51=objj_msgSend(_49,"minPossiblePositionOfDividerAtIndex:",i),_52=objj_msgSend(_49,"maxPossiblePositionOfDividerAtIndex:",i);
if(objj_msgSend(_delegate,"splitView:canCollapseSubview:",_49,_subviews[i])&&objj_msgSend(_delegate,"splitView:shouldCollapseSubview:forDoubleClickOnDividerAtIndex:",_49,_subviews[i],i)){
if(objj_msgSend(_49,"isSubviewCollapsed:",_subviews[i])){
objj_msgSend(_49,"setPosition:ofDividerAtIndex:",(_51+(_52-_51)/2),i);
}else{
objj_msgSend(_49,"setPosition:ofDividerAtIndex:",_51,i);
}
}else{
if(objj_msgSend(_delegate,"splitView:canCollapseSubview:",_49,_subviews[i+1])&&objj_msgSend(_delegate,"splitView:shouldCollapseSubview:forDoubleClickOnDividerAtIndex:",_49,_subviews[i+1],i)){
if(objj_msgSend(_49,"isSubviewCollapsed:",_subviews[i+1])){
objj_msgSend(_49,"setPosition:ofDividerAtIndex:",(_51+(_52-_51)/2),i);
}else{
objj_msgSend(_49,"setPosition:ofDividerAtIndex:",_52,i);
}
}
}
}else{
_currentDivider=i;
_initialOffset=_50-_4d[_originComponent];
objj_msgSend(_49,"_postNotificationWillResize");
}
}
}
if(_currentDivider===CPNotFound){
return;
}
}else{
if(_4c==CPLeftMouseDragged&&_currentDivider!=CPNotFound){
var _4d=objj_msgSend(_49,"convertPoint:fromView:",objj_msgSend(_4b,"locationInWindow"),nil);
objj_msgSend(_49,"setPosition:ofDividerAtIndex:",(_4d[_originComponent]+_initialOffset),_currentDivider);
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_49,sel_getUid("trackDivider:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
}
}),new objj_method(sel_getUid("mouseDown:"),function(_53,_54,_55){
with(_53){
objj_msgSend(_53,"trackDivider:",_55);
}
}),new objj_method(sel_getUid("maxPossiblePositionOfDividerAtIndex:"),function(_56,_57,_58){
with(_56){
var _59=objj_msgSend(_subviews[_58+1],"frame");
if(_58+1<objj_msgSend(_subviews,"count")-1){
return _59.origin[_originComponent]+_59.size[_sizeComponent]-objj_msgSend(_56,"dividerThickness");
}else{
return objj_msgSend(_56,"frame").size[_sizeComponent]-objj_msgSend(_56,"dividerThickness");
}
}
}),new objj_method(sel_getUid("minPossiblePositionOfDividerAtIndex:"),function(_5a,_5b,_5c){
with(_5a){
if(_5c>0){
var _5d=objj_msgSend(_subviews[_5c-1],"frame");
return _5d.origin[_originComponent]+_5d.size[_sizeComponent]+objj_msgSend(_5a,"dividerThickness");
}else{
return 0;
}
}
}),new objj_method(sel_getUid("setPosition:ofDividerAtIndex:"),function(_5e,_5f,_60,_61){
with(_5e){
objj_msgSend(_5e,"_adjustSubviewsWithCalculatedSize");
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:constrainSplitPosition:ofSubviewAt:"))){
_60=objj_msgSend(_delegate,"splitView:constrainSplitPosition:ofSubviewAt:",_5e,_60,_61);
}
var _62=objj_msgSend(_5e,"maxPossiblePositionOfDividerAtIndex:",_61),_63=objj_msgSend(_5e,"minPossiblePositionOfDividerAtIndex:",_61),_64=_62,_65=_63;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:constrainMinCoordinate:ofSubviewAt:"))){
_65=objj_msgSend(_delegate,"splitView:constrainMinCoordinate:ofSubviewAt:",_5e,_63,_61);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:constrainMaxCoordinate:ofSubviewAt:"))){
_64=objj_msgSend(_delegate,"splitView:constrainMaxCoordinate:ofSubviewAt:",_5e,_62,_61);
}
var _66=objj_msgSend(_5e,"frame"),_67=_subviews[_61],_68=objj_msgSend(_67,"frame"),_69=_subviews[_61+1],_6a=objj_msgSend(_69,"frame");
var _6b=MAX(MIN(_60,_64),_65);
if(_60<_63+(_65-_63)/2){
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:canCollapseSubview:"))){
if(objj_msgSend(_delegate,"splitView:canCollapseSubview:",_5e,_67)){
_6b=_63;
}
}
}
_68.size[_sizeComponent]=_6b-_68.origin[_originComponent];
objj_msgSend(_subviews[_61],"setFrame:",_68);
_6a.size[_sizeComponent]=_6a.origin[_originComponent]+_6a.size[_sizeComponent]-_6b-objj_msgSend(_5e,"dividerThickness");
_6a.origin[_originComponent]=_6b+objj_msgSend(_5e,"dividerThickness");
objj_msgSend(_subviews[_61+1],"setFrame:",_6a);
objj_msgSend(_5e,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_6c,_6d,_6e){
with(_6c){
objj_msgSend(_6c,"_adjustSubviewsWithCalculatedSize");
objj_msgSendSuper({receiver:_6c,super_class:objj_getClass("CPView")},"setFrameSize:",_6e);
objj_msgSend(_6c,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_6f,_70,_71){
with(_6f){
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:resizeSubviewsWithOldSize:"))){
objj_msgSend(_delegate,"splitView:resizeSubviewsWithOldSize:",_6f,_71);
return;
}
objj_msgSend(_6f,"_postNotificationWillResize");
var _72=0,_73=objj_msgSend(_subviews,"count"),_74=objj_msgSend(_6f,"bounds"),_75=objj_msgSend(_6f,"dividerThickness"),_76=_73-1,_77=0,_78=0,_79=-1,_7a=0,_7b=objj_msgSend(_6f,"isVertical");
for(_72=0;_72<_73;++_72){
var _7c=_subviews[_72],_7d=_7b?objj_msgSend(_7c,"autoresizingMask")&CPViewWidthSizable:objj_msgSend(_7c,"autoresizingMask")&CPViewHeightSizable;
if(_7d){
_77+=objj_msgSend(_7c,"frame").size[_sizeComponent];
_79=_72;
_7a++;
}
}
if(_7a===_73){
_77=0;
}
var _78=_77?_74.size[_sizeComponent]-_77:0,_7e=_74.size[_sizeComponent]-_71[_sizeComponent],_7f=(_71[_sizeComponent]-_76*_75-_78),_80=_7f<=0?0:(_74.size[_sizeComponent]-_76*_75-_78)/_7f;
for(_72=0;_72<_73;++_72){
var _7c=_subviews[_72],_81=CGRectMakeCopy(_74),_7d=_7b?objj_msgSend(_7c,"autoresizingMask")&CPViewWidthSizable:objj_msgSend(_7c,"autoresizingMask")&CPViewHeightSizable;
if(_72+1==_73){
_81.size[_sizeComponent]=_74.size[_sizeComponent]-_81.origin[_originComponent];
}else{
if(_77&&_7d&&_79===_72){
_81.size[_sizeComponent]=MAX(0,ROUND(objj_msgSend(_7c,"frame").size[_sizeComponent]+_7e));
}else{
if(_7d||!_77){
_81.size[_sizeComponent]=MAX(0,ROUND(_80*objj_msgSend(_7c,"frame").size[_sizeComponent]));
_7e-=(_81.size[_sizeComponent]-objj_msgSend(_7c,"frame").size[_sizeComponent]);
}else{
if(_77&&!_7d){
_81.size[_sizeComponent]=objj_msgSend(_7c,"frame").size[_sizeComponent];
}else{
alert("SHOULD NEVER GET HERE");
}
}
}
}
_74.origin[_originComponent]+=_81.size[_sizeComponent]+_75;
objj_msgSend(_7c,"setFrame:",_81);
}
objj_msgSend(_6f,"_postNotificationDidResize");
}
}),new objj_method(sel_getUid("setDelegate:"),function(_82,_83,_84){
with(_82){
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewDidResizeSubviews:"))){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_delegate,CPSplitViewDidResizeSubviewsNotification,_82);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewWillResizeSubviews:"))){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_delegate,CPSplitViewWillResizeSubviewsNotification,_82);
}
_delegate=_84;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewDidResizeSubviews:"))){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_delegate,sel_getUid("splitViewDidResizeSubviews:"),CPSplitViewDidResizeSubviewsNotification,_82);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewWillResizeSubviews:"))){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_delegate,sel_getUid("splitViewWillResizeSubviews:"),CPSplitViewWillResizeSubviewsNotification,_82);
}
}
}),new objj_method(sel_getUid("_postNotificationWillResize"),function(_85,_86){
with(_85){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPSplitViewWillResizeSubviewsNotification,_85);
}
}),new objj_method(sel_getUid("_postNotificationDidResize"),function(_87,_88){
with(_87){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPSplitViewDidResizeSubviewsNotification,_87);
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("initialize"),function(_89,_8a){
with(_89){
if(_89!=objj_msgSend(CPSplitView,"class")){
return;
}
var _8b=objj_msgSend(CPBundle,"bundleForClass:",_89);
_1=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_8b,"pathForResource:","CPSplitView/CPSplitViewHorizontal.png"),CPSizeMake(5,10));
_2=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_8b,"pathForResource:","CPSplitView/CPSplitViewVertical.png"),CPSizeMake(10,5));
}
})]);
var _8c="CPSplitViewDelegateKey",_8d="CPSplitViewIsVerticalKey",_8e="CPSplitViewIsPaneSplitterKey";
var _3=objj_getClass("CPSplitView");
if(!_3){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPSplitView\""));
}
var _4=_3.isa;
class_addMethods(_3,[new objj_method(sel_getUid("initWithCoder:"),function(_8f,_90,_91){
with(_8f){
_8f=objj_msgSendSuper({receiver:_8f,super_class:objj_getClass("CPView")},"initWithCoder:",_91);
if(_8f){
_currentDivider=CPNotFound;
_DOMDividerElements=[];
_delegate=objj_msgSend(_91,"decodeObjectForKey:",_8c);
_isPaneSplitter=objj_msgSend(_91,"decodeBoolForKey:",_8e);
objj_msgSend(_8f,"_setVertical:",objj_msgSend(_91,"decodeBoolForKey:",_8d));
}
return _8f;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_92,_93,_94){
with(_92){
objj_msgSendSuper({receiver:_92,super_class:objj_getClass("CPView")},"encodeWithCoder:",_94);
objj_msgSend(_94,"encodeConditionalObject:forKey:",_delegate,_8c);
objj_msgSend(_94,"encodeBool:forKey:",_isVertical,_8d);
objj_msgSend(_94,"encodeBool:forKey:",_isPaneSplitter,_8e);
}
})]);
p;17;CPStringDrawing.jI;21;Foundation/CPString.ji;18;CPPlatformString.jc;601;
var _1=objj_getClass("CPString");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPString\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("cssString"),function(_3,_4){
with(_3){
return _3;
}
}),new objj_method(sel_getUid("sizeWithFont:"),function(_5,_6,_7){
with(_5){
return objj_msgSend(_5,"sizeWithFont:inWidth:",_7,NULL);
}
}),new objj_method(sel_getUid("sizeWithFont:inWidth:"),function(_8,_9,_a,_b){
with(_8){
return objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",_8,_a,_b);
}
})]);
p;15;CPTableColumn.jI;25;Foundation/CPDictionary.jI;21;Foundation/CPObject.jI;29;Foundation/CPSortDescriptor.jI;21;Foundation/CPString.ji;19;CPTableHeaderView.jc;8673;
CPTableColumnNoResizing=0;
CPTableColumnAutoresizingMask=1;
CPTableColumnUserResizingMask=2;
var _1=objj_allocateClassPair(CPObject,"CPTableColumn"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_tableView"),new objj_ivar("_headerView"),new objj_ivar("_dataView"),new objj_ivar("_dataViewData"),new objj_ivar("_width"),new objj_ivar("_minWidth"),new objj_ivar("_maxWidth"),new objj_ivar("_identifier"),new objj_ivar("_isEditable"),new objj_ivar("_sortDescriptorPrototype"),new objj_ivar("_isHidden"),new objj_ivar("_headerToolTip")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
return objj_msgSend(_3,"initWithIdentifier:","");
}
}),new objj_method(sel_getUid("initWithIdentifier:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_dataViewData={};
_width=100;
_minWidth=10;
_maxWidth=1000000;
objj_msgSend(_5,"setIdentifier:",_7);
objj_msgSend(_5,"setHeaderView:",objj_msgSend(CPTextField,"new"));
objj_msgSend(_5,"setDataView:",objj_msgSend(CPTextField,"new"));
}
return _5;
}
}),new objj_method(sel_getUid("setTableView:"),function(_8,_9,_a){
with(_8){
_tableView=_a;
}
}),new objj_method(sel_getUid("tableView"),function(_b,_c){
with(_b){
return _tableView;
}
}),new objj_method(sel_getUid("setWidth:"),function(_d,_e,_f){
with(_d){
_f=+_f;
if(_width===_f){
return;
}
var _10=MIN(MAX(_f,objj_msgSend(_d,"minWidth")),objj_msgSend(_d,"maxWidth"));
if(_width===_10){
return;
}
var _11=_width;
_width=_10;
var _12=objj_msgSend(_d,"tableView");
if(_12){
var _13=objj_msgSend(objj_msgSend(_12,"tableColumns"),"indexOfObjectIdenticalTo:",_d);
_12._reloadAllRows=YES;
_12._dirtyTableColumnRangeIndex=_12._dirtyTableColumnRangeIndex<0?_13:MIN(_13,_12._dirtyTableColumnRangeIndex);
objj_msgSend(_12,"tile");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPTableViewColumnDidResizeNotification,_12,objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[_d,_11],["CPTableColumn","CPOldWidth"]));
}
}
}),new objj_method(sel_getUid("width"),function(_14,_15){
with(_14){
return _width;
}
}),new objj_method(sel_getUid("setMinWidth:"),function(_16,_17,_18){
with(_16){
_18=+_18;
if(_minWidth===_18){
return;
}
_minWidth=_18;
var _19=objj_msgSend(_16,"width"),_1a=MAX(_19,objj_msgSend(_16,"minWidth"));
if(_19!==_1a){
objj_msgSend(_16,"setWidth:",_1a);
}
}
}),new objj_method(sel_getUid("minWidth"),function(_1b,_1c){
with(_1b){
return _minWidth;
}
}),new objj_method(sel_getUid("setMaxWidth:"),function(_1d,_1e,_1f){
with(_1d){
_1f=+_1f;
if(_maxWidth===_1f){
return;
}
_maxWidth=_1f;
var _20=objj_msgSend(_1d,"width"),_21=MAX(_20,objj_msgSend(_1d,"maxWidth"));
if(_20!==_21){
objj_msgSend(_1d,"setWidth:",_21);
}
}
}),new objj_method(sel_getUid("maxWidth"),function(_22,_23){
with(_22){
return _maxWidth;
}
}),new objj_method(sel_getUid("setResizingMask:"),function(_24,_25,_26){
with(_24){
_resizingMask=_26;
}
}),new objj_method(sel_getUid("resizingMask"),function(_27,_28){
with(_27){
return _resizingMask;
}
}),new objj_method(sel_getUid("sizeToFit"),function(_29,_2a){
with(_29){
var _2b=_CGRectGetWidth(objj_msgSend(_headerView,"frame"));
if(_2b<objj_msgSend(_29,"minWidth")){
objj_msgSend(_29,"setMinWidth:",_2b);
}else{
if(_2b>objj_msgSend(_29,"maxWidth")){
objj_msgSend(_29,"setMaxWidth:",_2b);
}
}
if(_width!==_2b){
objj_msgSend(_29,"setWidth:",_2b);
}
}
}),new objj_method(sel_getUid("setHeaderView:"),function(_2c,_2d,_2e){
with(_2c){
if(!_2e){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Attempt to set nil header view on "+objj_msgSend(_2c,"description"));
}
_headerView=_2e;
var _2f=objj_msgSend(_tableView,"headerView");
objj_msgSend(_2f,"setNeedsLayout");
objj_msgSend(_2f,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("headerView"),function(_30,_31){
with(_30){
return _headerView;
}
}),new objj_method(sel_getUid("setDataView:"),function(_32,_33,_34){
with(_32){
if(_dataView===_34){
return;
}
if(_dataView){
_dataViewData[objj_msgSend(_dataView,"UID")]=nil;
}
_dataView=_34;
_dataViewData[objj_msgSend(_34,"UID")]=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_34);
}
}),new objj_method(sel_getUid("dataView"),function(_35,_36){
with(_35){
return _dataView;
}
}),new objj_method(sel_getUid("dataViewForRow:"),function(_37,_38,_39){
with(_37){
return objj_msgSend(_37,"dataView");
}
}),new objj_method(sel_getUid("_newDataViewForRow:"),function(_3a,_3b,_3c){
with(_3a){
var _3d=objj_msgSend(_3a,"dataViewForRow:",_3c),_3e=objj_msgSend(_3d,"UID");
var x=objj_msgSend(_3a,"tableView")._cachedDataViews[_3e];
if(x&&x.length){
return x.pop();
}
if(!_dataViewData[_3e]){
_dataViewData[_3e]=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_3d);
}
var _3f=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_dataViewData[_3e]);
_3f.identifier=_3e;
return _3f;
}
}),new objj_method(sel_getUid("setIdentifier:"),function(_40,_41,_42){
with(_40){
_identifier=_42;
}
}),new objj_method(sel_getUid("identifier"),function(_43,_44){
with(_43){
return _identifier;
}
}),new objj_method(sel_getUid("setEditable:"),function(_45,_46,_47){
with(_45){
_isEditable=_47;
}
}),new objj_method(sel_getUid("isEditable"),function(_48,_49){
with(_48){
return _isEditable;
}
}),new objj_method(sel_getUid("setSortDescriptorPrototype:"),function(_4a,_4b,_4c){
with(_4a){
_sortDescriptorPrototype=_4c;
}
}),new objj_method(sel_getUid("sortDescriptorPrototype"),function(_4d,_4e){
with(_4d){
return _sortDescriptorPrototype;
}
}),new objj_method(sel_getUid("setHidden:"),function(_4f,_50,_51){
with(_4f){
_isHidden=_51;
}
}),new objj_method(sel_getUid("isHidden"),function(_52,_53){
with(_52){
return _isHidden;
}
}),new objj_method(sel_getUid("setHeaderToolTip:"),function(_54,_55,_56){
with(_54){
_headerToolTip=_56;
}
}),new objj_method(sel_getUid("headerToolTip"),function(_57,_58){
with(_57){
return _headerToolTip;
}
})]);
var _59="CPTableColumnIdentifierKey",_5a="CPTableColumnHeaderViewKey",_5b="CPTableColumnDataViewKey",_5c="CPTableColumnWidthKey",_5d="CPTableColumnMinWidthKey",_5e="CPTableColumnMaxWidthKey",_5f="CPTableColumnResizingMaskKey";
var _1=objj_getClass("CPTableColumn");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTableColumn\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_60,_61,_62){
with(_60){
_60=objj_msgSendSuper({receiver:_60,super_class:objj_getClass("CPObject")},"init");
if(_60){
_dataViewData={};
_width=objj_msgSend(_62,"decodeFloatForKey:",_5c);
_minWidth=objj_msgSend(_62,"decodeFloatForKey:",_5d);
_maxWidth=objj_msgSend(_62,"decodeFloatForKey:",_5e);
objj_msgSend(_60,"setIdentifier:",objj_msgSend(_62,"decodeObjectForKey:",_59));
objj_msgSend(_60,"setHeaderView:",objj_msgSend(CPTextField,"new"));
objj_msgSend(_60,"setDataView:",objj_msgSend(CPTextField,"new"));
}
return _60;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_63,_64,_65){
with(_63){
objj_msgSend(_65,"encodeObject:forKey:",_identifier,_59);
objj_msgSend(_65,"encodeObject:forKey:",_width,_5c);
objj_msgSend(_65,"encodeObject:forKey:",_minWidth,_5d);
objj_msgSend(_65,"encodeObject:forKey:",_maxWidth,_5e);
}
})]);
var _1=objj_getClass("CPTableColumn");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTableColumn\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("setHeaderCell:"),function(_66,_67,_68){
with(_66){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"setHeaderCell: is not supported. -setHeaderCell:aView instead.");
}
}),new objj_method(sel_getUid("headerCell"),function(_69,_6a){
with(_69){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"headCell is not supported. -headerView instead.");
}
}),new objj_method(sel_getUid("setDataCell:"),function(_6b,_6c,_6d){
with(_6b){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"setDataCell: is not supported. Use -setHeaderCell:aView instead.");
}
}),new objj_method(sel_getUid("dataCell"),function(_6e,_6f){
with(_6e){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataCell is not supported. Use -dataCell instead.");
}
}),new objj_method(sel_getUid("dataCellForRow:"),function(_70,_71,row){
with(_70){
objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataCellForRow: is not supported. Use -dataViewForRow:row instead.");
}
})]);
p;19;CPTableHeaderView.ji;15;CPTableColumn.ji;13;CPTableView.ji;8;CPView.jc;3366;
var _1=objj_allocateClassPair(CPView,"CPTableHeaderView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_resizedColumn"),new objj_ivar("_draggedColumn"),new objj_ivar("_draggedDistance"),new objj_ivar("_tableView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("resizedColumn"),function(_3,_4){
with(_3){
return _resizedColumn;
}
}),new objj_method(sel_getUid("draggedColumn"),function(_5,_6){
with(_5){
return _draggedColumn;
}
}),new objj_method(sel_getUid("draggedDistance"),function(_7,_8){
with(_7){
return _draggedDistance;
}
}),new objj_method(sel_getUid("tableView"),function(_9,_a){
with(_9){
return _tableView;
}
}),new objj_method(sel_getUid("setTableView:"),function(_b,_c,_d){
with(_b){
_tableView=_d;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_e,_f,_10){
with(_e){
_e=objj_msgSendSuper({receiver:_e,super_class:objj_getClass("CPView")},"initWithFrame:",_10);
if(_e){
_resizedColumn=CPNotFound;
_draggedColumn=CPNotFound;
_draggedDistance=0;
}
return _e;
}
}),new objj_method(sel_getUid("columnAtPoint:"),function(_11,_12,_13){
with(_11){
if(!CGRectContainsPoint(objj_msgSend(_11,"bounds"),_13)){
return CPNotFound;
}
var _14=0,_15=objj_msgSend(objj_msgSend(_tableView,"tableColumns"),"count"),_16=objj_msgSend(_tableView,"intercellSpacing"),_17=objj_msgSend(_tableView,"tableColumns"),_18=0,_19=_13.x;
for(;_14<_15;_14++){
var _1a=objj_msgSend(_17[_14],"width")+_16.width;
if(_19>=_18&&_19<_18+_1a){
return _14;
}
_18+=_1a;
}
return CPNotFound;
}
}),new objj_method(sel_getUid("headerRectOfColumn:"),function(_1b,_1c,_1d){
with(_1b){
var _1e=objj_msgSend(_tableView,"tableColumns"),_1f=objj_msgSend(_tableView,"intercellSpacing"),_20=objj_msgSend(_1b,"bounds");
if(_1d<0||_1d>objj_msgSend(_1e,"count")){
objj_msgSend(CPException,"raise:reason:","invalid","tried to get headerRectOfColumn: on invalid column");
}
_20.size.width=objj_msgSend(_1e[_1d],"width")+_1f.width;
while(--_1d>=0){
_20.origin.x+=objj_msgSend(_1e[_1d],"width")+_1f.width;
}
return _20;
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_21,_22){
with(_21){
var _23=objj_msgSend(_tableView,"tableColumns"),_24=objj_msgSend(_23,"count"),_25=objj_msgSend(_21,"bounds"),_26=objj_msgSend(_tableView,"intercellSpacing");
for(i=0;i<_24;++i){
var _27=objj_msgSend(_23,"objectAtIndex:",i),_28=objj_msgSend(_27,"headerView");
_25.size.width=objj_msgSend(_27,"width")+_26.width;
objj_msgSend(_28,"setFrame:",_25);
_25.origin.x+=objj_msgSend(_27,"width")+_26.width;
objj_msgSend(_21,"addSubview:",_28);
}
}
}),new objj_method(sel_getUid("drawRect:"),function(_29,_2a,_2b){
with(_29){
objj_msgSend(objj_msgSend(_tableView,"gridColor"),"setStroke");
var _2c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_2d=_2d=objj_msgSend(_tableView,"columnIndexesInRect:",_2b),_2e=[];
objj_msgSend(_2d,"getIndexes:maxCount:inIndexRange:",_2e,-1,nil);
var _2f=0,_30=_2e.length;
for(;_2f<_30;++_2f){
var _31=objj_msgSend(_29,"headerRectOfColumn:",_2f);
CGContextBeginPath(_2c);
CGContextMoveToPoint(_2c,ROUND(_31.origin.x+_31.size.width)-0.5,ROUND(_31.origin.y)-0.5);
CGContextAddLineToPoint(_2c,ROUND(_31.origin.x+_31.size.width)-0.5,ROUND(_31.origin.y+_31.size.height)-0.5);
CGContextSetLineWidth(_2c,1);
CGContextStrokePath(_2c);
}
}
})]);
p;13;CPTableView.jI;20;Foundation/CPArray.ji;11;CPControl.ji;15;CPTableColumn.ji;15;_CPCornerView.ji;12;CPScroller.jc;70764;
CPTableViewColumnDidMoveNotification="CPTableViewColumnDidMoveNotification";
CPTableViewColumnDidResizeNotification="CPTableViewColumnDidResizeNotification";
CPTableViewSelectionDidChangeNotification="CPTableViewSelectionDidChangeNotification";
CPTableViewSelectionIsChangingNotification="CPTableViewSelectionIsChangingNotification";
var _1=1<<2,_2=1<<3,_3=1<<4,_4=1<<5,_5=1<<6,_6=1<<7;
var _7=1<<0,_8=1<<1,_9=1<<2,_a=1<<3,_b=1<<4,_c=1<<5,_d=1<<6,_e=1<<7,_f=1<<8,_10=1<<9,_11=1<<10,_12=1<<11,_13=1<<12,_14=1<<13,_15=1<<14,_16=1<<15,_17=1<<16,_18=1<<17,_19=1<<18,_1a=1<<19;
CPTableViewDraggingDestinationFeedbackStyleNone=-1,CPTableViewDraggingDestinationFeedbackStyleRegular=0,CPTableViewDraggingDestinationFeedbackStyleSourceList=1;
CPTableViewDropOn=0,CPTableViewDropAbove=1;
CPTableViewSelectionHighlightStyleNone=-1,CPTableViewSelectionHighlightStyleRegular=0,CPTableViewSelectionHighlightStyleSourceList=1;
CPTableViewGridNone=0;
CPTableViewSolidVerticalGridLineMask=1<<0;
CPTableViewSolidHorizontalGridLineMask=1<<1;
CPTableViewNoColumnAutoresizing=0,CPTableViewUniformColumnAutoresizingStyle=1,CPTableViewSequentialColumnAutoresizingStyle=2,CPTableViewReverseSequentialColumnAutoresizingStyle=3,CPTableViewLastColumnOnlyAutoresizingStyle=4,CPTableViewFirstColumnOnlyAutoresizingStyle=5;
var _1b=objj_allocateClassPair(CPView,"_CPTableDrawView"),_1c=_1b.isa;
class_addIvars(_1b,[new objj_ivar("_tableView")]);
objj_registerClassPair(_1b);
objj_addClassForBundle(_1b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1b,[new objj_method(sel_getUid("initWithTableView:"),function(_1d,_1e,_1f){
with(_1d){
_1d=objj_msgSendSuper({receiver:_1d,super_class:objj_getClass("CPView")},"init");
if(_1d){
_tableView=_1f;
}
return _1d;
}
}),new objj_method(sel_getUid("drawRect:"),function(_20,_21,_22){
with(_20){
var _23=objj_msgSend(_20,"frame"),_24=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextTranslateCTM(_24,-(_23.origin.x),-(_23.origin.y));
objj_msgSend(_tableView,"_drawRect:",_22);
}
})]);
var _1b=objj_allocateClassPair(CPControl,"CPTableView"),_1c=_1b.isa;
class_addIvars(_1b,[new objj_ivar("_dataSource"),new objj_ivar("_implementedDataSourceMethods"),new objj_ivar("_delegate"),new objj_ivar("_implementedDelegateMethods"),new objj_ivar("_tableColumns"),new objj_ivar("_tableColumnRanges"),new objj_ivar("_dirtyTableColumnRangeIndex"),new objj_ivar("_numberOfHiddenColumns"),new objj_ivar("_reloadAllRows"),new objj_ivar("_objectValues"),new objj_ivar("_exposedRows"),new objj_ivar("_exposedColumns"),new objj_ivar("_dataViewsForTableColumns"),new objj_ivar("_cachedDataViews"),new objj_ivar("_allowsColumnReordering"),new objj_ivar("_allowsColumnResizing"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_allowsEmptySelection"),new objj_ivar("_intercellSpacing"),new objj_ivar("_rowHeight"),new objj_ivar("_usesAlternatingRowBackgroundColors"),new objj_ivar("_alternatingRowBackgroundColors"),new objj_ivar("_selectionHighlightMask"),new objj_ivar("_selectionHightlightColor"),new objj_ivar("_currentHighlightedTableColumn"),new objj_ivar("_gridStyleMask"),new objj_ivar("_gridColor"),new objj_ivar("_numberOfRows"),new objj_ivar("_headerView"),new objj_ivar("_cornerView"),new objj_ivar("_selectedColumnIndexes"),new objj_ivar("_selectedRowIndexes"),new objj_ivar("_selectionAnchorRow"),new objj_ivar("_previouslySelectedRowIndexes"),new objj_ivar("_startTrackingPoint"),new objj_ivar("_startTrackingTimestamp"),new objj_ivar("_trackingPointMovedOutOfClickSlop"),new objj_ivar("_editingCellIndex"),new objj_ivar("_tableDrawView"),new objj_ivar("_doubleAction"),new objj_ivar("_columnAutoResizingStyle"),new objj_ivar("_verticalMotionCanDrag"),new objj_ivar("_destinationDragStyle"),new objj_ivar("_isSelectingSession"),new objj_ivar("_draggedRowIndexes"),new objj_ivar("_dropOperationFeedbackView"),new objj_ivar("_dragOperationDefaultMask"),new objj_ivar("_retargetedDropRow"),new objj_ivar("_retargetedDropOperation")]);
objj_registerClassPair(_1b);
objj_addClassForBundle(_1b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1b,[new objj_method(sel_getUid("initWithFrame:"),function(_25,_26,_27){
with(_25){
_25=objj_msgSendSuper({receiver:_25,super_class:objj_getClass("CPControl")},"initWithFrame:",_27);
if(_25){
_allowsColumnReordering=YES;
_allowsColumnResizing=YES;
_allowsMultipleSelection=NO;
_allowsEmptySelection=YES;
_allowsColumnSelection=NO;
_draggedRowIndexes=nil;
_tableViewFlags=0;
_selectionHighlightMask=CPTableViewSelectionHighlightStyleRegular;
objj_msgSend(_25,"setUsesAlternatingRowBackgroundColors:",NO);
objj_msgSend(_25,"setAlternatingRowBackgroundColors:",[objj_msgSend(CPColor,"whiteColor"),objj_msgSend(CPColor,"colorWithHexString:","e4e7ff")]);
_tableColumns=[];
_tableColumnRanges=[];
_dirtyTableColumnRangeIndex=CPNotFound;
_numberOfHiddenColumns=0;
_objectValues={};
_dataViewsForTableColumns={};
_dataViews=[];
_numberOfRows=0;
_exposedRows=objj_msgSend(CPIndexSet,"indexSet");
_exposedColumns=objj_msgSend(CPIndexSet,"indexSet");
_cachedDataViews={};
_intercellSpacing={width:0,height:0};
_rowHeight=19;
objj_msgSend(_25,"setSelectionHightlightColor:",objj_msgSend(CPColor,"selectionColor"));
objj_msgSend(_25,"setGridColor:",objj_msgSend(CPColor,"grayColor"));
objj_msgSend(_25,"setGridStyleMask:",CPTableViewGridNone);
_headerView=objj_msgSend(objj_msgSend(CPTableHeaderView,"alloc"),"initWithFrame:",CGRectMake(0,0,objj_msgSend(_25,"bounds").size.width,_rowHeight));
objj_msgSend(_headerView,"setTableView:",_25);
_cornerView=objj_msgSend(objj_msgSend(_CPCornerView,"alloc"),"initWithFrame:",CGRectMake(0,0,objj_msgSend(CPScroller,"scrollerWidth"),CGRectGetHeight(objj_msgSend(_headerView,"frame"))));
_selectedColumnIndexes=objj_msgSend(CPIndexSet,"indexSet");
_selectedRowIndexes=objj_msgSend(CPIndexSet,"indexSet");
_verticalMotionCanDrag=YES;
_destinationDragStyle=CPTableViewDraggingDestinationFeedbackStyleRegular;
_dropOperationFeedbackView=objj_msgSend(objj_msgSend(_dropOperationDrawingView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
objj_msgSend(_25,"addSubview:",_dropOperationFeedbackView);
objj_msgSend(_dropOperationFeedbackView,"setHidden:",YES);
objj_msgSend(_dropOperationFeedbackView,"setTableView:",_25);
_tableDrawView=objj_msgSend(objj_msgSend(_CPTableDrawView,"alloc"),"initWithTableView:",_25);
objj_msgSend(_tableDrawView,"setBackgroundColor:",objj_msgSend(CPColor,"clearColor"));
objj_msgSend(_25,"addSubview:",_tableDrawView);
}
return _25;
}
}),new objj_method(sel_getUid("setDataSource:"),function(_28,_29,_2a){
with(_28){
if(_dataSource===_2a){
return;
}
_dataSource=_2a;
_implementedDataSourceMethods=0;
if(!_dataSource){
return;
}
if(!objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("numberOfRowsInTableView:"))){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,objj_msgSend(_2a,"description")+" does not implement numberOfRowsInTableView:.");
}
if(!objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:objectValueForTableColumn:row:"))){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,objj_msgSend(_2a,"description")+" does not implement tableView:objectValueForTableColumn:row:");
}
if(objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:setObjectValue:forTableColumn:row:"))){
_implementedDataSourceMethods|=_1;
}
if(objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:acceptDrop:row:dropOperation:"))){
_implementedDataSourceMethods|=_2;
}
if(objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:namesOfPromisedFilesDroppedAtDestination:forDraggedRowsWithIndexes:"))){
_implementedDataSourceMethods|=_3;
}
if(objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:validateDrop:proposedRow:proposedDropOperation:"))){
_implementedDataSourceMethods|=_4;
}
if(objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:writeRowsWithIndexes:toPasteboard:"))){
_implementedDataSourceMethods|=_5;
}
objj_msgSend(_28,"reloadData");
}
}),new objj_method(sel_getUid("dataSource"),function(_2b,_2c){
with(_2b){
return _dataSource;
}
}),new objj_method(sel_getUid("reloadDataForRowIndexes:columnIndexes:"),function(_2d,_2e,_2f,_30){
with(_2d){
objj_msgSend(_2d,"reloadData");
}
}),new objj_method(sel_getUid("reloadData"),function(_31,_32){
with(_31){
if(!_dataSource){
return;
}
_reloadAllRows=YES;
_objectValues={};
objj_msgSend(_31,"noteNumberOfRowsChanged");
objj_msgSend(_31,"setNeedsLayout");
objj_msgSend(_31,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("setDoubleAction:"),function(_33,_34,_35){
with(_33){
_doubleAction=_35;
}
}),new objj_method(sel_getUid("doubleAction"),function(_36,_37){
with(_36){
return _doubleAction;
}
}),new objj_method(sel_getUid("setAllowsColumnReordering:"),function(_38,_39,_3a){
with(_38){
_allowsColumnReordering=!!_3a;
}
}),new objj_method(sel_getUid("allowsColumnReordering"),function(_3b,_3c){
with(_3b){
return _allowsColumnReordering;
}
}),new objj_method(sel_getUid("setAllowsColumnResizing:"),function(_3d,_3e,_3f){
with(_3d){
_allowsColumnResizing=!!_3f;
}
}),new objj_method(sel_getUid("allowsColumnResizing"),function(_40,_41){
with(_40){
return _allowsColumnResizing;
}
}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(_42,_43,_44){
with(_42){
_allowsMultipleSelection=!!_44;
}
}),new objj_method(sel_getUid("allowsMultipleSelection"),function(_45,_46){
with(_45){
return _allowsMultipleSelection;
}
}),new objj_method(sel_getUid("setAllowsEmptySelection:"),function(_47,_48,_49){
with(_47){
_allowsEmptySelection=!!_49;
}
}),new objj_method(sel_getUid("allowsEmptySelection"),function(_4a,_4b){
with(_4a){
return _allowsEmptySelection;
}
}),new objj_method(sel_getUid("setAllowsColumnSelection:"),function(_4c,_4d,_4e){
with(_4c){
_allowsColumnSelection=!!_4e;
}
}),new objj_method(sel_getUid("allowsColumnSelection"),function(_4f,_50){
with(_4f){
return _allowsColumnSelection;
}
}),new objj_method(sel_getUid("setIntercellSpacing:"),function(_51,_52,_53){
with(_51){
if((_intercellSpacing.width==_53.width&&_intercellSpacing.height==_53.height)){
return;
}
_intercellSpacing={width:_53.width,height:_53.height};
objj_msgSend(_51,"setNeedsLayout");
}
}),new objj_method(sel_getUid("setThemeState:"),function(_54,_55,_56){
with(_54){
}
}),new objj_method(sel_getUid("intercellSpacing"),function(_57,_58){
with(_57){
return {width:_intercellSpacing.width,height:_intercellSpacing.height};
}
}),new objj_method(sel_getUid("setRowHeight:"),function(_59,_5a,_5b){
with(_59){
_5b=+_5b;
if(_rowHeight===_5b){
return;
}
_rowHeight=MAX(0,_5b);
objj_msgSend(_59,"setNeedsLayout");
}
}),new objj_method(sel_getUid("rowHeight"),function(_5c,_5d){
with(_5c){
return _rowHeight;
}
}),new objj_method(sel_getUid("setUsesAlternatingRowBackgroundColors:"),function(_5e,_5f,_60){
with(_5e){
_usesAlternatingRowBackgroundColors=_60;
}
}),new objj_method(sel_getUid("usesAlternatingRowBackgroundColors"),function(_61,_62){
with(_61){
return _usesAlternatingRowBackgroundColors;
}
}),new objj_method(sel_getUid("setAlternatingRowBackgroundColors:"),function(_63,_64,_65){
with(_63){
if(objj_msgSend(_alternatingRowBackgroundColors,"isEqual:",_65)){
return;
}
_alternatingRowBackgroundColors=_65;
objj_msgSend(_63,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("alternatingRowBackgroundColors"),function(_66,_67){
with(_66){
return _alternatingRowBackgroundColors;
}
}),new objj_method(sel_getUid("selectionHighlightStyle"),function(_68,_69){
with(_68){
return _selectionHighlightMask;
}
}),new objj_method(sel_getUid("setSelectionHighlightStyle:"),function(_6a,_6b,_6c){
with(_6a){
_selectionHighlightMask=_6c;
if(objj_msgSend(_6a,"selectionHighlightStyle")===CPTableViewSelectionHighlightStyleSourceList){
objj_msgSend(_6a,"setSelectionHightlightColor:",objj_msgSend(CPColor,"selectionColorSourceView"));
_destinationDragStyle=CPTableViewDraggingDestinationFeedbackStyleSourceList;
}else{
objj_msgSend(_6a,"setSelectionHightlightColor:",objj_msgSend(CPColor,"selectionColor"));
_destinationDragStyle=CPTableViewDraggingDestinationFeedbackStyleRegular;
}
}
}),new objj_method(sel_getUid("setSelectionHightlightColor:"),function(_6d,_6e,_6f){
with(_6d){
_selectionHightlightColor=_6f;
}
}),new objj_method(sel_getUid("selectionHightlightColor"),function(_70,_71){
with(_70){
return _selectionHightlightColor;
}
}),new objj_method(sel_getUid("setGridColor:"),function(_72,_73,_74){
with(_72){
if(_gridColor===_74){
return;
}
_gridColor=_74;
objj_msgSend(_72,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("gridColor"),function(_75,_76){
with(_75){
return _gridColor;
}
}),new objj_method(sel_getUid("setGridStyleMask:"),function(_77,_78,_79){
with(_77){
if(_gridStyleMask===_79){
return;
}
_gridStyleMask=_79;
objj_msgSend(_77,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("gridStyleMask"),function(_7a,_7b){
with(_7a){
return _gridStyleMask;
}
}),new objj_method(sel_getUid("addTableColumn:"),function(_7c,_7d,_7e){
with(_7c){
objj_msgSend(_tableColumns,"addObject:",_7e);
objj_msgSend(_7e,"setTableView:",_7c);
if(_dirtyTableColumnRangeIndex<0){
_dirtyTableColumnRangeIndex=(_tableColumns.length)-1;
}else{
_dirtyTableColumnRangeIndex=MIN((_tableColumns.length)-1,_dirtyTableColumnRangeIndex);
}
objj_msgSend(_7c,"setNeedsLayout");
}
}),new objj_method(sel_getUid("removeTableColumn:"),function(_7f,_80,_81){
with(_7f){
if(objj_msgSend(_81,"tableView")!==_7f){
return;
}
var _82=objj_msgSend(_tableColumns,"indexOfObjectIdenticalTo:",_81);
if(_82===CPNotFound){
return;
}
objj_msgSend(_81,"setTableView:",nil);
objj_msgSend(_tableColumns,"removeObjectAtIndex:",_82);
var _83=objj_msgSend(_81,"UID");
if(_objectValues[_83]){
_objectValues[_83]=nil;
}
if(_dirtyTableColumnRangeIndex<0){
_dirtyTableColumnRangeIndex=_82;
}else{
_dirtyTableColumnRangeIndex=MIN(_82,_dirtyTableColumnRangeIndex);
}
objj_msgSend(_7f,"setNeedsLayout");
}
}),new objj_method(sel_getUid("moveColumn:toColumn:"),function(_84,_85,_86,_87){
with(_84){
_86=+_86;
_87=+_87;
if(_86===_87){
return;
}
if(_dirtyTableColumnRangeIndex<0){
_dirtyTableColumnRangeIndex=MIN(_86,_87);
}else{
_dirtyTableColumnRangeIndex=MIN(_86,_87,_dirtyTableColumnRangeIndex);
}
if(_87>_86){
--_87;
}
var _88=_tableColumns[_86];
objj_msgSend(_tableColumns,"removeObjectAtIndex:",_86);
objj_msgSend(_tableColumns,"insertObject:atIndex:",_88,_87);
objj_msgSend(_84,"setNeedsLayout");
}
}),new objj_method(sel_getUid("tableColumns"),function(_89,_8a){
with(_89){
return _tableColumns;
}
}),new objj_method(sel_getUid("columnWithIdentifier:"),function(_8b,_8c,_8d){
with(_8b){
var _8e=0,_8f=(_tableColumns.length);
for(;_8e<_8f;++_8e){
if(objj_msgSend(_tableColumns[_8e],"identifier")===_8d){
return _8e;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("tableColumnWithIdentifier:"),function(_90,_91,_92){
with(_90){
var _93=objj_msgSend(_90,"columnWithIdentifier:",_92);
if(_93===CPNotFound){
return nil;
}
return _tableColumns[_93];
}
}),new objj_method(sel_getUid("selectColumnIndexes:byExtendingSelection:"),function(_94,_95,_96,_97){
with(_94){
if((objj_msgSend(_96,"firstIndex")!=CPNotFound&&objj_msgSend(_96,"firstIndex")<0)||objj_msgSend(_96,"lastIndex")>=objj_msgSend(_94,"numberOfColumns")){
return;
}
if(objj_msgSend(_selectedRowIndexes,"count")>0){
objj_msgSend(_94,"_updateHighlightWithOldRows:newRows:",_selectedRowIndexes,objj_msgSend(CPIndexSet,"indexSet"));
_selectedRowIndexes=objj_msgSend(CPIndexSet,"indexSet");
}
var _98=objj_msgSend(_selectedColumnIndexes,"copy");
if(_97){
objj_msgSend(_selectedColumnIndexes,"addIndexes:",_96);
}else{
_selectedColumnIndexes=objj_msgSend(_96,"copy");
}
objj_msgSend(_94,"_updateHighlightWithOldColumns:newColumns:",_98,_selectedColumnIndexes);
objj_msgSend(_tableDrawView,"display");
objj_msgSend(_headerView,"setNeedsDisplay:",YES);
objj_msgSend(_94,"_noteSelectionDidChange");
}
}),new objj_method(sel_getUid("selectRowIndexes:byExtendingSelection:"),function(_99,_9a,_9b,_9c){
with(_99){
if((objj_msgSend(_9b,"firstIndex")!=CPNotFound&&objj_msgSend(_9b,"firstIndex")<0)||objj_msgSend(_9b,"lastIndex")>=objj_msgSend(_99,"numberOfRows")){
return;
}
if(objj_msgSend(_selectedColumnIndexes,"count")>0){
objj_msgSend(_99,"_updateHighlightWithOldColumns:newColumns:",_selectedColumnIndexes,objj_msgSend(CPIndexSet,"indexSet"));
_selectedColumnIndexes=objj_msgSend(CPIndexSet,"indexSet");
objj_msgSend(_headerView,"setNeedsDisplay:",YES);
}
var _9d=objj_msgSend(_selectedRowIndexes,"copy");
if(_9c){
objj_msgSend(_selectedRowIndexes,"addIndexes:",_9b);
}else{
_selectedRowIndexes=objj_msgSend(_9b,"copy");
}
objj_msgSend(_99,"_updateHighlightWithOldRows:newRows:",_9d,_selectedRowIndexes);
objj_msgSend(_tableDrawView,"display");
objj_msgSend(_99,"_noteSelectionDidChange");
}
}),new objj_method(sel_getUid("_updateHighlightWithOldRows:newRows:"),function(_9e,_9f,_a0,_a1){
with(_9e){
var _a2=objj_msgSend(_exposedRows,"firstIndex"),_a3=objj_msgSend(_exposedRows,"lastIndex")-_a2+1,_a4=[],_a5=[],_a6=objj_msgSend(_a0,"copy"),_a7=objj_msgSend(_a1,"copy");
objj_msgSend(_a6,"removeMatches:",_a7);
objj_msgSend(_a6,"getIndexes:maxCount:inIndexRange:",_a4,-1,CPMakeRange(_a2,_a3));
objj_msgSend(_a7,"getIndexes:maxCount:inIndexRange:",_a5,-1,CPMakeRange(_a2,_a3));
for(var _a8 in _dataViewsForTableColumns){
var _a9=_dataViewsForTableColumns[_a8];
var _aa=_a4.length;
while(_aa--){
var _ab=_a4[_aa];
var _ac=_a9[_ab];
objj_msgSend(_ac,"unsetThemeState:",CPThemeStateHighlighted);
}
_aa=_a5.length;
while(_aa--){
var _ab=_a5[_aa];
var _ac=_a9[_ab];
objj_msgSend(_ac,"setThemeState:",CPThemeStateHighlighted);
}
}
}
}),new objj_method(sel_getUid("_updateHighlightWithOldColumns:newColumns:"),function(_ad,_ae,_af,_b0){
with(_ad){
var _b1=objj_msgSend(_exposedColumns,"firstIndex"),_b2=objj_msgSend(_exposedColumns,"lastIndex")-_b1+1,_b3=[],_b4=[],_b5=objj_msgSend(_af,"copy"),_b6=objj_msgSend(_b0,"copy");
objj_msgSend(_b5,"removeMatches:",_b6);
objj_msgSend(_b5,"getIndexes:maxCount:inIndexRange:",_b3,-1,CPMakeRange(_b1,_b2));
objj_msgSend(_b6,"getIndexes:maxCount:inIndexRange:",_b4,-1,CPMakeRange(_b1,_b2));
var _b7=_b3.length;
while(_b7--){
var _b8=_b3[_b7],_b9=objj_msgSend(_tableColumns[_b8],"UID"),_ba=_dataViewsForTableColumns[_b9];
objj_msgSend(_ba,"makeObjectsPerformSelector:withObject:",sel_getUid("unsetThemeState:"),CPThemeStateHighlighted);
var _bb=objj_msgSend(_tableColumns[_b8],"headerView");
objj_msgSend(_bb,"unsetThemeState:",CPThemeStateSelected);
}
_b7=_b4.length;
while(_b7--){
var _b8=_b4[_b7],_b9=objj_msgSend(_tableColumns[_b8],"UID"),_ba=_dataViewsForTableColumns[_b9];
objj_msgSend(_ba,"makeObjectsPerformSelector:withObject:",sel_getUid("setThemeState:"),CPThemeStateHighlighted);
var _bb=objj_msgSend(_tableColumns[_b8],"headerView");
objj_msgSend(_bb,"setThemeState:",CPThemeStateSelected);
}
}
}),new objj_method(sel_getUid("selectedColumnIndexes"),function(_bc,_bd){
with(_bc){
return _selectedColumnIndexes;
}
}),new objj_method(sel_getUid("selectedRowIndexes"),function(_be,_bf){
with(_be){
return _selectedRowIndexes;
}
}),new objj_method(sel_getUid("deselectColumn:"),function(_c0,_c1,_c2){
with(_c0){
objj_msgSend(_selectedColumnIndexes,"removeIndex:",_c2);
objj_msgSend(_c0,"_noteSelectionDidChange");
}
}),new objj_method(sel_getUid("deselectRow:"),function(_c3,_c4,_c5){
with(_c3){
objj_msgSend(_selectedRowIndexes,"removeIndex:",_c5);
objj_msgSend(_c3,"_noteSelectionDidChange");
}
}),new objj_method(sel_getUid("numberOfSelectedColumns"),function(_c6,_c7){
with(_c6){
return objj_msgSend(_selectedColumnIndexes,"count");
}
}),new objj_method(sel_getUid("numberOfSelectedRows"),function(_c8,_c9){
with(_c8){
return objj_msgSend(_selectedRowIndexes,"count");
}
}),new objj_method(sel_getUid("isColumnSelected:"),function(_ca,_cb,_cc){
with(_ca){
return objj_msgSend(_selectedColumnIndexes,"containsIndex:",_cc);
}
}),new objj_method(sel_getUid("isRowSelected:"),function(_cd,_ce,_cf){
with(_cd){
return objj_msgSend(_selectedRowIndexes,"containsIndex:",_cf);
}
}),new objj_method(sel_getUid("deselectAll"),function(_d0,_d1){
with(_d0){
objj_msgSend(_d0,"selectRowIndexes:byExtendingSelection:",objj_msgSend(CPIndexSet,"indexSet"),NO);
objj_msgSend(_d0,"selectColumnIndexes:byExtendingSelection:",objj_msgSend(CPIndexSet,"indexSet"),NO);
}
}),new objj_method(sel_getUid("numberOfColumns"),function(_d2,_d3){
with(_d2){
return (_tableColumns.length);
}
}),new objj_method(sel_getUid("numberOfRows"),function(_d4,_d5){
with(_d4){
if(!_dataSource){
return 0;
}
return objj_msgSend(_dataSource,"numberOfRowsInTableView:",_d4);
}
}),new objj_method(sel_getUid("cornerView"),function(_d6,_d7){
with(_d6){
return _cornerView;
}
}),new objj_method(sel_getUid("setCornerView:"),function(_d8,_d9,_da){
with(_d8){
if(_cornerView===_da){
return;
}
_cornerView=_da;
var _db=objj_msgSend(objj_msgSend(_d8,"superview"),"superview");
if(objj_msgSend(_db,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))&&objj_msgSend(_db,"documentView")===_d8){
objj_msgSend(_db,"_updateCornerAndHeaderView");
}
}
}),new objj_method(sel_getUid("headerView"),function(_dc,_dd){
with(_dc){
return _headerView;
}
}),new objj_method(sel_getUid("setHeaderView:"),function(_de,_df,_e0){
with(_de){
if(_headerView===_e0){
return;
}
objj_msgSend(_headerView,"setTableView:",nil);
_headerView=_e0;
if(_headerView){
objj_msgSend(_headerView,"setTableView:",_de);
objj_msgSend(_headerView,"setFrameSize:",{width:(objj_msgSend(_de,"frame").size.width),height:(objj_msgSend(_headerView,"frame").size.height)});
}
var _e1=objj_msgSend(objj_msgSend(_de,"superview"),"superview");
if(objj_msgSend(_e1,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))&&objj_msgSend(_e1,"documentView")===_de){
objj_msgSend(_e1,"_updateCornerAndHeaderView");
}
}
}),new objj_method(sel_getUid("_recalculateTableColumnRanges"),function(_e2,_e3){
with(_e2){
if(_dirtyTableColumnRangeIndex<0){
return;
}
var _e4=_dirtyTableColumnRangeIndex,_e5=(_tableColumns.length),x=_e4===0?0:CPMaxRange(_tableColumnRanges[_e4-1]);
for(;_e4<_e5;++_e4){
var _e6=_tableColumns[_e4];
if(objj_msgSend(_e6,"isHidden")){
_tableColumnRanges[_e4]=CPMakeRange(x,0);
}else{
var _e7=objj_msgSend(_tableColumns[_e4],"width");
_tableColumnRanges[_e4]=CPMakeRange(x,_e7);
x+=_e7;
}
}
_tableColumnRanges.length=_e5;
_dirtyTableColumnRangeIndex=CPNotFound;
}
}),new objj_method(sel_getUid("rectOfColumn:"),function(_e8,_e9,_ea){
with(_e8){
_ea=+_ea;
if(_ea<0||_ea>=(_tableColumns.length)){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(_e8,"_recalculateTableColumnRanges");
}
var _eb=_tableColumnRanges[_ea];
return {origin:{x:_eb.location,y:0},size:{width:_eb.length,height:CGRectGetHeight(objj_msgSend(_e8,"bounds"))}};
}
}),new objj_method(sel_getUid("rectOfRow:"),function(_ec,_ed,_ee){
with(_ec){
if(NO){
return NULL;
}
return {origin:{x:0,y:(_ee*(_rowHeight+_intercellSpacing.height))},size:{width:(objj_msgSend(_ec,"bounds").size.width),height:_rowHeight}};
}
}),new objj_method(sel_getUid("rowsInRect:"),function(_ef,_f0,_f1){
with(_ef){
if(_numberOfRows<=0){
return CPMakeRange(0,0);
}
var _f2=objj_msgSend(_ef,"bounds");
if(!CGRectIntersectsRect(_f1,_f2)){
return CPMakeRange(0,0);
}
var _f3=objj_msgSend(_ef,"rowAtPoint:",_f1.origin);
if(_f3<0){
_f3=0;
}
var _f4=objj_msgSend(_ef,"rowAtPoint:",{x:0,y:(_f1.origin.y+_f1.size.height)});
if(_f4<0){
_f4=_numberOfRows-1;
}
return CPMakeRange(_f3,_f4-_f3+1);
}
}),new objj_method(sel_getUid("columnIndexesInRect:"),function(_f5,_f6,_f7){
with(_f5){
var _f8=MAX(0,objj_msgSend(_f5,"columnAtPoint:",{x:_f7.origin.x,y:0})),_f9=objj_msgSend(_f5,"columnAtPoint:",{x:(_f7.origin.x+_f7.size.width),y:0});
if(_f9===CPNotFound){
_f9=(_tableColumns.length)-1;
}
if(_numberOfHiddenColumns<=0){
return objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",CPMakeRange(_f8,_f9-_f8+1));
}
var _fa=objj_msgSend(CPIndexSet,"indexSet");
for(;_f8<=_f9;++_f8){
var _fb=_tableColumns[_f8];
if(!objj_msgSend(_fb,"isHidden")){
objj_msgSend(_fa,"addIndex:",_f8);
}
}
return _fa;
}
}),new objj_method(sel_getUid("columnAtPoint:"),function(_fc,_fd,_fe){
with(_fc){
var _ff=objj_msgSend(_fc,"bounds");
if(!(_fe.x>=(_ff.origin.x)&&_fe.y>=(_ff.origin.y)&&_fe.x<(_ff.origin.x+_ff.size.width)&&_fe.y<(_ff.origin.y+_ff.size.height))){
return CPNotFound;
}
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(_fc,"_recalculateTableColumnRanges");
}
var x=_fe.x,low=0,high=_tableColumnRanges.length-1;
while(low<=high){
var _100=FLOOR(low+(high-low)/2),_101=_tableColumnRanges[_100];
if(x<_101.location){
high=_100-1;
}else{
if(x>=CPMaxRange(_101)){
low=_100+1;
}else{
var _102=_tableColumnRanges.length;
while(_100<_102&&objj_msgSend(_tableColumns[_100],"isHidden")){
++_100;
}
if(_100<_102){
return _100;
}
return CPNotFound;
}
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("rowAtPoint:"),function(self,_103,_104){
with(self){
var y=_104.y;
if(NO){
}
var row=FLOOR(y/(_rowHeight+_intercellSpacing.height));
if(row>=_numberOfRows){
return -1;
}
return row;
}
}),new objj_method(sel_getUid("frameOfDataViewAtColumn:row:"),function(self,_105,_106,aRow){
with(self){
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(self,"_recalculateTableColumnRanges");
}
var _107=_tableColumnRanges[_106],_108=objj_msgSend(self,"rectOfRow:",aRow);
return {origin:{x:_107.location,y:(_108.origin.y)},size:{width:_107.length,height:(_108.size.height)}};
}
}),new objj_method(sel_getUid("resizeWithOldSuperviewSize:"),function(self,_109,_10a){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPControl")},"resizeWithOldSuperviewSize:",_10a);
var mask=_columnAutoResizingStyle;
if(mask===CPTableViewUniformColumnAutoresizingStyle){
var _10b=objj_msgSend(self,"superview");
if(!_10b){
return;
}
var _10c=objj_msgSend(_10b,"bounds").size;
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(self,"_recalculateTableColumnRanges");
}
var _10d=(_tableColumns.length);
var _10e=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init");
for(var i=0;i<_10d;i++){
if(!objj_msgSend(_tableColumns[i],"isHidden")){
objj_msgSend(_10e,"addObject:",i);
}
}
_10d=objj_msgSend(_10e,"count");
if(_10d>0){
var _10f=MAX(15,_10c.width/_10d);
for(var i=0;i<_10d;i++){
var _110=_tableColumns[_10e[i]];
var _10f=MAX(objj_msgSend(_110,"minWidth"),_10c.width/_10d);
_10f=(_10f>objj_msgSend(_110,"maxWidth"))?objj_msgSend(_110,"maxWidth"):_10f;
objj_msgSend(_110,"setWidth:",FLOOR(_10f));
}
}
objj_msgSend(self,"setNeedsLayout");
}
if(mask===CPTableViewLastColumnOnlyAutoresizingStyle){
objj_msgSend(self,"sizeLastColumnToFit");
}
if(mask===CPTableViewFirstColumnOnlyAutoresizingStyle){
var _10b=objj_msgSend(self,"superview");
if(!_10b){
return;
}
var _10c=objj_msgSend(_10b,"bounds").size;
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(self,"_recalculateTableColumnRanges");
}
var _10d=(_tableColumns.length);
var _10e=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init");
var _111=0;
for(var i=0;i<_10d;i++){
if(!objj_msgSend(_tableColumns[i],"isHidden")){
objj_msgSend(_10e,"addObject:",i);
_111+=objj_msgSend(_tableColumns[i],"width");
}
}
_10d=objj_msgSend(_10e,"count");
if(_10d>0){
var _110=_tableColumns[_10e[0]];
var _10f=_10c.width-_111;
_10f+=objj_msgSend(_110,"width");
_10f=(_10f<objj_msgSend(_110,"minWidth"))?objj_msgSend(_110,"minWidth"):_10f;
_10f=(_10f>objj_msgSend(_110,"maxWidth"))?objj_msgSend(_110,"maxWidth"):_10f;
objj_msgSend(_110,"setWidth:",FLOOR(_10f));
}
objj_msgSend(self,"setNeedsLayout");
}
}
}),new objj_method(sel_getUid("setColumnAutoresizingStyle:"),function(self,_112,_113){
with(self){
_columnAutoResizingStyle=_113;
}
}),new objj_method(sel_getUid("columnAutoresizingStyle"),function(self,_114){
with(self){
return _columnAutoResizingStyle;
}
}),new objj_method(sel_getUid("sizeLastColumnToFit"),function(self,_115){
with(self){
var _116=objj_msgSend(self,"superview");
if(!_116){
return;
}
var _117=objj_msgSend(_116,"bounds").size;
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(self,"_recalculateTableColumnRanges");
}
var _118=(_tableColumns.length);
while(_118--&&objj_msgSend(_tableColumns[_118],"isHidden")){
}
if(_118>=0){
var _119=_tableColumns[_118];
var _11a=MAX(0,_117.width-CGRectGetMinX(objj_msgSend(self,"rectOfColumn:",_118)));
if(_11a>0){
_11a=(_11a<objj_msgSend(_119,"minWidth"))?objj_msgSend(_119,"minWidth"):_11a;
_11a=(_11a>objj_msgSend(_119,"maxWidth"))?objj_msgSend(_119,"maxWidth"):_11a;
objj_msgSend(_119,"setWidth:",_11a);
}
}
objj_msgSend(self,"setNeedsLayout");
}
}),new objj_method(sel_getUid("noteNumberOfRowsChanged"),function(self,_11b){
with(self){
_numberOfRows=objj_msgSend(_dataSource,"numberOfRowsInTableView:",self);
objj_msgSend(self,"tile");
}
}),new objj_method(sel_getUid("tile"),function(self,_11c){
with(self){
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(self,"_recalculateTableColumnRanges");
}
var _11d=_tableColumnRanges.length>0?CPMaxRange(objj_msgSend(_tableColumnRanges,"lastObject")):0,_11e=(_rowHeight+_intercellSpacing.height)*_numberOfRows,_11f=objj_msgSend(self,"superview");
if(objj_msgSend(_11f,"isKindOfClass:",objj_msgSend(CPClipView,"class"))){
var _120=objj_msgSend(_11f,"bounds").size;
_11d=MAX(_120.width,_11d);
_11e=MAX(_120.height,_11e);
}
objj_msgSend(self,"setFrameSize:",{width:_11d,height:_11e});
objj_msgSend(self,"setNeedsLayout");
objj_msgSend(self,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("scrollRowToVisible:"),function(self,_121,_122){
with(self){
var _123=objj_msgSend(objj_msgSend(self,"superview"),"superview");
if(objj_msgSend(_123,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))&&objj_msgSend(_123,"documentView")===self){
var rect=CGRectMake(objj_msgSend(_123._contentView,"bounds").origin.x,_122*objj_msgSend(self,"rowHeight"),1,objj_msgSend(self,"rowHeight"));
objj_msgSend(objj_msgSend(objj_msgSend(_123,"contentView"),"documentView"),"scrollRectToVisible:",rect);
}
}
}),new objj_method(sel_getUid("scrollColumnToVisible:"),function(self,_124,_125){
with(self){
var rect=objj_msgSend(self,"rectOfColumn:",_125);
var _126=objj_msgSend(objj_msgSend(self,"superview"),"superview");
if(objj_msgSend(_126,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))&&objj_msgSend(_126,"documentView")===self){
var rect=CGRectMake(rect.origin.x,objj_msgSend(_126._contentView,"bounds").origin.y,rect.size.width,1);
objj_msgSend(objj_msgSend(objj_msgSend(_126,"contentView"),"documentView"),"scrollRectToVisible:",rect);
}
}
}),new objj_method(sel_getUid("setDelegate:"),function(self,_127,_128){
with(self){
if(_delegate===_128){
return;
}
var _129=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_delegate){
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewColumnDidMove:"))){
objj_msgSend(_129,"removeObserver:name:object:",_delegate,CPTableViewColumnDidMoveNotification,self);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewColumnDidResize:"))){
objj_msgSend(_129,"removeObserver:name:object:",_delegate,CPTableViewColumnDidResizeNotification,self);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewSelectionDidChange:"))){
objj_msgSend(_129,"removeObserver:name:object:",_delegate,CPTableViewSelectionDidChangeNotification,self);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewSelectionIsChanging:"))){
objj_msgSend(_129,"removeObserver:name:object:",_delegate,CPTableViewSelectionIsChangingNotification,self);
}
}
_delegate=_128;
_implementedDelegateMethods=0;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("selectionShouldChangeInTableView:"))){
_implementedDelegateMethods|=_7;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:dataViewForTableColumn:row:"))){
_implementedDelegateMethods|=_8;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:didClickTableColumn:"))){
_implementedDelegateMethods|=_9;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:didDragTableColumn:"))){
_implementedDelegateMethods|=_a;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:heightOfRow:"))){
_implementedDelegateMethods|=_b;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:isGroupRow:"))){
_implementedDelegateMethods|=_c;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:mouseDownInHeaderOfTableColumn:"))){
_implementedDelegateMethods|=_d;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:nextTypeSelectMatchFromRow:toRow:forString:"))){
_implementedDelegateMethods|=_e;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:selectionIndexesForProposedSelection:"))){
_implementedDelegateMethods|=_f;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:shouldEditTableColumn:row:"))){
_implementedDelegateMethods|=_10;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:shouldSelectRow:"))){
_implementedDelegateMethods|=_11;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:shouldSelectTableColumn:"))){
_implementedDelegateMethods|=_12;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:shouldShowViewExpansionForTableColumn:row:"))){
_implementedDelegateMethods|=_13;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:shouldTrackView:forTableColumn:row:"))){
_implementedDelegateMethods|=_14;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:shouldTypeSelectForEvent:withCurrentSearchString:"))){
_implementedDelegateMethods|=_15;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:toolTipForView:rect:tableColumn:row:mouseLocation:"))){
_implementedDelegateMethods|=_16;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:typeSelectStringForTableColumn:row:"))){
_implementedDelegateMethods|=_17;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableView:willDisplayView:forTableColumn:row:"))){
_implementedDelegateMethods|=_18;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewColumnDidMove:"))){
objj_msgSend(_129,"addObserver:selector:name:object:",_delegate,sel_getUid("tableViewColumnDidMove:"),CPTableViewColumnDidMoveNotification,self);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewColumnDidResize:"))){
objj_msgSend(_129,"addObserver:selector:name:object:",_delegate,sel_getUid("tableViewColumnDidMove:"),CPTableViewColumnDidResizeNotification,self);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewSelectionDidChange:"))){
objj_msgSend(_129,"addObserver:selector:name:object:",_delegate,sel_getUid("tableViewSelectionDidChange:"),CPTableViewSelectionDidChangeNotification,self);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewSelectionIsChanging:"))){
objj_msgSend(_129,"addObserver:selector:name:object:",_delegate,sel_getUid("tableViewSelectionIsChanging:"),CPTableViewSelectionIsChangingNotification,self);
}
}
}),new objj_method(sel_getUid("delegate"),function(self,_12a){
with(self){
return _delegate;
}
}),new objj_method(sel_getUid("canDragRowsWithIndexes:atPoint:"),function(self,_12b,_12c,_12d){
with(self){
return YES;
}
}),new objj_method(sel_getUid("dragImageForRowsWithIndexes:tableColumns:event:offset:"),function(self,_12e,_12f,_130,_131,_132){
with(self){
var _133=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:","Frameworks/AppKit/Resources/GenericFile.png",CGSizeMake(32,32));
return _133;
}
}),new objj_method(sel_getUid("setDraggingSourceOperationMask:forLocal:"),function(self,_134,mask,_135){
with(self){
_dragOperationDefaultMask=mask;
}
}),new objj_method(sel_getUid("setDropRow:dropOperation:"),function(self,_136,row,_137){
with(self){
if(row<0&&_137===CPTableViewDropAbove){
row=0;
}
if(row>=objj_msgSend(self,"numberOfRows")&&_137===CPTableViewDropOn){
objj_msgSend(objj_msgSend(CPException,"exceptionWithName:reason:userInfo:","Error","Attempt to set dropRow="+row+", dropOperation=CPTableViewDropOn when [0 - "+objj_msgSend(self,"numberOfRows")+"] is valid range of rows.",nil),"raise");
}
_retargetedDropRow=row;
_retargetedDropOperation=_137;
}
}),new objj_method(sel_getUid("setDraggingDestinationFeedbackStyle:"),function(self,_138,_139){
with(self){
_destinationDragStyle=_139;
}
}),new objj_method(sel_getUid("draggingDestinationFeedbackStyle"),function(self,_13a){
with(self){
return _destinationDragStyle;
}
}),new objj_method(sel_getUid("setVerticalMotionCanBeginDrag:"),function(self,_13b,_13c){
with(self){
_verticalMotionCanDrag=_13c;
}
}),new objj_method(sel_getUid("verticalMotionCanBeginDrag"),function(self,_13d){
with(self){
return _verticalMotionCanDrag;
}
}),new objj_method(sel_getUid("_objectValueForTableColumn:row:"),function(self,_13e,_13f,_140){
with(self){
var _141=objj_msgSend(_13f,"UID"),_142=_objectValues[_141];
if(!_142){
_142=[];
_objectValues[_141]=_142;
}
var _143=_142[_140];
if(_143===undefined){
_143=objj_msgSend(_dataSource,"tableView:objectValueForTableColumn:row:",self,_13f,_140);
_142[_140]=_143;
}
return _143;
}
}),new objj_method(sel_getUid("_exposedRect"),function(self,_144){
with(self){
var _145=objj_msgSend(self,"superview");
if(!objj_msgSend(_145,"isKindOfClass:",objj_msgSend(CPClipView,"class"))){
return objj_msgSend(self,"bounds");
}
return objj_msgSend(self,"convertRect:fromView:",CGRectIntersection(objj_msgSend(_145,"bounds"),objj_msgSend(self,"frame")),_145);
}
}),new objj_method(sel_getUid("load"),function(self,_146){
with(self){
if(_reloadAllRows){
objj_msgSend(self,"_unloadDataViewsInRows:columns:",_exposedRows,_exposedColumns);
_exposedRows=objj_msgSend(CPIndexSet,"indexSet");
_exposedColumns=objj_msgSend(CPIndexSet,"indexSet");
_reloadAllRows=NO;
}
var _147=objj_msgSend(self,"_exposedRect"),_148=objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",objj_msgSend(self,"rowsInRect:",_147)),_149=objj_msgSend(self,"columnIndexesInRect:",_147),_14a=objj_msgSend(_exposedRows,"copy"),_14b=objj_msgSend(_exposedColumns,"copy");
objj_msgSend(_14a,"removeIndexes:",_148);
objj_msgSend(_14b,"removeIndexes:",_149);
var _14c=objj_msgSend(_148,"copy"),_14d=objj_msgSend(_149,"copy");
objj_msgSend(_14c,"removeIndexes:",_exposedRows);
objj_msgSend(_14d,"removeIndexes:",_exposedColumns);
var _14e=objj_msgSend(_148,"copy"),_14f=objj_msgSend(_149,"copy");
objj_msgSend(_14e,"removeIndexes:",_14c);
objj_msgSend(_14f,"removeIndexes:",_14d);
objj_msgSend(self,"_unloadDataViewsInRows:columns:",_14e,_14b);
objj_msgSend(self,"_unloadDataViewsInRows:columns:",_14a,_14f);
objj_msgSend(self,"_unloadDataViewsInRows:columns:",_14a,_14b);
objj_msgSend(self,"_loadDataViewsInRows:columns:",_14e,_14d);
objj_msgSend(self,"_loadDataViewsInRows:columns:",_14c,_14f);
objj_msgSend(self,"_loadDataViewsInRows:columns:",_14c,_14d);
_exposedRows=_148;
_exposedColumns=_149;
objj_msgSend(_tableDrawView,"setFrame:",_147);
objj_msgSend(_tableDrawView,"display");
for(identifier in _cachedDataViews){
var _150=_cachedDataViews[identifier],_151=_150.length;
while(_151--){
objj_msgSend(_150[_151],"removeFromSuperview");
}
}
}
}),new objj_method(sel_getUid("_unloadDataViewsInRows:columns:"),function(self,_152,rows,_153){
with(self){
if(!objj_msgSend(rows,"count")||!objj_msgSend(_153,"count")){
return;
}
var _154=[],_155=[];
objj_msgSend(rows,"getIndexes:maxCount:inIndexRange:",_154,-1,nil);
objj_msgSend(_153,"getIndexes:maxCount:inIndexRange:",_155,-1,nil);
var _156=0,_157=_155.length;
for(;_156<_157;++_156){
var _158=_155[_156],_159=_tableColumns[_158],_15a=objj_msgSend(_159,"UID");
var _15b=0,_15c=_154.length;
for(;_15b<_15c;++_15b){
var row=_154[_15b],_15d=_dataViewsForTableColumns[_15a][row];
_dataViewsForTableColumns[_15a][row]=nil;
objj_msgSend(self,"_enqueueReusableDataView:",_15d);
}
}
}
}),new objj_method(sel_getUid("_loadDataViewsInRows:columns:"),function(self,_15e,rows,_15f){
with(self){
if(!objj_msgSend(rows,"count")||!objj_msgSend(_15f,"count")){
return;
}
var _160=[],_161=[],_162=[];
objj_msgSend(rows,"getIndexes:maxCount:inIndexRange:",_160,-1,nil);
objj_msgSend(_15f,"getIndexes:maxCount:inIndexRange:",_162,-1,nil);
if(_dirtyTableColumnRangeIndex!==CPNotFound){
objj_msgSend(self,"_recalculateTableColumnRanges");
}
var _163=0,_164=_162.length;
for(;_163<_164;++_163){
var _165=_162[_163],_166=_tableColumns[_165],_167=objj_msgSend(_166,"UID");
if(!_dataViewsForTableColumns[_167]){
_dataViewsForTableColumns[_167]=[];
}
var _168=0,_169=_160.length;
var _16a=objj_msgSend(_selectedColumnIndexes,"containsIndex:",_165);
for(;_168<_169;++_168){
var row=_160[_168],_16b=objj_msgSend(self,"_newDataViewForRow:tableColumn:",row,_166),_16c=objj_msgSend(_16b,"isKindOfClass:",objj_msgSend(CPTextField,"class"));
objj_msgSend(_16b,"setFrame:",objj_msgSend(self,"frameOfDataViewAtColumn:row:",_165,row));
objj_msgSend(_16b,"setObjectValue:",objj_msgSend(self,"_objectValueForTableColumn:row:",_166,row));
if(_16a||objj_msgSend(self,"isRowSelected:",row)){
objj_msgSend(_16b,"setThemeState:",CPThemeStateHighlighted);
}else{
objj_msgSend(_16b,"unsetThemeState:",CPThemeStateHighlighted);
}
if(_implementedDelegateMethods&_18){
objj_msgSend(objj_msgSend(self,"delegate"),"tableView:willDisplayView:forTableColumn:row:",self,_16b,_166,row);
}
if(objj_msgSend(_16b,"superview")!==self){
objj_msgSend(self,"addSubview:",_16b);
}
_dataViewsForTableColumns[_167][row]=_16b;
if(_editingCellIndex&&_editingCellIndex.x===_165&&_editingCellIndex.y===row){
_editingCellIndex=undefined;
if(_16c){
objj_msgSend(_16b,"setEditable:",YES);
objj_msgSend(_16b,"setSendsActionOnEndEditing:",YES);
objj_msgSend(_16b,"setSelectable:",YES);
objj_msgSend(_16b,"selectText:",nil);
}
objj_msgSend(_16b,"setTarget:",self);
objj_msgSend(_16b,"setAction:",sel_getUid("_commitDataViewObjectValue:"));
_16b.tableViewEditedColumnObj=_166;
_16b.tableViewEditedRowIndex=row;
}else{
if(_16c){
objj_msgSend(_16b,"setEditable:",NO);
objj_msgSend(_16b,"setSelectable:",NO);
}
}
}
}
}
}),new objj_method(sel_getUid("_commitDataViewObjectValue:"),function(self,_16d,_16e){
with(self){
objj_msgSend(_dataSource,"tableView:setObjectValue:forTableColumn:row:",self,objj_msgSend(_16e,"objectValue"),_16e.tableViewEditedColumnObj,_16e.tableViewEditedRowIndex);
}
}),new objj_method(sel_getUid("_newDataViewForRow:tableColumn:"),function(self,_16f,aRow,_170){
with(self){
return objj_msgSend(_170,"_newDataViewForRow:",aRow);
}
}),new objj_method(sel_getUid("_enqueueReusableDataView:"),function(self,_171,_172){
with(self){
var _173=_172.identifier;
if(!_cachedDataViews[_173]){
_cachedDataViews[_173]=[_172];
}else{
_cachedDataViews[_173].push(_172);
}
}
}),new objj_method(sel_getUid("setFrameSize:"),function(self,_174,_175){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPControl")},"setFrameSize:",_175);
if(_headerView){
objj_msgSend(_headerView,"setFrameSize:",{width:(objj_msgSend(self,"frame").size.width),height:(objj_msgSend(_headerView,"frame").size.height)});
}
}
}),new objj_method(sel_getUid("exposedClipRect"),function(self,_176){
with(self){
var _177=objj_msgSend(self,"superview");
if(!objj_msgSend(_177,"isKindOfClass:",objj_msgSend(CPClipView,"class"))){
return objj_msgSend(self,"bounds");
}
return objj_msgSend(self,"convertRect:fromView:",CGRectIntersection(objj_msgSend(_177,"bounds"),objj_msgSend(self,"frame")),_177);
}
}),new objj_method(sel_getUid("_drawRect:"),function(self,_178,_179){
with(self){
var _17a=objj_msgSend(self,"_exposedRect");
objj_msgSend(self,"drawBackgroundInClipRect:",_17a);
objj_msgSend(self,"drawGridInClipRect:",_17a);
objj_msgSend(self,"highlightSelectionInClipRect:",_17a);
}
}),new objj_method(sel_getUid("drawBackgroundInClipRect:"),function(self,_17b,_17c){
with(self){
if(!objj_msgSend(self,"usesAlternatingRowBackgroundColors")){
return;
}
var _17d=objj_msgSend(self,"alternatingRowBackgroundColors"),_17e=objj_msgSend(_17d,"count");
if(_17e===0){
return;
}
var _17f=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
if(_17e===1){
CGContextSetFillColor(_17f,_17d[0]);
CGContextFillRect(_17f,_17c);
return;
}
var _180=objj_msgSend(self,"rowsInRect:",_17c),_181=_180.location,_182=CPMaxRange(_180)-1,_183=MIN(_180.length,_17e),_184=0;
while(_183--){
var row=_181%_17e+_181+_183,_185=nil;
CGContextBeginPath(_17f);
for(;row<=_182;row+=_17e){
CGContextAddRect(_17f,CGRectIntersection(_17c,_185=objj_msgSend(self,"rectOfRow:",row)));
}
if(row-_17e===_182){
_184=(_185.origin.y+_185.size.height);
}
CGContextClosePath(_17f);
CGContextSetFillColor(_17f,_17d[_183]);
CGContextFillPath(_17f);
}
var _186=(_17c.origin.y+_17c.size.height);
if(_184>=_186||_rowHeight<=0){
return;
}
var _187=_rowHeight+_intercellSpacing.height,_185={origin:{x:(_17c.origin.x),y:(_17c.origin.y)+_184},size:{width:(_17c.size.width),height:_187}};
for(row=_182+1;_184<_186;++row){
CGContextSetFillColor(_17f,_17d[row%_17e]);
CGContextFillRect(_17f,_185);
_184+=_187;
_185.origin.y+=_187;
}
}
}),new objj_method(sel_getUid("drawGridInClipRect:"),function(self,_188,_189){
with(self){
var _18a=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_18b=objj_msgSend(self,"gridStyleMask");
if(!(_18b&(CPTableViewSolidHorizontalGridLineMask|CPTableViewSolidVerticalGridLineMask))){
return;
}
CGContextBeginPath(_18a);
if(_18b&CPTableViewSolidHorizontalGridLineMask){
var _18c=objj_msgSend(self,"rowsInRect:",_189);
row=_18c.location,lastRow=CPMaxRange(_18c)-1,rowY=0,minX=(_189.origin.x),maxX=(_189.origin.x+_189.size.width);
for(;row<=lastRow;++row){
var _18d=objj_msgSend(self,"rectOfRow:",row),rowY=(_18d.origin.y+_18d.size.height)-0.5;
CGContextMoveToPoint(_18a,minX,rowY);
CGContextAddLineToPoint(_18a,maxX,rowY);
}
if(_rowHeight>0){
var _18e=_rowHeight+_intercellSpacing.height,_18f=(_189.origin.y+_189.size.height);
while(rowY<_18f){
rowY+=_18e;
CGContextMoveToPoint(_18a,minX,rowY);
CGContextAddLineToPoint(_18a,maxX,rowY);
}
}
}
if(_18b&CPTableViewSolidVerticalGridLineMask){
var _190=objj_msgSend(self,"columnIndexesInRect:",_189),_191=[];
objj_msgSend(_190,"getIndexes:maxCount:inIndexRange:",_191,-1,nil);
var _192=0,_193=_191.length,minY=(_189.origin.y),maxY=(_189.origin.y+_189.size.height);
for(;_192<_193;++_192){
var _194=objj_msgSend(self,"rectOfColumn:",_191[_192]),_195=(_194.origin.x+_194.size.width)+0.5;
CGContextMoveToPoint(_18a,_195,minY);
CGContextAddLineToPoint(_18a,_195,maxY);
}
}
CGContextClosePath(_18a);
CGContextSetStrokeColor(_18a,_gridColor);
CGContextStrokePath(_18a);
}
}),new objj_method(sel_getUid("highlightSelectionInClipRect:"),function(self,_196,_197){
with(self){
if(objj_msgSend(self,"selectionHighlightStyle")===CPTableViewSelectionHighlightStyleSourceList){
objj_msgSend(objj_msgSend(CPColor,"selectionColorSourceView"),"setFill");
}else{
objj_msgSend(objj_msgSend(CPColor,"selectionColor"),"setFill");
}
var _198=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_199=[],_19a=sel_getUid("rectOfRow:");
objj_msgSend(_selectionHightlightColor,"setFill");
if(objj_msgSend(_selectedRowIndexes,"count")>=1){
var _19b=objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",objj_msgSend(self,"rowsInRect:",_197)),_19c=objj_msgSend(_19b,"firstIndex"),_19d=CPMakeRange(_19c,objj_msgSend(_19b,"lastIndex")-_19c+1);
objj_msgSend(_selectedRowIndexes,"getIndexes:maxCount:inIndexRange:",_199,-1,_19d);
}else{
if(objj_msgSend(_selectedColumnIndexes,"count")>=1){
_19a=sel_getUid("rectOfColumn:");
var _19e=objj_msgSend(self,"columnIndexesInRect:",_197),_19f=objj_msgSend(_19e,"firstIndex"),_19d=CPMakeRange(_19f,objj_msgSend(_19e,"lastIndex")-_19f+1);
objj_msgSend(_selectedColumnIndexes,"getIndexes:maxCount:inIndexRange:",_199,-1,_19d);
}
}
var _1a0=objj_msgSend(_199,"count");
if(!_1a0){
return;
}
var _1a1=_1a0;
CGContextBeginPath(_198);
while(_1a0--){
CGContextAddRect(_198,CGRectIntersection(objj_msgSend(self,_19a,_199[_1a0]),_197));
}
CGContextClosePath(_198);
CGContextFillPath(_198);
CGContextBeginPath(_198);
gridStyleMask=objj_msgSend(self,"gridStyleMask");
for(var i=0;i<_1a1-1;i++){
var rect=objj_msgSend(self,"rectOfRow:",_199[i]),minX=(rect.origin.x)-0.5,maxX=(rect.origin.x+rect.size.width)-0.5,minY=(rect.origin.y)-0.5,maxY=(rect.origin.y+rect.size.height)-0.5;
CGContextMoveToPoint(_198,minX,maxY);
CGContextAddLineToPoint(_198,maxX,maxY);
}
CGContextClosePath(_198);
CGContextSetStrokeColor(_198,objj_msgSend(CPColor,"whiteColor"));
CGContextStrokePath(_198);
}
}),new objj_method(sel_getUid("layoutSubviews"),function(self,_1a2){
with(self){
objj_msgSend(self,"load");
}
}),new objj_method(sel_getUid("viewWillMoveToSuperview:"),function(self,_1a3,_1a4){
with(self){
var _1a5=objj_msgSend(self,"superview"),_1a6=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_1a5){
objj_msgSend(_1a6,"removeObserver:name:object:",self,CPViewFrameDidChangeNotification,_1a5);
objj_msgSend(_1a6,"removeObserver:name:object:",self,CPViewBoundsDidChangeNotification,_1a5);
}
if(_1a4){
objj_msgSend(_1a4,"setPostsFrameChangedNotifications:",YES);
objj_msgSend(_1a4,"setPostsBoundsChangedNotifications:",YES);
objj_msgSend(_1a6,"addObserver:selector:name:object:",self,sel_getUid("superviewFrameChanged:"),CPViewFrameDidChangeNotification,_1a4);
objj_msgSend(_1a6,"addObserver:selector:name:object:",self,sel_getUid("superviewBoundsChanged:"),CPViewBoundsDidChangeNotification,_1a4);
}
}
}),new objj_method(sel_getUid("superviewBoundsChanged:"),function(self,_1a7,_1a8){
with(self){
objj_msgSend(self,"setNeedsDisplay:",YES);
objj_msgSend(self,"setNeedsLayout");
}
}),new objj_method(sel_getUid("superviewFrameChanged:"),function(self,_1a9,_1aa){
with(self){
objj_msgSend(self,"tile");
}
}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),function(self,_1ab){
with(self){
return YES;
}
}),new objj_method(sel_getUid("startTrackingAt:"),function(self,_1ac,_1ad){
with(self){
var row=objj_msgSend(self,"rowAtPoint:",_1ad);
if(row<0&&_allowsEmptySelection){
objj_msgSend(self,"selectRowIndexes:byExtendingSelection:",objj_msgSend(CPIndexSet,"indexSet"),NO);
}
objj_msgSend(self,"_noteSelectionIsChanging");
if(objj_msgSend(self,"mouseDownFlags")&CPShiftKeyMask){
_selectionAnchorRow=(ABS(objj_msgSend(_selectedRowIndexes,"firstIndex")-row)<ABS(objj_msgSend(_selectedRowIndexes,"lastIndex")-row))?objj_msgSend(_selectedRowIndexes,"firstIndex"):objj_msgSend(_selectedRowIndexes,"lastIndex");
}else{
_selectionAnchorRow=row;
}
if(_implementedDataSourceMethods&_1){
_startTrackingPoint=_1ad;
_startTrackingTimestamp=new Date();
_trackingPointMovedOutOfClickSlop=NO;
}
if(!(_implementedDataSourceMethods&_5)){
_previouslySelectedRowIndexes=nil;
objj_msgSend(self,"_updateSelectionWithMouseAtRow:",row);
}
objj_msgSend(objj_msgSend(self,"window"),"makeFirstResponder:",self);
return YES;
}
}),new objj_method(sel_getUid("continueTracking:at:"),function(self,_1ae,_1af,_1b0){
with(self){
var row=objj_msgSend(self,"rowAtPoint:",_1b0);
if(!_isSelectingSession&&(_implementedDataSourceMethods&_5)&&((_1af.x-_1b0.x>3||(_verticalMotionCanDrag&&ABS(_1af.y-_1b0.y)>3))||(objj_msgSend(_selectedRowIndexes,"containsIndex:",row)))){
if(objj_msgSend(_selectedRowIndexes,"containsIndex:",row)){
_draggedRowIndexes=objj_msgSend(objj_msgSend(CPIndexSet,"alloc"),"initWithIndexSet:",_selectedRowIndexes);
}else{
_draggedRowIndexes=objj_msgSend(CPIndexSet,"indexSetWithIndex:",row);
}
var _1b1=objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard);
if(objj_msgSend(self,"canDragRowsWithIndexes:atPoint:",_draggedRowIndexes,_1b0)&&objj_msgSend(_dataSource,"tableView:writeRowsWithIndexes:toPasteboard:",self,_draggedRowIndexes,_1b1)){
var _1b2=objj_msgSend(self,"dragImageForRowsWithIndexes:tableColumns:event:offset:",_draggedRowIndexes,_exposedColumns,objj_msgSend(CPApp,"currentEvent"),CGSizeMakeZero());
objj_msgSend(self,"dragImage:at:offset:event:pasteboard:source:slideBack:",_1b2,_1b0,CGSizeMakeZero(),objj_msgSend(CPApp,"currentEvent"),_1b1,self,YES);
return NO;
}
}
_isSelectingSession=YES;
objj_msgSend(self,"_updateSelectionWithMouseAtRow:",row);
objj_msgSend(self,"_updateSelectionWithMouseAtRow:",objj_msgSend(self,"rowAtPoint:",_1b0));
if((_implementedDataSourceMethods&_1)&&!_trackingPointMovedOutOfClickSlop){
var _1b3=5;
if(ABS(_1b0.x-_startTrackingPoint.x)>_1b3||ABS(_1b0.y-_startTrackingPoint.y)>_1b3){
_trackingPointMovedOutOfClickSlop=YES;
}
}
return YES;
}
}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(self,_1b4,_1b5,_1b6,_1b7){
with(self){
_isSelectingSession=NO;
var _1b8=1000,_1b9,_1ba,_1bb,_1bc=YES;
if(_implementedDataSourceMethods&_5){
_1bb=objj_msgSend(self,"rowAtPoint:",_1b6);
if(_1bb!==-1){
if(_draggedRowIndexes!==nil){
_draggedRowIndexes=nil;
return;
}
_previouslySelectedRowIndexes=nil;
objj_msgSend(self,"_updateSelectionWithMouseAtRow:",_1bb);
}
}
if(!objj_msgSend(_previouslySelectedRowIndexes,"isEqualToIndexSet:",_selectedRowIndexes)){
objj_msgSend(self,"_noteSelectionDidChange");
}
if(_1b7&&(_implementedDataSourceMethods&_1)&&!_trackingPointMovedOutOfClickSlop&&(objj_msgSend(objj_msgSend(CPApp,"currentEvent"),"clickCount")>1)){
_1b9=objj_msgSend(self,"columnAtPoint:",_1b5);
if(_1b9!==-1){
_1ba=_tableColumns[_1b9];
if(objj_msgSend(_1ba,"isEditable")){
_1bb=objj_msgSend(self,"rowAtPoint:",_1b6);
if(_1bb!==-1){
if(_implementedDelegateMethods&_10){
_1bc=objj_msgSend(_delegate,"tableView:shouldEditTableColumn:row:",self,_1ba,_1bb);
}
if(_1bc){
_editingCellIndex=CGPointMake(_1b9,_1bb);
objj_msgSend(self,"reloadDataForRowIndexes:columnIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",_1bb),objj_msgSend(CPIndexSet,"indexSetWithIndex:",_1b9));
return;
}
}
}
}
}
if(objj_msgSend(objj_msgSend(CPApp,"currentEvent"),"clickCount")===2&&_doubleAction&&_target){
objj_msgSend(self,"sendAction:to:",_doubleAction,_target);
}
}
}),new objj_method(sel_getUid("draggingEntered:"),function(self,_1bd,_1be){
with(self){
}
}),new objj_method(sel_getUid("draggingExited:"),function(self,_1bf,_1c0){
with(self){
objj_msgSend(_dropOperationFeedbackView,"setHidden:",YES);
}
}),new objj_method(sel_getUid("draggingEnded:"),function(self,_1c1,_1c2){
with(self){
_retargetedDropOperation=nil;
_retargetedDropRow=nil;
objj_msgSend(_dropOperationFeedbackView,"setHidden:",YES);
}
}),new objj_method(sel_getUid("wantsPeriodicDraggingUpdates"),function(self,_1c3){
with(self){
return YES;
}
}),new objj_method(sel_getUid("_proposedDropOperation"),function(self,_1c4){
with(self){
if(_retargetedDropOperation!==nil){
return _retargetedDropOperation;
}else{
return CPTableViewDropAbove;
}
}
}),new objj_method(sel_getUid("draggingUpdated:"),function(self,_1c5,_1c6){
with(self){
var _1c7=objj_msgSend(_1c6,"draggingLocation"),_1c8=objj_msgSend(objj_msgSend(self,"superview"),"superview"),_1c9=objj_msgSend(_1c8,"contentView"),_1ca=objj_msgSend(self,"_proposedDropOperation");
_1c7=objj_msgSend(_1c9,"convertPoint:fromView:",_1c7,nil);
if(_headerView){
_1c7.y+=CGRectGetHeight(objj_msgSend(_headerView,"bounds"));
}
var row=objj_msgSend(self,"rowAtPoint:",_1c7)-1;
if(row<0&&_1ca===CPTableViewDropOn){
row=objj_msgSend(self,"numberOfRows")-1;
}else{
if(row<0){
row=objj_msgSend(self,"numberOfRows")-1;
}
}
if(!(_implementedDataSourceMethods&_4)){
var _1cb=CPDragOperationNone;
}else{
var _1cb=objj_msgSend(_dataSource,"tableView:validateDrop:proposedRow:proposedDropOperation:",self,_1c6,row,_1ca);
}
if(_retargetedDropRow!==nil){
row=_retargetedDropRow;
}
if(_retargetedDropRow===-1){
var _1cc=objj_msgSend(self,"exposedClipRect");
}else{
var _1cc=objj_msgSend(self,"rectOfRow:",row);
}
if(objj_msgSend(objj_msgSend(objj_msgSend(self,"superview"),"superview"),"isKindOfClass:",objj_msgSend(CPScrollView,"class"))){
var _1cd=(objj_msgSend(objj_msgSend(objj_msgSend(self,"superview"),"superview"),"bounds").size.width);
}else{
var _1cd=row.size.width;
}
_1cc={origin:{x:(objj_msgSend(self,"_exposedRect").origin.x),y:_1cc.origin.y},size:{width:_1cd,height:_1cc.size.height}};
objj_msgSend(_dropOperationFeedbackView,"setDropOperation:",objj_msgSend(self,"_proposedDropOperation"));
objj_msgSend(_dropOperationFeedbackView,"setHidden:",NO);
objj_msgSend(_dropOperationFeedbackView,"setFrame:",_1cc);
objj_msgSend(_dropOperationFeedbackView,"setCurrentRow:",row);
objj_msgSend(self,"addSubview:",_dropOperationFeedbackView);
return _1cb;
}
}),new objj_method(sel_getUid("prepareForDragOperation:"),function(self,_1ce,_1cf){
with(self){
objj_msgSend(_dropOperationFeedbackView,"setHidden:",YES);
return (_implementedDataSourceMethods&_4);
}
}),new objj_method(sel_getUid("performDragOperation:"),function(self,_1d0,_1d1){
with(self){
var _1d2=objj_msgSend(self,"_proposedDropOperation"),_1d3=objj_msgSend(_1d1,"draggingLocation"),_1d4=objj_msgSend(objj_msgSend(self,"superview"),"superview"),_1d5=objj_msgSend(_1d4,"contentView");
_1d3=objj_msgSend(_1d5,"convertPoint:fromView:",_1d3,_1d4);
if(_retargetedDropRow!==nil){
var row=_retargetedDropRow;
}else{
var row=objj_msgSend(self,"rowAtPoint:",_1d3)-1;
}
return objj_msgSend(_dataSource,"tableView:acceptDrop:row:dropOperation:",self,_1d1,row,_1d2);
}
}),new objj_method(sel_getUid("concludeDragOperation:"),function(self,_1d6,_1d7){
with(self){
objj_msgSend(self,"reloadData");
}
}),new objj_method(sel_getUid("draggedImage:endedAt:operation:"),function(self,_1d8,_1d9,_1da,_1db){
with(self){
if(objj_msgSend(_dataSource,"respondsToSelector:",sel_getUid("tableView:didEndDraggedImage:atPosition:operation:"))){
objj_msgSend(_dataSource,"tableView:didEndDraggedImage:atPosition:operation:",self,_1d9,_1da,_1db);
}
}
}),new objj_method(sel_getUid("draggedView:endedAt:operation:"),function(self,_1dc,_1dd,_1de,_1df){
with(self){
objj_msgSend(self,"draggedImage:endedAt:operation:",_1dd,_1de,_1df);
}
}),new objj_method(sel_getUid("_updateSelectionWithMouseAtRow:"),function(self,_1e0,aRow){
with(self){
if(aRow<0){
return;
}
if(objj_msgSend(self,"mouseDownFlags")&(CPCommandKeyMask|CPControlKeyMask|CPAlternateKeyMask)){
if(objj_msgSend(_selectedRowIndexes,"containsIndex:",aRow)){
newSelection=objj_msgSend(_selectedRowIndexes,"copy");
objj_msgSend(newSelection,"removeIndex:",aRow);
}else{
if(_allowsMultipleSelection){
newSelection=objj_msgSend(_selectedRowIndexes,"copy");
objj_msgSend(newSelection,"addIndex:",aRow);
}else{
newSelection=objj_msgSend(CPIndexSet,"indexSetWithIndex:",aRow);
}
}
}else{
if(_allowsMultipleSelection){
newSelection=objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",CPMakeRange(MIN(aRow,_selectionAnchorRow),ABS(aRow-_selectionAnchorRow)+1));
}else{
if(aRow>=0&&aRow<_numberOfRows){
newSelection=objj_msgSend(CPIndexSet,"indexSetWithIndex:",aRow);
}else{
newSelection=objj_msgSend(CPIndexSet,"indexSet");
}
}
}
if(objj_msgSend(newSelection,"isEqualToIndexSet:",_selectedRowIndexes)){
return;
}
if(_implementedDelegateMethods&_7&&!objj_msgSend(_delegate,"selectionShouldChangeInTableView:",self)){
return;
}
if(_implementedDelegateMethods&_f){
newSelection=objj_msgSend(_delegate,"tableView:selectionIndexesForProposedSelection:",self,newSelection);
}
if(_implementedDelegateMethods&_11){
var _1e1=[];
objj_msgSend(newSelection,"getIndexes:maxCount:inIndexRange:",_1e1,-1,nil);
var _1e2=_1e1.length;
while(_1e2--){
var _1e3=_1e1[_1e2];
if(!objj_msgSend(_delegate,"tableView:shouldSelectRow:",self,_1e3)){
objj_msgSend(newSelection,"removeIndex:",_1e3);
}
}
}
if(!_allowsEmptySelection&&objj_msgSend(newSelection,"count")===0){
return;
}
if(objj_msgSend(newSelection,"isEqualToIndexSet:",_selectedRowIndexes)){
return;
}
if(!_previouslySelectedRowIndexes){
_previouslySelectedRowIndexes=objj_msgSend(_selectedRowIndexes,"copy");
}
objj_msgSend(self,"selectRowIndexes:byExtendingSelection:",newSelection,NO);
objj_msgSend(self,"_noteSelectionIsChanging");
}
}),new objj_method(sel_getUid("_noteSelectionIsChanging"),function(self,_1e4){
with(self){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPTableViewSelectionIsChangingNotification,self,nil);
}
}),new objj_method(sel_getUid("_noteSelectionDidChange"),function(self,_1e5){
with(self){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPTableViewSelectionDidChangeNotification,self,nil);
}
}),new objj_method(sel_getUid("becomeFirstResponder"),function(self,_1e6){
with(self){
return YES;
}
}),new objj_method(sel_getUid("acceptsFirstResponder"),function(self,_1e7){
with(self){
return YES;
}
}),new objj_method(sel_getUid("keyDown:"),function(self,_1e8,_1e9){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPControl")},"keyDown:",_1e9);
objj_msgSend(self,"interpretKeyEvents:",objj_msgSend(CPArray,"arrayWithObject:",_1e9));
}
}),new objj_method(sel_getUid("interpretKeyEvents:"),function(self,_1ea,_1eb){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPControl")},"interpretKeyEvents:",_1eb);
for(var i=0;i<objj_msgSend(_1eb,"count");i++){
var _1ec=objj_msgSend(_1eb,"objectAtIndex:",i),key=objj_msgSend(_1ec,"keyCode");
if(key===CPDeleteKeyCode&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tableViewDeleteKeyPressed:"))){
objj_msgSend(_delegate,"tableViewDeleteKeyPressed:",self);
}
if(key===CPUpArrowKeyCode){
if(objj_msgSend(objj_msgSend(self,"selectedRowIndexes"),"count")>0){
var _1ed=NO;
if((objj_msgSend(_1ec,"modifierFlags")&CPShiftKeyMask)&&_allowsMultipleSelection){
_1ed=YES;
}
var i=objj_msgSend(objj_msgSend(self,"selectedRowIndexes"),"firstIndex");
if(i>0){
i--;
}
}else{
var _1ed=NO;
if(objj_msgSend(self,"numberOfRows")>0){
var i=objj_msgSend(self,"numberOfRows")-1;
}
}
if(_implementedDelegateMethods&_11){
while((!objj_msgSend(_delegate,"tableView:shouldSelectRow:",self,i))&&i>0){
i--;
}
if(!objj_msgSend(_delegate,"tableView:shouldSelectRow:",self,i)){
return;
}
}
objj_msgSend(self,"selectRowIndexes:byExtendingSelection:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",i),_1ed);
if(i){
objj_msgSend(self,"scrollRowToVisible:",i);
objj_msgSend(self,"_noteSelectionDidChange");
}
}
if(key==CPDownArrowKeyCode){
if(objj_msgSend(objj_msgSend(self,"selectedRowIndexes"),"count")>0){
var _1ed=NO;
if((objj_msgSend(_1ec,"modifierFlags")&CPShiftKeyMask)&&_allowsMultipleSelection){
_1ed=YES;
}
var i=objj_msgSend(objj_msgSend(self,"selectedRowIndexes"),"lastIndex");
if(i<objj_msgSend(self,"numberOfRows")-1){
i++;
}
}else{
var _1ed=NO;
if(objj_msgSend(self,"numberOfRows")>0){
var i=0;
}
}
if(_implementedDelegateMethods&_11){
while((!objj_msgSend(_delegate,"tableView:shouldSelectRow:",self,i))&&i<objj_msgSend(self,"numberOfRows")){
i++;
}
if(!objj_msgSend(_delegate,"tableView:shouldSelectRow:",self,i)){
return;
}
}
objj_msgSend(self,"selectRowIndexes:byExtendingSelection:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",i),_1ed);
if(i){
objj_msgSend(self,"scrollRowToVisible:",i);
objj_msgSend(self,"_noteSelectionDidChange");
}
}
}
}
})]);
var _1ee="CPTableViewDataSourceKey",_1ef="CPTableViewDelegateKey",_1f0="CPTableViewHeaderViewKey",_1f1="CPTableViewTableColumnsKey",_1f2="CPTableViewRowHeightKey",_1f3="CPTableViewIntercellSpacingKey",_1f4="CPTableViewMultipleSelectionKey",_1f5="CPTableViewEmptySelectionKey";
var _1b=objj_getClass("CPTableView");
if(!_1b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTableView\""));
}
var _1c=_1b.isa;
class_addMethods(_1b,[new objj_method(sel_getUid("initWithCoder:"),function(self,_1f6,_1f7){
with(self){
self=objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPControl")},"initWithCoder:",_1f7);
if(self){
_allowsColumnReordering=YES;
_allowsColumnResizing=YES;
_allowsMultipleSelection=objj_msgSend(_1f7,"decodeBoolForKey:",_1f4);
_allowsEmptySelection=objj_msgSend(_1f7,"decodeBoolForKey:",_1f5);
_allowsColumnSelection=NO;
_tableViewFlags=0;
_selectionHighlightMask=CPTableViewSelectionHighlightStyleRegular;
objj_msgSend(self,"setUsesAlternatingRowBackgroundColors:",NO);
objj_msgSend(self,"setAlternatingRowBackgroundColors:",[objj_msgSend(CPColor,"whiteColor"),objj_msgSend(CPColor,"colorWithHexString:","e4e7ff")]);
_tableColumns=objj_msgSend(_1f7,"decodeObjectForKey:",_1f1);
objj_msgSend(_tableColumns,"makeObjectsPerformSelector:withObject:",sel_getUid("setTableView:"),self);
_tableColumnRanges=[];
_dirtyTableColumnRangeIndex=0;
_numberOfHiddenColumns=0;
_objectValues={};
_dataViewsForTableColumns={};
_dataViews=[];
_numberOfRows=0;
_exposedRows=objj_msgSend(CPIndexSet,"indexSet");
_exposedColumns=objj_msgSend(CPIndexSet,"indexSet");
_cachedDataViews={};
_rowHeight=objj_msgSend(_1f7,"decodeFloatForKey:",_1f2);
_intercellSpacing=objj_msgSend(_1f7,"decodeSizeForKey:",_1f3);
_selectionHightlightColor=objj_msgSend(CPColor,"selectionColor");
objj_msgSend(self,"setGridColor:",objj_msgSend(CPColor,"grayColor"));
objj_msgSend(self,"setGridStyleMask:",CPTableViewGridNone);
_headerView=objj_msgSend(objj_msgSend(CPTableHeaderView,"alloc"),"initWithFrame:",CGRectMake(0,0,objj_msgSend(self,"bounds").size.width,_rowHeight));
objj_msgSend(_headerView,"setTableView:",self);
_cornerView=objj_msgSend(objj_msgSend(_CPCornerView,"alloc"),"initWithFrame:",CGRectMake(0,0,objj_msgSend(CPScroller,"scrollerWidth"),CGRectGetHeight(objj_msgSend(_headerView,"frame"))));
_selectedColumnIndexes=objj_msgSend(CPIndexSet,"indexSet");
_selectedRowIndexes=objj_msgSend(CPIndexSet,"indexSet");
objj_msgSend(self,"setDataSource:",objj_msgSend(_1f7,"decodeObjectForKey:",_1ee));
objj_msgSend(self,"setDelegate:",objj_msgSend(_1f7,"decodeObjectForKey:",_1ef));
_tableDrawView=objj_msgSend(objj_msgSend(_CPTableDrawView,"alloc"),"initWithTableView:",self);
objj_msgSend(_tableDrawView,"setBackgroundColor:",objj_msgSend(CPColor,"clearColor"));
objj_msgSend(self,"addSubview:",_tableDrawView);
objj_msgSend(self,"viewWillMoveToSuperview:",objj_msgSend(self,"superview"));
}
return self;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(self,_1f8,_1f9){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_1f9);
objj_msgSend(_1f9,"encodeObject:forKey:",_dataSource,_1ee);
objj_msgSend(_1f9,"encodeObject:forKey:",_delegate,_1ef);
objj_msgSend(_1f9,"encodeFloat:forKey:",_rowHeight,_1f2);
objj_msgSend(_1f9,"encodeSize:forKey:",_intercellSpacing,_1f3);
objj_msgSend(_1f9,"encodeBool:forKey:",_allowsMultipleSelection,_1f4);
objj_msgSend(_1f9,"encodeBool:forKey:",_allowsEmptySelection,_1f5);
objj_msgSend(_1f9,"encodeObject:forKey:",_tableColumns,_1f1);
}
})]);
var _1b=objj_getClass("CPColor");
if(!_1b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPColor\""));
}
var _1c=_1b.isa;
class_addMethods(_1c,[new objj_method(sel_getUid("selectionColor"),function(self,_1fa){
with(self){
return objj_msgSend(CPColor,"colorWithHexString:","5f83b9");
}
}),new objj_method(sel_getUid("selectionColorSourceView"),function(self,_1fb){
with(self){
return objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initByReferencingFile:size:","Resources/tableviewselection.png",CGSizeMake(6,22)));
}
})]);
var _1b=objj_getClass("CPIndexSet");
if(!_1b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPIndexSet\""));
}
var _1c=_1b.isa;
class_addMethods(_1b,[new objj_method(sel_getUid("removeMatches:"),function(self,_1fc,_1fd){
with(self){
var _1fe=objj_msgSend(self,"firstIndex");
var _1ff=MIN(_1fe,objj_msgSend(_1fd,"firstIndex"));
var _200=(_1ff==_1fe);
while(_1ff!=CPNotFound){
var _201=(_200)?_1fd:self;
otherIndex=objj_msgSend(_201,"indexGreaterThanOrEqualToIndex:",_1ff);
if(otherIndex==_1ff){
objj_msgSend(self,"removeIndex:",_1ff);
objj_msgSend(_1fd,"removeIndex:",_1ff);
}
_1ff=otherIndex;
_200=!_200;
}
}
})]);
var _1b=objj_allocateClassPair(CPView,"_dropOperationDrawingView"),_1c=_1b.isa;
class_addIvars(_1b,[new objj_ivar("dropOperation"),new objj_ivar("tableView"),new objj_ivar("currentRow")]);
objj_registerClassPair(_1b);
objj_addClassForBundle(_1b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1b,[new objj_method(sel_getUid("dropOperation"),function(self,_202){
with(self){
return dropOperation;
}
}),new objj_method(sel_getUid("setDropOperation:"),function(self,_203,_204){
with(self){
dropOperation=_204;
}
}),new objj_method(sel_getUid("tableView"),function(self,_205){
with(self){
return tableView;
}
}),new objj_method(sel_getUid("setTableView:"),function(self,_206,_207){
with(self){
tableView=_207;
}
}),new objj_method(sel_getUid("currentRow"),function(self,_208){
with(self){
return currentRow;
}
}),new objj_method(sel_getUid("setCurrentRow:"),function(self,_209,_20a){
with(self){
currentRow=_20a;
}
}),new objj_method(sel_getUid("drawRect:"),function(self,_20b,_20c){
with(self){
if(tableView._destinationDragStyle===CPTableViewDraggingDestinationFeedbackStyleNone){
return;
}
var _20d=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextSetStrokeColor(_20d,objj_msgSend(CPColor,"colorWithHexString:","4886ca"));
CGContextSetLineWidth(_20d,3);
if(dropOperation===CPTableViewDropOn){
var _20e=objj_msgSend(tableView,"selectedRowIndexes");
var _20f={origin:{x:_20c.origin.x+2,y:_20c.origin.y+2},size:{width:_20c.size.width-4,height:_20c.size.height-5}};
if(objj_msgSend(_20e,"containsIndex:",currentRow)){
CGContextSetLineWidth(_20d,2);
CGContextSetStrokeColor(_20d,objj_msgSend(CPColor,"whiteColor"));
}else{
CGContextSetFillColor(_20d,objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",72/255,134/255,202/255,0.25));
CGContextFillRoundedRectangleInRect(_20d,_20f,8,YES,YES,YES,YES);
}
CGContextStrokeRoundedRectangleInRect(_20d,_20f,8,YES,YES,YES,YES);
}
if(dropOperation===CPTableViewDropAbove){
objj_msgSend(self,"setFrameOrigin:",CGPointMake(_frame.origin.x,_frame.origin.y-8));
var _20e=objj_msgSend(tableView,"selectedRowIndexes");
if(objj_msgSend(_20e,"containsIndex:",currentRow-1)||objj_msgSend(_20e,"containsIndex:",currentRow)){
CGContextSetStrokeColor(_20d,objj_msgSend(CPColor,"whiteColor"));
CGContextSetLineWidth(_20d,4);
CGContextStrokeEllipseInRect(_20d,{origin:{x:_20c.origin.x+4,y:_20c.origin.y+4},size:{width:8,height:8}});
CGContextBeginPath(_20d);
CGContextMoveToPoint(_20d,10,_20c.origin.y+8);
CGContextAddLineToPoint(_20d,_20c.size.width-_20c.origin.y-8,_20c.origin.y+8);
CGContextClosePath(_20d);
CGContextStrokePath(_20d);
CGContextSetStrokeColor(_20d,objj_msgSend(CPColor,"colorWithHexString:","4886ca"));
CGContextSetLineWidth(_20d,3);
}
CGContextStrokeEllipseInRect(_20d,{origin:{x:_20c.origin.x+4,y:_20c.origin.y+4},size:{width:8,height:8}});
CGContextBeginPath(_20d);
CGContextMoveToPoint(_20d,10,_20c.origin.y+8);
CGContextAddLineToPoint(_20d,_20c.size.width-_20c.origin.y-8,_20c.origin.y+8);
CGContextClosePath(_20d);
CGContextStrokePath(_20d);
}
}
})]);
p;11;CPTabView.ji;13;CPImageView.ji;15;CPTabViewItem.ji;8;CPView.jc;18684;
CPTopTabsBezelBorder=0;
CPNoTabsBezelBorder=4;
CPNoTabsLineBorder=5;
CPNoTabsNoBorder=6;
var _1=nil,_2=nil,_3=nil,_4=nil,_5=nil;
var _6=7,_7=7;
var _8=1,_9=2,_a=4,_b=8;
var _c=objj_allocateClassPair(CPView,"CPTabView"),_d=_c.isa;
class_addIvars(_c,[new objj_ivar("_labelsView"),new objj_ivar("_backgroundView"),new objj_ivar("_separatorView"),new objj_ivar("_auxiliaryView"),new objj_ivar("_contentView"),new objj_ivar("_tabViewItems"),new objj_ivar("_selectedTabViewItem"),new objj_ivar("_tabViewType"),new objj_ivar("_delegate"),new objj_ivar("_delegateSelectors")]);
objj_registerClassPair(_c);
objj_addClassForBundle(_c,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_c,[new objj_method(sel_getUid("initWithFrame:"),function(_e,_f,_10){
with(_e){
_e=objj_msgSendSuper({receiver:_e,super_class:objj_getClass("CPView")},"initWithFrame:",_10);
if(_e){
_tabViewType=CPTopTabsBezelBorder;
_tabViewItems=[];
}
return _e;
}
}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(_11,_12){
with(_11){
if(_tabViewType!=CPTopTabsBezelBorder||_labelsView){
return;
}
objj_msgSend(_11,"_createBezelBorder");
objj_msgSend(_11,"layoutSubviews");
}
}),new objj_method(sel_getUid("_createBezelBorder"),function(_13,_14){
with(_13){
var _15=objj_msgSend(_13,"bounds");
_labelsView=objj_msgSend(objj_msgSend(_CPTabLabelsView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(_15),0));
objj_msgSend(_labelsView,"setTabView:",_13);
objj_msgSend(_labelsView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_13,"addSubview:",_labelsView);
_backgroundView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_backgroundView,"setBackgroundColor:",_5);
objj_msgSend(_backgroundView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_13,"addSubview:",_backgroundView);
_separatorView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_separatorView,"setBackgroundColor:",objj_msgSend(objj_msgSend(_13,"class"),"bezelBorderColor"));
objj_msgSend(_separatorView,"setAutoresizingMask:",CPViewWidthSizable|CPViewMaxYMargin);
objj_msgSend(_13,"addSubview:",_separatorView);
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_16,_17){
with(_16){
if(_tabViewType==CPTopTabsBezelBorder){
var _18=objj_msgSend(_16,"bounds"),_19=objj_msgSend(_CPTabLabelsView,"height");
_18.origin.y+=_19;
_18.size.height-=_19;
objj_msgSend(_backgroundView,"setFrame:",_18);
var _1a=5;
if(_auxiliaryView){
_1a=CGRectGetHeight(objj_msgSend(_auxiliaryView,"frame"));
objj_msgSend(_auxiliaryView,"setFrame:",CGRectMake(_6,_19,CGRectGetWidth(_18)-_6-_7,_1a));
}
objj_msgSend(_separatorView,"setFrame:",CGRectMake(_6,_19+_1a,CGRectGetWidth(_18)-_6-_7,1));
}
objj_msgSend(_contentView,"setFrame:",objj_msgSend(_16,"contentRect"));
}
}),new objj_method(sel_getUid("addTabViewItem:"),function(_1b,_1c,_1d){
with(_1b){
objj_msgSend(_1b,"insertTabViewItem:atIndex:",_1d,objj_msgSend(_tabViewItems,"count"));
}
}),new objj_method(sel_getUid("insertTabViewItem:atIndex:"),function(_1e,_1f,_20,_21){
with(_1e){
if(!_labelsView&&_tabViewType==CPTopTabsBezelBorder){
objj_msgSend(_1e,"_createBezelBorder");
}
objj_msgSend(_tabViewItems,"insertObject:atIndex:",_20,_21);
objj_msgSend(_labelsView,"tabView:didAddTabViewItem:",_1e,_20);
objj_msgSend(_20,"_setTabView:",_1e);
if(objj_msgSend(_tabViewItems,"count")==1){
objj_msgSend(_1e,"selectFirstTabViewItem:",_1e);
}
if(_delegateSelectors&_b){
objj_msgSend(_delegate,"tabViewDidChangeNumberOfTabViewItems:",_1e);
}
}
}),new objj_method(sel_getUid("removeTabViewItem:"),function(_22,_23,_24){
with(_22){
var _25=objj_msgSend(_22,"indexOfTabViewItem:",_24);
objj_msgSend(_tabViewItems,"removeObjectIdenticalTo:",_24);
objj_msgSend(_labelsView,"tabView:didRemoveTabViewItemAtIndex:",_22,_25);
objj_msgSend(_24,"_setTabView:",nil);
if(_delegateSelectors&_b){
objj_msgSend(_delegate,"tabViewDidChangeNumberOfTabViewItems:",_22);
}
}
}),new objj_method(sel_getUid("indexOfTabViewItem:"),function(_26,_27,_28){
with(_26){
return objj_msgSend(_tabViewItems,"indexOfObjectIdenticalTo:",_28);
}
}),new objj_method(sel_getUid("indexOfTabViewItemWithIdentifier:"),function(_29,_2a,_2b){
with(_29){
var _2c=0,_2d=objj_msgSend(_tabViewItems,"count");
for(;_2c<_2d;++_2c){
if(objj_msgSend(objj_msgSend(_tabViewItems[_2c],"identifier"),"isEqual:",_2b)){
return _2c;
}
}
return _2c;
}
}),new objj_method(sel_getUid("numberOfTabViewItems"),function(_2e,_2f){
with(_2e){
return objj_msgSend(_tabViewItems,"count");
}
}),new objj_method(sel_getUid("tabViewItemAtIndex:"),function(_30,_31,_32){
with(_30){
return _tabViewItems[_32];
}
}),new objj_method(sel_getUid("tabViewItems"),function(_33,_34){
with(_33){
return _tabViewItems;
}
}),new objj_method(sel_getUid("selectFirstTabViewItem:"),function(_35,_36,_37){
with(_35){
var _38=objj_msgSend(_tabViewItems,"count");
if(_38){
objj_msgSend(_35,"selectTabViewItemAtIndex:",0);
}
}
}),new objj_method(sel_getUid("selectLastTabViewItem:"),function(_39,_3a,_3b){
with(_39){
var _3c=objj_msgSend(_tabViewItems,"count");
if(_3c){
objj_msgSend(_39,"selectTabViewItemAtIndex:",_3c-1);
}
}
}),new objj_method(sel_getUid("selectNextTabViewItem:"),function(_3d,_3e,_3f){
with(_3d){
if(!_selectedTabViewItem){
return;
}
var _40=objj_msgSend(_3d,"indexOfTabViewItem:",_selectedTabViewItem),_41=objj_msgSend(_tabViewItems,"count");
objj_msgSend(_3d,"selectTabViewItemAtIndex:",_40+1%_41);
}
}),new objj_method(sel_getUid("selectPreviousTabViewItem:"),function(_42,_43,_44){
with(_42){
if(!_selectedTabViewItem){
return;
}
var _45=objj_msgSend(_42,"indexOfTabViewItem:",_selectedTabViewItem),_46=objj_msgSend(_tabViewItems,"count");
objj_msgSend(_42,"selectTabViewItemAtIndex:",_45==0?_46:_45-1);
}
}),new objj_method(sel_getUid("selectTabViewItem:"),function(_47,_48,_49){
with(_47){
if((_delegateSelectors&_9)&&!objj_msgSend(_delegate,"tabView:shouldSelectTabViewItem:",_47,_49)){
return;
}
if(_delegateSelectors&_a){
objj_msgSend(_delegate,"tabView:willSelectTabViewItem:",_47,_49);
}
if(_selectedTabViewItem){
_selectedTabViewItem._tabState=CPBackgroundTab;
objj_msgSend(_labelsView,"tabView:didChangeStateOfTabViewItem:",_47,_selectedTabViewItem);
objj_msgSend(_contentView,"removeFromSuperview");
objj_msgSend(_auxiliaryView,"removeFromSuperview");
}
_selectedTabViewItem=_49;
_selectedTabViewItem._tabState=CPSelectedTab;
_contentView=objj_msgSend(_selectedTabViewItem,"view");
objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
_auxiliaryView=objj_msgSend(_selectedTabViewItem,"auxiliaryView");
objj_msgSend(_auxiliaryView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_47,"addSubview:",_contentView);
if(_auxiliaryView){
objj_msgSend(_47,"addSubview:",_auxiliaryView);
}
objj_msgSend(_labelsView,"tabView:didChangeStateOfTabViewItem:",_47,_selectedTabViewItem);
objj_msgSend(_47,"layoutSubviews");
if(_delegateSelectors&_8){
objj_msgSend(_delegate,"tabView:didSelectTabViewItem:",_47,_49);
}
}
}),new objj_method(sel_getUid("selectTabViewItemAtIndex:"),function(_4a,_4b,_4c){
with(_4a){
objj_msgSend(_4a,"selectTabViewItem:",_tabViewItems[_4c]);
}
}),new objj_method(sel_getUid("selectedTabViewItem"),function(_4d,_4e){
with(_4d){
return _selectedTabViewItem;
}
}),new objj_method(sel_getUid("setTabViewType:"),function(_4f,_50,_51){
with(_4f){
if(_tabViewType==_51){
return;
}
_tabViewType=_51;
if(_tabViewType==CPNoTabsBezelBorder||_tabViewType==CPNoTabsLineBorder||_tabViewType==CPNoTabsNoBorder){
objj_msgSend(_labelsView,"removeFromSuperview");
}else{
if(!objj_msgSend(_labelsView,"superview")){
objj_msgSend(_4f,"addSubview:",_labelsView);
}
}
if(_tabViewType==CPNoTabsLineBorder||_tabViewType==CPNoTabsNoBorder){
objj_msgSend(_backgroundView,"removeFromSuperview");
}else{
if(!objj_msgSend(_backgroundView,"superview")){
objj_msgSend(_4f,"addSubview:",_backgroundView);
}
}
objj_msgSend(_4f,"layoutSubviews");
}
}),new objj_method(sel_getUid("tabViewType"),function(_52,_53){
with(_52){
return _tabViewType;
}
}),new objj_method(sel_getUid("contentRect"),function(_54,_55){
with(_54){
var _56=CGRectMakeCopy(objj_msgSend(_54,"bounds"));
if(_tabViewType==CPTopTabsBezelBorder){
var _57=objj_msgSend(_CPTabLabelsView,"height"),_58=_auxiliaryView?CGRectGetHeight(objj_msgSend(_auxiliaryView,"frame")):5,_59=1;
_56.origin.y+=_57+_58+_59;
_56.size.height-=_57+_58+_59*2;
_56.origin.x+=_6;
_56.size.width-=_6+_7;
}
return _56;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_5a,_5b,_5c){
with(_5a){
if(_delegate==_5c){
return;
}
_delegate=_5c;
_delegateSelectors=0;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tabView:shouldSelectTabViewItem:"))){
_delegateSelectors|=_9;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tabView:willSelectTabViewItem:"))){
_delegateSelectors|=_a;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tabView:didSelectTabViewItem:"))){
_delegateSelectors|=_8;
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("tabViewDidChangeNumberOfTabViewItems:"))){
_delegateSelectors|=_b;
}
}
}),new objj_method(sel_getUid("mouseDown:"),function(_5d,_5e,_5f){
with(_5d){
var _60=objj_msgSend(_labelsView,"convertPoint:fromView:",objj_msgSend(_5f,"locationInWindow"),nil),_61=objj_msgSend(_labelsView,"representedTabViewItemAtPoint:",_60);
if(_61){
objj_msgSend(_5d,"selectTabViewItem:",_61);
}
}
})]);
class_addMethods(_d,[new objj_method(sel_getUid("initialize"),function(_62,_63){
with(_62){
if(_62!=CPTabView){
return;
}
var _64=objj_msgSend(CPBundle,"bundleForClass:",_62),_65=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initByReferencingFile:size:","",CGSizeMake(7,0)),_66=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","CPTabView/CPTabViewBezelBackgroundCenter.png"),CGSizeMake(1,1)),_67=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","CPTabView/CPTabViewBezelBorderLeft.png"),CGSizeMake(7,1)),_68=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","CPTabView/CPTabViewBezelBorder.png"),CGSizeMake(1,1)),_69=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","CPTabView/CPTabViewBezelBorderRight.png"),CGSizeMake(7,1));
_5=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[_65,_65,_65,_67,_66,_69,_67,_68,_69]));
_4=objj_msgSend(CPColor,"colorWithPatternImage:",_68);
}
}),new objj_method(sel_getUid("bezelBorderColor"),function(_6a,_6b){
with(_6a){
return _4;
}
})]);
var _6c="CPTabViewItemsKey",_6d="CPTabViewSelectedItemKey",_6e="CPTabViewTypeKey",_6f="CPTabViewDelegateKey";
var _c=objj_getClass("CPTabView");
if(!_c){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTabView\""));
}
var _d=_c.isa;
class_addMethods(_c,[new objj_method(sel_getUid("initWithCoder:"),function(_70,_71,_72){
with(_70){
if(_70=objj_msgSendSuper({receiver:_70,super_class:objj_getClass("CPView")},"initWithCoder:",_72)){
_tabViewType=objj_msgSend(_72,"decodeIntForKey:",_6e);
_tabViewItems=[];
objj_msgSend(_70,"_createBezelBorder");
var _73=objj_msgSend(_72,"decodeObjectForKey:",_6c);
for(var i=0;_73&&i<_73.length;i++){
objj_msgSend(_70,"insertTabViewItem:atIndex:",_73[i],i);
}
var _74=objj_msgSend(_72,"decodeObjectForKey:",_6d);
if(_74){
objj_msgSend(_70,"selectTabViewItem:",_74);
}
objj_msgSend(_70,"setDelegate:",objj_msgSend(_72,"decodeObjectForKey:",_6f));
}
return _70;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_75,_76,_77){
with(_75){
var _78=_subviews;
_subviews=[];
objj_msgSendSuper({receiver:_75,super_class:objj_getClass("CPView")},"encodeWithCoder:",_77);
_subviews=_78;
objj_msgSend(_77,"encodeObject:forKey:",_tabViewItems,_6c);
objj_msgSend(_77,"encodeObject:forKey:",_selectedTabViewItem,_6d);
objj_msgSend(_77,"encodeInt:forKey:",_tabViewType,_6e);
objj_msgSend(_77,"encodeConditionalObject:forKey:",_delegate,_6f);
}
})]);
var _79=nil,_7a=10,_7b=15;
var _c=objj_allocateClassPair(CPView,"_CPTabLabelsView"),_d=_c.isa;
class_addIvars(_c,[new objj_ivar("_tabView"),new objj_ivar("_tabLabels")]);
objj_registerClassPair(_c);
objj_addClassForBundle(_c,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_c,[new objj_method(sel_getUid("initWithFrame:"),function(_7c,_7d,_7e){
with(_7c){
_7c=objj_msgSendSuper({receiver:_7c,super_class:objj_getClass("CPView")},"initWithFrame:",_7e);
if(_7c){
_tabLabels=[];
objj_msgSend(_7c,"setBackgroundColor:",_79);
objj_msgSend(_7c,"setFrameSize:",CGSizeMake(CGRectGetWidth(_7e),26));
}
return _7c;
}
}),new objj_method(sel_getUid("setTabView:"),function(_7f,_80,_81){
with(_7f){
_tabView=_81;
}
}),new objj_method(sel_getUid("tabView"),function(_82,_83){
with(_82){
return _tabView;
}
}),new objj_method(sel_getUid("tabView:didAddTabViewItem:"),function(_84,_85,_86,_87){
with(_84){
var _88=objj_msgSend(objj_msgSend(_CPTabLabel,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_88,"setTabViewItem:",_87);
_tabLabels.push(_88);
objj_msgSend(_84,"addSubview:",_88);
objj_msgSend(_84,"layoutSubviews");
}
}),new objj_method(sel_getUid("tabView:didRemoveTabViewItemAtIndex:"),function(_89,_8a,_8b,_8c){
with(_89){
var _8d=_tabLabels[_8c];
objj_msgSend(_tabLabels,"removeObjectAtIndex:",_8c);
objj_msgSend(_8d,"removeFromSuperview");
objj_msgSend(_89,"layoutSubviews");
}
}),new objj_method(sel_getUid("tabView:didChangeStateOfTabViewItem:"),function(_8e,_8f,_90,_91){
with(_8e){
objj_msgSend(_tabLabels[objj_msgSend(_90,"indexOfTabViewItem:",_91)],"setTabState:",objj_msgSend(_91,"tabState"));
}
}),new objj_method(sel_getUid("representedTabViewItemAtPoint:"),function(_92,_93,_94){
with(_92){
var _95=0,_96=_tabLabels.length;
for(;_95<_96;++_95){
var _97=_tabLabels[_95];
if(CGRectContainsPoint(objj_msgSend(_97,"frame"),_94)){
return objj_msgSend(_97,"tabViewItem");
}
}
return nil;
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_98,_99){
with(_98){
var _9a=0,_9b=_tabLabels.length,_9c=((objj_msgSend(_98,"bounds").size.width)-(_9b-1)*_7a-2*_7b)/_9b,x=_7b;
for(;_9a<_9b;++_9a){
var _9d=_tabLabels[_9a],_9e={origin:{x:x,y:8},size:{width:_9c,height:18}};
objj_msgSend(_9d,"setFrame:",_9e);
x=(_9e.origin.x+_9e.size.width)+_7a;
}
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_9f,_a0,_a1){
with(_9f){
if(CGSizeEqualToSize(objj_msgSend(_9f,"frame").size,_a1)){
return;
}
objj_msgSendSuper({receiver:_9f,super_class:objj_getClass("CPView")},"setFrameSize:",_a1);
objj_msgSend(_9f,"layoutSubviews");
}
})]);
class_addMethods(_d,[new objj_method(sel_getUid("initialize"),function(_a2,_a3){
with(_a2){
if(_a2!=objj_msgSend(_CPTabLabelsView,"class")){
return;
}
var _a4=objj_msgSend(CPBundle,"bundleForClass:",_a2);
_79=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_a4,"pathForResource:","CPTabView/_CPTabLabelsViewLeft.png"),CGSizeMake(12,26)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_a4,"pathForResource:","CPTabView/_CPTabLabelsViewCenter.png"),CGSizeMake(1,26)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_a4,"pathForResource:","CPTabView/_CPTabLabelsViewRight.png"),CGSizeMake(12,26))],NO));
}
}),new objj_method(sel_getUid("height"),function(_a5,_a6){
with(_a5){
return 26;
}
})]);
var _a7=nil,_a8=nil;
var _c=objj_allocateClassPair(CPView,"_CPTabLabel"),_d=_c.isa;
class_addIvars(_c,[new objj_ivar("_tabViewItem"),new objj_ivar("_labelField")]);
objj_registerClassPair(_c);
objj_addClassForBundle(_c,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_c,[new objj_method(sel_getUid("initWithFrame:"),function(_a9,_aa,_ab){
with(_a9){
_a9=objj_msgSendSuper({receiver:_a9,super_class:objj_getClass("CPView")},"initWithFrame:",_ab);
if(_a9){
_labelField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_labelField,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_labelField,"setFrame:",CGRectMake(5,0,CGRectGetWidth(_ab)-10,20));
objj_msgSend(_labelField,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_labelField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",11));
objj_msgSend(_a9,"addSubview:",_labelField);
objj_msgSend(_a9,"setTabState:",CPBackgroundTab);
}
return _a9;
}
}),new objj_method(sel_getUid("setTabState:"),function(_ac,_ad,_ae){
with(_ac){
objj_msgSend(_ac,"setBackgroundColor:",_ae==CPSelectedTab?_a8:_a7);
}
}),new objj_method(sel_getUid("setTabViewItem:"),function(_af,_b0,_b1){
with(_af){
_tabViewItem=_b1;
objj_msgSend(_af,"update");
}
}),new objj_method(sel_getUid("tabViewItem"),function(_b2,_b3){
with(_b2){
return _tabViewItem;
}
}),new objj_method(sel_getUid("update"),function(_b4,_b5){
with(_b4){
objj_msgSend(_labelField,"setStringValue:",objj_msgSend(_tabViewItem,"label"));
}
})]);
class_addMethods(_d,[new objj_method(sel_getUid("initialize"),function(_b6,_b7){
with(_b6){
if(_b6!=objj_msgSend(_CPTabLabel,"class")){
return;
}
var _b8=objj_msgSend(CPBundle,"bundleForClass:",_b6);
_a7=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_b8,"pathForResource:","CPTabView/_CPTabLabelBackgroundLeft.png"),CGSizeMake(6,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_b8,"pathForResource:","CPTabView/_CPTabLabelBackgroundCenter.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_b8,"pathForResource:","CPTabView/_CPTabLabelBackgroundRight.png"),CGSizeMake(6,18))],NO));
_a8=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_b8,"pathForResource:","CPTabView/_CPTabLabelSelectedLeft.png"),CGSizeMake(3,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_b8,"pathForResource:","CPTabView/_CPTabLabelSelectedCenter.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_b8,"pathForResource:","CPTabView/_CPTabLabelSelectedRight.png"),CGSizeMake(3,18))],NO));
}
})]);
p;15;CPTabViewItem.jI;21;Foundation/CPObject.jI;15;AppKit/CPView.jc;2810;
CPSelectedTab=0;
CPBackgroundTab=1;
CPPressedTab=2;
var _1=objj_allocateClassPair(CPObject,"CPTabViewItem"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_identifier"),new objj_ivar("_label"),new objj_ivar("_view"),new objj_ivar("_auxiliaryView"),new objj_ivar("_tabView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
return objj_msgSend(_3,"initWithIdentifier:","");
}
}),new objj_method(sel_getUid("initWithIdentifier:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_identifier=_7;
}
return _5;
}
}),new objj_method(sel_getUid("setLabel:"),function(_8,_9,_a){
with(_8){
_label=_a;
}
}),new objj_method(sel_getUid("label"),function(_b,_c){
with(_b){
return _label;
}
}),new objj_method(sel_getUid("tabState"),function(_d,_e){
with(_d){
return _tabState;
}
}),new objj_method(sel_getUid("setIdentifier:"),function(_f,_10,_11){
with(_f){
_identifier=_11;
}
}),new objj_method(sel_getUid("identifier"),function(_12,_13){
with(_12){
return _identifier;
}
}),new objj_method(sel_getUid("setView:"),function(_14,_15,_16){
with(_14){
_view=_16;
}
}),new objj_method(sel_getUid("view"),function(_17,_18){
with(_17){
return _view;
}
}),new objj_method(sel_getUid("setAuxiliaryView:"),function(_19,_1a,_1b){
with(_19){
_auxiliaryView=_1b;
}
}),new objj_method(sel_getUid("auxiliaryView"),function(_1c,_1d){
with(_1c){
return _auxiliaryView;
}
}),new objj_method(sel_getUid("tabView"),function(_1e,_1f){
with(_1e){
return _tabView;
}
}),new objj_method(sel_getUid("_setTabView:"),function(_20,_21,_22){
with(_20){
_tabView=_22;
}
})]);
var _23="CPTabViewItemIdentifierKey",_24="CPTabViewItemLabelKey",_25="CPTabViewItemViewKey",_26="CPTabViewItemAuxViewKey";
var _1=objj_getClass("CPTabViewItem");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTabViewItem\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_27,_28,_29){
with(_27){
_27=objj_msgSendSuper({receiver:_27,super_class:objj_getClass("CPObject")},"init");
if(_27){
_identifier=objj_msgSend(_29,"decodeObjectForKey:",_23);
_label=objj_msgSend(_29,"decodeObjectForKey:",_24);
_view=objj_msgSend(_29,"decodeObjectForKey:",_25);
_auxiliaryView=objj_msgSend(_29,"decodeObjectForKey:",_26);
}
return _27;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_2a,_2b,_2c){
with(_2a){
objj_msgSend(_2c,"encodeObject:forKey:",_identifier,_23);
objj_msgSend(_2c,"encodeObject:forKey:",_label,_24);
objj_msgSend(_2c,"encodeObject:forKey:",_view,_25);
objj_msgSend(_2c,"encodeObject:forKey:",_auxiliaryView,_26);
}
})]);
p;13;CPTextField.ji;11;CPControl.ji;17;CPStringDrawing.ji;17;CPCompatibility.jc;26532;
CPLineBreakByWordWrapping=0;
CPLineBreakByCharWrapping=1;
CPLineBreakByClipping=2;
CPLineBreakByTruncatingHead=3;
CPLineBreakByTruncatingTail=4;
CPLineBreakByTruncatingMiddle=5;
CPTextFieldSquareBezel=0;
CPTextFieldRoundedBezel=1;
CPTextFieldDidFocusNotification="CPTextFieldDidFocusNotification";
CPTextFieldDidBlurNotification="CPTextFieldDidBlurNotification";
var _1=nil,_2=nil,_3=nil,_4=nil,_5=nil,_6=NO,_7=NO,_8=NO,_9=nil,_a=nil,_b=nil;
var _c="•";
var _d=objj_getClass("CPString");
if(!_d){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPString\""));
}
var _e=_d.isa;
class_addMethods(_d,[new objj_method(sel_getUid("string"),function(_f,_10){
with(_f){
return _f;
}
})]);
CPTextFieldStateRounded=CPThemeState("rounded");
CPTextFieldStatePlaceholder=CPThemeState("placeholder");
var _d=objj_allocateClassPair(CPControl,"CPTextField"),_e=_d.isa;
class_addIvars(_d,[new objj_ivar("_isEditing"),new objj_ivar("_isEditable"),new objj_ivar("_isSelectable"),new objj_ivar("_isSecure"),new objj_ivar("_drawsBackground"),new objj_ivar("_textFieldBackgroundColor"),new objj_ivar("_placeholderString"),new objj_ivar("_delegate"),new objj_ivar("_textDidChangeValue"),new objj_ivar("_bezelStyle"),new objj_ivar("_isBordered"),new objj_ivar("_controlSize")]);
objj_registerClassPair(_d);
objj_addClassForBundle(_d,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_d,[new objj_method(sel_getUid("_inputElement"),function(_11,_12){
with(_11){
if(!_1){
_1=document.createElement("input");
_1.style.position="absolute";
_1.style.border="0px";
_1.style.padding="0px";
_1.style.margin="0px";
_1.style.whiteSpace="pre";
_1.style.background="transparent";
_1.style.outline="none";
_b=function(_13){
if(_4&&_4._DOMElement!=_1.parentNode){
return;
}
if(!_6){
objj_msgSend(objj_msgSend(_4,"window"),"makeFirstResponder:",nil);
return;
}
CPTextFieldHandleBlur(_13,_1);
_7=YES;
return true;
};
CPTextFieldHandleBlur=function(_14){
_4=nil;
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
};
_1.onblur=_b;
_3=_1;
}
if(CPFeatureIsCompatible(CPInputTypeCanBeChangedFeature)){
if(objj_msgSend(_11,"isSecure")){
_1.type="password";
}else{
_1.type="text";
}
return _1;
}
if(objj_msgSend(_11,"isSecure")){
if(!_2){
_2=document.createElement("input");
_2.style.position="absolute";
_2.style.border="0px";
_2.style.padding="0px";
_2.style.margin="0px";
_2.style.whiteSpace="pre";
_2.style.background="transparent";
_2.style.outline="none";
_2.type="password";
_2.onblur=_b;
}
_1=_2;
}else{
_1=_3;
}
return _1;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_15,_16,_17){
with(_15){
_15=objj_msgSendSuper({receiver:_15,super_class:objj_getClass("CPControl")},"initWithFrame:",_17);
if(_15){
objj_msgSend(_15,"setStringValue:","");
objj_msgSend(_15,"setPlaceholderString:","");
_sendActionOn=CPKeyUpMask|CPKeyDownMask;
objj_msgSend(_15,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment");
}
return _15;
}
}),new objj_method(sel_getUid("setEditable:"),function(_18,_19,_1a){
with(_18){
_isEditable=_1a;
}
}),new objj_method(sel_getUid("isEditable"),function(_1b,_1c){
with(_1b){
return _isEditable;
}
}),new objj_method(sel_getUid("setSelectable:"),function(_1d,_1e,_1f){
with(_1d){
_isSelectable=_1f;
}
}),new objj_method(sel_getUid("isSelectable"),function(_20,_21){
with(_20){
return _isSelectable;
}
}),new objj_method(sel_getUid("setSecure:"),function(_22,_23,_24){
with(_22){
_isSecure=_24;
}
}),new objj_method(sel_getUid("isSecure"),function(_25,_26){
with(_25){
return _isSecure;
}
}),new objj_method(sel_getUid("setBezeled:"),function(_27,_28,_29){
with(_27){
if(_29){
objj_msgSend(_27,"setThemeState:",CPThemeStateBezeled);
}else{
objj_msgSend(_27,"unsetThemeState:",CPThemeStateBezeled);
}
}
}),new objj_method(sel_getUid("isBezeled"),function(_2a,_2b){
with(_2a){
return objj_msgSend(_2a,"hasThemeState:",CPThemeStateBezeled);
}
}),new objj_method(sel_getUid("setBezelStyle:"),function(_2c,_2d,_2e){
with(_2c){
var _2f=_2e===CPTextFieldRoundedBezel;
if(_2f){
objj_msgSend(_2c,"setThemeState:",CPTextFieldStateRounded);
}else{
objj_msgSend(_2c,"unsetThemeState:",CPTextFieldStateRounded);
}
}
}),new objj_method(sel_getUid("bezelStyle"),function(_30,_31){
with(_30){
if(objj_msgSend(_30,"hasThemeState:",CPTextFieldStateRounded)){
return CPTextFieldRoundedBezel;
}
return CPTextFieldSquareBezel;
}
}),new objj_method(sel_getUid("setBordered:"),function(_32,_33,_34){
with(_32){
if(_34){
objj_msgSend(_32,"setThemeState:",CPThemeStateBordered);
}else{
objj_msgSend(_32,"unsetThemeState:",CPThemeStateBordered);
}
}
}),new objj_method(sel_getUid("isBordered"),function(_35,_36){
with(_35){
return objj_msgSend(_35,"hasThemeState:",CPThemeStateBordered);
}
}),new objj_method(sel_getUid("setDrawsBackground:"),function(_37,_38,_39){
with(_37){
if(_drawsBackground==_39){
return;
}
_drawsBackground=_39;
objj_msgSend(_37,"setNeedsLayout");
objj_msgSend(_37,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("drawsBackground"),function(_3a,_3b){
with(_3a){
return _drawsBackground;
}
}),new objj_method(sel_getUid("setTextFieldBackgroundColor:"),function(_3c,_3d,_3e){
with(_3c){
if(_textFieldBackgroundColor==_3e){
return;
}
_textFieldBackgroundColor=_3e;
objj_msgSend(_3c,"setNeedsLayout");
objj_msgSend(_3c,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("textFieldBackgroundColor"),function(_3f,_40){
with(_3f){
return _textFieldBackgroundColor;
}
}),new objj_method(sel_getUid("acceptsFirstResponder"),function(_41,_42){
with(_41){
return objj_msgSend(_41,"isEditable")&&objj_msgSend(_41,"isEnabled");
}
}),new objj_method(sel_getUid("becomeFirstResponder"),function(_43,_44){
with(_43){
if(_4&&objj_msgSend(_4,"window")!==objj_msgSend(_43,"window")){
objj_msgSend(objj_msgSend(_4,"window"),"makeFirstResponder:",nil);
}
objj_msgSend(_43,"setThemeState:",CPThemeStateEditing);
objj_msgSend(_43,"_updatePlaceholderState");
objj_msgSend(_43,"setNeedsLayout");
_isEditing=NO;
var _45=objj_msgSend(_43,"stringValue"),_46=objj_msgSend(_43,"_inputElement");
_46.value=_45;
_46.style.color=objj_msgSend(objj_msgSend(_43,"currentValueForThemeAttribute:","text-color"),"cssString");
_46.style.font=objj_msgSend(objj_msgSend(_43,"currentValueForThemeAttribute:","font"),"cssString");
_46.style.zIndex=1000;
switch(objj_msgSend(_43,"alignment")){
case CPCenterTextAlignment:
_46.style.textAlign="center";
break;
case CPRightTextAlignment:
_46.style.textAlign="right";
break;
default:
_46.style.textAlign="left";
}
var _47=objj_msgSend(_43,"contentRectForBounds:",objj_msgSend(_43,"bounds"));
_46.style.top=(_47.origin.y)+"px";
_46.style.left=((_47.origin.x)-1)+"px";
_46.style.width=(_47.size.width)+"px";
_46.style.height=(_47.size.height)+"px";
_DOMElement.appendChild(_46);
window.setTimeout(function(){
_46.focus();
_4=_43;
},0);
_46.value=objj_msgSend(_43,"stringValue");
objj_msgSend(objj_msgSend(objj_msgSend(_43,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
_8=YES;
if(document.attachEvent){
_9=document.body.onselectstart;
_a=document.body.ondrag;
document.body.ondrag=function(){
};
document.body.onselectstart=function(){
};
}
objj_msgSend(_43,"textDidFocus:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidFocusNotification,_43,nil));
return YES;
}
}),new objj_method(sel_getUid("resignFirstResponder"),function(_48,_49){
with(_48){
objj_msgSend(_48,"unsetThemeState:",CPThemeStateEditing);
objj_msgSend(_48,"_updatePlaceholderState");
objj_msgSend(_48,"setNeedsLayout");
var _4a=objj_msgSend(_48,"_inputElement");
objj_msgSend(_48,"setObjectValue:",_4a.value);
_6=YES;
_4a.blur();
if(!_7){
_b();
}
_7=NO;
_6=NO;
if(_4a.parentNode==_DOMElement){
_4a.parentNode.removeChild(_4a);
}
_8=NO;
if(document.attachEvent){
_9=nil;
_a=nil;
document.body.ondrag=_a;
document.body.onselectstart=_9;
}
if(_isEditing){
_isEditing=NO;
objj_msgSend(_48,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,_48,nil));
if(objj_msgSend(_48,"sendsActionOnEndEditing")){
objj_msgSend(_48,"sendAction:to:",objj_msgSend(_48,"action"),objj_msgSend(_48,"target"));
}
}
objj_msgSend(_48,"textDidBlur:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidBlurNotification,_48,nil));
return YES;
}
}),new objj_method(sel_getUid("mouseDown:"),function(_4b,_4c,_4d){
with(_4b){
if(objj_msgSend(_4b,"isEditable")&&objj_msgSend(_4b,"isEnabled")){
return objj_msgSend(objj_msgSend(_4b,"window"),"makeFirstResponder:",_4b);
}else{
return objj_msgSend(objj_msgSend(_4b,"nextResponder"),"mouseDown:",_4d);
}
}
}),new objj_method(sel_getUid("mouseUp:"),function(_4e,_4f,_50){
with(_4e){
if(!objj_msgSend(_4e,"isEditable")||!objj_msgSend(_4e,"isEnabled")){
objj_msgSend(objj_msgSend(_4e,"nextResponder"),"mouseUp:",_50);
}
}
}),new objj_method(sel_getUid("mouseDragged:"),function(_51,_52,_53){
with(_51){
if(!objj_msgSend(_51,"isEditable")||!objj_msgSend(_51,"isEnabled")){
objj_msgSend(objj_msgSend(_51,"nextResponder"),"mouseDragged:",_53);
}
}
}),new objj_method(sel_getUid("keyUp:"),function(_54,_55,_56){
with(_54){
var _57=objj_msgSend(_54,"stringValue");
objj_msgSend(_54,"_setStringValue:",objj_msgSend(_54,"_inputElement").value);
if(_57!==objj_msgSend(_54,"stringValue")){
if(!_isEditing){
_isEditing=YES;
objj_msgSend(_54,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,_54,nil));
}
objj_msgSend(_54,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,_54,nil));
}
objj_msgSend(objj_msgSend(objj_msgSend(_54,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
}),new objj_method(sel_getUid("keyDown:"),function(_58,_59,_5a){
with(_58){
if(objj_msgSend(_5a,"keyCode")===CPReturnKeyCode){
if(_isEditing){
_isEditing=NO;
objj_msgSend(_58,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,_58,nil));
}
objj_msgSend(_58,"sendAction:to:",objj_msgSend(_58,"action"),objj_msgSend(_58,"target"));
objj_msgSend(_58,"selectText:",nil);
objj_msgSend(objj_msgSend(objj_msgSend(_58,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);
}else{
if(objj_msgSend(_5a,"keyCode")===CPTabKeyCode){
if(objj_msgSend(_5a,"modifierFlags")&CPShiftKeyMask){
objj_msgSend(objj_msgSend(_58,"window"),"selectPreviousKeyView:",_58);
}else{
objj_msgSend(objj_msgSend(_58,"window"),"selectNextKeyView:",_58);
}
if(objj_msgSend(objj_msgSend(objj_msgSend(_58,"window"),"firstResponder"),"respondsToSelector:",sel_getUid("selectText:"))){
objj_msgSend(objj_msgSend(objj_msgSend(_58,"window"),"firstResponder"),"selectText:",_58);
}
objj_msgSend(objj_msgSend(objj_msgSend(_58,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);
}else{
objj_msgSend(objj_msgSend(objj_msgSend(_58,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);
}
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("textDidBlur:"),function(_5b,_5c,_5d){
with(_5b){
if(objj_msgSend(_5d,"object")!=_5b){
return;
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotification:",_5d);
}
}),new objj_method(sel_getUid("textDidFocus:"),function(_5e,_5f,_60){
with(_5e){
if(objj_msgSend(_60,"object")!=_5e){
return;
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotification:",_60);
}
}),new objj_method(sel_getUid("objectValue"),function(_61,_62){
with(_61){
return objj_msgSendSuper({receiver:_61,super_class:objj_getClass("CPControl")},"objectValue");
}
}),new objj_method(sel_getUid("_setStringValue:"),function(_63,_64,_65){
with(_63){
objj_msgSend(_63,"willChangeValueForKey:","objectValue");
objj_msgSendSuper({receiver:_63,super_class:objj_getClass("CPControl")},"setObjectValue:",String(_65));
objj_msgSend(_63,"_updatePlaceholderState");
objj_msgSend(_63,"didChangeValueForKey:","objectValue");
}
}),new objj_method(sel_getUid("setObjectValue:"),function(_66,_67,_68){
with(_66){
objj_msgSendSuper({receiver:_66,super_class:objj_getClass("CPControl")},"setObjectValue:",_68);
if(_4===_66){
objj_msgSend(_66,"_inputElement").value=_68;
}
objj_msgSend(_66,"_updatePlaceholderState");
}
}),new objj_method(sel_getUid("_updatePlaceholderState"),function(_69,_6a){
with(_69){
var _6b=objj_msgSend(_69,"stringValue");
if((!_6b||_6b.length===0)&&!objj_msgSend(_69,"hasThemeState:",CPThemeStateEditing)){
objj_msgSend(_69,"setThemeState:",CPTextFieldStatePlaceholder);
}else{
objj_msgSend(_69,"unsetThemeState:",CPTextFieldStatePlaceholder);
}
}
}),new objj_method(sel_getUid("setPlaceholderString:"),function(_6c,_6d,_6e){
with(_6c){
if(_placeholderString===_6e){
return;
}
_placeholderString=_6e;
if(objj_msgSend(_6c,"hasThemeState:",CPTextFieldStatePlaceholder)){
objj_msgSend(_6c,"setNeedsLayout");
objj_msgSend(_6c,"setNeedsDisplay:",YES);
}
}
}),new objj_method(sel_getUid("placeholderString"),function(_6f,_70){
with(_6f){
return _placeholderString;
}
}),new objj_method(sel_getUid("sizeToFit"),function(_71,_72){
with(_71){
var _73=objj_msgSend((objj_msgSend(_71,"stringValue")||" "),"sizeWithFont:",objj_msgSend(_71,"currentValueForThemeAttribute:","font")),_74=objj_msgSend(_71,"currentValueForThemeAttribute:","content-inset"),_75=objj_msgSend(_71,"currentValueForThemeAttribute:","min-size"),_76=objj_msgSend(_71,"currentValueForThemeAttribute:","max-size");
_73.width=MAX(_73.width+_74.left+_74.right,_75.width);
_73.height=MAX(_73.height+_74.top+_74.bottom,_75.height);
if(_76.width>=0){
_73.width=MIN(_73.width,_76.width);
}
if(_76.height>=0){
_73.height=MIN(_73.height,_76.height);
}
if(objj_msgSend(_71,"isEditable")){
_73.width=CGRectGetWidth(objj_msgSend(_71,"frame"));
}
objj_msgSend(_71,"setFrameSize:",_73);
}
}),new objj_method(sel_getUid("selectText:"),function(_77,_78,_79){
with(_77){
var _7a=objj_msgSend(_77,"_inputElement");
if((objj_msgSend(_77,"isEditable")||objj_msgSend(_77,"isSelectable"))){
if(objj_msgSend(objj_msgSend(_77,"window"),"firstResponder")===_77){
window.setTimeout(function(){
_7a.select();
},0);
}else{
objj_msgSend(objj_msgSend(_77,"window"),"makeFirstResponder:",_77);
window.setTimeout(function(){
objj_msgSend(_77,"selectText:",_79);
},0);
}
}
}
}),new objj_method(sel_getUid("copy:"),function(_7b,_7c,_7d){
with(_7b){
var _7e=objj_msgSend(_7b,"selectedRange");
if(_7e.length<1){
return;
}
var _7f=objj_msgSend(CPPasteboard,"generalPasteboard"),_80=objj_msgSend(_7b,"stringValue"),_81=objj_msgSend(_80,"substringWithRange:",_7e);
objj_msgSend(_7f,"declareTypes:owner:",[CPStringPboardType],nil);
objj_msgSend(_7f,"setString:forType:",_81,CPStringPboardType);
}
}),new objj_method(sel_getUid("cut:"),function(_82,_83,_84){
with(_82){
objj_msgSend(_82,"copy:",_84);
objj_msgSend(_82,"deleteBackwards:",_84);
}
}),new objj_method(sel_getUid("paste:"),function(_85,_86,_87){
with(_85){
var _88=objj_msgSend(CPPasteboard,"generalPasteboard");
if(!objj_msgSend(objj_msgSend(_88,"types"),"containsObject:",CPStringPboardType)){
return;
}
objj_msgSend(_85,"deleteBackwards:",_87);
var _89=objj_msgSend(_85,"selectedRange"),_8a=objj_msgSend(_85,"stringValue"),_8b=objj_msgSend(_88,"stringForType:",CPStringPboardType),_8c=objj_msgSend(_8a,"stringByReplacingCharactersInRange:withString:",_89,_8b);
objj_msgSend(_85,"setStringValue:",_8c);
objj_msgSend(_85,"setSelectedRange:",CPMakeRange(_89.location+_8b.length,0));
}
}),new objj_method(sel_getUid("selectedRange"),function(_8d,_8e){
with(_8d){
if(objj_msgSend(objj_msgSend(_8d,"window"),"firstResponder")!==_8d){
return CPMakeRange(0,0);
}
try{
var _8f=objj_msgSend(_8d,"_inputElement"),_90=_8f.selectionStart,_91=_8f.selectionEnd;
if(objj_msgSend(_90,"isKindOfClass:",CPNumber)){
return CPMakeRange(_90,_91-_90);
}
var _92=_8f.ownerDocument||_8f.document,_93=_92.selection.createRange(),_94=_8f.createTextRange();
if(_94.inRange(_93)){
_94.setEndPoint("EndToStart",_93);
return CPMakeRange(_94.text.length,_93.text.length);
}
}
catch(e){
}
return CGMakeRange(0,0);
}
}),new objj_method(sel_getUid("setSelectedRange:"),function(_95,_96,_97){
with(_95){
if(!objj_msgSend(objj_msgSend(_95,"window"),"firstResponder")===_95){
return;
}
var _98=objj_msgSend(_95,"_inputElement");
try{
if(objj_msgSend(_98.selectionStart,"isKindOfClass:",CPNumber)){
_98.selectionStart=_97.location;
_98.selectionEnd=CPMaxRange(_97);
}else{
var _99=_98.ownerDocument||_98.document,_9a=_99.selection.createRange(),_9b=_98.createTextRange();
if(_9b.inRange(_9a)){
_9b.collapse(true);
_9b.move("character",_97.location);
_9b.moveEnd("character",_97.length);
_9b.select();
}
}
}
catch(e){
}
}
}),new objj_method(sel_getUid("selectAll:"),function(_9c,_9d,_9e){
with(_9c){
objj_msgSend(_9c,"selectText:",_9e);
}
}),new objj_method(sel_getUid("deleteBackwards:"),function(_9f,_a0,_a1){
with(_9f){
var _a2=objj_msgSend(_9f,"selectedRange"),_a3=objj_msgSend(_9f,"stringValue"),_a4=objj_msgSend(_a3,"stringByReplacingCharactersInRange:withString:",_a2,"");
objj_msgSend(_9f,"setStringValue:",_a4);
objj_msgSend(_9f,"setSelectedRange:",CPMakeRange(_a2.location,0));
}
}),new objj_method(sel_getUid("setDelegate:"),function(_a5,_a6,_a7){
with(_a5){
var _a8=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_delegate){
objj_msgSend(_a8,"removeObserver:name:object:",_delegate,CPControlTextDidBeginEditingNotification,_a5);
objj_msgSend(_a8,"removeObserver:name:object:",_delegate,CPControlTextDidChangeNotification,_a5);
objj_msgSend(_a8,"removeObserver:name:object:",_delegate,CPControlTextDidEndEditingNotification,_a5);
objj_msgSend(_a8,"removeObserver:name:object:",_delegate,CPTextFieldDidFocusNotification,_a5);
objj_msgSend(_a8,"removeObserver:name:object:",_delegate,CPTextFieldDidBlurNotification,_a5);
}
_delegate=_a7;
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBeginEditing:"))){
objj_msgSend(_a8,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBeginEditing:"),CPControlTextDidBeginEditingNotification,_a5);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidChange:"))){
objj_msgSend(_a8,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidChange:"),CPControlTextDidChangeNotification,_a5);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidEndEditing:"))){
objj_msgSend(_a8,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidEndEditing:"),CPControlTextDidEndEditingNotification,_a5);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidFocus:"))){
objj_msgSend(_a8,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidFocus:"),CPTextFieldDidFocusNotification,_a5);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBlur:"))){
objj_msgSend(_a8,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBlur:"),CPTextFieldDidBlurNotification,_a5);
}
}
}),new objj_method(sel_getUid("delegate"),function(_a9,_aa){
with(_a9){
return _delegate;
}
}),new objj_method(sel_getUid("contentRectForBounds:"),function(_ab,_ac,_ad){
with(_ab){
var _ae=objj_msgSend(_ab,"currentValueForThemeAttribute:","content-inset");
if(!_ae){
return _ad;
}
_ad.origin.x+=_ae.left;
_ad.origin.y+=_ae.top;
_ad.size.width-=_ae.left+_ae.right;
_ad.size.height-=_ae.top+_ae.bottom;
return _ad;
}
}),new objj_method(sel_getUid("bezelRectForBounds:"),function(_af,_b0,_b1){
with(_af){
var _b2=objj_msgSend(_af,"currentValueForThemeAttribute:","bezel-inset");
if(((_b2).top===0&&(_b2).right===0&&(_b2).bottom===0&&(_b2).left===0)){
return _b1;
}
_b1.origin.x+=_b2.left;
_b1.origin.y+=_b2.top;
_b1.size.width-=_b2.left+_b2.right;
_b1.size.height-=_b2.top+_b2.bottom;
return _b1;
}
}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(_b3,_b4,_b5){
with(_b3){
if(_b5==="bezel-view"){
return objj_msgSend(_b3,"bezelRectForBounds:",objj_msgSend(_b3,"bounds"));
}else{
if(_b5==="content-view"){
return objj_msgSend(_b3,"contentRectForBounds:",objj_msgSend(_b3,"bounds"));
}
}
return objj_msgSendSuper({receiver:_b3,super_class:objj_getClass("CPControl")},"rectForEphemeralSubviewNamed:",_b5);
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(_b6,_b7,_b8){
with(_b6){
if(_b8==="bezel-view"){
var _b9=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
objj_msgSend(_b9,"setHitTests:",NO);
return _b9;
}else{
var _b9=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}});
return _b9;
}
return objj_msgSendSuper({receiver:_b6,super_class:objj_getClass("CPControl")},"createEphemeralSubviewNamed:",_b8);
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_ba,_bb){
with(_ba){
var _bc=objj_msgSend(_ba,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"content-view");
if(_bc){
objj_msgSend(_bc,"setBackgroundColor:",objj_msgSend(_ba,"currentValueForThemeAttribute:","bezel-color"));
}
var _bd=objj_msgSend(_ba,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","content-view",CPWindowAbove,"bezel-view");
if(_bd){
objj_msgSend(_bd,"setHidden:",objj_msgSend(_ba,"hasThemeState:",CPThemeStateEditing));
var _be="";
if(objj_msgSend(_ba,"hasThemeState:",CPTextFieldStatePlaceholder)){
_be=objj_msgSend(_ba,"placeholderString");
}else{
_be=objj_msgSend(_ba,"stringValue");
if(objj_msgSend(_ba,"isSecure")){
_be=_bf(_be);
}
}
objj_msgSend(_bd,"setText:",_be);
objj_msgSend(_bd,"setTextColor:",objj_msgSend(_ba,"currentValueForThemeAttribute:","text-color"));
objj_msgSend(_bd,"setFont:",objj_msgSend(_ba,"currentValueForThemeAttribute:","font"));
objj_msgSend(_bd,"setAlignment:",objj_msgSend(_ba,"currentValueForThemeAttribute:","alignment"));
objj_msgSend(_bd,"setVerticalAlignment:",objj_msgSend(_ba,"currentValueForThemeAttribute:","vertical-alignment"));
objj_msgSend(_bd,"setLineBreakMode:",objj_msgSend(_ba,"currentValueForThemeAttribute:","line-break-mode"));
objj_msgSend(_bd,"setTextShadowColor:",objj_msgSend(_ba,"currentValueForThemeAttribute:","text-shadow-color"));
objj_msgSend(_bd,"setTextShadowOffset:",objj_msgSend(_ba,"currentValueForThemeAttribute:","text-shadow-offset"));
}
}
})]);
class_addMethods(_e,[new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:"),function(_c0,_c1,_c2,_c3,_c4){
with(_c0){
return objj_msgSend(_c0,"textFieldWithStringValue:placeholder:width:theme:",_c2,_c3,_c4,objj_msgSend(CPTheme,"defaultTheme"));
}
}),new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:theme:"),function(_c5,_c6,_c7,_c8,_c9,_ca){
with(_c5){
var _cb=objj_msgSend(objj_msgSend(_c5,"alloc"),"initWithFrame:",CGRectMake(0,0,_c9,29));
objj_msgSend(_cb,"setTheme:",_ca);
objj_msgSend(_cb,"setStringValue:",_c7);
objj_msgSend(_cb,"setPlaceholderString:",_c8);
objj_msgSend(_cb,"setBordered:",YES);
objj_msgSend(_cb,"setBezeled:",YES);
objj_msgSend(_cb,"setEditable:",YES);
objj_msgSend(_cb,"sizeToFit");
return _cb;
}
}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:"),function(_cc,_cd,_ce,_cf,_d0){
with(_cc){
return objj_msgSend(_cc,"roundedTextFieldWithStringValue:placeholder:width:theme:",_ce,_cf,_d0,objj_msgSend(CPTheme,"defaultTheme"));
}
}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:theme:"),function(_d1,_d2,_d3,_d4,_d5,_d6){
with(_d1){
var _d7=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,0,_d5,29));
objj_msgSend(_d7,"setTheme:",_d6);
objj_msgSend(_d7,"setStringValue:",_d3);
objj_msgSend(_d7,"setPlaceholderString:",_d4);
objj_msgSend(_d7,"setBezelStyle:",CPTextFieldRoundedBezel);
objj_msgSend(_d7,"setBordered:",YES);
objj_msgSend(_d7,"setBezeled:",YES);
objj_msgSend(_d7,"setEditable:",YES);
objj_msgSend(_d7,"sizeToFit");
return _d7;
}
}),new objj_method(sel_getUid("labelWithTitle:"),function(_d8,_d9,_da){
with(_d8){
return objj_msgSend(_d8,"labelWithTitle:theme:",_da,objj_msgSend(CPTheme,"defaultTheme"));
}
}),new objj_method(sel_getUid("labelWithTitle:theme:"),function(_db,_dc,_dd,_de){
with(_db){
var _df=objj_msgSend(objj_msgSend(_db,"alloc"),"init");
objj_msgSend(_df,"setStringValue:",_dd);
objj_msgSend(_df,"sizeToFit");
return _df;
}
}),new objj_method(sel_getUid("themeClass"),function(_e0,_e1){
with(_e0){
return "textfield";
}
}),new objj_method(sel_getUid("themeAttributes"),function(_e2,_e3){
with(_e2){
return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[{top:(0),right:(0),bottom:(0),left:(0)},{top:(2),right:(2),bottom:(2),left:(2)},nil],["bezel-inset","content-inset","bezel-color"]);
}
})]);
var _bf=function(_e4){
if(!_e4){
return "";
}
return Array(_e4.length+1).join(_c);
};
var _e5="CPTextFieldIsEditableKey",_e6="CPTextFieldIsSelectableKey",_e7="CPTextFieldIsBorderedKey",_e8="CPTextFieldIsBezeledKey",_e9="CPTextFieldBezelStyleKey",_ea="CPTextFieldDrawsBackgroundKey",_eb="CPTextFieldLineBreakModeKey",_ec="CPTextFieldBackgroundColorKey",_ed="CPTextFieldPlaceholderStringKey";
var _d=objj_getClass("CPTextField");
if(!_d){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTextField\""));
}
var _e=_d.isa;
class_addMethods(_d,[new objj_method(sel_getUid("initWithCoder:"),function(_ee,_ef,_f0){
with(_ee){
_ee=objj_msgSendSuper({receiver:_ee,super_class:objj_getClass("CPControl")},"initWithCoder:",_f0);
if(_ee){
objj_msgSend(_ee,"setEditable:",objj_msgSend(_f0,"decodeBoolForKey:",_e5));
objj_msgSend(_ee,"setSelectable:",objj_msgSend(_f0,"decodeBoolForKey:",_e6));
objj_msgSend(_ee,"setDrawsBackground:",objj_msgSend(_f0,"decodeBoolForKey:",_ea));
objj_msgSend(_ee,"setTextFieldBackgroundColor:",objj_msgSend(_f0,"decodeObjectForKey:",_ec));
objj_msgSend(_ee,"setPlaceholderString:",objj_msgSend(_f0,"decodeObjectForKey:",_ed));
}
return _ee;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_f1,_f2,_f3){
with(_f1){
objj_msgSendSuper({receiver:_f1,super_class:objj_getClass("CPControl")},"encodeWithCoder:",_f3);
objj_msgSend(_f3,"encodeBool:forKey:",_isEditable,_e5);
objj_msgSend(_f3,"encodeBool:forKey:",_isSelectable,_e6);
objj_msgSend(_f3,"encodeBool:forKey:",_drawsBackground,_ea);
objj_msgSend(_f3,"encodeObject:forKey:",_textFieldBackgroundColor,_ec);
objj_msgSend(_f3,"encodeObject:forKey:",_placeholderString,_ed);
}
})]);
p;9;CPTheme.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.jc;10887;
var _1={},_2=nil;
var _3=objj_allocateClassPair(CPObject,"CPTheme"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_name"),new objj_ivar("_attributes")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("initWithName:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_name=_7;
_attributes=objj_msgSend(CPDictionary,"dictionary");
_1[_name]=_5;
}
return _5;
}
}),new objj_method(sel_getUid("name"),function(_8,_9){
with(_8){
return _name;
}
}),new objj_method(sel_getUid("_attributeWithName:forClass:"),function(_a,_b,_c,_d){
with(_a){
var _e=objj_msgSend(_attributes,"objectForKey:",_d);
if(!_e){
return nil;
}
return objj_msgSend(_e,"objectForKey:",_c);
}
}),new objj_method(sel_getUid("takeThemeFromObject:"),function(_f,_10,_11){
with(_f){
var _12=objj_msgSend(_11,"_themeAttributeDictionary"),_13=nil,_14=objj_msgSend(_12,"keyEnumerator"),_15=objj_msgSend(objj_msgSend(_11,"class"),"themeClass");
while(_13=objj_msgSend(_14,"nextObject")){
objj_msgSend(_f,"_recordAttribute:forClass:",objj_msgSend(_12,"objectForKey:",_13),_15);
}
}
}),new objj_method(sel_getUid("_recordAttribute:forClass:"),function(_16,_17,_18,_19){
with(_16){
if(!objj_msgSend(_18,"hasValues")){
return;
}
var _1a=objj_msgSend(_attributes,"objectForKey:",_19);
if(!_1a){
_1a=objj_msgSend(CPDictionary,"dictionary");
objj_msgSend(_attributes,"setObject:forKey:",_1a,_19);
}
var _1b=objj_msgSend(_18,"name"),_1c=objj_msgSend(_1a,"objectForKey:",_1b);
if(_1c){
objj_msgSend(_1a,"setObject:forKey:",objj_msgSend(_1c,"attributeMergedWithAttribute:",_18),_1b);
}else{
objj_msgSend(_1a,"setObject:forKey:",_18,_1b);
}
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("setDefaultTheme:"),function(_1d,_1e,_1f){
with(_1d){
_2=_1f;
}
}),new objj_method(sel_getUid("defaultTheme"),function(_20,_21){
with(_20){
return _2;
}
}),new objj_method(sel_getUid("themeNamed:"),function(_22,_23,_24){
with(_22){
return _1[_24];
}
})]);
var _25="CPThemeNameKey",_26="CPThemeAttributesKey";
var _3=objj_getClass("CPTheme");
if(!_3){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTheme\""));
}
var _4=_3.isa;
class_addMethods(_3,[new objj_method(sel_getUid("initWithCoder:"),function(_27,_28,_29){
with(_27){
_27=objj_msgSendSuper({receiver:_27,super_class:objj_getClass("CPObject")},"init");
if(_27){
_name=objj_msgSend(_29,"decodeObjectForKey:",_25);
_attributes=objj_msgSend(_29,"decodeObjectForKey:",_26);
_1[_name]=_27;
}
return _27;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_2a,_2b,_2c){
with(_2a){
objj_msgSend(_2c,"encodeObject:forKey:",_name,_25);
objj_msgSend(_2c,"encodeObject:forKey:",_attributes,_26);
}
})]);
var _3=objj_allocateClassPair(CPKeyedUnarchiver,"_CPThemeKeyedUnarchiver"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_bundle")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("initForReadingWithData:bundle:"),function(_2d,_2e,_2f,_30){
with(_2d){
_2d=objj_msgSendSuper({receiver:_2d,super_class:objj_getClass("CPKeyedUnarchiver")},"initForReadingWithData:",_2f);
if(_2d){
_bundle=_30;
}
return _2d;
}
}),new objj_method(sel_getUid("bundle"),function(_31,_32){
with(_31){
return _bundle;
}
}),new objj_method(sel_getUid("awakenCustomResources"),function(_33,_34){
with(_33){
return YES;
}
})]);
var _35={},_36={},_37=0;
CPThemeState=function(_38){
var _39=_35[_38];
if(_39===undefined){
if(_38.indexOf("+")===-1){
_39=1<<_37++;
}else{
var _39=0,_3a=_38.split("+"),_3b=_3a.length;
while(_3b--){
var _3c=_3a[_3b],_3d=_35[_3c];
if(_3d===undefined){
_3d=1<<_37++;
_35[_3c]=_3d;
_36[_3d]=_3c;
}
_39|=_3d;
}
}
_35[_38]=_39;
_36[_39]=_38;
}
return _39;
};
CPThemeStateName=function(_3e){
var _3f=_36[_3e];
if(_3f!==undefined){
return _3f;
}
if(!(_3e&(_3e-1))){
return "";
}
var _40=1,_3f="";
for(;_40<_3e;_40<<=1){
if(_3e&_40){
_3f+=(_3f.length===0?"":"+")+_36[_40];
}
}
_36[_3e]=_3f;
return _3f;
};
_36[0]="normal";
CPThemeStateNormal=_35["normal"]=0;
CPThemeStateDisabled=CPThemeState("disabled");
CPThemeStateHighlighted=CPThemeState("highlighted");
CPThemeStateSelected=CPThemeState("selected");
CPThemeStateBezeled=CPThemeState("bezeled");
CPThemeStateBordered=CPThemeState("bordered");
CPThemeStateEditable=CPThemeState("editable");
CPThemeStateEditing=CPThemeState("editing");
CPThemeStateVertical=CPThemeState("vertical");
CPThemeStateDefault=CPThemeState("default");
CPThemeStateCircular=CPThemeState("circular");
var _3=objj_allocateClassPair(CPObject,"_CPThemeAttribute"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_name"),new objj_ivar("_defaultValue"),new objj_ivar("_values"),new objj_ivar("_cache"),new objj_ivar("_parentAttribute")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("initWithName:defaultValue:"),function(_41,_42,_43,_44){
with(_41){
_41=objj_msgSendSuper({receiver:_41,super_class:objj_getClass("CPObject")},"init");
if(_41){
_cache={};
_name=_43;
_defaultValue=_44;
_values=objj_msgSend(CPDictionary,"dictionary");
}
return _41;
}
}),new objj_method(sel_getUid("name"),function(_45,_46){
with(_45){
return _name;
}
}),new objj_method(sel_getUid("defaultValue"),function(_47,_48){
with(_47){
return _defaultValue;
}
}),new objj_method(sel_getUid("hasValues"),function(_49,_4a){
with(_49){
return objj_msgSend(_values,"count")>0;
}
}),new objj_method(sel_getUid("isTrivial"),function(_4b,_4c){
with(_4b){
return (objj_msgSend(_values,"count")===1)&&(Number(objj_msgSend(_values,"allKeys")[0])===CPThemeStateNormal);
}
}),new objj_method(sel_getUid("setValue:"),function(_4d,_4e,_4f){
with(_4d){
_cache={};
if(_4f===undefined||_4f===nil){
_values=objj_msgSend(CPDictionary,"dictionary");
}else{
_values=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_4f,String(CPThemeStateNormal));
}
}
}),new objj_method(sel_getUid("setValue:forState:"),function(_50,_51,_52,_53){
with(_50){
_cache={};
if((_52===undefined)||(_52===nil)){
objj_msgSend(_values,"removeObjectForKey:",String(_53));
}else{
objj_msgSend(_values,"setObject:forKey:",_52,String(_53));
}
}
}),new objj_method(sel_getUid("value"),function(_54,_55){
with(_54){
return objj_msgSend(_54,"valueForState:",CPThemeStateNormal);
}
}),new objj_method(sel_getUid("valueForState:"),function(_56,_57,_58){
with(_56){
var _59=_cache[_58];
if(_59!==undefined){
return _59;
}
_59=objj_msgSend(_values,"objectForKey:",String(_58));
if((_59===undefined||_59===nil)&&_58!==CPThemeStateNormal){
if(_58&(_58-1)){
var _5a=0,_5b=objj_msgSend(_values,"allKeys"),_5c=_5b.length;
while(_5c--){
var _5d=Number(_5b[_5c]);
if((_5d&_58)===_5d){
var _5e=_5f[_5d];
if(_5e===undefined){
_5e=_60(_5d);
}
if(_5e>_5a){
_5a=_5e;
_59=objj_msgSend(_values,"objectForKey:",String(_5d));
}
}
}
}
if(_59===undefined||_59===nil){
_59=objj_msgSend(_values,"objectForKey:",String(CPThemeStateNormal));
}
}
if(_59===undefined||_59===nil){
_59=objj_msgSend(_parentAttribute,"valueForState:",_58);
}
if(_59===undefined||_59===nil){
_59=_defaultValue;
}
_cache[_58]=_59;
return _59;
}
}),new objj_method(sel_getUid("setParentAttribute:"),function(_61,_62,_63){
with(_61){
if(_parentAttribute===_63){
return;
}
_cache={};
_parentAttribute=_63;
}
}),new objj_method(sel_getUid("attributeMergedWithAttribute:"),function(_64,_65,_66){
with(_64){
var _67=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",_name,_defaultValue);
_67._values=objj_msgSend(_values,"copy");
objj_msgSend(_67._values,"addEntriesFromDictionary:",_66._values);
return _67;
}
})]);
var _3=objj_getClass("_CPThemeAttribute");
if(!_3){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPThemeAttribute\""));
}
var _4=_3.isa;
class_addMethods(_3,[new objj_method(sel_getUid("initWithCoder:"),function(_68,_69,_6a){
with(_68){
_68=objj_msgSendSuper({receiver:_68,super_class:objj_getClass("CPObject")},"init");
if(_68){
_cache={};
_name=objj_msgSend(_6a,"decodeObjectForKey:","name");
_values=objj_msgSend(CPDictionary,"dictionary");
if(objj_msgSend(_6a,"containsValueForKey:","value")){
var _6b=CPThemeStateNormal;
if(objj_msgSend(_6a,"containsValueForKey:","state")){
_6b=CPThemeState(objj_msgSend(_6a,"decodeObjectForKey:","state"));
}
objj_msgSend(_values,"setObject:forKey:",objj_msgSend(_6a,"decodeObjectForKey:","value"),_6b);
}else{
var _6c=objj_msgSend(_6a,"decodeObjectForKey:","values"),_6d=objj_msgSend(_6c,"allKeys"),_6e=_6d.length;
while(_6e--){
var key=_6d[_6e];
objj_msgSend(_values,"setObject:forKey:",objj_msgSend(_6c,"objectForKey:",key),CPThemeState(key));
}
}
}
return _68;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_6f,_70,_71){
with(_6f){
objj_msgSend(_71,"encodeObject:forKey:",_name,"name");
var _72=objj_msgSend(_values,"allKeys"),_73=_72.length;
if(_73===1){
var _74=_72[0];
if(Number(_74)!==CPThemeStateNormal){
objj_msgSend(_71,"encodeObject:forKey:",CPThemeStateName(Number(_74)),"state");
}
objj_msgSend(_71,"encodeObject:forKey:",objj_msgSend(_values,"objectForKey:",_74),"value");
}else{
var _75=objj_msgSend(CPDictionary,"dictionary");
while(_73--){
var key=_72[_73];
objj_msgSend(_75,"setObject:forKey:",objj_msgSend(_values,"objectForKey:",key),CPThemeStateName(Number(key)));
}
objj_msgSend(_71,"encodeObject:forKey:",_75,"values");
}
}
})]);
var _5f=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6];
var _60=function(_76){
var _77=0,_78=_76;
while(_76){
++_77;
_76&=(_76-1);
}
_5f[_78]=_77;
return _77;
};
_60.displayName="numberOfOnes";
CPThemeAttributeEncode=function(_79,_7a){
var _7b=_7a._values,_7c=objj_msgSend(_7b,"count"),key="$a"+objj_msgSend(_7a,"name");
if(_7c===1){
var _7d=objj_msgSend(_7b,"allKeys")[0];
if(Number(_7d)===0){
objj_msgSend(_79,"encodeObject:forKey:",objj_msgSend(_7b,"objectForKey:",_7d),key);
return YES;
}
}
if(_7c>=1){
objj_msgSend(_79,"encodeObject:forKey:",_7a,key);
return YES;
}
return NO;
};
CPThemeAttributeDecode=function(_7e,_7f,_80,_81,_82){
var key="$a"+_7f;
if(!objj_msgSend(_7e,"containsValueForKey:",key)){
var _83=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",_7f,_80);
}else{
var _83=objj_msgSend(_7e,"decodeObjectForKey:",key);
if(!_83.isa||!objj_msgSend(_83,"isKindOfClass:",objj_msgSend(_CPThemeAttribute,"class"))){
var _84=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",_7f,_80);
objj_msgSend(_84,"setValue:",_83);
_83=_84;
}
}
if(_81&&_82){
objj_msgSend(_83,"setParentAttribute:",objj_msgSend(_81,"_attributeWithName:forClass:",_7f,_82));
}
return _83;
};
p;14;CPThemeBlend.jI;21;Foundation/CPObject.jI;16;AppKit/CPTheme.jI;29;AppKit/_CPCibCustomResource.jI;30;AppKit/_CPCibKeyedUnarchiver.jc;1364;
var _1=objj_allocateClassPair(CPObject,"CPThemeBlend"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_bundle"),new objj_ivar("_themes"),new objj_ivar("_loadDelegate")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("themes"),function(_3,_4){
with(_3){
return _themes;
}
}),new objj_method(sel_getUid("initWithContentsOfURL:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_bundle=objj_msgSend(objj_msgSend(CPBundle,"alloc"),"initWithPath:",_7+"/Info.plist");
}
return _5;
}
}),new objj_method(sel_getUid("loadWithDelegate:"),function(_8,_9,_a){
with(_8){
_loadDelegate=_a;
objj_msgSend(_bundle,"loadWithDelegate:",_8);
}
}),new objj_method(sel_getUid("bundleDidFinishLoading:"),function(_b,_c,_d){
with(_b){
var _e=objj_msgSend(_bundle,"objectForInfoDictionaryKey:","CPKeyedThemes"),_f=_e.length;
while(_f--){
var _10=objj_msgSend(_d,"pathForResource:",_e[_f]),_11=objj_msgSend(objj_msgSend(_CPThemeKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:",objj_msgSend(CPData,"dataWithString:",objj_files[_10].contents),_bundle);
objj_msgSend(_11,"decodeObjectForKey:","root");
objj_msgSend(_11,"finishDecoding");
}
objj_msgSend(_loadDelegate,"blendDidFinishLoading:",_b);
}
})]);
p;11;CPToolbar.jI;21;Foundation/CPObject.ji;15;CPPopUpButton.ji;15;CPToolbarItem.jc;22519;
CPToolbarDisplayModeDefault=0;
CPToolbarDisplayModeIconAndLabel=1;
CPToolbarDisplayModeIconOnly=2;
CPToolbarDisplayModeLabelOnly=3;
var _1=nil;
var _2=nil;
var _3=objj_allocateClassPair(CPObject,"CPToolbar"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_identifier"),new objj_ivar("_displayMode"),new objj_ivar("_showsBaselineSeparator"),new objj_ivar("_allowsUserCustomization"),new objj_ivar("_isVisible"),new objj_ivar("_delegate"),new objj_ivar("_itemIdentifiers"),new objj_ivar("_identifiedItems"),new objj_ivar("_defaultItems"),new objj_ivar("_allowedItems"),new objj_ivar("_selectableItems"),new objj_ivar("_items"),new objj_ivar("_itemsSortedByVisibilityPriority"),new objj_ivar("_toolbarView"),new objj_ivar("_window")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("init"),function(_5,_6){
with(_5){
return objj_msgSend(_5,"initWithIdentifier:","");
}
}),new objj_method(sel_getUid("initWithIdentifier:"),function(_7,_8,_9){
with(_7){
_7=objj_msgSendSuper({receiver:_7,super_class:objj_getClass("CPObject")},"init");
if(_7){
_items=[];
_identifier=_9;
_isVisible=YES;
objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",_7,_identifier);
}
return _7;
}
}),new objj_method(sel_getUid("setDisplayMode:"),function(_a,_b,_c){
with(_a){
}
}),new objj_method(sel_getUid("identifier"),function(_d,_e){
with(_d){
return _identifier;
}
}),new objj_method(sel_getUid("delegate"),function(_f,_10){
with(_f){
return _delegate;
}
}),new objj_method(sel_getUid("isVisible"),function(_11,_12){
with(_11){
return _isVisible;
}
}),new objj_method(sel_getUid("setVisible:"),function(_13,_14,_15){
with(_13){
if(_isVisible===_15){
return;
}
_isVisible=_15;
objj_msgSend(_window,"_noteToolbarChanged");
}
}),new objj_method(sel_getUid("_window"),function(_16,_17){
with(_16){
return _window;
}
}),new objj_method(sel_getUid("_setWindow:"),function(_18,_19,_1a){
with(_18){
_window=_1a;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_1b,_1c,_1d){
with(_1b){
if(_delegate==_1d){
return;
}
_delegate=_1d;
objj_msgSend(_1b,"_reloadToolbarItems");
}
}),new objj_method(sel_getUid("_loadConfiguration"),function(_1e,_1f){
with(_1e){
}
}),new objj_method(sel_getUid("_toolbarView"),function(_20,_21){
with(_20){
if(!_toolbarView){
_toolbarView=objj_msgSend(objj_msgSend(_CPToolbarView,"alloc"),"initWithFrame:",CPRectMake(0,0,1200,59));
objj_msgSend(_toolbarView,"setToolbar:",_20);
objj_msgSend(_toolbarView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_toolbarView,"reloadToolbarItems");
}
return _toolbarView;
}
}),new objj_method(sel_getUid("_reloadToolbarItems"),function(_22,_23){
with(_22){
if(!_delegate){
return;
}
var _24=objj_msgSend(_itemIdentifiers,"count");
if(!_24){
_itemIdentifiers=objj_msgSend(objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",_22),"mutableCopy");
_24=objj_msgSend(_itemIdentifiers,"count");
}
_items=[];
var _25=0;
for(;_25<_24;++_25){
var _26=_itemIdentifiers[_25],_27=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",_26);
if(!_27){
_27=objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",_22,_26,YES);
}
_27=objj_msgSend(_27,"copy");
if(_27==nil){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,sprintf("_delegate %s returned nil toolbar item returned for identifier %s",_delegate,_26));
}
objj_msgSend(_items,"addObject:",_27);
}
_itemsSortedByVisibilityPriority=objj_msgSend(_items,"sortedArrayUsingFunction:context:",_28,NULL);
objj_msgSend(_toolbarView,"reloadToolbarItems");
}
}),new objj_method(sel_getUid("items"),function(_29,_2a){
with(_29){
return _items;
}
}),new objj_method(sel_getUid("visibleItems"),function(_2b,_2c){
with(_2b){
return objj_msgSend(_toolbarView,"visibleItems");
}
}),new objj_method(sel_getUid("itemsSortedByVisibilityPriority"),function(_2d,_2e){
with(_2d){
return _itemsSortedByVisibilityPriority;
}
}),new objj_method(sel_getUid("validateVisibleToolbarItems"),function(_2f,_30){
with(_2f){
var _31=objj_msgSend(_2f,"visibleItems"),_32=objj_msgSend(_31,"count");
while(_32--){
objj_msgSend(_31[_32],"validate");
}
}
}),new objj_method(sel_getUid("_itemForItemIdentifier:willBeInsertedIntoToolbar:"),function(_33,_34,_35,_36){
with(_33){
var _37=objj_msgSend(_identifiedItems,"objectForKey:",_35);
if(!_37){
_37=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",_35);
if(_delegate&&!_37){
_37=objj_msgSend(objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",_33,_35,_36),"copy");
if(!_37){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,sprintf("_delegate %s returned nil toolbar item returned for identifier %s",_delegate,_35));
}
}
objj_msgSend(_identifiedItems,"setObject:forKey:",_37,_35);
}
return _37;
}
}),new objj_method(sel_getUid("_itemsWithIdentifiers:"),function(_38,_39,_3a){
with(_38){
var _3b=[];
for(var i=0;i<_3a.length;i++){
objj_msgSend(_3b,"addObject:",objj_msgSend(_38,"_itemForItemIdentifier:willBeInsertedIntoToolbar:",_3a[i],NO));
}
return _3b;
}
}),new objj_method(sel_getUid("_defaultToolbarItems"),function(_3c,_3d){
with(_3c){
if(!_defaultItems){
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("toolbarDefaultItemIdentifiers:"))){
_defaultItems=objj_msgSend(_3c,"_itemsWithIdentifiers:",objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",_3c));
}
}
return _defaultItems;
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("initialize"),function(_3e,_3f){
with(_3e){
if(_3e!=objj_msgSend(CPToolbar,"class")){
return;
}
_1=objj_msgSend(CPDictionary,"dictionary");
_2=objj_msgSend(CPDictionary,"dictionary");
}
}),new objj_method(sel_getUid("_addToolbar:forIdentifier:"),function(_40,_41,_42,_43){
with(_40){
var _44=objj_msgSend(_1,"objectForKey:",_43);
if(!_44){
_44=[];
objj_msgSend(_1,"setObject:forKey:",_44,_43);
}
objj_msgSend(_44,"addObject:",_42);
}
})]);
var _45="CPToolbarIdentifierKey",_46="CPToolbarDisplayModeKey",_47="CPToolbarShowsBaselineSeparatorKey",_48="CPToolbarAllowsUserCustomizationKey",_49="CPToolbarIsVisibleKey",_4a="CPToolbarDelegateKey",_4b="CPToolbarIdentifiedItemsKey",_4c="CPToolbarDefaultItemsKey",_4d="CPToolbarAllowedItemsKey",_4e="CPToolbarSelectableItemsKey";
var _3=objj_getClass("CPToolbar");
if(!_3){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPToolbar\""));
}
var _4=_3.isa;
class_addMethods(_3,[new objj_method(sel_getUid("initWithCoder:"),function(_4f,_50,_51){
with(_4f){
_4f=objj_msgSendSuper({receiver:_4f,super_class:objj_getClass("CPObject")},"init");
if(_4f){
_identifier=objj_msgSend(_51,"decodeObjectForKey:",_45);
_displayMode=objj_msgSend(_51,"decodeIntForKey:",_46);
_showsBaselineSeparator=objj_msgSend(_51,"decodeBoolForKey:",_47);
_allowsUserCustomization=objj_msgSend(_51,"decodeBoolForKey:",_48);
_isVisible=objj_msgSend(_51,"decodeBoolForKey:",_49);
_identifiedItems=objj_msgSend(_51,"decodeObjectForKey:",_4b);
_defaultItems=objj_msgSend(_51,"decodeObjectForKey:",_4c);
_allowedItems=objj_msgSend(_51,"decodeObjectForKey:",_4d);
_selectableItems=objj_msgSend(_51,"decodeObjectForKey:",_4e);
_items=[];
objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",_4f,_identifier);
objj_msgSend(_4f,"setDelegate:",objj_msgSend(_51,"decodeObjectForKey:",_4a));
}
return _4f;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_52,_53,_54){
with(_52){
objj_msgSend(_54,"encodeObject:forKey:",_identifier,_45);
objj_msgSend(_54,"encodeInt:forKey:",_displayMode,_46);
objj_msgSend(_54,"encodeBool:forKey:",_showsBaselineSeparator,_47);
objj_msgSend(_54,"encodeBool:forKey:",_allowsUserCustomization,_48);
objj_msgSend(_54,"encodeBool:forKey:",_isVisible,_49);
objj_msgSend(_54,"encodeObject:forKey:",_identifiedItems,_4b);
objj_msgSend(_54,"encodeObject:forKey:",_defaultItems,_4c);
objj_msgSend(_54,"encodeObject:forKey:",_allowedItems,_4d);
objj_msgSend(_54,"encodeObject:forKey:",_selectableItems,_4e);
objj_msgSend(_54,"encodeConditionalObject:forKey:",_delegate,_4a);
}
})]);
var _55=nil,_56=nil,_57=nil;
var _58=5,_59=10,_5a=20;
var _5b=function(_5c,_5d,_5e,_5f){
return {index:_5c,view:_5d,label:_5e,minWidth:_5f};
};
var _3=objj_allocateClassPair(CPView,"_CPToolbarView"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_toolbar"),new objj_ivar("_flexibleWidthIndexes"),new objj_ivar("_visibleFlexibleWidthIndexes"),new objj_ivar("_itemInfos"),new objj_ivar("_viewsForToolbarItems"),new objj_ivar("_visibleItems"),new objj_ivar("_invisibleItems"),new objj_ivar("_additionalItemsButton"),new objj_ivar("_labelColor"),new objj_ivar("_labelShadowColor"),new objj_ivar("_minWidth"),new objj_ivar("_FIXME_isHUD")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("visibleItems"),function(_60,_61){
with(_60){
return _visibleItems;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_62,_63,_64){
with(_62){
_62=objj_msgSendSuper({receiver:_62,super_class:objj_getClass("CPView")},"initWithFrame:",_64);
if(_62){
_minWidth=0;
_labelColor=objj_msgSend(CPColor,"blackColor");
_labelShadowColor=objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.75);
_additionalItemsButton=objj_msgSend(objj_msgSend(CPPopUpButton,"alloc"),"initWithFrame:pullsDown:",CGRectMake(0,0,10,15),YES);
objj_msgSend(_additionalItemsButton,"setBordered:",NO);
objj_msgSend(_additionalItemsButton,"setImagePosition:",CPImageOnly);
objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setShowsStateColumn:",NO);
objj_msgSend(_additionalItemsButton,"setAlternateImage:",_57);
}
return _62;
}
}),new objj_method(sel_getUid("setToolbar:"),function(_65,_66,_67){
with(_65){
_toolbar=_67;
}
}),new objj_method(sel_getUid("toolbar"),function(_68,_69){
with(_68){
return _toolbar;
}
}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(_6a,_6b,_6c){
with(_6a){
if(_FIXME_isHUD===_6c){
return;
}
_FIXME_isHUD=_6c;
var _6d=objj_msgSend(_toolbar,"items"),_6e=objj_msgSend(_6d,"count");
while(_6e--){
objj_msgSend(objj_msgSend(_6a,"viewForItem:",_6d[_6e]),"FIXME_setIsHUD:",_6c);
}
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_6f,_70,_71){
with(_6f){
objj_msgSend(_6f,"tile");
}
}),new objj_method(sel_getUid("viewForItem:"),function(_72,_73,_74){
with(_72){
return _viewsForToolbarItems[objj_msgSend(_74,"UID")]||nil;
}
}),new objj_method(sel_getUid("tile"),function(_75,_76){
with(_75){
var _77=objj_msgSend(_toolbar,"items"),_78=CGRectGetWidth(objj_msgSend(_75,"bounds")),_79=_minWidth,_7a=[];
_visibleItems=_77;
if(_78<_79){
_78-=_5a;
_visibleItems=objj_msgSend(_visibleItems,"copy");
var _7b=objj_msgSend(_toolbar,"itemsSortedByVisibilityPriority"),_7c=_7b.length;
while(_79>_78&&_7c){
var _7d=_7b[--_7c],_7e=objj_msgSend(_75,"viewForItem:",_7d);
_79-=objj_msgSend(_7e,"minSize").width+_59;
objj_msgSend(_visibleItems,"removeObjectIdenticalTo:",_7d);
objj_msgSend(_7a,"addObject:",_7d);
objj_msgSend(_7e,"setHidden:",YES);
objj_msgSend(_7e,"FIXME_setIsHUD:",_FIXME_isHUD);
}
}
var _7c=objj_msgSend(_77,"count"),_7f=0;
while(_7c--){
var _7e=objj_msgSend(_75,"viewForItem:",_77[_7c]),_80=objj_msgSend(_7e,"minSize");
if(_7f<_80.height){
_7f=_80.height;
}
}
var _7c=_visibleItems.length;
flexibleItemIndexes=objj_msgSend(CPIndexSet,"indexSet");
while(_7c--){
var _7d=_visibleItems[_7c],_7e=objj_msgSend(_75,"viewForItem:",_7d),_80=objj_msgSend(_7e,"minSize");
if(_80.width!==objj_msgSend(_7e,"maxSize").width){
objj_msgSend(flexibleItemIndexes,"addIndex:",_7c);
}else{
objj_msgSend(_7e,"setFrameSize:",CGSizeMake(_80.width,_7f));
}
objj_msgSend(_7e,"setHidden:",NO);
}
var _81=_78-_79,_82=0;
while(_81&&objj_msgSend(flexibleItemIndexes,"count")){
_82+=_81/objj_msgSend(flexibleItemIndexes,"count");
_81=0;
var _83=CPNotFound;
while((_83=objj_msgSend(flexibleItemIndexes,"indexGreaterThanIndex:",_83))!==CPNotFound){
var _7d=_visibleItems[_83],_7e=objj_msgSend(_75,"viewForItem:",_7d),_84=objj_msgSend(_7e,"minSize").width+_82,_85=MIN(_84,objj_msgSend(_7e,"maxSize").width);
if(_85<_84){
objj_msgSend(flexibleItemIndexes,"removeIndex:",_83);
_81+=_84-_85;
}
objj_msgSend(_7e,"setFrameSize:",CGSizeMake(_85,_7f));
}
}
var _83=0,_7c=_visibleItems.length,x=_59;
for(;_83<_7c;++_83){
var _7e=objj_msgSend(_75,"viewForItem:",_visibleItems[_83]),_86=CGRectGetWidth(objj_msgSend(_7e,"frame"));
objj_msgSend(_7e,"setFrame:",CGRectMake(x,0,_86,_7f));
x+=_86+_59;
}
var _87=NO;
if(objj_msgSend(_7a,"count")){
var _83=0,_7c=objj_msgSend(_77,"count");
_invisibleItems=[];
for(;_83<_7c;++_83){
var _7d=_77[_83];
if(objj_msgSend(_7a,"indexOfObjectIdenticalTo:",_7d)!==CPNotFound){
objj_msgSend(_invisibleItems,"addObject:",_7d);
var _88=objj_msgSend(_7d,"itemIdentifier");
if(_88!==CPToolbarSpaceItemIdentifier&&_88!==CPToolbarFlexibleSpaceItemIdentifier&&_88!==CPToolbarSeparatorItemIdentifier){
_87=YES;
}
}
}
}
if(_87){
objj_msgSend(_additionalItemsButton,"setFrameOrigin:",CGPointMake(_78+5,(CGRectGetHeight(objj_msgSend(_75,"bounds"))-CGRectGetHeight(objj_msgSend(_additionalItemsButton,"frame")))/2));
objj_msgSend(_75,"addSubview:",_additionalItemsButton);
objj_msgSend(_additionalItemsButton,"removeAllItems");
objj_msgSend(_additionalItemsButton,"addItemWithTitle:","Additional Items");
objj_msgSend(objj_msgSend(_additionalItemsButton,"itemArray")[0],"setImage:",_56);
var _83=0,_7c=objj_msgSend(_invisibleItems,"count"),_89=NO;
for(;_83<_7c;++_83){
var _7d=_invisibleItems[_83],_88=objj_msgSend(_7d,"itemIdentifier");
if(_88===CPToolbarSpaceItemIdentifier||_88===CPToolbarFlexibleSpaceItemIdentifier){
continue;
}
if(_88===CPToolbarSeparatorItemIdentifier){
if(_89){
objj_msgSend(_additionalItemsButton,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));
}
continue;
}
_89=YES;
objj_msgSend(_additionalItemsButton,"addItemWithTitle:",objj_msgSend(_7d,"label"));
var _8a=objj_msgSend(_additionalItemsButton,"itemArray")[_83+1];
objj_msgSend(_8a,"setImage:",objj_msgSend(_7d,"image"));
objj_msgSend(_8a,"setTarget:",objj_msgSend(_7d,"target"));
objj_msgSend(_8a,"setAction:",objj_msgSend(_7d,"action"));
}
}else{
objj_msgSend(_additionalItemsButton,"removeFromSuperview");
}
}
}),new objj_method(sel_getUid("reloadToolbarItems"),function(_8b,_8c){
with(_8b){
var _8d=objj_msgSend(_8b,"subviews"),_8e=_8d.length;
while(_8e--){
objj_msgSend(_8d[_8e],"removeFromSuperview");
}
var _8f=objj_msgSend(_toolbar,"items"),_90=0;
_8e=_8f.length;
_minWidth=_59;
_viewsForToolbarItems={};
for(;_90<_8e;++_90){
var _91=_8f[_90],_92=objj_msgSend(objj_msgSend(_CPToolbarItemView,"alloc"),"initWithToolbarItem:toolbar:",_91,_8b);
_viewsForToolbarItems[objj_msgSend(_91,"UID")]=_92;
objj_msgSend(_8b,"addSubview:",_92);
_minWidth+=objj_msgSend(_92,"minSize").width+_59;
}
objj_msgSend(_8b,"tile");
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("initialize"),function(_93,_94){
with(_93){
if(_93!=objj_msgSend(_CPToolbarView,"class")){
return;
}
var _95=objj_msgSend(CPBundle,"bundleForClass:",_93);
_56=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_95,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsImage.png"),CPSizeMake(10,15));
_57=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_95,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsAlternateImage.png"),CGSizeMake(10,15));
}
})]);
var _28=function(lhs,rhs){
var _96=objj_msgSend(lhs,"visibilityPriority"),_97=objj_msgSend(rhs,"visibilityPriority");
if(_96==_97){
return CPOrderedSame;
}
if(_96>_97){
return CPOrderedAscending;
}
return CPOrderedDescending;
};
var _98=5,_99=2;
var _3=objj_allocateClassPair(CPControl,"_CPToolbarItemView"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_labelSize"),new objj_ivar("_toolbarItem"),new objj_ivar("_toolbar"),new objj_ivar("_imageView"),new objj_ivar("_view"),new objj_ivar("_labelField"),new objj_ivar("_FIXME_isHUD")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("minSize"),function(_9a,_9b){
with(_9a){
return _minSize;
}
}),new objj_method(sel_getUid("maxSize"),function(_9c,_9d){
with(_9c){
return _maxSize;
}
}),new objj_method(sel_getUid("initWithToolbarItem:toolbar:"),function(_9e,_9f,_a0,_a1){
with(_9e){
_9e=objj_msgSendSuper({receiver:_9e,super_class:objj_getClass("CPControl")},"init");
if(_9e){
_toolbarItem=_a0;
_labelField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_labelField,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11));
objj_msgSend(_labelField,"setTextColor:",objj_msgSend(_9e,"FIXME_labelColor"));
objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(_9e,"FIXME_labelShadowColor"));
objj_msgSend(_labelField,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_labelField,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinXMargin);
objj_msgSend(_9e,"addSubview:",_labelField);
objj_msgSend(_9e,"updateFromItem");
_toolbar=_a1;
objj_msgSend(_toolbarItem,"addObserver:forKeyPath:options:context:",_9e,"enabled",0,NULL);
}
return _9e;
}
}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(_a2,_a3,_a4){
with(_a2){
_FIXME_isHUD=_a4;
objj_msgSend(_labelField,"setTextColor:",objj_msgSend(_a2,"FIXME_labelColor"));
objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(_a2,"FIXME_labelShadowColor"));
}
}),new objj_method(sel_getUid("updateFromItem"),function(_a5,_a6){
with(_a5){
var _a7=objj_msgSend(_toolbarItem,"itemIdentifier");
if(_a7===CPToolbarSpaceItemIdentifier||_a7===CPToolbarFlexibleSpaceItemIdentifier||_a7===CPToolbarSeparatorItemIdentifier){
objj_msgSend(_view,"removeFromSuperview");
objj_msgSend(_imageView,"removeFromSuperview");
_minSize=objj_msgSend(_toolbarItem,"minSize");
_maxSize=objj_msgSend(_toolbarItem,"maxSize");
if(_a7===CPToolbarSeparatorItemIdentifier){
_view=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,2,32));
sizes={};
sizes["CPToolbarItemSeparator"]=[CGSizeMake(2,26),CGSizeMake(2,1),CGSizeMake(2,26)];
objj_msgSend(_view,"setBackgroundColor:",_CPControlThreePartImagePattern(YES,sizes,"CPToolbarItem","Separator"));
objj_msgSend(_a5,"addSubview:",_view);
}
return;
}
objj_msgSend(_a5,"setTarget:",objj_msgSend(_toolbarItem,"target"));
objj_msgSend(_a5,"setAction:",objj_msgSend(_toolbarItem,"action"));
var _a8=objj_msgSend(_toolbarItem,"view")||nil;
if(_a8!==_view){
if(!_a8){
objj_msgSend(_view,"removeFromSuperview");
}else{
objj_msgSend(_a5,"addSubview:",_a8);
objj_msgSend(_imageView,"removeFromSuperview");
}
_view=_a8;
}
if(!_view){
if(!_imageView){
_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",objj_msgSend(_a5,"bounds"));
objj_msgSend(_imageView,"setImageScaling:",CPScaleNone);
objj_msgSend(_a5,"addSubview:",_imageView);
}
objj_msgSend(_imageView,"setImage:",objj_msgSend(_toolbarItem,"image"));
}
var _a9=objj_msgSend(_toolbarItem,"minSize"),_aa=objj_msgSend(_toolbarItem,"maxSize");
objj_msgSend(_labelField,"setStringValue:",objj_msgSend(_toolbarItem,"label"));
objj_msgSend(_labelField,"sizeToFit");
_labelSize=objj_msgSend(_labelField,"frame").size;
_minSize=CGSizeMake(MAX(_labelSize.width,_a9.width),_labelSize.height+_a9.height+_99+_98);
_maxSize=CGSizeMake(MAX(_labelSize.width,_a9.width),100000000);
objj_msgSend(_toolbar,"tile");
}
}),new objj_method(sel_getUid("layoutSubviews"),function(_ab,_ac){
with(_ab){
var _ad=objj_msgSend(_toolbarItem,"itemIdentifier");
if(_ad===CPToolbarSpaceItemIdentifier||_ad===CPToolbarFlexibleSpaceItemIdentifier){
return;
}
var _ae=objj_msgSend(_ab,"bounds"),_af=(_ae.size.width);
if(_ad===CPToolbarSeparatorItemIdentifier){
return objj_msgSend(_view,"setFrame:",CGRectMake(ROUND((_af-2)/2),0,2,(_ae.size.height)));
}
var _b0=_view||_imageView,_b1=objj_msgSend(_toolbarItem,"maxSize"),_b2=(_ae.size.height)-_labelSize.height-_99-_98,_b3=MIN(_b1.width,_af),_b4=MIN(_b1.height,_b2);
objj_msgSend(_b0,"setFrame:",CGRectMake(ROUND((_af-_b3)/2),_98+ROUND((_b2-_b4)/2),_b3,_b4));
objj_msgSend(_labelField,"setFrameOrigin:",CGPointMake(ROUND((_af-_labelSize.width)/2),_98+_b2+_99));
}
}),new objj_method(sel_getUid("mouseDown:"),function(_b5,_b6,_b7){
with(_b5){
if(objj_msgSend(_toolbarItem,"view")){
return objj_msgSend(objj_msgSend(_b5,"nextResponder"),"mouseDown:",_b7);
}
var _b8=objj_msgSend(_toolbarItem,"itemIdentifier");
if(_b8===CPToolbarSpaceItemIdentifier||_b8===CPToolbarFlexibleSpaceItemIdentifier||_b8===CPToolbarSeparatorItemIdentifier){
return objj_msgSend(objj_msgSend(_b5,"nextResponder"),"mouseDown:",_b7);
}
objj_msgSendSuper({receiver:_b5,super_class:objj_getClass("CPControl")},"mouseDown:",_b7);
}
}),new objj_method(sel_getUid("setEnabled:"),function(_b9,_ba,_bb){
with(_b9){
objj_msgSendSuper({receiver:_b9,super_class:objj_getClass("CPControl")},"setEnabled:",_bb);
if(_bb){
objj_msgSend(_imageView,"setAlphaValue:",1);
objj_msgSend(_labelField,"setAlphaValue:",1);
}else{
objj_msgSend(_imageView,"setAlphaValue:",0.5);
objj_msgSend(_labelField,"setAlphaValue:",0.5);
}
}
}),new objj_method(sel_getUid("FIXME_labelColor"),function(_bc,_bd){
with(_bc){
if(_FIXME_isHUD){
return objj_msgSend(CPColor,"whiteColor");
}
return objj_msgSend(CPColor,"blackColor");
}
}),new objj_method(sel_getUid("FIXME_labelShadowColor"),function(_be,_bf){
with(_be){
if(_FIXME_isHUD){
return objj_msgSend(_be,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.5):objj_msgSend(CPColor,"clearColor");
}
return objj_msgSend(_be,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0.3):objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.75);
}
}),new objj_method(sel_getUid("setHighlighted:"),function(_c0,_c1,_c2){
with(_c0){
objj_msgSendSuper({receiver:_c0,super_class:objj_getClass("CPControl")},"setHighlighted:",_c2);
if(_c2){
var _c3=objj_msgSend(_toolbarItem,"alternateImage");
if(_c3){
objj_msgSend(_imageView,"setImage:",_c3);
}
objj_msgSend(_labelField,"setTextShadowOffset:",CGSizeMakeZero());
}else{
var _c4=objj_msgSend(_toolbarItem,"image");
if(_c4){
objj_msgSend(_imageView,"setImage:",_c4);
}
objj_msgSend(_labelField,"setTextShadowOffset:",CGSizeMake(0,1));
}
objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(_c0,"FIXME_labelShadowColor"));
}
}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(_c5,_c6,_c7,_c8,_c9,_ca){
with(_c5){
if(_c7==="enabled"){
objj_msgSend(_c5,"setEnabled:",objj_msgSend(_c8,"isEnabled"));
}
}
})]);
p;15;CPToolbarItem.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.jI;16;AppKit/CPImage.jI;15;AppKit/CPView.jc;13123;
CPToolbarItemVisibilityPriorityStandard=0;
CPToolbarItemVisibilityPriorityLow=-1000;
CPToolbarItemVisibilityPriorityHigh=1000;
CPToolbarItemVisibilityPriorityUser=2000;
CPToolbarSeparatorItemIdentifier="CPToolbarSeparatorItemIdentifier";
CPToolbarSpaceItemIdentifier="CPToolbarSpaceItemIdentifier";
CPToolbarFlexibleSpaceItemIdentifier="CPToolbarFlexibleSpaceItemIdentifier";
CPToolbarShowColorsItemIdentifier="CPToolbarShowColorsItemIdentifier";
CPToolbarShowFontsItemIdentifier="CPToolbarShowFontsItemIdentifier";
CPToolbarCustomizeToolbarItemIdentifier="CPToolbarCustomizeToolbarItemIdentifier";
CPToolbarPrintItemIdentifier="CPToolbarPrintItemIdentifier";
var _1=objj_allocateClassPair(CPObject,"CPToolbarItem"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_itemIdentifier"),new objj_ivar("_toolbar"),new objj_ivar("_label"),new objj_ivar("_paletteLabel"),new objj_ivar("_toolTip"),new objj_ivar("_tag"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_view"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_visibilityPriority"),new objj_ivar("_autovalidates")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
return objj_msgSend(_3,"initWithItemIdentifier:","");
}
}),new objj_method(sel_getUid("initWithItemIdentifier:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_itemIdentifier=_7;
_tag=0;
_isEnabled=YES;
_minSize=CGSizeMakeZero();
_maxSize=CGSizeMakeZero();
_visibilityPriority=CPToolbarItemVisibilityPriorityStandard;
}
return _5;
}
}),new objj_method(sel_getUid("itemIdentifier"),function(_8,_9){
with(_8){
return _itemIdentifier;
}
}),new objj_method(sel_getUid("toolbar"),function(_a,_b){
with(_a){
return _toolbar;
}
}),new objj_method(sel_getUid("label"),function(_c,_d){
with(_c){
return _label;
}
}),new objj_method(sel_getUid("setLabel:"),function(_e,_f,_10){
with(_e){
_label=_10;
}
}),new objj_method(sel_getUid("paletteLabel"),function(_11,_12){
with(_11){
return _paletteLabel;
}
}),new objj_method(sel_getUid("setPaletteLabel:"),function(_13,_14,_15){
with(_13){
_paletteLabel=_15;
}
}),new objj_method(sel_getUid("toolTip"),function(_16,_17){
with(_16){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("toolTip"))){
return objj_msgSend(_view,"toolTip");
}
return _toolTip;
}
}),new objj_method(sel_getUid("setToolTip:"),function(_18,_19,_1a){
with(_18){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setToolTip:"))){
objj_msgSend(view,"setToolTip:",_1a);
}
_toolTip=_1a;
}
}),new objj_method(sel_getUid("tag"),function(_1b,_1c){
with(_1b){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("tag"))){
return objj_msgSend(_view,"tag");
}
return _tag;
}
}),new objj_method(sel_getUid("setTag:"),function(_1d,_1e,_1f){
with(_1d){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setTag:"))){
objj_msgSend(_view,"setTag:",_1f);
}
_tag=_1f;
}
}),new objj_method(sel_getUid("target"),function(_20,_21){
with(_20){
if(_view){
return objj_msgSend(_view,"respondsToSelector:",sel_getUid("target"))?objj_msgSend(_view,"target"):nil;
}
return _target;
}
}),new objj_method(sel_getUid("setTarget:"),function(_22,_23,_24){
with(_22){
if(!_view){
_target=_24;
}else{
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setTarget:"))){
objj_msgSend(_view,"setTarget:",_24);
}
}
}
}),new objj_method(sel_getUid("action"),function(_25,_26){
with(_25){
if(_view){
return objj_msgSend(_view,"respondsToSelector:",sel_getUid("action"))?objj_msgSend(_view,"action"):nil;
}
return _action;
}
}),new objj_method(sel_getUid("setAction:"),function(_27,_28,_29){
with(_27){
if(!_view){
_action=_29;
}else{
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setAction:"))){
objj_msgSend(_view,"setAction:",_29);
}
}
}
}),new objj_method(sel_getUid("isEnabled"),function(_2a,_2b){
with(_2a){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("isEnabled"))){
return objj_msgSend(_view,"isEnabled");
}
return _isEnabled;
}
}),new objj_method(sel_getUid("setEnabled:"),function(_2c,_2d,_2e){
with(_2c){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setEnabled:"))){
objj_msgSend(_view,"setEnabled:",_2e);
}
_isEnabled=_2e;
}
}),new objj_method(sel_getUid("image"),function(_2f,_30){
with(_2f){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("image"))){
return objj_msgSend(_view,"image");
}
return _image;
}
}),new objj_method(sel_getUid("setImage:"),function(_31,_32,_33){
with(_31){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setImage:"))){
objj_msgSend(_view,"setImage:",_33);
}
_image=_33;
if(!_image){
return;
}
if(_minSize.width==0&&_minSize.height==0&&_maxSize.width==0&&_maxSize.height==0){
var _34=objj_msgSend(_image,"size");
if(_34.width>0||_34.height>0){
objj_msgSend(_31,"setMinSize:",_34);
objj_msgSend(_31,"setMaxSize:",_34);
}
}
}
}),new objj_method(sel_getUid("setAlternateImage:"),function(_35,_36,_37){
with(_35){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setAlternateImage:"))){
objj_msgSend(_view,"setAlternateImage:",_37);
}
_alternateImage=_37;
}
}),new objj_method(sel_getUid("alternateImage"),function(_38,_39){
with(_38){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("alternateIamge"))){
return objj_msgSend(_view,"alternateImage");
}
return _alternateImage;
}
}),new objj_method(sel_getUid("view"),function(_3a,_3b){
with(_3a){
return _view;
}
}),new objj_method(sel_getUid("setView:"),function(_3c,_3d,_3e){
with(_3c){
if(_view==_3e){
return;
}
_view=_3e;
if(_view){
if(_tag!==0&&objj_msgSend(_view,"respondsToSelector:",sel_getUid("setTag:"))){
objj_msgSend(_view,"setTag:",_tag);
}
_target=nil;
_action=nil;
}
}
}),new objj_method(sel_getUid("minSize"),function(_3f,_40){
with(_3f){
return _minSize;
}
}),new objj_method(sel_getUid("setMinSize:"),function(_41,_42,_43){
with(_41){
_minSize=CGSizeMakeCopy(_43);
_maxSize=CGSizeMake(MAX(_minSize.width,_maxSize.width),MAX(_minSize.height,_maxSize.height));
}
}),new objj_method(sel_getUid("maxSize"),function(_44,_45){
with(_44){
return _maxSize;
}
}),new objj_method(sel_getUid("setMaxSize:"),function(_46,_47,_48){
with(_46){
_maxSize=CGSizeMakeCopy(_48);
_minSize=CGSizeMake(MIN(_minSize.width,_maxSize.width),MIN(_minSize.height,_maxSize.height));
}
}),new objj_method(sel_getUid("visibilityPriority"),function(_49,_4a){
with(_49){
return _visibilityPriority;
}
}),new objj_method(sel_getUid("setVisibilityPriority:"),function(_4b,_4c,_4d){
with(_4b){
_visibilityPriority=_4d;
}
}),new objj_method(sel_getUid("validate"),function(_4e,_4f){
with(_4e){
if(_view){
if(objj_msgSend(_50,"respondsToSelector:",sel_getUid("validateToolbarItem:"))){
objj_msgSend(_4e,"setEnabled:",objj_msgSend(_50,"validateToolbarItem:",_4e));
}
return;
}
var _51=objj_msgSend(_4e,"action");
if(!_51){
return objj_msgSend(_4e,"setEnabled:",NO);
}
var _50=objj_msgSend(_4e,"target");
if(_50&&!objj_msgSend(_50,"respondsToSelector:",_51)){
return objj_msgSend(_4e,"setEnabled:",NO);
}
_50=objj_msgSend(CPApp,"targetForAction:to:from:",_51,_50,_4e);
if(!_50){
return objj_msgSend(_4e,"setEnabled:",NO);
}
if(objj_msgSend(_50,"respondsToSelector:",sel_getUid("validateToolbarItem:"))){
objj_msgSend(_4e,"setEnabled:",objj_msgSend(_50,"validateToolbarItem:",_4e));
}else{
objj_msgSend(_4e,"setEnabled:",YES);
}
}
}),new objj_method(sel_getUid("autovalidates"),function(_52,_53){
with(_52){
return _autovalidates;
}
}),new objj_method(sel_getUid("setAutovalidates:"),function(_54,_55,_56){
with(_54){
_autovalidates=!!_56;
}
})]);
var _57="CPToolbarItemIdentifierKey",_58="CPToolbarItemLabelKey",_59="CPToolbarItemPaletteLabelKey",_5a="CPToolbarItemToolTipKey",_5b="CPToolbarItemTagKey",_5c="CPToolbarItemTargetKey",_5d="CPToolbarItemActionKey",_5e="CPToolbarItemEnabledKey",_5f="CPToolbarItemImageKey",_60="CPToolbarItemAlternateImageKey",_61="CPToolbarItemViewKey",_62="CPToolbarItemMinSizeKey",_63="CPToolbarItemMaxSizeKey",_64="CPToolbarItemVisibilityPriorityKey";
var _1=objj_getClass("CPToolbarItem");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPToolbarItem\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_65,_66,_67){
with(_65){
_65=objj_msgSendSuper({receiver:_65,super_class:objj_getClass("CPObject")},"init");
if(_65){
_itemIdentifier=objj_msgSend(_67,"decodeObjectForKey:",_57);
objj_msgSend(_65,"setLabel:",objj_msgSend(_67,"decodeObjectForKey:",_58));
objj_msgSend(_65,"setPaletteLabel:",objj_msgSend(_67,"decodeObjectForKey:",_59));
objj_msgSend(_65,"setToolTip:",objj_msgSend(_67,"decodeObjectForKey:",_5a));
objj_msgSend(_65,"setTag:",objj_msgSend(_67,"decodeObjectForKey:",_5b));
objj_msgSend(_65,"setTarget:",objj_msgSend(_67,"decodeObjectForKey:",_5c));
objj_msgSend(_65,"setAction:",objj_msgSend(_67,"decodeObjectForKey:",_5d));
objj_msgSend(_65,"setEnabled:",objj_msgSend(_67,"decodeBoolForKey:",_5e));
objj_msgSend(_65,"setImage:",objj_msgSend(_67,"decodeBoolForKey:",_5f));
objj_msgSend(_65,"setAlternateImage:",objj_msgSend(_67,"decodeBoolForKey:",_60));
objj_msgSend(_65,"setView:",objj_msgSend(_67,"decodeObjectForKey:",_61));
objj_msgSend(_65,"setMinSize:",objj_msgSend(_67,"decodeSizeForKey:",_62));
objj_msgSend(_65,"setMaxSize:",objj_msgSend(_67,"decodeSizeForKey:",_63));
objj_msgSend(_65,"setVisibilityPriority:",objj_msgSend(_67,"decodeIntForKey:",_64));
}
return _65;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_68,_69,_6a){
with(_68){
objj_msgSend(_6a,"encodeObject:forKey:",_itemIdentifier,CPToolbarItemItemIdentifierKey);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"label"),_58);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"paletteLabel"),_59);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"toolTip"),_5a);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"tag"),_5b);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"target"),_5c);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"action"),_5d);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"isEnabled"),_5e);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"image"),_5f);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"alternateImage"),_60);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"view"),_61);
objj_msgSend(_6a,"encodeSize:forKey:",objj_msgSend(_68,"minSize"),_62);
objj_msgSend(_6a,"encodeSize:forKey:",objj_msgSend(_68,"maxSize"),_63);
objj_msgSend(_6a,"encodeObject:forKey:",objj_msgSend(_68,"visibilityPriority"),_64);
}
})]);
var _1=objj_getClass("CPToolbarItem");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPToolbarItem\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("copy"),function(_6b,_6c){
with(_6b){
var _6d=objj_msgSend(objj_msgSend(objj_msgSend(_6b,"class"),"alloc"),"initWithItemIdentifier:",_itemIdentifier);
if(_view){
objj_msgSend(_6d,"setView:",objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_view)));
}
objj_msgSend(_6d,"setLabel:",_label);
objj_msgSend(_6d,"setPaletteLabel:",_paletteLabel);
objj_msgSend(_6d,"setToolTip:",objj_msgSend(_6b,"toolTip"));
objj_msgSend(_6d,"setTag:",objj_msgSend(_6b,"tag"));
objj_msgSend(_6d,"setTarget:",objj_msgSend(_6b,"target"));
objj_msgSend(_6d,"setAction:",objj_msgSend(_6b,"action"));
objj_msgSend(_6d,"setEnabled:",objj_msgSend(_6b,"isEnabled"));
objj_msgSend(_6d,"setImage:",objj_msgSend(_6b,"image"));
objj_msgSend(_6d,"setAlternateImage:",objj_msgSend(_6b,"alternateImage"));
objj_msgSend(_6d,"setMinSize:",_minSize);
objj_msgSend(_6d,"setMaxSize:",_maxSize);
objj_msgSend(_6d,"setVisibilityPriority:",_visibilityPriority);
return _6d;
}
})]);
var _1=objj_getClass("CPToolbarItem");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPToolbarItem\""));
}
var _2=_1.isa;
class_addMethods(_2,[new objj_method(sel_getUid("_standardItemWithItemIdentifier:"),function(_6e,_6f,_70){
with(_6e){
var _71=objj_msgSend(objj_msgSend(CPToolbarItem,"alloc"),"initWithItemIdentifier:",_70);
switch(_70){
case CPToolbarSeparatorItemIdentifier:
objj_msgSend(_71,"setMinSize:",CGSizeMake(2,0));
objj_msgSend(_71,"setMaxSize:",CGSizeMake(2,100000));
return _71;
case CPToolbarSpaceItemIdentifier:
objj_msgSend(_71,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_71,"setMaxSize:",CGSizeMake(32,32));
return _71;
case CPToolbarFlexibleSpaceItemIdentifier:
objj_msgSend(_71,"setMinSize:",CGSizeMake(32,32));
objj_msgSend(_71,"setMaxSize:",CGSizeMake(10000,32));
return _71;
case CPToolbarShowColorsItemIdentifier:
return nil;
case CPToolbarShowFontsItemIdentifier:
return nil;
case CPToolbarCustomizeToolbarItemIdentifier:
return nil;
case CPToolbarPrintItemIdentifier:
return nil;
}
return nil;
}
})]);
p;12;CPTreeNode.jI;21;Foundation/CPObject.jc;3521;
var _1=objj_allocateClassPair(CPObject,"CPTreeNode"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_representedObject"),new objj_ivar("_parentNode"),new objj_ivar("_childNodes")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("representedObject"),function(_3,_4){
with(_3){
return _representedObject;
}
}),new objj_method(sel_getUid("parentNode"),function(_5,_6){
with(_5){
return _parentNode;
}
}),new objj_method(sel_getUid("initWithRepresentedObject:"),function(_7,_8,_9){
with(_7){
_7=objj_msgSendSuper({receiver:_7,super_class:objj_getClass("CPObject")},"init");
if(_7){
_representedObject=_9;
_childNodes=[];
}
return _7;
}
}),new objj_method(sel_getUid("isLeaf"),function(_a,_b){
with(_a){
return objj_msgSend(_childNodes,"count")<=0;
}
}),new objj_method(sel_getUid("childNodes"),function(_c,_d){
with(_c){
return objj_msgSend(_childNodes,"copy");
}
}),new objj_method(sel_getUid("mutableChildNodes"),function(_e,_f){
with(_e){
return objj_msgSend(_e,"mutableArrayValueForKey:","childNodes");
}
}),new objj_method(sel_getUid("insertObject:inChildNodesAtIndex:"),function(_10,_11,_12,_13){
with(_10){
objj_msgSend(objj_msgSend(_12._parentNode,"mutableChildNodes"),"removeObjectIdenticalTo:",_12);
_12._parentNode=_10;
objj_msgSend(_childNodes,"insertObject:atIndex:",_12,_13);
}
}),new objj_method(sel_getUid("removeObjectFromChildNodesAtIndex:"),function(_14,_15,_16){
with(_14){
objj_msgSend(_childNodes,"objectAtIndex:",_16)._parentNode=nil;
objj_msgSend(_childNodes,"removeObjectAtIndex:",_16);
}
}),new objj_method(sel_getUid("replaceObjectFromChildNodesAtIndex:withObject:"),function(_17,_18,_19,_1a){
with(_17){
var _1b=objj_msgSend(_childNodes,"objectAtIndex:",_19);
_1b._parentNode=nil;
_1a._parentNode=_17;
objj_msgSend(_childNodes,"replaceObjectAtIndex:withObject:",_19,_1a);
}
}),new objj_method(sel_getUid("objectInChildNodesAtIndex:"),function(_1c,_1d,_1e){
with(_1c){
return _childNodes[_1e];
}
}),new objj_method(sel_getUid("sortWithSortDescriptors:recursively:"),function(_1f,_20,_21,_22){
with(_1f){
objj_msgSend(_childNodes,"sortUsingDescriptors:",_21);
if(!_22){
return;
}
var _23=objj_msgSend(_childNodes,"count");
while(_23--){
objj_msgSend(_childNodes[_23],"sortWithSortDescriptors:recursively:",_21,YES);
}
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("treeNodeWithRepresentedObject:"),function(_24,_25,_26){
with(_24){
return objj_msgSend(objj_msgSend(_24,"alloc"),"initWithRepresentedObject:",_26);
}
})]);
var _27="CPTreeNodeRepresentedObjectKey",_28="CPTreeNodeParentNodeKey",_29="CPTreeNodeChildNodesKey";
var _1=objj_getClass("CPTreeNode");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPTreeNode\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_2a,_2b,_2c){
with(_2a){
_2a=objj_msgSendSuper({receiver:_2a,super_class:objj_getClass("CPObject")},"init");
if(_2a){
_representedObject=objj_msgSend(_2c,"decodeObjectForKey:",_27);
_parentNode=objj_msgSend(_2c,"decodeObjectForKey:",_28);
_childNodes=objj_msgSend(_2c,"decodeObjectForKey:",_29);
}
return _2a;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_2d,_2e,_2f){
with(_2d){
objj_msgSend(_2f,"encodeObject:forKey:",_representedObject,_27);
objj_msgSend(_2f,"encodeConditionalObject:forKey:",_parentNode,_28);
objj_msgSend(_2f,"encodeObject:forKey:",_childNodes,_29);
}
})]);
p;8;CPView.jI;20;Foundation/CPArray.jI;26;Foundation/CPObjJRuntime.ji;19;CGAffineTransform.ji;12;CGGeometry.ji;9;CPColor.ji;12;CPGeometry.ji;19;CPGraphicsContext.ji;13;CPResponder.ji;9;CPTheme.ji;18;_CPDisplayServer.jc;57519;
CPViewNotSizable=0;
CPViewMinXMargin=1;
CPViewWidthSizable=2;
CPViewMaxXMargin=4;
CPViewMinYMargin=8;
CPViewHeightSizable=16;
CPViewMaxYMargin=32;
CPViewBoundsDidChangeNotification="CPViewBoundsDidChangeNotification";
CPViewFrameDidChangeNotification="CPViewFrameDidChangeNotification";
var _1=nil,_2=nil;
var _3=nil,_4=0,_5=1,_6=2,_7=3;
var _8={},_9=1<<0,_a=1<<1;
var _b=objj_allocateClassPair(CPResponder,"CPView"),_c=_b.isa;
class_addIvars(_b,[new objj_ivar("_window"),new objj_ivar("_superview"),new objj_ivar("_subviews"),new objj_ivar("_graphicsContext"),new objj_ivar("_tag"),new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_boundsTransform"),new objj_ivar("_inverseBoundsTransform"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_isHidden"),new objj_ivar("_hitTests"),new objj_ivar("_postsFrameChangedNotifications"),new objj_ivar("_postsBoundsChangedNotifications"),new objj_ivar("_inhibitFrameAndBoundsChangedNotifications"),new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_DOMImageParts"),new objj_ivar("_DOMImageSizes"),new objj_ivar("_backgroundType"),new objj_ivar("_dirtyRect"),new objj_ivar("_opacity"),new objj_ivar("_backgroundColor"),new objj_ivar("_autoresizesSubviews"),new objj_ivar("_autoresizingMask"),new objj_ivar("_layer"),new objj_ivar("_wantsLayer"),new objj_ivar("_isInFullScreenMode"),new objj_ivar("_fullScreenModeState"),new objj_ivar("_needsLayout"),new objj_ivar("_ephemeralSubviews"),new objj_ivar("_theme"),new objj_ivar("_themeAttributes"),new objj_ivar("_themeState"),new objj_ivar("_ephemeralSubviewsForNames"),new objj_ivar("_ephereralSubviews"),new objj_ivar("_nextKeyView"),new objj_ivar("_previousKeyView"),new objj_ivar("_viewClassFlags")]);
objj_registerClassPair(_b);
objj_addClassForBundle(_b,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_b,[new objj_method(sel_getUid("setupViewFlags"),function(_d,_e){
with(_d){
var _f=objj_msgSend(_d,"class"),_10=objj_msgSend(_f,"UID");
if(_8[_10]===undefined){
var _11=0;
if(objj_msgSend(_f,"instanceMethodForSelector:",sel_getUid("drawRect:"))!==objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("drawRect:"))){
_11|=_9;
}
if(objj_msgSend(_f,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))!==objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))){
_11|=_a;
}
_8[_10]=_11;
}
_viewClassFlags=_8[_10];
}
}),new objj_method(sel_getUid("init"),function(_12,_13){
with(_12){
return objj_msgSend(_12,"initWithFrame:",CGRectMakeZero());
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_14,_15,_16){
with(_14){
_14=objj_msgSendSuper({receiver:_14,super_class:objj_getClass("CPResponder")},"init");
if(_14){
var _17=(_16.size.width),_18=(_16.size.height);
_subviews=[];
_registeredDraggedTypes=objj_msgSend(CPSet,"set");
_registeredDraggedTypesArray=[];
_tag=-1;
_frame={origin:{x:_16.origin.x,y:_16.origin.y},size:{width:_16.size.width,height:_16.size.height}};
_bounds={origin:{x:0,y:0},size:{width:_17,height:_18}};
_autoresizingMask=CPViewNotSizable;
_autoresizesSubviews=YES;
_opacity=1;
_isHidden=NO;
_hitTests=YES;
_DOMElement=_3.cloneNode(false);
if(NULL){
var _19={x:CGPointMake((_16.origin.x),(_16.origin.y)).x*NULL.a+CGPointMake((_16.origin.x),(_16.origin.y)).y*NULL.c+NULL.tx,y:CGPointMake((_16.origin.x),(_16.origin.y)).x*NULL.b+CGPointMake((_16.origin.x),(_16.origin.y)).y*NULL.d+NULL.ty};
}else{
var _19={x:(_16.origin.x),y:(_16.origin.y)};
}
_DOMElement.style.left=ROUND(_19.x)+"px";
_DOMElement.style.top=ROUND(_19.y)+"px";
_DOMElement.style.width=MAX(0,ROUND(_17))+"px";
_DOMElement.style.height=MAX(0,ROUND(_18))+"px";
_DOMImageParts=[];
_DOMImageSizes=[];
_theme=objj_msgSend(CPTheme,"defaultTheme");
_themeState=CPThemeStateNormal;
objj_msgSend(_14,"setupViewFlags");
objj_msgSend(_14,"_loadThemeAttributes");
}
return _14;
}
}),new objj_method(sel_getUid("superview"),function(_1a,_1b){
with(_1a){
return _superview;
}
}),new objj_method(sel_getUid("subviews"),function(_1c,_1d){
with(_1c){
return objj_msgSend(_subviews,"copy");
}
}),new objj_method(sel_getUid("window"),function(_1e,_1f){
with(_1e){
return _window;
}
}),new objj_method(sel_getUid("addSubview:"),function(_20,_21,_22){
with(_20){
objj_msgSend(_20,"_insertSubview:atIndex:",_22,CPNotFound);
}
}),new objj_method(sel_getUid("addSubview:positioned:relativeTo:"),function(_23,_24,_25,_26,_27){
with(_23){
var _28=_27?objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",_27):CPNotFound;
if(_28===CPNotFound){
_28=(_26===CPWindowAbove)?objj_msgSend(_subviews,"count"):0;
}else{
if(_26===CPWindowAbove){
++_28;
}
}
objj_msgSend(_23,"_insertSubview:atIndex:",_25,_28);
}
}),new objj_method(sel_getUid("_insertSubview:atIndex:"),function(_29,_2a,_2b,_2c){
with(_29){
var _2d=_subviews.length;
objj_msgSend(objj_msgSend(_29,"window"),"_dirtyKeyViewLoop");
if(_2b._superview==_29){
var _2e=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",_2b);
if(_2e===_2c||_2e===_2d-1&&_2c===_2d){
return;
}
objj_msgSend(_subviews,"removeObjectAtIndex:",_2e);
_DOMElement.removeChild(_2b._DOMElement);
if(_2c>_2e){
--_2c;
}
--_2d;
}else{
objj_msgSend(_2b,"removeFromSuperview");
objj_msgSend(_2b,"_setWindow:",_window);
objj_msgSend(_2b,"viewWillMoveToSuperview:",_29);
_2b._superview=_29;
}
if(_2c===CPNotFound||_2c>=_2d){
_subviews.push(_2b);
_DOMElement.appendChild(_2b._DOMElement);
}else{
_subviews.splice(_2c,0,_2b);
_DOMElement.insertBefore(_2b._DOMElement,_subviews[_2c+1]._DOMElement);
}
objj_msgSend(_2b,"setNextResponder:",_29);
objj_msgSend(_2b,"viewDidMoveToSuperview");
objj_msgSend(_29,"didAddSubview:",_2b);
}
}),new objj_method(sel_getUid("didAddSubview:"),function(_2f,_30,_31){
with(_2f){
}
}),new objj_method(sel_getUid("removeFromSuperview"),function(_32,_33){
with(_32){
if(!_superview){
return;
}
objj_msgSend(objj_msgSend(_32,"window"),"_dirtyKeyViewLoop");
objj_msgSend(_superview,"willRemoveSubview:",_32);
objj_msgSend(_superview._subviews,"removeObject:",_32);
_superview._DOMElement.removeChild(_DOMElement);
_superview=nil;
objj_msgSend(_32,"_setWindow:",nil);
}
}),new objj_method(sel_getUid("replaceSubview:with:"),function(_34,_35,_36,_37){
with(_34){
if(_36._superview!=_34){
return;
}
var _38=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",_36);
objj_msgSend(_36,"removeFromSuperview");
objj_msgSend(_34,"_insertSubview:atIndex:",_37,_38);
}
}),new objj_method(sel_getUid("setSubviews:"),function(_39,_3a,_3b){
with(_39){
if(!_3b){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"newSubviews cannot be nil in -[CPView setSubviews:]");
}
if(objj_msgSend(_subviews,"isEqual:",_3b)){
return;
}
if(objj_msgSend(_subviews,"count")===0){
var _3c=0,_3d=objj_msgSend(_3b,"count");
for(;_3c<_3d;++_3c){
objj_msgSend(_39,"addSubview:",_3b[_3c]);
}
return;
}
if(objj_msgSend(_3b,"count")===0){
var _3d=objj_msgSend(_subviews,"count");
while(_3d--){
objj_msgSend(_subviews[_3d],"removeFromSuperview");
}
return;
}
var _3e=objj_msgSend(CPMutableSet,"setWithArray:",_subviews);
objj_msgSend(_3e,"removeObjectsInArray:",_3b);
objj_msgSend(_3e,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));
var _3f=objj_msgSend(CPMutableSet,"setWithArray:",_3b);
objj_msgSend(_3f,"removeObjectsInArray:",_subviews);
var _40=nil,_41=objj_msgSend(_3f,"objectEnumerator");
while(_40=objj_msgSend(_41,"nextObject")){
objj_msgSend(_39,"addSubview:",_40);
}
if(objj_msgSend(_subviews,"isEqual:",_3b)){
return;
}
_subviews=objj_msgSend(_3b,"copy");
var _3c=0,_3d=objj_msgSend(_subviews,"count");
for(;_3c<_3d;++_3c){
var _42=_subviews[_3c];
_DOMElement.removeChild(_42._DOMElement);
_DOMElement.appendChild(_42._DOMElement);
}
}
}),new objj_method(sel_getUid("_setWindow:"),function(_43,_44,_45){
with(_43){
if(_window===_45){
return;
}
objj_msgSend(objj_msgSend(_43,"window"),"_dirtyKeyViewLoop");
if(objj_msgSend(_window,"firstResponder")===_43){
objj_msgSend(_window,"makeFirstResponder:",nil);
}
objj_msgSend(_43,"viewWillMoveToWindow:",_45);
if(_registeredDraggedTypes){
objj_msgSend(_window,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);
objj_msgSend(_45,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);
}
_window=_45;
var _46=objj_msgSend(_subviews,"count");
while(_46--){
objj_msgSend(_subviews[_46],"_setWindow:",_45);
}
objj_msgSend(_43,"viewDidMoveToWindow");
objj_msgSend(objj_msgSend(_43,"window"),"_dirtyKeyViewLoop");
}
}),new objj_method(sel_getUid("isDescendantOf:"),function(_47,_48,_49){
with(_47){
var _4a=_47;
do{
if(_4a==_49){
return YES;
}
}while(_4a=objj_msgSend(_4a,"superview"));
return NO;
}
}),new objj_method(sel_getUid("viewDidMoveToSuperview"),function(_4b,_4c){
with(_4b){
objj_msgSend(_4b,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(_4d,_4e){
with(_4d){
}
}),new objj_method(sel_getUid("viewWillMoveToSuperview:"),function(_4f,_50,_51){
with(_4f){
}
}),new objj_method(sel_getUid("viewWillMoveToWindow:"),function(_52,_53,_54){
with(_52){
}
}),new objj_method(sel_getUid("willRemoveSubview:"),function(_55,_56,_57){
with(_55){
}
}),new objj_method(sel_getUid("enclosingMenuItem"),function(_58,_59){
with(_58){
var _5a=_58;
while(_5a&&!objj_msgSend(_5a,"isKindOfClass:",objj_msgSend(_CPMenuItemView,"class"))){
_5a=objj_msgSend(_5a,"superview");
}
if(_5a){
return _5a._menuItem;
}
return nil;
}
}),new objj_method(sel_getUid("setTag:"),function(_5b,_5c,_5d){
with(_5b){
_tag=_5d;
}
}),new objj_method(sel_getUid("tag"),function(_5e,_5f){
with(_5e){
return _tag;
}
}),new objj_method(sel_getUid("viewWithTag:"),function(_60,_61,_62){
with(_60){
if(objj_msgSend(_60,"tag")==_62){
return _60;
}
var _63=0,_64=_subviews.length;
for(;_63<_64;++_63){
var _65=objj_msgSend(_subviews[_63],"viewWithTag:",_62);
if(_65){
return _65;
}
}
return nil;
}
}),new objj_method(sel_getUid("isFlipped"),function(_66,_67){
with(_66){
return YES;
}
}),new objj_method(sel_getUid("setFrame:"),function(_68,_69,_6a){
with(_68){
if(((_frame.origin.x==_6a.origin.x&&_frame.origin.y==_6a.origin.y)&&(_frame.size.width==_6a.size.width&&_frame.size.height==_6a.size.height))){
return;
}
_inhibitFrameAndBoundsChangedNotifications=YES;
objj_msgSend(_68,"setFrameOrigin:",_6a.origin);
objj_msgSend(_68,"setFrameSize:",_6a.size);
_inhibitFrameAndBoundsChangedNotifications=NO;
if(_postsFrameChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewFrameDidChangeNotification,_68);
}
}
}),new objj_method(sel_getUid("frame"),function(_6b,_6c){
with(_6b){
return {origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}};
}
}),new objj_method(sel_getUid("frameOrigin"),function(_6d,_6e){
with(_6d){
return {x:_frame.origin.x,y:_frame.origin.y};
}
}),new objj_method(sel_getUid("frameSize"),function(_6f,_70){
with(_6f){
return {width:_frame.size.width,height:_frame.size.height};
}
}),new objj_method(sel_getUid("setCenter:"),function(_71,_72,_73){
with(_71){
objj_msgSend(_71,"setFrameOrigin:",CGPointMake(_73.x-_frame.size.width/2,_73.y-_frame.size.height/2));
}
}),new objj_method(sel_getUid("center"),function(_74,_75){
with(_74){
return CGPointMake(_frame.size.width/2+_frame.origin.x,_frame.size.height/2+_frame.origin.y);
}
}),new objj_method(sel_getUid("setFrameOrigin:"),function(_76,_77,_78){
with(_76){
var _79=_frame.origin;
if(!_78||(_79.x==_78.x&&_79.y==_78.y)){
return;
}
_79.x=_78.x;
_79.y=_78.y;
if(_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewFrameDidChangeNotification,_76);
}
var _7a=_superview?_superview._boundsTransform:NULL;
if(_7a){
var _7b={x:CGPointMake(_79.x,_79.y).x*_7a.a+CGPointMake(_79.x,_79.y).y*_7a.c+_7a.tx,y:CGPointMake(_79.x,_79.y).x*_7a.b+CGPointMake(_79.x,_79.y).y*_7a.d+_7a.ty};
}else{
var _7b={x:_79.x,y:_79.y};
}
_DOMElement.style.left=ROUND(_7b.x)+"px";
_DOMElement.style.top=ROUND(_7b.y)+"px";
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_7c,_7d,_7e){
with(_7c){
var _7f=_frame.size;
if(!_7e||(_7f.width==_7e.width&&_7f.height==_7e.height)){
return;
}
var _80={width:_7f.width,height:_7f.height};
_7f.width=_7e.width;
_7f.height=_7e.height;
if(YES){
_bounds.size.width=_7e.width;
_bounds.size.height=_7e.height;
}
if(_layer){
objj_msgSend(_layer,"_owningViewBoundsChanged");
}
if(_autoresizesSubviews){
objj_msgSend(_7c,"resizeSubviewsWithOldSize:",_80);
}
objj_msgSend(_7c,"setNeedsLayout");
objj_msgSend(_7c,"setNeedsDisplay:",YES);
_DOMElement.style.width=MAX(0,ROUND(_7f.width))+"px";
_DOMElement.style.height=MAX(0,ROUND(_7f.height))+"px";
if(_DOMContentsElement){
_DOMContentsElement.width=MAX(0,ROUND(_7f.width));
_DOMContentsElement.height=MAX(0,ROUND(_7f.height));
_DOMContentsElement.style.width=MAX(0,ROUND(_7f.width))+"px";
_DOMContentsElement.style.height=MAX(0,ROUND(_7f.height))+"px";
}
if(_backgroundType!==_4){
var _81=objj_msgSend(objj_msgSend(_backgroundColor,"patternImage"),"imageSlices");
if(_backgroundType===_5){
_DOMImageParts[1].style.width=MAX(0,ROUND(_7f.width))+"px";
_DOMImageParts[1].style.height=MAX(0,ROUND(_7f.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px";
}else{
if(_backgroundType===_6){
_DOMImageParts[1].style.width=MAX(0,ROUND(_7f.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px";
_DOMImageParts[1].style.height=MAX(0,ROUND(_7f.height))+"px";
}else{
if(_backgroundType===_7){
var _82=_7f.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width,_83=_7f.height-_DOMImageSizes[0].height-_DOMImageSizes[6].height;
_DOMImageParts[1].style.width=MAX(0,ROUND(_82))+"px";
_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px";
_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px";
_DOMImageParts[3].style.height=MAX(0,ROUND(_83))+"px";
_DOMImageParts[4].style.width=MAX(0,ROUND(_82))+"px";
_DOMImageParts[4].style.height=MAX(0,ROUND(_83))+"px";
_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+"px";
_DOMImageParts[5].style.height=MAX(0,ROUND(_83))+"px";
_DOMImageParts[7].style.width=MAX(0,ROUND(_82))+"px";
_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px";
}
}
}
}
if(_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewFrameDidChangeNotification,_7c);
}
}
}),new objj_method(sel_getUid("setBounds:"),function(_84,_85,_86){
with(_84){
if(((_bounds.origin.x==_86.origin.x&&_bounds.origin.y==_86.origin.y)&&(_bounds.size.width==_86.size.width&&_bounds.size.height==_86.size.height))){
return;
}
_inhibitFrameAndBoundsChangedNotifications=YES;
objj_msgSend(_84,"setBoundsOrigin:",_86.origin);
objj_msgSend(_84,"setBoundsSize:",_86.size);
_inhibitFrameAndBoundsChangedNotifications=NO;
if(_postsBoundsChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewBoundsDidChangeNotification,_84);
}
}
}),new objj_method(sel_getUid("bounds"),function(_87,_88){
with(_87){
return {origin:{x:_bounds.origin.x,y:_bounds.origin.y},size:{width:_bounds.size.width,height:_bounds.size.height}};
}
}),new objj_method(sel_getUid("boundsOrigin"),function(_89,_8a){
with(_89){
return {x:_bounds.origin.x,y:_bounds.origin.y};
}
}),new objj_method(sel_getUid("boundsSize"),function(_8b,_8c){
with(_8b){
return {width:_bounds.size.width,height:_bounds.size.height};
}
}),new objj_method(sel_getUid("setBoundsOrigin:"),function(_8d,_8e,_8f){
with(_8d){
var _90=_bounds.origin;
if((_90.x==_8f.x&&_90.y==_8f.y)){
return;
}
_90.x=_8f.x;
_90.y=_8f.y;
if(_90.x!=0||_90.y!=0){
_boundsTransform={a:1,b:0,c:0,d:1,tx:-_90.x,ty:-_90.y};
_inverseBoundsTransform=CGAffineTransformInvert(_boundsTransform);
}else{
_boundsTransform=nil;
_inverseBoundsTransform=nil;
}
var _91=_subviews.length;
while(_91--){
var _92=_subviews[_91],_90=_92._frame.origin;
if(_boundsTransform){
var _93={x:CGPointMake(_90.x,_90.y).x*_boundsTransform.a+CGPointMake(_90.x,_90.y).y*_boundsTransform.c+_boundsTransform.tx,y:CGPointMake(_90.x,_90.y).x*_boundsTransform.b+CGPointMake(_90.x,_90.y).y*_boundsTransform.d+_boundsTransform.ty};
}else{
var _93={x:_90.x,y:_90.y};
}
_92._DOMElement.style.left=ROUND(_93.x)+"px";
_92._DOMElement.style.top=ROUND(_93.y)+"px";
}
if(_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewBoundsDidChangeNotification,_8d);
}
}
}),new objj_method(sel_getUid("setBoundsSize:"),function(_94,_95,_96){
with(_94){
var _97=_bounds.size;
if((_97.width==_96.width&&_97.height==_96.height)){
return;
}
var _98=_frame.size;
if(!(_97.width==_98.width&&_97.height==_98.height)){
var _99=_bounds.origin;
_99.x/=_97.width/_98.width;
_99.y/=_97.height/_98.height;
}
_97.width=_96.width;
_97.height=_96.height;
if(!(_97.width==_98.width&&_97.height==_98.height)){
var _99=_bounds.origin;
_99.x*=_97.width/_98.width;
_99.y*=_97.height/_98.height;
}
if(_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewBoundsDidChangeNotification,_94);
}
}
}),new objj_method(sel_getUid("resizeWithOldSuperviewSize:"),function(_9a,_9b,_9c){
with(_9a){
var _9d=objj_msgSend(_9a,"autoresizingMask");
if(_9d==CPViewNotSizable){
return;
}
var _9e=_superview._frame,_9f={origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}},dX=((_9e.size.width)-_9c.width)/(((_9d&CPViewMinXMargin)?1:0)+(_9d&CPViewWidthSizable?1:0)+(_9d&CPViewMaxXMargin?1:0)),dY=((_9e.size.height)-_9c.height)/((_9d&CPViewMinYMargin?1:0)+(_9d&CPViewHeightSizable?1:0)+(_9d&CPViewMaxYMargin?1:0));
if(_9d&CPViewMinXMargin){
_9f.origin.x+=dX;
}
if(_9d&CPViewWidthSizable){
_9f.size.width+=dX;
}
if(_9d&CPViewMinYMargin){
_9f.origin.y+=dY;
}
if(_9d&CPViewHeightSizable){
_9f.size.height+=dY;
}
objj_msgSend(_9a,"setFrame:",_9f);
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_a0,_a1,_a2){
with(_a0){
var _a3=_subviews.length;
while(_a3--){
objj_msgSend(_subviews[_a3],"resizeWithOldSuperviewSize:",_a2);
}
}
}),new objj_method(sel_getUid("setAutoresizesSubviews:"),function(_a4,_a5,_a6){
with(_a4){
_autoresizesSubviews=!!_a6;
}
}),new objj_method(sel_getUid("autoresizesSubviews"),function(_a7,_a8){
with(_a7){
return _autoresizesSubviews;
}
}),new objj_method(sel_getUid("setAutoresizingMask:"),function(_a9,_aa,_ab){
with(_a9){
_autoresizingMask=_ab;
}
}),new objj_method(sel_getUid("autoresizingMask"),function(_ac,_ad){
with(_ac){
return _autoresizingMask;
}
}),new objj_method(sel_getUid("enterFullScreenMode"),function(_ae,_af){
with(_ae){
return objj_msgSend(_ae,"enterFullScreenMode:withOptions:",nil,nil);
}
}),new objj_method(sel_getUid("enterFullScreenMode:withOptions:"),function(_b0,_b1,_b2,_b3){
with(_b0){
_fullScreenModeState=_b4(_b0);
var _b5=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds"),CPBorderlessWindowMask);
objj_msgSend(_b5,"setLevel:",CPScreenSaverWindowLevel);
objj_msgSend(_b5,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
var _b6=objj_msgSend(_b5,"contentView");
objj_msgSend(_b6,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_b6,"addSubview:",_b0);
objj_msgSend(_b0,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_b0,"setFrame:",CGRectMakeCopy(objj_msgSend(_b6,"bounds")));
objj_msgSend(_b5,"makeKeyAndOrderFront:",_b0);
objj_msgSend(_b5,"makeFirstResponder:",_b0);
_isInFullScreenMode=YES;
return YES;
}
}),new objj_method(sel_getUid("exitFullScreenMode"),function(_b7,_b8){
with(_b7){
objj_msgSend(_b7,"exitFullScreenModeWithOptions:",nil);
}
}),new objj_method(sel_getUid("exitFullScreenModeWithOptions:"),function(_b9,_ba,_bb){
with(_b9){
if(!_isInFullScreenMode){
return;
}
_isInFullScreenMode=NO;
objj_msgSend(_b9,"setFrame:",_fullScreenModeState.frame);
objj_msgSend(_b9,"setAutoresizingMask:",_fullScreenModeState.autoresizingMask);
objj_msgSend(_fullScreenModeState.superview,"_insertSubview:atIndex:",_b9,_fullScreenModeState.index);
objj_msgSend(objj_msgSend(_b9,"window"),"orderOut:",_b9);
}
}),new objj_method(sel_getUid("isInFullScreenMode"),function(_bc,_bd){
with(_bc){
return _isInFullScreenMode;
}
}),new objj_method(sel_getUid("setHidden:"),function(_be,_bf,_c0){
with(_be){
_c0=!!_c0;
if(_isHidden===_c0){
return;
}
_isHidden=_c0;
_DOMElement.style.display=_isHidden?"none":"block";
if(_c0){
var _c1=objj_msgSend(_window,"firstResponder");
if(objj_msgSend(_c1,"isKindOfClass:",objj_msgSend(CPView,"class"))){
do{
if(_be==_c1){
objj_msgSend(_window,"makeFirstResponder:",objj_msgSend(_be,"nextValidKeyView"));
break;
}
}while(_c1=objj_msgSend(_c1,"superview"));
}
}
}
}),new objj_method(sel_getUid("isHidden"),function(_c2,_c3){
with(_c2){
return _isHidden;
}
}),new objj_method(sel_getUid("setAlphaValue:"),function(_c4,_c5,_c6){
with(_c4){
if(_opacity==_c6){
return;
}
_opacity=_c6;
if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)){
if(_c6==1){
try{
_DOMElement.style.removeAttribute("filter");
}
catch(anException){
}
}else{
_DOMElement.style.filter="alpha(opacity="+_c6*100+")";
}
}else{
_DOMElement.style.opacity=_c6;
}
}
}),new objj_method(sel_getUid("alphaValue"),function(_c7,_c8){
with(_c7){
return _opacity;
}
}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(_c9,_ca){
with(_c9){
var _cb=_c9;
while(_cb&&!objj_msgSend(_cb,"isHidden")){
_cb=objj_msgSend(_cb,"superview");
}
return _cb!==nil;
}
}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(_cc,_cd,_ce){
with(_cc){
return YES;
}
}),new objj_method(sel_getUid("hitTests"),function(_cf,_d0){
with(_cf){
return _hitTests;
}
}),new objj_method(sel_getUid("setHitTests:"),function(_d1,_d2,_d3){
with(_d1){
_hitTests=!!_d3;
}
}),new objj_method(sel_getUid("hitTest:"),function(_d4,_d5,_d6){
with(_d4){
if(_isHidden||!_hitTests||!CPRectContainsPoint(_frame,_d6)){
return nil;
}
var _d7=nil,i=_subviews.length,_d8={x:_d6.x-(_frame.origin.x),y:_d6.y-(_frame.origin.y)};
if(_inverseBoundsTransform){
_d8={x:_d8.x*_inverseBoundsTransform.a+_d8.y*_inverseBoundsTransform.c+_inverseBoundsTransform.tx,y:_d8.x*_inverseBoundsTransform.b+_d8.y*_inverseBoundsTransform.d+_inverseBoundsTransform.ty};
}
while(i--){
if(_d7=objj_msgSend(_subviews[i],"hitTest:",_d8)){
return _d7;
}
}
return _d4;
}
}),new objj_method(sel_getUid("mouseDownCanMoveWindow"),function(_d9,_da){
with(_d9){
return !objj_msgSend(_d9,"isOpaque");
}
}),new objj_method(sel_getUid("mouseDown:"),function(_db,_dc,_dd){
with(_db){
if(objj_msgSend(_db,"mouseDownCanMoveWindow")){
objj_msgSendSuper({receiver:_db,super_class:objj_getClass("CPResponder")},"mouseDown:",_dd);
}
}
}),new objj_method(sel_getUid("setBackgroundColor:"),function(_de,_df,_e0){
with(_de){
if(_backgroundColor==_e0){
return;
}
_backgroundColor=_e0;
var _e1=objj_msgSend(_backgroundColor,"patternImage"),_e2=0;
if(objj_msgSend(_e1,"isThreePartImage")){
_backgroundType=objj_msgSend(_e1,"isVertical")?_5:_6;
_e2=3-_DOMImageParts.length;
}else{
if(objj_msgSend(_e1,"isNinePartImage")){
_backgroundType=_7;
_e2=9-_DOMImageParts.length;
}else{
_backgroundType=_4;
_e2=0-_DOMImageParts.length;
}
}
if(_e2>0){
while(_e2--){
var _e3=_3.cloneNode(false);
_e3.style.zIndex=-1000;
_DOMImageParts.push(_e3);
_DOMElement.appendChild(_e3);
}
}else{
_e2=-_e2;
while(_e2--){
_DOMElement.removeChild(_DOMImageParts.pop());
}
}
if(_backgroundType==_4){
_DOMElement.style.background=_backgroundColor?objj_msgSend(_backgroundColor,"cssString"):"";
}else{
var _e4=objj_msgSend(_e1,"imageSlices"),_e5=MIN(_DOMImageParts.length,_e4.length),_e6=_frame.size;
while(_e5--){
var _e7=_e4[_e5],_e8=_DOMImageSizes[_e5]=_e7?objj_msgSend(_e7,"size"):{width:0,height:0};
_DOMImageParts[_e5].style.width=MAX(0,ROUND(_e8.width))+"px";
_DOMImageParts[_e5].style.height=MAX(0,ROUND(_e8.height))+"px";
_DOMImageParts[_e5].style.background=_e7?"url(\""+objj_msgSend(_e7,"filename")+"\")":"";
}
if(_backgroundType==_7){
var _e9=_e6.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width,_ea=_e6.height-_DOMImageSizes[0].height-_DOMImageSizes[6].height;
_DOMImageParts[1].style.width=MAX(0,ROUND(_e9))+"px";
_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px";
_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px";
_DOMImageParts[3].style.height=MAX(0,ROUND(_ea))+"px";
_DOMImageParts[4].style.width=MAX(0,ROUND(_e9))+"px";
_DOMImageParts[4].style.height=MAX(0,ROUND(_ea))+"px";
_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+"px";
_DOMImageParts[5].style.height=MAX(0,ROUND(_ea))+"px";
_DOMImageParts[7].style.width=MAX(0,ROUND(_e9))+"px";
_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[0].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[0].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:_DOMImageSizes[0].width,y:0};
}
_DOMImageParts[1].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[1].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[2].style.right=ROUND(_eb.x)+"px";
_DOMImageParts[2].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:_DOMImageSizes[1].height};
}
_DOMImageParts[3].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[3].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.d+NULL.ty};
}else{
var _eb={x:_DOMImageSizes[0].width,y:_DOMImageSizes[0].height};
}
_DOMImageParts[4].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[4].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:_DOMImageSizes[1].height};
}
_DOMImageParts[5].style.right=ROUND(_eb.x)+"px";
_DOMImageParts[5].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[6].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[6].style.bottom=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[6].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[6].width,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:_DOMImageSizes[6].width,y:0};
}
_DOMImageParts[7].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[7].style.bottom=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[8].style.right=ROUND(_eb.x)+"px";
_DOMImageParts[8].style.bottom=ROUND(_eb.y)+"px";
}else{
if(_backgroundType==_5){
_DOMImageParts[1].style.width=MAX(0,ROUND(_e6.width))+"px";
_DOMImageParts[1].style.height=MAX(0,ROUND(_e6.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[0].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[0].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[0].height).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:_DOMImageSizes[0].height};
}
_DOMImageParts[1].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[1].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[2].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[2].style.bottom=ROUND(_eb.y)+"px";
}else{
if(_backgroundType==_6){
_DOMImageParts[1].style.width=MAX(0,ROUND(_e6.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px";
_DOMImageParts[1].style.height=MAX(0,ROUND(_e6.height))+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[0].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[0].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:_DOMImageSizes[0].width,y:0};
}
_DOMImageParts[1].style.left=ROUND(_eb.x)+"px";
_DOMImageParts[1].style.top=ROUND(_eb.y)+"px";
if(NULL){
var _eb={x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty};
}else{
var _eb={x:0,y:0};
}
_DOMImageParts[2].style.right=ROUND(_eb.x)+"px";
_DOMImageParts[2].style.top=ROUND(_eb.y)+"px";
}
}
}
}
}
}),new objj_method(sel_getUid("backgroundColor"),function(_ec,_ed){
with(_ec){
return _backgroundColor;
}
}),new objj_method(sel_getUid("convertPoint:fromView:"),function(_ee,_ef,_f0,_f1){
with(_ee){
return CGPointApplyAffineTransform(_f0,_f2(_f1,_ee));
}
}),new objj_method(sel_getUid("convertPoint:toView:"),function(_f3,_f4,_f5,_f6){
with(_f3){
return CGPointApplyAffineTransform(_f5,_f2(_f3,_f6));
}
}),new objj_method(sel_getUid("convertSize:fromView:"),function(_f7,_f8,_f9,_fa){
with(_f7){
return CGSizeApplyAffineTransform(_f9,_f2(_fa,_f7));
}
}),new objj_method(sel_getUid("convertSize:toView:"),function(_fb,_fc,_fd,_fe){
with(_fb){
return CGSizeApplyAffineTransform(_fd,_f2(_fb,_fe));
}
}),new objj_method(sel_getUid("convertRect:fromView:"),function(_ff,_100,_101,_102){
with(_ff){
return CGRectApplyAffineTransform(_101,_f2(_102,_ff));
}
}),new objj_method(sel_getUid("convertRect:toView:"),function(self,_103,_104,_105){
with(self){
return CGRectApplyAffineTransform(_104,_f2(self,_105));
}
}),new objj_method(sel_getUid("setPostsFrameChangedNotifications:"),function(self,_106,_107){
with(self){
_107=!!_107;
if(_postsFrameChangedNotifications===_107){
return;
}
_postsFrameChangedNotifications=_107;
if(_postsFrameChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewFrameDidChangeNotification,self);
}
}
}),new objj_method(sel_getUid("postsFrameChangedNotifications"),function(self,_108){
with(self){
return _postsFrameChangedNotifications;
}
}),new objj_method(sel_getUid("setPostsBoundsChangedNotifications:"),function(self,_109,_10a){
with(self){
_10a=!!_10a;
if(_postsBoundsChangedNotifications===_10a){
return;
}
_postsBoundsChangedNotifications=_10a;
if(_postsBoundsChangedNotifications){
objj_msgSend(_1,"postNotificationName:object:",CPViewBoundsDidChangeNotification,self);
}
}
}),new objj_method(sel_getUid("postsBoundsChangedNotifications"),function(self,_10b){
with(self){
return _postsBoundsChangedNotifications;
}
}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(self,_10c,_10d,_10e,_10f,_110,_111,_112,_113){
with(self){
objj_msgSend(_window,"dragImage:at:offset:event:pasteboard:source:slideBack:",_10d,objj_msgSend(self,"convertPoint:toView:",_10e,nil),_10f,_110,_111,_112,_113);
}
}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(self,_114,_115,_116,_117,_118,_119,_11a,_11b){
with(self){
objj_msgSend(_window,"dragView:at:offset:event:pasteboard:source:slideBack:",_115,objj_msgSend(self,"convertPoint:toView:",_116,nil),_117,_118,_119,_11a,_11b);
}
}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(self,_11c,_11d){
with(self){
if(!_11d||!objj_msgSend(_11d,"count")){
return;
}
var _11e=objj_msgSend(self,"window");
objj_msgSend(_11e,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);
objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",_11d);
objj_msgSend(_11e,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);
_registeredDraggedTypesArray=nil;
}
}),new objj_method(sel_getUid("registeredDraggedTypes"),function(self,_11f){
with(self){
if(!_registeredDraggedTypesArray){
_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects");
}
return _registeredDraggedTypesArray;
}
}),new objj_method(sel_getUid("unregisterDraggedTypes"),function(self,_120){
with(self){
objj_msgSend(objj_msgSend(self,"window"),"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);
_registeredDraggedTypes=objj_msgSend(CPSet,"set");
_registeredDraggedTypesArray=[];
}
}),new objj_method(sel_getUid("drawRect:"),function(self,_121,_122){
with(self){
}
}),new objj_method(sel_getUid("setNeedsDisplay:"),function(self,_123,_124){
with(self){
if(_124){
objj_msgSend(self,"setNeedsDisplayInRect:",objj_msgSend(self,"bounds"));
}
}
}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(self,_125,_126){
with(self){
if(!(_viewClassFlags&_9)){
return;
}
if((_126.size.width<=0||_126.size.height<=0)){
return;
}
if(_dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)){
_dirtyRect=CGRectUnion(_126,_dirtyRect);
}else{
_dirtyRect={origin:{x:_126.origin.x,y:_126.origin.y},size:{width:_126.size.width,height:_126.size.height}};
}
_CPDisplayServerAddDisplayObject(self);
}
}),new objj_method(sel_getUid("needsDisplay"),function(self,_127){
with(self){
return _dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0);
}
}),new objj_method(sel_getUid("displayIfNeeded"),function(self,_128){
with(self){
if(objj_msgSend(self,"needsDisplay")){
objj_msgSend(self,"displayRect:",_dirtyRect);
}
}
}),new objj_method(sel_getUid("display"),function(self,_129){
with(self){
objj_msgSend(self,"displayRect:",objj_msgSend(self,"visibleRect"));
}
}),new objj_method(sel_getUid("displayIfNeededInRect:"),function(self,_12a,_12b){
with(self){
if(objj_msgSend(self,"needsDisplay")){
objj_msgSend(self,"displayRect:",_12b);
}
}
}),new objj_method(sel_getUid("displayRect:"),function(self,_12c,_12d){
with(self){
objj_msgSend(self,"viewWillDraw");
objj_msgSend(self,"displayRectIgnoringOpacity:inContext:",_12d,nil);
_dirtyRect=NULL;
}
}),new objj_method(sel_getUid("displayRectIgnoringOpacity:inContext:"),function(self,_12e,_12f,_130){
with(self){
objj_msgSend(self,"lockFocus");
CGContextClearRect(objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_12f);
objj_msgSend(self,"drawRect:",_12f);
objj_msgSend(self,"unlockFocus");
}
}),new objj_method(sel_getUid("viewWillDraw"),function(self,_131){
with(self){
}
}),new objj_method(sel_getUid("lockFocus"),function(self,_132){
with(self){
if(!_graphicsContext){
var _133=CGBitmapGraphicsContextCreate();
_DOMContentsElement=_133.DOMElement;
_DOMContentsElement.style.zIndex=-100;
_DOMContentsElement.style.overflow="hidden";
_DOMContentsElement.style.position="absolute";
_DOMContentsElement.style.visibility="visible";
_DOMContentsElement.width=ROUND((_frame.size.width));
_DOMContentsElement.height=ROUND((_frame.size.height));
_DOMContentsElement.style.top="0px";
_DOMContentsElement.style.left="0px";
_DOMContentsElement.style.width=ROUND((_frame.size.width))+"px";
_DOMContentsElement.style.height=ROUND((_frame.size.height))+"px";
_DOMElement.appendChild(_DOMContentsElement);
_graphicsContext=objj_msgSend(CPGraphicsContext,"graphicsContextWithGraphicsPort:flipped:",_133,YES);
}
objj_msgSend(CPGraphicsContext,"setCurrentContext:",_graphicsContext);
CGContextSaveGState(objj_msgSend(_graphicsContext,"graphicsPort"));
}
}),new objj_method(sel_getUid("unlockFocus"),function(self,_134){
with(self){
CGContextRestoreGState(objj_msgSend(_graphicsContext,"graphicsPort"));
objj_msgSend(CPGraphicsContext,"setCurrentContext:",nil);
}
}),new objj_method(sel_getUid("setNeedsLayout"),function(self,_135){
with(self){
if(!(_viewClassFlags&_a)){
return;
}
_needsLayout=YES;
_CPDisplayServerAddLayoutObject(self);
}
}),new objj_method(sel_getUid("layoutIfNeeded"),function(self,_136){
with(self){
if(_needsLayout){
_needsLayout=NO;
objj_msgSend(self,"layoutSubviews");
}
}
}),new objj_method(sel_getUid("layoutSubviews"),function(self,_137){
with(self){
}
}),new objj_method(sel_getUid("isOpaque"),function(self,_138){
with(self){
return NO;
}
}),new objj_method(sel_getUid("visibleRect"),function(self,_139){
with(self){
if(!_superview){
return _bounds;
}
return CGRectIntersection(objj_msgSend(self,"convertRect:fromView:",objj_msgSend(_superview,"visibleRect"),_superview),_bounds);
}
}),new objj_method(sel_getUid("_enclosingClipView"),function(self,_13a){
with(self){
var _13b=_superview,_13c=objj_msgSend(CPClipView,"class");
while(_13b&&!objj_msgSend(_13b,"isKindOfClass:",_13c)){
_13b=_13b._superview;
}
return _13b;
}
}),new objj_method(sel_getUid("scrollPoint:"),function(self,_13d,_13e){
with(self){
var _13f=objj_msgSend(self,"_enclosingClipView");
if(!_13f){
return;
}
objj_msgSend(_13f,"scrollToPoint:",objj_msgSend(self,"convertPoint:toView:",_13e,_13f));
}
}),new objj_method(sel_getUid("scrollRectToVisible:"),function(self,_140,_141){
with(self){
var _142=objj_msgSend(self,"visibleRect");
_141=CGRectIntersection(_141,_bounds);
if((_141.size.width<=0||_141.size.height<=0)||CGRectContainsRect(_142,_141)){
return NO;
}
var _143=objj_msgSend(self,"_enclosingClipView");
if(!_143){
return NO;
}
var _144={x:_142.origin.x,y:_142.origin.y};
if((_141.origin.x)<=(_142.origin.x)){
_144.x=(_141.origin.x);
}else{
if((_141.origin.x+_141.size.width)>(_142.origin.x+_142.size.width)){
_144.x+=(_141.origin.x+_141.size.width)-(_142.origin.x+_142.size.width);
}
}
if((_141.origin.y)<=(_142.origin.y)){
_144.y=CGRectGetMinY(_141);
}else{
if((_141.origin.y+_141.size.height)>(_142.origin.y+_142.size.height)){
_144.y+=(_141.origin.y+_141.size.height)-(_142.origin.y+_142.size.height);
}
}
objj_msgSend(_143,"scrollToPoint:",CGPointMake(_144.x,_144.y));
return YES;
}
}),new objj_method(sel_getUid("autoscroll:"),function(self,_145,_146){
with(self){
return objj_msgSend(objj_msgSend(self,"superview"),"autoscroll:",_146);
}
}),new objj_method(sel_getUid("adjustScroll:"),function(self,_147,_148){
with(self){
return _148;
}
}),new objj_method(sel_getUid("scrollRect:by:"),function(self,_149,_14a,_14b){
with(self){
}
}),new objj_method(sel_getUid("enclosingScrollView"),function(self,_14c){
with(self){
var _14d=_superview,_14e=objj_msgSend(CPScrollView,"class");
while(_14d&&!objj_msgSend(_14d,"isKindOfClass:",_14e)){
_14d=_14d._superview;
}
return _14d;
}
}),new objj_method(sel_getUid("scrollClipView:toPoint:"),function(self,_14f,_150,_151){
with(self){
objj_msgSend(_150,"scrollToPoint:",_151);
}
}),new objj_method(sel_getUid("reflectScrolledClipView:"),function(self,_152,_153){
with(self){
}
})]);
class_addMethods(_c,[new objj_method(sel_getUid("initialize"),function(self,_154){
with(self){
if(self!==objj_msgSend(CPView,"class")){
return;
}
_3=document.createElement("div");
var _155=_3.style;
_155.overflow="hidden";
_155.position="absolute";
_155.visibility="visible";
_155.zIndex=0;
_1=objj_msgSend(CPNotificationCenter,"defaultCenter");
}
}),new objj_method(sel_getUid("keyPathsForValuesAffectingFrame"),function(self,_156){
with(self){
return objj_msgSend(CPSet,"setWithObjects:","frameOrigin","frameSize");
}
}),new objj_method(sel_getUid("keyPathsForValuesAffectingBounds"),function(self,_157){
with(self){
return objj_msgSend(CPSet,"setWithObjects:","boundsOrigin","boundsSize");
}
})]);
var _b=objj_getClass("CPView");
if(!_b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPView\""));
}
var _c=_b.isa;
class_addMethods(_b,[new objj_method(sel_getUid("performKeyEquivalent:"),function(self,_158,_159){
with(self){
var _15a=objj_msgSend(_subviews,"count");
while(_15a--){
if(objj_msgSend(_subviews[_15a],"performKeyEquivalent:",_159)){
return YES;
}
}
return NO;
}
}),new objj_method(sel_getUid("canBecomeKeyView"),function(self,_15b){
with(self){
return objj_msgSend(self,"acceptsFirstResponder")&&!objj_msgSend(self,"isHiddenOrHasHiddenAncestor");
}
}),new objj_method(sel_getUid("nextKeyView"),function(self,_15c){
with(self){
return _nextKeyView;
}
}),new objj_method(sel_getUid("nextValidKeyView"),function(self,_15d){
with(self){
var _15e=objj_msgSend(self,"nextKeyView");
while(_15e&&!objj_msgSend(_15e,"canBecomeKeyView")){
_15e=objj_msgSend(_15e,"nextKeyView");
}
return _15e;
}
}),new objj_method(sel_getUid("previousKeyView"),function(self,_15f){
with(self){
return _previousKeyView;
}
}),new objj_method(sel_getUid("previousValidKeyView"),function(self,_160){
with(self){
var _161=objj_msgSend(self,"previousKeyView");
while(_161&&!objj_msgSend(_161,"canBecomeKeyView")){
_161=objj_msgSend(_161,"previousKeyView");
}
return _161;
}
}),new objj_method(sel_getUid("_setPreviousKeyView:"),function(self,_162,_163){
with(self){
_previousKeyView=_163;
}
}),new objj_method(sel_getUid("setNextKeyView:"),function(self,_164,next){
with(self){
_nextKeyView=next;
objj_msgSend(_nextKeyView,"_setPreviousKeyView:",self);
}
})]);
var _b=objj_getClass("CPView");
if(!_b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPView\""));
}
var _c=_b.isa;
class_addMethods(_b,[new objj_method(sel_getUid("setLayer:"),function(self,_165,_166){
with(self){
if(_layer==_166){
return;
}
if(_layer){
_layer._owningView=nil;
_DOMElement.removeChild(_layer._DOMElement);
}
_layer=_166;
if(_layer){
var _167=CGRectMakeCopy(objj_msgSend(self,"bounds"));
objj_msgSend(_layer,"_setOwningView:",self);
_layer._DOMElement.style.zIndex=100;
_DOMElement.appendChild(_layer._DOMElement);
}
}
}),new objj_method(sel_getUid("layer"),function(self,_168){
with(self){
return _layer;
}
}),new objj_method(sel_getUid("setWantsLayer:"),function(self,_169,_16a){
with(self){
_wantsLayer=!!_16a;
}
}),new objj_method(sel_getUid("wantsLayer"),function(self,_16b){
with(self){
return _wantsLayer;
}
})]);
var _b=objj_getClass("CPView");
if(!_b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPView\""));
}
var _c=_b.isa;
class_addMethods(_b,[new objj_method(sel_getUid("themeState"),function(self,_16c){
with(self){
return _themeState;
}
}),new objj_method(sel_getUid("hasThemeState:"),function(self,_16d,_16e){
with(self){
return !!(_themeState&((typeof _16e==="string")?CPThemeState(_16e):_16e));
}
}),new objj_method(sel_getUid("setThemeState:"),function(self,_16f,_170){
with(self){
var _171=(typeof _170==="string")?CPThemeState(_170):_170;
if(_themeState&_171){
return NO;
}
_themeState|=_171;
objj_msgSend(self,"setNeedsLayout");
objj_msgSend(self,"setNeedsDisplay:",YES);
return YES;
}
}),new objj_method(sel_getUid("unsetThemeState:"),function(self,_172,_173){
with(self){
var _174=((typeof _173==="string")?CPThemeState(_173):_173);
if(!(_themeState&_174)){
return NO;
}
_themeState&=~_174;
objj_msgSend(self,"setNeedsLayout");
objj_msgSend(self,"setNeedsDisplay:",YES);
return YES;
}
}),new objj_method(sel_getUid("_loadThemeAttributes"),function(self,_175){
with(self){
var _176=objj_msgSend(self,"class"),_177=objj_msgSend(_176,"_themeAttributes"),_178=_177.length;
if(!_178){
return;
}
var _179=objj_msgSend(self,"theme"),_17a=objj_msgSend(_176,"themeClass");
_themeAttributes={};
while(_178--){
var _17b=_177[_178--],_17c=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",_17b,_177[_178]);
objj_msgSend(_17c,"setParentAttribute:",objj_msgSend(_179,"_attributeWithName:forClass:",_17b,_17a));
_themeAttributes[_17b]=_17c;
}
}
}),new objj_method(sel_getUid("setTheme:"),function(self,_17d,_17e){
with(self){
if(_theme===_17e){
return;
}
_theme=_17e;
objj_msgSend(self,"viewDidChangeTheme");
}
}),new objj_method(sel_getUid("theme"),function(self,_17f){
with(self){
return _theme;
}
}),new objj_method(sel_getUid("viewDidChangeTheme"),function(self,_180){
with(self){
if(!_themeAttributes){
return;
}
var _181=objj_msgSend(self,"theme"),_182=objj_msgSend(objj_msgSend(self,"class"),"themeClass");
for(var _183 in _themeAttributes){
if(_themeAttributes.hasOwnProperty(_183)){
objj_msgSend(_themeAttributes[_183],"setParentAttribute:",objj_msgSend(_181,"_attributeWithName:forClass:",_183,_182));
}
}
objj_msgSend(self,"setNeedsLayout");
objj_msgSend(self,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("_themeAttributeDictionary"),function(self,_184){
with(self){
var _185=objj_msgSend(CPDictionary,"dictionary");
if(_themeAttributes){
var _186=objj_msgSend(self,"theme");
for(var _187 in _themeAttributes){
if(_themeAttributes.hasOwnProperty(_187)){
objj_msgSend(_185,"setObject:forKey:",_themeAttributes[_187],_187);
}
}
}
return _185;
}
}),new objj_method(sel_getUid("setValue:forThemeAttribute:inState:"),function(self,_188,_189,_18a,_18b){
with(self){
if(!_themeAttributes||!_themeAttributes[_18a]){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(self,"className")+" does not contain theme attribute '"+_18a+"'");
}
var _18c=objj_msgSend(self,"currentValueForThemeAttribute:",_18a);
objj_msgSend(_themeAttributes[_18a],"setValue:forState:",_189,_18b);
if(objj_msgSend(self,"currentValueForThemeAttribute:",_18a)===_18c){
return;
}
objj_msgSend(self,"setNeedsDisplay:",YES);
objj_msgSend(self,"setNeedsLayout");
}
}),new objj_method(sel_getUid("setValue:forThemeAttribute:"),function(self,_18d,_18e,_18f){
with(self){
if(!_themeAttributes||!_themeAttributes[_18f]){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(self,"className")+" does not contain theme attribute '"+_18f+"'");
}
var _190=objj_msgSend(self,"currentValueForThemeAttribute:",_18f);
objj_msgSend(_themeAttributes[_18f],"setValue:",_18e);
if(objj_msgSend(self,"currentValueForThemeAttribute:",_18f)===_190){
return;
}
objj_msgSend(self,"setNeedsDisplay:",YES);
objj_msgSend(self,"setNeedsLayout");
}
}),new objj_method(sel_getUid("valueForThemeAttribute:inState:"),function(self,_191,_192,_193){
with(self){
if(!_themeAttributes||!_themeAttributes[_192]){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(self,"className")+" does not contain theme attribute '"+_192+"'");
}
return objj_msgSend(_themeAttributes[_192],"valueForState:",_193);
}
}),new objj_method(sel_getUid("valueForThemeAttribute:"),function(self,_194,_195){
with(self){
if(!_themeAttributes||!_themeAttributes[_195]){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(self,"className")+" does not contain theme attribute '"+_195+"'");
}
return objj_msgSend(_themeAttributes[_195],"value");
}
}),new objj_method(sel_getUid("currentValueForThemeAttribute:"),function(self,_196,_197){
with(self){
if(!_themeAttributes||!_themeAttributes[_197]){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(self,"className")+" does not contain theme attribute '"+_197+"'");
}
return objj_msgSend(_themeAttributes[_197],"valueForState:",_themeState);
}
}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(self,_198,_199){
with(self){
return nil;
}
}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(self,_19a,_19b){
with(self){
return {origin:{x:0,y:0},size:{width:0,height:0}};
}
}),new objj_method(sel_getUid("layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:"),function(self,_19c,_19d,_19e,_19f){
with(self){
if(!_ephemeralSubviewsForNames){
_ephemeralSubviewsForNames={};
_ephemeralSubviews=objj_msgSend(CPSet,"set");
}
var _1a0=objj_msgSend(self,"rectForEphemeralSubviewNamed:",_19d);
if(_1a0&&!(_1a0.size.width<=0||_1a0.size.height<=0)){
if(!_ephemeralSubviewsForNames[_19d]){
_ephemeralSubviewsForNames[_19d]=objj_msgSend(self,"createEphemeralSubviewNamed:",_19d);
objj_msgSend(_ephemeralSubviews,"addObject:",_ephemeralSubviewsForNames[_19d]);
if(_ephemeralSubviewsForNames[_19d]){
objj_msgSend(self,"addSubview:positioned:relativeTo:",_ephemeralSubviewsForNames[_19d],_19e,_ephemeralSubviewsForNames[_19f]);
}
}
if(_ephemeralSubviewsForNames[_19d]){
objj_msgSend(_ephemeralSubviewsForNames[_19d],"setFrame:",_1a0);
}
}else{
if(_ephemeralSubviewsForNames[_19d]){
objj_msgSend(_ephemeralSubviewsForNames[_19d],"removeFromSuperview");
objj_msgSend(_ephemeralSubviews,"removeObject:",_ephemeralSubviewsForNames[_19d]);
delete _ephemeralSubviewsForNames[_19d];
}
}
return _ephemeralSubviewsForNames[_19d];
}
})]);
class_addMethods(_c,[new objj_method(sel_getUid("themeClass"),function(self,_1a1){
with(self){
return nil;
}
}),new objj_method(sel_getUid("themeAttributes"),function(self,_1a2){
with(self){
return nil;
}
}),new objj_method(sel_getUid("_themeAttributes"),function(self,_1a3){
with(self){
if(!_2){
_2={};
}
var _1a4=objj_msgSend(self,"class"),_1a5=objj_msgSend(CPView,"class"),_1a6=[];
for(;_1a4&&_1a4!==_1a5;_1a4=objj_msgSend(_1a4,"superclass")){
var _1a7=_2[class_getName(_1a4)];
if(_1a7){
_1a6=_1a6.length?_1a6.concat(_1a7):_1a6;
_2[objj_msgSend(self,"className")]=_1a6;
break;
}
var _1a8=objj_msgSend(_1a4,"themeAttributes");
if(!_1a8){
continue;
}
var _1a9=objj_msgSend(_1a8,"allKeys"),_1aa=_1a9.length;
while(_1aa--){
var _1ab=_1a9[_1aa];
_1a6.push(objj_msgSend(_1a8,"objectForKey:",_1ab));
_1a6.push(_1ab);
}
}
return _1a6;
}
})]);
var _1ac="CPViewAutoresizingMask",_1ad="CPViewAutoresizesSubviews",_1ae="CPViewBackgroundColor",_1af="CPViewBoundsKey",_1b0="CPViewFrameKey",_1b1="CPViewHitTestsKey",_1b2="CPViewIsHiddenKey",_1b3="CPViewOpacityKey",_1b4="CPViewSubviewsKey",_1b5="CPViewSuperviewKey",_1b6="CPViewTagKey",_1b7="CPViewThemeStateKey",_1b8="CPViewWindowKey",_1b9="CPViewNextKeyViewKey",_1ba="CPViewPreviousKeyViewKey";
var _b=objj_getClass("CPView");
if(!_b){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPView\""));
}
var _c=_b.isa;
class_addMethods(_b,[new objj_method(sel_getUid("initWithCoder:"),function(self,_1bb,_1bc){
with(self){
_DOMElement=_3.cloneNode(false);
_frame=objj_msgSend(_1bc,"decodeRectForKey:",_1b0);
_bounds=objj_msgSend(_1bc,"decodeRectForKey:",_1af);
self=objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPResponder")},"initWithCoder:",_1bc);
if(self){
_tag=objj_msgSend(_1bc,"containsValueForKey:",_1b6)?objj_msgSend(_1bc,"decodeIntForKey:",_1b6):-1;
_window=objj_msgSend(_1bc,"decodeObjectForKey:",_1b8);
_subviews=objj_msgSend(_1bc,"decodeObjectForKey:",_1b4)||[];
_superview=objj_msgSend(_1bc,"decodeObjectForKey:",_1b5);
_registeredDraggedTypes=objj_msgSend(CPSet,"set");
_registeredDraggedTypesArray=[];
_autoresizingMask=objj_msgSend(_1bc,"decodeIntForKey:",_1ac)||CPViewNotSizable;
_autoresizesSubviews=!objj_msgSend(_1bc,"containsValueForKey:",_1ad)||objj_msgSend(_1bc,"decodeBoolForKey:",_1ad);
_hitTests=!objj_msgSend(_1bc,"containsValueForKey:",_1b1)||objj_msgSend(_1bc,"decodeObjectForKey:",_1b1);
_DOMImageParts=[];
_DOMImageSizes=[];
if(NULL){
var _1bd={x:CGPointMake((_frame.origin.x),(_frame.origin.y)).x*NULL.a+CGPointMake((_frame.origin.x),(_frame.origin.y)).y*NULL.c+NULL.tx,y:CGPointMake((_frame.origin.x),(_frame.origin.y)).x*NULL.b+CGPointMake((_frame.origin.x),(_frame.origin.y)).y*NULL.d+NULL.ty};
}else{
var _1bd={x:(_frame.origin.x),y:(_frame.origin.y)};
}
_DOMElement.style.left=ROUND(_1bd.x)+"px";
_DOMElement.style.top=ROUND(_1bd.y)+"px";
_DOMElement.style.width=MAX(0,ROUND((_frame.size.width)))+"px";
_DOMElement.style.height=MAX(0,ROUND((_frame.size.height)))+"px";
var _1be=0,_1bf=_subviews.length;
for(;_1be<_1bf;++_1be){
_DOMElement.appendChild(_subviews[_1be]._DOMElement);
}
if(objj_msgSend(_1bc,"containsValueForKey:",_1b2)){
objj_msgSend(self,"setHidden:",objj_msgSend(_1bc,"decodeBoolForKey:",_1b2));
}else{
_isHidden=NO;
}
if(objj_msgSend(_1bc,"containsValueForKey:",_1b3)){
objj_msgSend(self,"setAlphaValue:",objj_msgSend(_1bc,"decodeIntForKey:",_1b3));
}else{
_opacity=1;
}
objj_msgSend(self,"setBackgroundColor:",objj_msgSend(_1bc,"decodeObjectForKey:",_1ae));
objj_msgSend(self,"setupViewFlags");
_theme=objj_msgSend(CPTheme,"defaultTheme");
_themeState=CPThemeState(objj_msgSend(_1bc,"decodeIntForKey:",_1b7));
_themeAttributes={};
var _1c0=objj_msgSend(self,"class"),_1c1=objj_msgSend(_1c0,"themeClass"),_1c2=objj_msgSend(_1c0,"_themeAttributes"),_1bf=_1c2.length;
while(_1bf--){
var _1c3=_1c2[_1bf--];
_themeAttributes[_1c3]=CPThemeAttributeDecode(_1bc,_1c3,_1c2[_1bf],_theme,_1c1);
}
objj_msgSend(self,"setNeedsDisplay:",YES);
objj_msgSend(self,"setNeedsLayout");
}
return self;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(self,_1c4,_1c5){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPResponder")},"encodeWithCoder:",_1c5);
if(_tag!==-1){
objj_msgSend(_1c5,"encodeInt:forKey:",_tag,_1b6);
}
objj_msgSend(_1c5,"encodeRect:forKey:",_frame,_1b0);
objj_msgSend(_1c5,"encodeRect:forKey:",_bounds,_1af);
if(_window!==nil){
objj_msgSend(_1c5,"encodeConditionalObject:forKey:",_window,_1b8);
}
var _1c6=objj_msgSend(_subviews,"count"),_1c7=_subviews;
if(_1c6>0&&objj_msgSend(_ephemeralSubviews,"count")>0){
_1c7=objj_msgSend(_1c7,"copy");
while(_1c6--){
if(objj_msgSend(_ephemeralSubviews,"containsObject:",_1c7[_1c6])){
_1c7.splice(_1c6,1);
}
}
}
if(_1c7.length>0){
objj_msgSend(_1c5,"encodeObject:forKey:",_1c7,_1b4);
}
if(_superview!==nil){
objj_msgSend(_1c5,"encodeConditionalObject:forKey:",_superview,_1b5);
}
if(_autoresizingMask!==CPViewNotSizable){
objj_msgSend(_1c5,"encodeInt:forKey:",_autoresizingMask,_1ac);
}
if(!_autoresizesSubviews){
objj_msgSend(_1c5,"encodeBool:forKey:",_autoresizesSubviews,_1ad);
}
if(_backgroundColor!==nil){
objj_msgSend(_1c5,"encodeObject:forKey:",_backgroundColor,_1ae);
}
if(_hitTests!==YES){
objj_msgSend(_1c5,"encodeBool:forKey:",_hitTests,_1b1);
}
if(_opacity!==1){
objj_msgSend(_1c5,"encodeFloat:forKey:",_opacity,_1b3);
}
if(_isHidden){
objj_msgSend(_1c5,"encodeBool:forKey:",_isHidden,_1b2);
}
var _1c8=objj_msgSend(self,"nextKeyView");
if(_1c8!==nil){
objj_msgSend(_1c5,"encodeConditionalObject:forKey:",_1c8,_1b9);
}
var _1c9=objj_msgSend(self,"previousKeyView");
if(_1c9!==nil){
objj_msgSend(_1c5,"encodeConditionalObject:forKey:",_1c9,_1ba);
}
objj_msgSend(_1c5,"encodeInt:forKey:",CPThemeStateName(_themeState),_1b7);
for(var _1ca in _themeAttributes){
if(_themeAttributes.hasOwnProperty(_1ca)){
CPThemeAttributeEncode(_1c5,_themeAttributes[_1ca]);
}
}
}
})]);
var _b4=function(_1cb){
var _1cc=_1cb._superview;
return {autoresizingMask:_1cb._autoresizingMask,frame:CGRectMakeCopy(_1cb._frame),index:(_1cc?objj_msgSend(_1cc._subviews,"indexOfObjectIdenticalTo:",_1cb):0),superview:_1cc};
};
var _f2=function(_1cd,_1ce){
var _1cf=CGAffineTransformMakeIdentity(),_1d0=YES,_1d1=nil,_1d2=nil;
if(_1cd){
var view=_1cd;
while(view&&view!=_1ce){
var _1d3=view._frame;
_1cf.tx+=(_1d3.origin.x);
_1cf.ty+=(_1d3.origin.y);
if(view._boundsTransform){
var tx=_1cf.tx*view._boundsTransform.a+_1cf.ty*view._boundsTransform.c+view._boundsTransform.tx;
_1cf.ty=_1cf.tx*view._boundsTransform.b+_1cf.ty*view._boundsTransform.d+view._boundsTransform.ty;
_1cf.tx=tx;
var a=_1cf.a*view._boundsTransform.a+_1cf.b*view._boundsTransform.c,b=_1cf.a*view._boundsTransform.b+_1cf.b*view._boundsTransform.d,c=_1cf.c*view._boundsTransform.a+_1cf.d*view._boundsTransform.c;
_1cf.d=_1cf.c*view._boundsTransform.b+_1cf.d*view._boundsTransform.d;
_1cf.a=a;
_1cf.b=b;
_1cf.c=c;
}
view=view._superview;
}
if(view===_1ce){
return _1cf;
}else{
if(_1cd&&_1ce){
_1d1=objj_msgSend(_1cd,"window");
_1d2=objj_msgSend(_1ce,"window");
if(_1d1&&_1d2&&_1d1!==_1d2){
_1d0=NO;
var _1d3=objj_msgSend(_1d1,"frame");
_1cf.tx+=(_1d3.origin.x);
_1cf.ty+=(_1d3.origin.y);
}
}
}
}
var view=_1ce;
while(view){
var _1d3=view._frame;
_1cf.tx-=(_1d3.origin.x);
_1cf.ty-=(_1d3.origin.y);
if(view._boundsTransform){
var tx=_1cf.tx*view._inverseBoundsTransform.a+_1cf.ty*view._inverseBoundsTransform.c+view._inverseBoundsTransform.tx;
_1cf.ty=_1cf.tx*view._inverseBoundsTransform.b+_1cf.ty*view._inverseBoundsTransform.d+view._inverseBoundsTransform.ty;
_1cf.tx=tx;
var a=_1cf.a*view._inverseBoundsTransform.a+_1cf.b*view._inverseBoundsTransform.c,b=_1cf.a*view._inverseBoundsTransform.b+_1cf.b*view._inverseBoundsTransform.d,c=_1cf.c*view._inverseBoundsTransform.a+_1cf.d*view._inverseBoundsTransform.c;
_1cf.d=_1cf.c*view._inverseBoundsTransform.b+_1cf.d*view._inverseBoundsTransform.d;
_1cf.a=a;
_1cf.b=b;
_1cf.c=c;
}
view=view._superview;
}
if(!_1d0){
var _1d3=objj_msgSend(_1d2,"frame");
_1cf.tx-=(_1d3.origin.x);
_1cf.ty-=(_1d3.origin.y);
}
return _1cf;
};
p;18;CPViewController.jI;20;AppKit/CPResponder.jc;4772;
var _1;
var _2=objj_allocateClassPair(CPResponder,"CPViewController"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_view"),new objj_ivar("_representedObject"),new objj_ivar("_title"),new objj_ivar("_cibName"),new objj_ivar("_cibBundle"),new objj_ivar("_cibExternalNameTable")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("representedObject"),function(_4,_5){
with(_4){
return _representedObject;
}
}),new objj_method(sel_getUid("setRepresentedObject:"),function(_6,_7,_8){
with(_6){
_representedObject=_8;
}
}),new objj_method(sel_getUid("title"),function(_9,_a){
with(_9){
return _title;
}
}),new objj_method(sel_getUid("setTitle:"),function(_b,_c,_d){
with(_b){
_title=_d;
}
}),new objj_method(sel_getUid("cibName"),function(_e,_f){
with(_e){
return _cibName;
}
}),new objj_method(sel_getUid("cibBundle"),function(_10,_11){
with(_10){
return _cibBundle;
}
}),new objj_method(sel_getUid("cibExternalNameTable"),function(_12,_13){
with(_12){
return _cibExternalNameTable;
}
}),new objj_method(sel_getUid("init"),function(_14,_15){
with(_14){
return objj_msgSend(_14,"initWithCibName:bundle:",nil,nil);
}
}),new objj_method(sel_getUid("initWithCibName:bundle:"),function(_16,_17,_18,_19){
with(_16){
return objj_msgSend(_16,"initWithCibName:bundle:externalNameTable:",_18,_19,nil);
}
}),new objj_method(sel_getUid("initWithCibName:bundle:owner:"),function(_1a,_1b,_1c,_1d,_1e){
with(_1a){
return objj_msgSend(_1a,"initWithCibName:bundle:externalNameTable:",_1c,_1d,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_1e,CPCibOwner));
}
}),new objj_method(sel_getUid("initWithCibName:bundle:externalNameTable:"),function(_1f,_20,_21,_22,_23){
with(_1f){
_1f=objj_msgSendSuper({receiver:_1f,super_class:objj_getClass("CPResponder")},"init");
if(_1f){
_cibName=_21;
_cibBundle=_22||objj_msgSend(CPBundle,"mainBundle");
_cibExternalNameTable=_23||objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_1f,CPCibOwner);
}
return _1f;
}
}),new objj_method(sel_getUid("loadView"),function(_24,_25){
with(_24){
if(_view){
return;
}
var cib=objj_msgSend(_1,"objectForKey:",_cibName);
if(!cib){
cib=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",objj_msgSend(_cibBundle,"pathForResource:",_cibName+".cib"));
objj_msgSend(_1,"setObject:forKey:",cib,_cibName);
}
objj_msgSend(cib,"instantiateCibWithExternalNameTable:",_cibExternalNameTable);
}
}),new objj_method(sel_getUid("view"),function(_26,_27){
with(_26){
if(!_view){
var _28=objj_msgSend(_cibExternalNameTable,"objectForKey:",CPCibOwner);
if(objj_msgSend(_28,"respondsToSelector:",sel_getUid("viewControllerWillLoadCib:"))){
objj_msgSend(_28,"viewControllerWillLoadCib:",_26);
}
objj_msgSend(_26,"loadView");
if(_view===nil&&objj_msgSend(_28,"isKindOfClass:",objj_msgSend(CPDocument,"class"))){
objj_msgSend(_26,"setView:",objj_msgSend(_28,"valueForKey:","view"));
}
if(objj_msgSend(_28,"respondsToSelector:",sel_getUid("viewControllerDidLoadCib:"))){
objj_msgSend(_28,"viewControllerDidLoadCib:",_26);
}
}
return _view;
}
}),new objj_method(sel_getUid("setView:"),function(_29,_2a,_2b){
with(_29){
_view=_2b;
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("initialize"),function(_2c,_2d){
with(_2c){
if(_2c===CPViewController){
_1=objj_msgSend(CPDictionary,"dictionary");
}
}
})]);
var _2e="CPViewControllerViewKey",_2f="CPViewControllerTitleKey",_30="CPViewControllerCibNameKey",_31="CPViewControllerBundleKey";
var _2=objj_getClass("CPViewController");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPViewController\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("initWithCoder:"),function(_32,_33,_34){
with(_32){
_32=objj_msgSendSuper({receiver:_32,super_class:objj_getClass("CPResponder")},"initWithCoder:",_34);
if(_32){
_view=objj_msgSend(_34,"decodeObjectForKey:",_2e);
_title=objj_msgSend(_34,"decodeObjectForKey:",_2f);
_cibName=objj_msgSend(_34,"decodeObjectForKey:",_30);
var _35=objj_msgSend(_34,"decodeObjectForKey:",_31);
_cibBundle=_35?objj_msgSend(CPBundle,"bundleWithPath:",_35):objj_msgSend(CPBundle,"mainBundle");
_cibExternalNameTable=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_32,CPCibOwner);
}
return _32;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_36,_37,_38){
with(_36){
objj_msgSendSuper({receiver:_36,super_class:objj_getClass("CPResponder")},"encodeWithCoder:",_38);
objj_msgSend(_38,"encodeObject:forKey:",_view,_2e);
objj_msgSend(_38,"encodeObject:forKey:",_title,_2f);
objj_msgSend(_38,"encodeObject:forKey:",_cibName,_30);
objj_msgSend(_38,"encodeObject:forKey:",objj_msgSend(_cibBundle,"bundlePath"),_31);
}
})]);
p;11;CPWebView.jI;15;AppKit/CPView.jc;13270;
CPWebViewProgressStartedNotification="CPWebViewProgressStartedNotification";
CPWebViewProgressFinishedNotification="CPWebViewProgressFinishedNotification";
CPWebViewScrollAppKit=1;
CPWebViewScrollNative=2;
var _1=objj_allocateClassPair(CPView,"CPWebView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_scrollView"),new objj_ivar("_frameView"),new objj_ivar("_iframe"),new objj_ivar("_mainFrameURL"),new objj_ivar("_backwardStack"),new objj_ivar("_forwardStack"),new objj_ivar("_ignoreLoadStart"),new objj_ivar("_ignoreLoadEnd"),new objj_ivar("_downloadDelegate"),new objj_ivar("_frameLoadDelegate"),new objj_ivar("_policyDelegate"),new objj_ivar("_resourceLoadDelegate"),new objj_ivar("_UIDelegate"),new objj_ivar("_wso"),new objj_ivar("_url"),new objj_ivar("_html"),new objj_ivar("_loadCallback"),new objj_ivar("_scrollMode"),new objj_ivar("_scrollSize")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:frameName:groupName:"),function(_3,_4,_5,_6,_7){
with(_3){
if(_3=objj_msgSend(_3,"initWithFrame:",_5)){
_iframe.name=_6;
}
return _3;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_8,_9,_a){
with(_8){
if(_8=objj_msgSendSuper({receiver:_8,super_class:objj_getClass("CPView")},"initWithFrame:",_a)){
_mainFrameURL=nil;
_backwardStack=[];
_forwardStack=[];
_scrollMode=CPWebViewScrollNative;
objj_msgSend(_8,"_initDOMWithFrame:",_a);
}
return _8;
}
}),new objj_method(sel_getUid("_initDOMWithFrame:"),function(_b,_c,_d){
with(_b){
_ignoreLoadStart=YES;
_ignoreLoadEnd=YES;
_iframe=document.createElement("iframe");
_iframe.name="iframe_"+Math.floor(Math.random()*10000);
_iframe.style.width="100%";
_iframe.style.height="100%";
_iframe.style.borderWidth="0px";
objj_msgSend(_b,"setDrawsBackground:",YES);
_loadCallback=function(){
if(!_ignoreLoadStart){
objj_msgSend(_b,"_startedLoading");
if(_mainFrameURL){
objj_msgSend(_backwardStack,"addObject:",_mainFrameURL);
}
_mainFrameURL=_iframe.src;
_mainFrameURL=_iframe.src;
objj_msgSend(_forwardStack,"removeAllObjects");
}else{
_ignoreLoadStart=NO;
}
if(!_ignoreLoadEnd){
objj_msgSend(_b,"_finishedLoading");
}else{
_ignoreLoadEnd=NO;
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
};
if(_iframe.addEventListener){
_iframe.addEventListener("load",_loadCallback,false);
}else{
if(_iframe.attachEvent){
_iframe.attachEvent("onload",_loadCallback);
}
}
_frameView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",objj_msgSend(_b,"bounds"));
objj_msgSend(_frameView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
_scrollView=objj_msgSend(objj_msgSend(CPScrollView,"alloc"),"initWithFrame:",objj_msgSend(_b,"bounds"));
objj_msgSend(_scrollView,"setAutohidesScrollers:",YES);
objj_msgSend(_scrollView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_scrollView,"setDocumentView:",_frameView);
_frameView._DOMElement.appendChild(_iframe);
objj_msgSend(_b,"_setScrollMode:",_scrollMode);
objj_msgSend(_b,"addSubview:",_scrollView);
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_e,_f,_10){
with(_e){
objj_msgSendSuper({receiver:_e,super_class:objj_getClass("CPView")},"setFrameSize:",_10);
objj_msgSend(_e,"_resizeWebFrame");
}
}),new objj_method(sel_getUid("_resizeWebFrame"),function(_11,_12){
with(_11){
if(_scrollMode===CPWebViewScrollAppKit){
if(_scrollSize){
objj_msgSend(_frameView,"setFrameSize:",_scrollSize);
}else{
objj_msgSend(_frameView,"setFrameSize:",objj_msgSend(_scrollView,"contentSize"));
var win=null;
try{
win=objj_msgSend(_11,"DOMWindow");
}
catch(e){
}
if(win&&win.document){
var _13=win.document.body.scrollWidth,_14=win.document.body.scrollHeight;
_iframe.setAttribute("width",_13);
_iframe.setAttribute("height",_14);
objj_msgSend(_frameView,"setFrameSize:",CGSizeMake(_13,_14));
}else{
CPLog.warn("using default size 800*1600");
objj_msgSend(_frameView,"setFrameSize:",CGSizeMake(800,1600));
}
}
}
}
}),new objj_method(sel_getUid("setScrollMode:"),function(_15,_16,_17){
with(_15){
if(_scrollMode==_17){
return;
}
objj_msgSend(_15,"_setScrollMode:",_17);
}
}),new objj_method(sel_getUid("_setScrollMode:"),function(_18,_19,_1a){
with(_18){
_scrollMode=_1a;
_ignoreLoadStart=YES;
_ignoreLoadEnd=YES;
var _1b=_iframe.parentNode;
_1b.removeChild(_iframe);
if(_scrollMode===CPWebViewScrollAppKit){
objj_msgSend(_scrollView,"setHasHorizontalScroller:",YES);
objj_msgSend(_scrollView,"setHasVerticalScroller:",YES);
_iframe.setAttribute("scrolling","no");
}else{
objj_msgSend(_scrollView,"setHasHorizontalScroller:",NO);
objj_msgSend(_scrollView,"setHasVerticalScroller:",NO);
_iframe.setAttribute("scrolling","auto");
objj_msgSend(_frameView,"setFrameSize:",objj_msgSend(_scrollView,"bounds").size);
}
_1b.appendChild(_iframe);
}
}),new objj_method(sel_getUid("loadHTMLString:"),function(_1c,_1d,_1e){
with(_1c){
objj_msgSend(_1c,"loadHTMLString:baseURL:",_1e,nil);
}
}),new objj_method(sel_getUid("loadHTMLString:baseURL:"),function(_1f,_20,_21,URL){
with(_1f){
objj_msgSend(_1f,"_setScrollMode:",CPWebViewScrollAppKit);
objj_msgSend(_1f,"_startedLoading");
_ignoreLoadStart=YES;
_ignoreLoadEnd=NO;
_url=null;
_html=_21;
objj_msgSend(_1f,"_load");
}
}),new objj_method(sel_getUid("_loadMainFrameURL"),function(_22,_23){
with(_22){
objj_msgSend(_22,"_setScrollMode:",CPWebViewScrollNative);
objj_msgSend(_22,"_startedLoading");
_ignoreLoadStart=YES;
_ignoreLoadEnd=NO;
_url=_mainFrameURL;
_html=null;
objj_msgSend(_22,"_load");
}
}),new objj_method(sel_getUid("_load"),function(_24,_25){
with(_24){
if(_url){
_iframe.src=_url;
}else{
if(_html){
_iframe.src="";
window.setTimeout(function(){
var win=objj_msgSend(_24,"DOMWindow");
win.document.write(_html);
window.setTimeout(_loadCallback,1);
},0);
}
}
}
}),new objj_method(sel_getUid("_startedLoading"),function(_26,_27){
with(_26){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWebViewProgressStartedNotification,_26);
if(objj_msgSend(_frameLoadDelegate,"respondsToSelector:",sel_getUid("webView:didStartProvisionalLoadForFrame:"))){
objj_msgSend(_frameLoadDelegate,"webView:didStartProvisionalLoadForFrame:",_26,nil);
}
}
}),new objj_method(sel_getUid("_finishedLoading"),function(_28,_29){
with(_28){
objj_msgSend(_28,"_resizeWebFrame");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWebViewProgressFinishedNotification,_28);
if(objj_msgSend(_frameLoadDelegate,"respondsToSelector:",sel_getUid("webView:didFinishLoadForFrame:"))){
objj_msgSend(_frameLoadDelegate,"webView:didFinishLoadForFrame:",_28,nil);
}
}
}),new objj_method(sel_getUid("mainFrameURL"),function(_2a,_2b){
with(_2a){
return _mainFrameURL;
}
}),new objj_method(sel_getUid("setMainFrameURL:"),function(_2c,_2d,_2e){
with(_2c){
if(_mainFrameURL){
objj_msgSend(_backwardStack,"addObject:",_mainFrameURL);
}
_mainFrameURL=_2e;
objj_msgSend(_forwardStack,"removeAllObjects");
objj_msgSend(_2c,"_loadMainFrameURL");
}
}),new objj_method(sel_getUid("goBack"),function(_2f,_30){
with(_2f){
if(_backwardStack.length>0){
if(_mainFrameURL){
objj_msgSend(_forwardStack,"addObject:",_mainFrameURL);
}
_mainFrameURL=objj_msgSend(_backwardStack,"lastObject");
objj_msgSend(_backwardStack,"removeLastObject");
objj_msgSend(_2f,"_loadMainFrameURL");
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("goForward"),function(_31,_32){
with(_31){
if(_forwardStack.length>0){
if(_mainFrameURL){
objj_msgSend(_backwardStack,"addObject:",_mainFrameURL);
}
_mainFrameURL=objj_msgSend(_forwardStack,"lastObject");
objj_msgSend(_forwardStack,"removeLastObject");
objj_msgSend(_31,"_loadMainFrameURL");
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("canGoBack"),function(_33,_34){
with(_33){
return (_backwardStack.length>0);
}
}),new objj_method(sel_getUid("canGoForward"),function(_35,_36){
with(_35){
return (_forwardStack.length>0);
}
}),new objj_method(sel_getUid("backForwardList"),function(_37,_38){
with(_37){
return {back:_backwardStack,forward:_forwardStack};
}
}),new objj_method(sel_getUid("close"),function(_39,_3a){
with(_39){
_iframe.parentNode.removeChild(_iframe);
}
}),new objj_method(sel_getUid("DOMWindow"),function(_3b,_3c){
with(_3b){
return (_iframe.contentDocument&&_iframe.contentDocument.defaultView)||_iframe.contentWindow;
}
}),new objj_method(sel_getUid("windowScriptObject"),function(_3d,_3e){
with(_3d){
var win=objj_msgSend(_3d,"DOMWindow");
if(!_wso||win!=objj_msgSend(_wso,"window")){
if(win){
_wso=objj_msgSend(objj_msgSend(CPWebScriptObject,"alloc"),"initWithWindow:",win);
}else{
_wso=nil;
}
}
return _wso;
}
}),new objj_method(sel_getUid("stringByEvaluatingJavaScriptFromString:"),function(_3f,_40,_41){
with(_3f){
var _42=objj_msgSend(_3f,"objectByEvaluatingJavaScriptFromString:",_41);
return _42?String(_42):nil;
}
}),new objj_method(sel_getUid("objectByEvaluatingJavaScriptFromString:"),function(_43,_44,_45){
with(_43){
return objj_msgSend(objj_msgSend(_43,"windowScriptObject"),"evaluateWebScript:",_45);
}
}),new objj_method(sel_getUid("computedStyleForElement:pseudoElement:"),function(_46,_47,_48,_49){
with(_46){
var win=objj_msgSend(objj_msgSend(_46,"windowScriptObject"),"window");
if(win){
return win.document.defaultView.getComputedStyle(_48,_49);
}
return nil;
}
}),new objj_method(sel_getUid("drawsBackground"),function(_4a,_4b){
with(_4a){
return _iframe.style.backgroundColor!="";
}
}),new objj_method(sel_getUid("setDrawsBackground:"),function(_4c,_4d,_4e){
with(_4c){
_iframe.style.backgroundColor=_4e?"white":"";
}
}),new objj_method(sel_getUid("takeStringURLFrom:"),function(_4f,_50,_51){
with(_4f){
objj_msgSend(_4f,"setMainFrameURL:",objj_msgSend(_51,"stringValue"));
}
}),new objj_method(sel_getUid("goBack:"),function(_52,_53,_54){
with(_52){
objj_msgSend(_52,"goBack");
}
}),new objj_method(sel_getUid("goForward:"),function(_55,_56,_57){
with(_55){
objj_msgSend(_55,"goForward");
}
}),new objj_method(sel_getUid("stopLoading:"),function(_58,_59,_5a){
with(_58){
}
}),new objj_method(sel_getUid("reload:"),function(_5b,_5c,_5d){
with(_5b){
objj_msgSend(_5b,"_loadMainFrameURL");
}
}),new objj_method(sel_getUid("print:"),function(_5e,_5f,_60){
with(_5e){
try{
objj_msgSend(_5e,"DOMWindow").print();
}
catch(e){
alert("Please click the webpage and select \"Print\" from the \"File\" menu");
}
}
}),new objj_method(sel_getUid("downloadDelegate"),function(_61,_62){
with(_61){
return _downloadDelegate;
}
}),new objj_method(sel_getUid("setDownloadDelegate:"),function(_63,_64,_65){
with(_63){
_downloadDelegate=_65;
}
}),new objj_method(sel_getUid("frameLoadDelegate"),function(_66,_67){
with(_66){
return _frameLoadDelegate;
}
}),new objj_method(sel_getUid("setFrameLoadDelegate:"),function(_68,_69,_6a){
with(_68){
_frameLoadDelegate=_6a;
}
}),new objj_method(sel_getUid("policyDelegate"),function(_6b,_6c){
with(_6b){
return _policyDelegate;
}
}),new objj_method(sel_getUid("setPolicyDelegate:"),function(_6d,_6e,_6f){
with(_6d){
_policyDelegate=_6f;
}
}),new objj_method(sel_getUid("resourceLoadDelegate"),function(_70,_71){
with(_70){
return _resourceLoadDelegate;
}
}),new objj_method(sel_getUid("setResourceLoadDelegate:"),function(_72,_73,_74){
with(_72){
_resourceLoadDelegate=_74;
}
}),new objj_method(sel_getUid("UIDelegate"),function(_75,_76){
with(_75){
return _UIDelegate;
}
}),new objj_method(sel_getUid("setUIDelegate:"),function(_77,_78,_79){
with(_77){
_UIDelegate=_79;
}
})]);
var _1=objj_allocateClassPair(CPObject,"CPWebScriptObject"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_window")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithWindow:"),function(_7a,_7b,_7c){
with(_7a){
if(_7a=objj_msgSendSuper({receiver:_7a,super_class:objj_getClass("CPObject")},"init")){
_window=_7c;
}
return _7a;
}
}),new objj_method(sel_getUid("callWebScriptMethod:withArguments:"),function(_7d,_7e,_7f,_80){
with(_7d){
if(typeof _window[_7f]=="function"){
try{
return _window[_7f].apply(_80);
}
catch(e){
}
}
return undefined;
}
}),new objj_method(sel_getUid("evaluateWebScript:"),function(_81,_82,_83){
with(_81){
try{
return _window.eval(_83);
}
catch(e){
}
return undefined;
}
}),new objj_method(sel_getUid("window"),function(_84,_85){
with(_84){
return _window;
}
})]);
var _1=objj_getClass("CPWebView");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPWebView\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_86,_87,_88){
with(_86){
_86=objj_msgSendSuper({receiver:_86,super_class:objj_getClass("CPView")},"initWithCoder:",_88);
if(_86){
_mainFrameURL=nil;
_backwardStack=[];
_forwardStack=[];
_scrollMode=CPWebViewScrollNative;
objj_msgSend(_86,"_initDOMWithFrame:",objj_msgSend(_86,"frame"));
objj_msgSend(_86,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor"));
}
return _86;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_89,_8a,_8b){
with(_89){
var _8c=_subviews;
_subviews=[];
objj_msgSendSuper({receiver:_89,super_class:objj_getClass("CPView")},"encodeWithCoder:",_8b);
_subviews=_8c;
}
})]);
p;20;CPWindowController.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.ji;13;CPResponder.ji;10;CPWindow.ji;12;CPDocument.jc;9472;
var _1=objj_allocateClassPair(CPResponder,"CPWindowController"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_window"),new objj_ivar("_documents"),new objj_ivar("_document"),new objj_ivar("_shouldCloseDocument"),new objj_ivar("_supportsMultipleDocuments"),new objj_ivar("_cibOwner"),new objj_ivar("_windowCibName"),new objj_ivar("_windowCibPath"),new objj_ivar("_viewController"),new objj_ivar("_viewControllerContainerView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
return objj_msgSend(_3,"initWithWindow:",nil);
}
}),new objj_method(sel_getUid("initWithWindow:"),function(_5,_6,_7){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPResponder")},"init");
if(_5){
objj_msgSend(_5,"setWindow:",_7);
objj_msgSend(_5,"setShouldCloseDocument:",NO);
objj_msgSend(_5,"setNextResponder:",CPApp);
_documents=[];
}
return _5;
}
}),new objj_method(sel_getUid("initWithWindowCibName:"),function(_8,_9,_a){
with(_8){
return objj_msgSend(_8,"initWithWindowCibName:owner:",_a,_8);
}
}),new objj_method(sel_getUid("initWithWindowCibName:owner:"),function(_b,_c,_d,_e){
with(_b){
_b=objj_msgSend(_b,"initWithWindow:",nil);
if(_b){
_cibOwner=_e;
_windowCibName=_d;
}
return _b;
}
}),new objj_method(sel_getUid("initWithWindowCibPath:owner:"),function(_f,_10,_11,_12){
with(_f){
_f=objj_msgSend(_f,"initWithWindow:",nil);
if(_f){
_cibOwner=_12;
_windowCibPath=_11;
}
return _f;
}
}),new objj_method(sel_getUid("loadWindow"),function(_13,_14){
with(_13){
if(_window){
return;
}
objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_cibOwner,"class")),"loadCibFile:externalNameTable:",objj_msgSend(_13,"windowCibPath"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_cibOwner,CPCibOwner));
}
}),new objj_method(sel_getUid("showWindow:"),function(_15,_16,_17){
with(_15){
var _18=objj_msgSend(_15,"window");
if(objj_msgSend(_18,"respondsToSelector:",sel_getUid("becomesKeyOnlyIfNeeded"))&&objj_msgSend(_18,"becomesKeyOnlyIfNeeded")){
objj_msgSend(_18,"orderFront:",_17);
}else{
objj_msgSend(_18,"makeKeyAndOrderFront:",_17);
}
}
}),new objj_method(sel_getUid("isWindowLoaded"),function(_19,_1a){
with(_19){
return _window!==nil;
}
}),new objj_method(sel_getUid("window"),function(_1b,_1c){
with(_1b){
if(!_window){
objj_msgSend(_1b,"windowWillLoad");
objj_msgSend(_document,"windowControllerWillLoadCib:",_1b);
objj_msgSend(_1b,"loadWindow");
if(_window===nil&&objj_msgSend(_cibOwner,"isKindOfClass:",objj_msgSend(CPDocument,"class"))){
objj_msgSend(_1b,"setWindow:",objj_msgSend(_cibOwner,"valueForKey:","window"));
}
if(!_window){
var _1d=objj_msgSend(CPString,"stringWithFormat:","Window for %@ could not be loaded from Cib or no window specified.                                                         Override loadWindow to load the window manually.",_1b);
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,_1d);
}
objj_msgSend(_1b,"windowDidLoad");
objj_msgSend(_document,"windowControllerDidLoadCib:",_1b);
objj_msgSend(_1b,"synchronizeWindowTitleWithDocumentName");
}
return _window;
}
}),new objj_method(sel_getUid("setWindow:"),function(_1e,_1f,_20){
with(_1e){
objj_msgSend(_window,"setWindowController:",nil);
_window=_20;
objj_msgSend(_window,"setWindowController:",_1e);
objj_msgSend(_window,"setNextResponder:",_1e);
}
}),new objj_method(sel_getUid("windowDidLoad"),function(_21,_22){
with(_21){
}
}),new objj_method(sel_getUid("windowWillLoad"),function(_23,_24){
with(_23){
}
}),new objj_method(sel_getUid("setDocument:"),function(_25,_26,_27){
with(_25){
if(_document===_27){
return;
}
var _28=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_document){
if(!objj_msgSend(_25,"supportsMultipleDocuments")){
objj_msgSend(_25,"removeDocument:",_document);
}
objj_msgSend(_28,"removeObserver:name:object:",_25,CPDocumentWillSaveNotification,_document);
objj_msgSend(_28,"removeObserver:name:object:",_25,CPDocumentDidSaveNotification,_document);
objj_msgSend(_28,"removeObserver:name:object:",_25,CPDocumentDidFailToSaveNotification,_document);
}
_document=_27;
if(_document){
objj_msgSend(_25,"addDocument:",_document);
objj_msgSend(_28,"addObserver:selector:name:object:",_25,sel_getUid("_documentWillSave:"),CPDocumentWillSaveNotification,_document);
objj_msgSend(_28,"addObserver:selector:name:object:",_25,sel_getUid("_documentDidSave:"),CPDocumentDidSaveNotification,_document);
objj_msgSend(_28,"addObserver:selector:name:object:",_25,sel_getUid("_documentDidFailToSave:"),CPDocumentDidFailToSaveNotification,_document);
objj_msgSend(_25,"setDocumentEdited:",objj_msgSend(_document,"isDocumentEdited"));
}
var _29=objj_msgSend(_document,"viewControllerForWindowController:",_25);
if(_29){
objj_msgSend(_25,"setViewController:",_29);
}
objj_msgSend(_25,"synchronizeWindowTitleWithDocumentName");
}
}),new objj_method(sel_getUid("setSupportsMultipleDocuments:"),function(_2a,_2b,_2c){
with(_2a){
_supportsMultipleDocuments=_2c;
}
}),new objj_method(sel_getUid("supportsMultipleDocuments"),function(_2d,_2e){
with(_2d){
return _supportsMultipleDocuments;
}
}),new objj_method(sel_getUid("addDocument:"),function(_2f,_30,_31){
with(_2f){
if(_31&&!objj_msgSend(_documents,"containsObject:",_31)){
objj_msgSend(_documents,"addObject:",_31);
}
}
}),new objj_method(sel_getUid("removeDocument:"),function(_32,_33,_34){
with(_32){
var _35=objj_msgSend(_documents,"indexOfObjectIdenticalTo:",_34);
if(_35===CPNotFound){
return;
}
objj_msgSend(_documents,"removeObjectAtIndex:",_35);
if(_document===_34&&objj_msgSend(_documents,"count")){
objj_msgSend(_32,"setDocument:",objj_msgSend(_documents,"objectAtIndex:",MIN(_35,objj_msgSend(_documents,"count")-1)));
}
}
}),new objj_method(sel_getUid("removeDocumentAndCloseIfNecessary:"),function(_36,_37,_38){
with(_36){
objj_msgSend(_36,"removeDocument:",_38);
if(!objj_msgSend(_documents,"count")){
objj_msgSend(_36,"close");
}
}
}),new objj_method(sel_getUid("documents"),function(_39,_3a){
with(_39){
return _documents;
}
}),new objj_method(sel_getUid("setViewController:"),function(_3b,_3c,_3d){
with(_3b){
var _3e=objj_msgSend(_3b,"viewControllerContainerView")||objj_msgSend(objj_msgSend(_3b,"window"),"contentView"),_3f=objj_msgSend(_viewController,"view"),_40=_3f?objj_msgSend(_3f,"frame"):objj_msgSend(_3e,"bounds");
objj_msgSend(_3f,"removeFromSuperview");
_viewController=_3d;
_3f=objj_msgSend(_viewController,"view");
if(_3f){
objj_msgSend(_3f,"setFrame:",_40);
objj_msgSend(_3e,"addSubview:",_3f);
}
}
}),new objj_method(sel_getUid("setViewControllerContainerView:"),function(_41,_42,_43){
with(_41){
_viewControllerContainerView=_43;
}
}),new objj_method(sel_getUid("viewControllerContainerView"),function(_44,_45){
with(_44){
return _viewControllerContainerView;
}
}),new objj_method(sel_getUid("setViewController:"),function(_46,_47,_48){
with(_46){
var _49=objj_msgSend(_46,"viewControllerContainerView")||objj_msgSend(objj_msgSend(_46,"window"),"contentView"),_4a=objj_msgSend(_viewController,"view"),_4b=_4a?objj_msgSend(_4a,"frame"):objj_msgSend(_49,"bounds");
objj_msgSend(_4a,"removeFromSuperview");
_viewController=_48;
_4a=objj_msgSend(_viewController,"view");
if(_4a){
objj_msgSend(_4a,"setFrame:",_4b);
objj_msgSend(_49,"addSubview:",_4a);
}
}
}),new objj_method(sel_getUid("viewController"),function(_4c,_4d){
with(_4c){
return _viewController;
}
}),new objj_method(sel_getUid("_documentWillSave:"),function(_4e,_4f,_50){
with(_4e){
objj_msgSend(objj_msgSend(_4e,"window"),"setDocumentSaving:",YES);
}
}),new objj_method(sel_getUid("_documentDidSave:"),function(_51,_52,_53){
with(_51){
objj_msgSend(objj_msgSend(_51,"window"),"setDocumentSaving:",NO);
}
}),new objj_method(sel_getUid("_documentDidFailToSave:"),function(_54,_55,_56){
with(_54){
objj_msgSend(objj_msgSend(_54,"window"),"setDocumentSaving:",NO);
}
}),new objj_method(sel_getUid("document"),function(_57,_58){
with(_57){
return _document;
}
}),new objj_method(sel_getUid("setDocumentEdited:"),function(_59,_5a,_5b){
with(_59){
objj_msgSend(objj_msgSend(_59,"window"),"setDocumentEdited:",_5b);
}
}),new objj_method(sel_getUid("close"),function(_5c,_5d){
with(_5c){
objj_msgSend(objj_msgSend(_5c,"window"),"close");
}
}),new objj_method(sel_getUid("setShouldCloseDocument:"),function(_5e,_5f,_60){
with(_5e){
_shouldCloseDocument=_60;
}
}),new objj_method(sel_getUid("shouldCloseDocument"),function(_61,_62){
with(_61){
return _shouldCloseDocument;
}
}),new objj_method(sel_getUid("owner"),function(_63,_64){
with(_63){
return _cibOwner;
}
}),new objj_method(sel_getUid("windowCibName"),function(_65,_66){
with(_65){
if(_windowCibName){
return _windowCibName;
}
return objj_msgSend(objj_msgSend(_windowCibPath,"lastPathComponent"),"stringByDeletingPathExtension");
}
}),new objj_method(sel_getUid("windowCibPath"),function(_67,_68){
with(_67){
if(_windowCibPath){
return _windowCibPath;
}
return objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_cibOwner,"class")),"pathForResource:",_windowCibName+".cib");
}
}),new objj_method(sel_getUid("synchronizeWindowTitleWithDocumentName"),function(_69,_6a){
with(_69){
if(!_document||!_window){
return;
}
objj_msgSend(_window,"setTitle:",objj_msgSend(_69,"windowTitleForDocumentDisplayName:",objj_msgSend(_document,"displayName")));
}
}),new objj_method(sel_getUid("windowTitleForDocumentDisplayName:"),function(_6b,_6c,_6d){
with(_6b){
return _6d;
}
})]);
p;20;_CPCibClassSwapper.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.jc;1259;
var _1="_CPCibClassSwapperClassNameKey",_2="_CPCibClassSwapperOriginalClassNameKey";
var _3=objj_allocateClassPair(CPObject,"_CPCibClassSwapper"),_4=_3.isa;
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("allocObjectWithCoder:className:"),function(_5,_6,_7,_8){
with(_5){
var _9=objj_msgSend(_7,"classForClassName:",_8);
if(!_9){
_9=objj_lookUpClass(_8);
if(!_9){
return nil;
}
}
return objj_msgSend(_9,"alloc");
}
}),new objj_method(sel_getUid("allocWithCoder:"),function(_a,_b,_c){
with(_a){
if(objj_msgSend(_c,"respondsToSelector:",sel_getUid("usesOriginalClasses"))&&objj_msgSend(_c,"usesOriginalClasses")){
var _d=objj_msgSend(_c,"decodeObjectForKey:",_2),_e=objj_msgSend(_a,"allocObjectWithCoder:className:",_c,_d);
}else{
var _d=objj_msgSend(_c,"decodeObjectForKey:",_1),_e=objj_msgSend(_a,"allocObjectWithCoder:className:",_c,_d);
if(!_e){
CPLog.error("Unable to find class "+_d+" in cib file.");
_e=objj_msgSend(_a,"allocObjectWithCoder:className:",_c,objj_msgSend(_c,"decodeObjectForKey:",_2));
}
}
if(!_e){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unable to find class "+_d+" in cib file.");
}
return _e;
}
})]);
p;20;_CPCibCustomObject.jI;21;Foundation/CPObject.jc;1705;
var _1="_CPCibCustomObjectClassName";
var _2=objj_allocateClassPair(CPObject,"_CPCibCustomObject"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_className")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("customClassName"),function(_4,_5){
with(_4){
return _className;
}
}),new objj_method(sel_getUid("setCustomClassName:"),function(_6,_7,_8){
with(_6){
_className=_8;
}
}),new objj_method(sel_getUid("description"),function(_9,_a){
with(_9){
return objj_msgSendSuper({receiver:_9,super_class:objj_getClass("CPObject")},"description")+" ("+objj_msgSend(_9,"customClassName")+")";
}
})]);
var _2=objj_getClass("_CPCibCustomObject");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPCibCustomObject\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("initWithCoder:"),function(_b,_c,_d){
with(_b){
_b=objj_msgSendSuper({receiver:_b,super_class:objj_getClass("CPObject")},"init");
if(_b){
_className=objj_msgSend(_d,"decodeObjectForKey:",_1);
}
return _b;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_e,_f,_10){
with(_e){
objj_msgSend(_10,"encodeObject:forKey:",_className,_1);
}
}),new objj_method(sel_getUid("_cibInstantiate"),function(_11,_12){
with(_11){
var _13=CPClassFromString(_className);
if(_13===objj_msgSend(_11,"class")){
_className="CPObject";
return _11;
}
if(!_13){
_13=objj_msgSend(CPObject,"class");
}
if(_13===objj_msgSend(CPApplication,"class")){
return objj_msgSend(CPApplication,"sharedApplication");
}
return objj_msgSend(objj_msgSend(_13,"alloc"),"init");
}
})]);
p;22;_CPCibCustomResource.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.jc;2848;
var _1="_CPCibCustomResourceClassNameKey",_2="_CPCibCustomResourceResourceNameKey",_3="_CPCibCustomResourcePropertiesKey";
var _4=objj_allocateClassPair(CPObject,"_CPCibCustomResource"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_className"),new objj_ivar("_resourceName"),new objj_ivar("_properties")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("initWithClassName:resourceName:properties:"),function(_6,_7,_8,_9,_a){
with(_6){
_6=objj_msgSendSuper({receiver:_6,super_class:objj_getClass("CPObject")},"init");
if(_6){
_className=_8;
_resourceName=_9;
_properties=_a;
}
return _6;
}
}),new objj_method(sel_getUid("initWithCoder:"),function(_b,_c,_d){
with(_b){
_b=objj_msgSendSuper({receiver:_b,super_class:objj_getClass("CPObject")},"init");
if(_b){
_className=objj_msgSend(_d,"decodeObjectForKey:",_1);
_resourceName=objj_msgSend(_d,"decodeObjectForKey:",_2);
_properties=objj_msgSend(_d,"decodeObjectForKey:",_3);
}
return _b;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_e,_f,_10){
with(_e){
objj_msgSend(_10,"encodeObject:forKey:",_className,_1);
objj_msgSend(_10,"encodeObject:forKey:",_resourceName,_2);
objj_msgSend(_10,"encodeObject:forKey:",_properties,_3);
}
}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(_11,_12,_13){
with(_11){
if(objj_msgSend(_13,"respondsToSelector:",sel_getUid("bundle"))&&(!objj_msgSend(_13,"respondsToSelector:",sel_getUid("awakenCustomResources"))||objj_msgSend(_13,"awakenCustomResources"))){
if(_className==="CPImage"){
return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(_13,"bundle"),"pathForResource:",_resourceName),objj_msgSend(_properties,"objectForKey:","size"));
}
}
return _11;
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("imageResourceWithName:size:"),function(_14,_15,_16,_17){
with(_14){
return objj_msgSend(objj_msgSend(_14,"alloc"),"initWithClassName:resourceName:properties:","CPImage",_16,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_17,"size"));
}
})]);
var _4=objj_getClass("_CPCibCustomResource");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPCibCustomResource\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("filename"),function(_18,_19){
with(_18){
return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_resourceName);
}
}),new objj_method(sel_getUid("size"),function(_1a,_1b){
with(_1a){
return objj_msgSend(_properties,"objectForKey:","size");
}
}),new objj_method(sel_getUid("isThreePartImage"),function(_1c,_1d){
with(_1c){
return NO;
}
}),new objj_method(sel_getUid("isNinePartImage"),function(_1e,_1f){
with(_1e){
return NO;
}
})]);
p;18;_CPCibCustomView.ji;8;CPView.jc;2416;
var _1=objj_allocateClassPair(CPView,"_CPCibCustomView"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_className")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("customClassName"),function(_3,_4){
with(_3){
return _className;
}
}),new objj_method(sel_getUid("setCustomClassName:"),function(_5,_6,_7){
with(_5){
if(_className===_7){
return;
}
_className=_7;
objj_msgSend(_5,"setNeedsDisplay:",YES);
objj_msgSend(_5,"setNeedsLayout");
}
})]);
var _8="_CPCibCustomViewClassNameKey";
var _1=objj_getClass("_CPCibCustomView");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPCibCustomView\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_9,_a,_b){
with(_9){
_9=objj_msgSendSuper({receiver:_9,super_class:objj_getClass("CPView")},"initWithCoder:",_b);
if(_9){
_className=objj_msgSend(_b,"decodeObjectForKey:",_8);
}
return _9;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_c,_d,_e){
with(_c){
objj_msgSendSuper({receiver:_c,super_class:objj_getClass("CPView")},"encodeWithCoder:",_e);
objj_msgSend(_e,"encodeObject:forKey:",_className,_8);
}
}),new objj_method(sel_getUid("customClassName"),function(_f,_10){
with(_f){
return _className;
}
}),new objj_method(sel_getUid("_cibInstantiate"),function(_11,_12){
with(_11){
var _13=CPClassFromString(_className);
if(!_13){
_13=objj_msgSend(CPView,"class");
}
if(_13===objj_msgSend(_11,"class")){
_className="CPView";
return _11;
}
var _14=objj_msgSend(objj_msgSend(_13,"alloc"),"initWithFrame:",objj_msgSend(_11,"frame"));
if(_14){
objj_msgSend(_14,"setBounds:",objj_msgSend(_11,"bounds"));
var _15=objj_msgSend(_11,"subviews"),_16=0,_17=_15.length;
for(;_16<_17;++_16){
objj_msgSend(_14,"addSubview:",_15[_16]);
}
objj_msgSend(_14,"setAutoresizingMask:",objj_msgSend(_11,"autoresizingMask"));
objj_msgSend(_14,"setAutoresizesSubviews:",objj_msgSend(_11,"autoresizesSubviews"));
objj_msgSend(_14,"setHitTests:",objj_msgSend(_11,"hitTests"));
objj_msgSend(_14,"setHidden:",objj_msgSend(_11,"isHidden"));
objj_msgSend(_14,"setAlphaValue:",objj_msgSend(_11,"alphaValue"));
objj_msgSend(_superview,"replaceSubview:with:",_11,_14);
objj_msgSend(_14,"setBackgroundColor:",objj_msgSend(_11,"backgroundColor"));
}
return _14;
}
})]);
p;23;_CPCibKeyedUnarchiver.jI;30;Foundation/CPKeyedUnarchiver.jc;1437;
var _1=objj_allocateClassPair(CPKeyedUnarchiver,"_CPCibKeyedUnarchiver"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_bundle"),new objj_ivar("_awakenCustomResources"),new objj_ivar("_externalObjectsForProxyIdentifiers")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initForReadingWithData:bundle:awakenCustomResources:"),function(_3,_4,_5,_6,_7){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPKeyedUnarchiver")},"initForReadingWithData:",_5);
if(_3){
_bundle=_6;
_awakenCustomResources=_7;
objj_msgSend(_3,"setDelegate:",_3);
}
return _3;
}
}),new objj_method(sel_getUid("bundle"),function(_8,_9){
with(_8){
return _bundle;
}
}),new objj_method(sel_getUid("awakenCustomResources"),function(_a,_b){
with(_a){
return _awakenCustomResources;
}
}),new objj_method(sel_getUid("setExternalObjectsForProxyIdentifiers:"),function(_c,_d,_e){
with(_c){
_externalObjectsForProxyIdentifiers=_e;
}
}),new objj_method(sel_getUid("externalObjectForProxyIdentifier:"),function(_f,_10,_11){
with(_f){
return objj_msgSend(_externalObjectsForProxyIdentifiers,"objectForKey:",_11);
}
}),new objj_method(sel_getUid("replaceObjectAtUID:withObject:"),function(_12,_13,_14,_15){
with(_12){
_objects[_14]=_15;
}
}),new objj_method(sel_getUid("objectAtUID:"),function(_16,_17,_18){
with(_16){
return _objects[_18];
}
})]);
p;18;_CPCibObjectData.jI;20;Foundation/CPArray.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.ji;7;CPCib.ji;16;CPCibConnector.ji;23;CPCibControlConnector.ji;22;CPCibOutletConnector.jc;5807;
var _1=objj_allocateClassPair(CPObject,"_CPCibObjectData"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_namesKeys"),new objj_ivar("_namesValues"),new objj_ivar("_accessibilityConnectors"),new objj_ivar("_accessibilityOidsKeys"),new objj_ivar("_accessibilityOidsValues"),new objj_ivar("_classesKeys"),new objj_ivar("_classesValues"),new objj_ivar("_connections"),new objj_ivar("_fontManager"),new objj_ivar("_framework"),new objj_ivar("_nextOid"),new objj_ivar("_objectsKeys"),new objj_ivar("_objectsValues"),new objj_ivar("_oidKeys"),new objj_ivar("_oidValues"),new objj_ivar("_fileOwner"),new objj_ivar("_visibleWindows"),new objj_ivar("_replacementObjects")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
if(_3){
_namesKeys=[];
_namesValues=[];
_classesKeys=[];
_classesValues=[];
_connections=[];
_framework="";
_nextOid=[];
_objectsKeys=[];
_objectsValues=[];
_oidKeys=[];
_oidValues=[];
_fileOwner=nil;
_visibleWindows=objj_msgSend(CPSet,"set");
}
return _3;
}
}),new objj_method(sel_getUid("displayVisibleWindows"),function(_5,_6){
with(_5){
var _7=nil,_8=objj_msgSend(_visibleWindows,"objectEnumerator");
while(_7=objj_msgSend(_8,"nextObject")){
objj_msgSend(_replacementObjects[objj_msgSend(_7,"UID")],"makeKeyAndOrderFront:",_5);
}
}
})]);
var _9="_CPCibObjectDataNamesKeysKey",_a="_CPCibObjectDataNamesValuesKey",_b="_CPCibObjectDataAccessibilityConnectors",_c="_CPCibObjectDataAccessibilityOidsKeys",_d="_CPCibObjectDataAccessibilityOidsValues",_e="_CPCibObjectDataClassesKeysKey",_f="_CPCibObjectDataClassesValuesKey",_10="_CPCibObjectDataConnectionsKey",_11="_CPCibObjectDataFontManagerKey",_12="_CPCibObjectDataFrameworkKey",_13="_CPCibObjectDataNextOidKey",_14="_CPCibObjectDataObjectsKeysKey",_15="_CPCibObjectDataObjectsValuesKey",_16="_CPCibObjectDataOidKeysKey",_17="_CPCibObjectDataOidValuesKey",_18="_CPCibObjectDataFileOwnerKey",_19="_CPCibObjectDataVisibleWindowsKey";
var _1=objj_getClass("_CPCibObjectData");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPCibObjectData\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_1a,_1b,_1c){
with(_1a){
_1a=objj_msgSendSuper({receiver:_1a,super_class:objj_getClass("CPObject")},"init");
if(_1a){
_replacementObjects={};
_namesKeys=objj_msgSend(_1c,"decodeObjectForKey:",_9);
_namesValues=objj_msgSend(_1c,"decodeObjectForKey:",_a);
_classesKeys=objj_msgSend(_1c,"decodeObjectForKey:",_e);
_classesValues=objj_msgSend(_1c,"decodeObjectForKey:",_f);
_connections=objj_msgSend(_1c,"decodeObjectForKey:",_10);
_framework=objj_msgSend(_1c,"decodeObjectForKey:",_12);
_nextOid=objj_msgSend(_1c,"decodeIntForKey:",_13);
_objectsKeys=objj_msgSend(_1c,"decodeObjectForKey:",_14);
_objectsValues=objj_msgSend(_1c,"decodeObjectForKey:",_15);
_oidKeys=objj_msgSend(_1c,"decodeObjectForKey:",_16);
_oidValues=objj_msgSend(_1c,"decodeObjectForKey:",_17);
_fileOwner=objj_msgSend(_1c,"decodeObjectForKey:",_18);
_visibleWindows=objj_msgSend(_1c,"decodeObjectForKey:",_19);
}
return _1a;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_1d,_1e,_1f){
with(_1d){
objj_msgSend(_1f,"encodeObject:forKey:",_namesKeys,_9);
objj_msgSend(_1f,"encodeObject:forKey:",_namesValues,_a);
objj_msgSend(_1f,"encodeObject:forKey:",_classesKeys,_e);
objj_msgSend(_1f,"encodeObject:forKey:",_classesValues,_f);
objj_msgSend(_1f,"encodeObject:forKey:",_connections,_10);
objj_msgSend(_1f,"encodeObject:forKey:",_framework,_12);
objj_msgSend(_1f,"encodeInt:forKey:",_nextOid,_13);
objj_msgSend(_1f,"encodeObject:forKey:",_objectsKeys,_14);
objj_msgSend(_1f,"encodeObject:forKey:",_objectsValues,_15);
objj_msgSend(_1f,"encodeObject:forKey:",_oidKeys,_16);
objj_msgSend(_1f,"encodeObject:forKey:",_oidValues,_17);
objj_msgSend(_1f,"encodeObject:forKey:",_fileOwner,_18);
objj_msgSend(_1f,"encodeObject:forKey:",_visibleWindows,_19);
}
}),new objj_method(sel_getUid("instantiateWithOwner:topLevelObjects:"),function(_20,_21,_22,_23){
with(_20){
var _24=objj_msgSend(_objectsKeys,"count");
while(_24--){
var _25=_objectsKeys[_24],_26=_objectsValues[_24],_27=_25;
if(objj_msgSend(_25,"respondsToSelector:",sel_getUid("_cibInstantiate"))){
var _27=objj_msgSend(_25,"_cibInstantiate");
if(_27!==_25){
_replacementObjects[objj_msgSend(_25,"UID")]=_27;
if(objj_msgSend(_27,"isKindOfClass:",objj_msgSend(CPView,"class"))){
var _28=objj_msgSend(_27,"superview");
if(objj_msgSend(_28,"isKindOfClass:",objj_msgSend(CPClipView,"class"))){
var _29=objj_msgSend(_28,"superview");
if(objj_msgSend(_29,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))){
objj_msgSend(_29,"setDocumentView:",_27);
}
}
}
}
}
if(_23&&_26===_fileOwner&&_25!==_fileOwner){
_23.push(_27);
}
}
}
}),new objj_method(sel_getUid("establishConnectionsWithOwner:topLevelObjects:"),function(_2a,_2b,_2c,_2d){
with(_2a){
_replacementObjects[objj_msgSend(_fileOwner,"UID")]=_2c;
var _2e=0,_2f=_connections.length;
for(;_2e<_2f;++_2e){
var _30=_connections[_2e];
objj_msgSend(_30,"replaceObjects:",_replacementObjects);
objj_msgSend(_30,"establishConnection");
}
}
}),new objj_method(sel_getUid("awakeWithOwner:topLevelObjects:"),function(_31,_32,_33,_34){
with(_31){
var _35=objj_msgSend(_objectsKeys,"count");
while(_35--){
var _36=_objectsKeys[_35],_37=_replacementObjects[objj_msgSend(_36,"UID")];
if(_37){
_36=_37;
}
if(_36!==_33&&objj_msgSend(_36,"respondsToSelector:",sel_getUid("awakeFromCib"))){
objj_msgSend(_36,"awakeFromCib");
}
}
if(objj_msgSend(_33,"respondsToSelector:",sel_getUid("awakeFromCib"))){
objj_msgSend(_33,"awakeFromCib");
}
}
})]);
p;19;_CPCibProxyObject.jI;21;Foundation/CPObject.jc;1021;
var _1=objj_allocateClassPair(CPObject,"_CPCibProxyObject"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_identifier")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
var _3="CPIdentifier";
var _1=objj_getClass("_CPCibProxyObject");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPCibProxyObject\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_identifier=objj_msgSend(_6,"decodeObjectForKey:",_3);
}
if(objj_msgSend(_6,"respondsToSelector:",sel_getUid("externalObjectForProxyIdentifier:"))){
return objj_msgSend(_6,"externalObjectForProxyIdentifier:",_identifier);
}
return _4;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_7,_8,_9){
with(_7){
objj_msgSend(_9,"encodeObject:forKey:",_identifier,_3);
}
})]);
p;22;_CPCibWindowTemplate.jI;21;Foundation/CPObject.jc;4456;
var _1="_CPCibWindowTemplateMinSizeKey",_2="_CPCibWindowTemplateMaxSizeKey",_3="_CPCibWindowTemplateViewClassKey",_4="_CPCibWindowTemplateWindowClassKey",_5="_CPCibWindowTemplateWindowRectKey",_6="_CPCibWindowTempatStyleMaskKey",_7="_CPCibWindowTemplateWindowTitleKey",_8="_CPCibWindowTemplateWindowViewKey",_9="_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop";
_CPCibWindowTemplateWindowIsFullPlatformWindowKey="_CPCibWindowTemplateWindowIsFullPlatformWindowKey";
var _a=objj_allocateClassPair(CPObject,"_CPCibWindowTemplate"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_viewClass"),new objj_ivar("_windowClass"),new objj_ivar("_windowRect"),new objj_ivar("_windowStyleMask"),new objj_ivar("_windowTitle"),new objj_ivar("_windowView"),new objj_ivar("_windowAutorecalculatesKeyViewLoop"),new objj_ivar("_windowIsFullPlatformWindow")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("init"),function(_c,_d){
with(_c){
_c=objj_msgSendSuper({receiver:_c,super_class:objj_getClass("CPObject")},"init");
if(_c){
_windowClass="CPWindow";
_windowRect=CGRectMake(0,0,400,200);
_windowStyleMask=CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask;
_windowTitle="Window";
_windowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,400,200));
_windowIsFullPlatformWindow=NO;
}
return _c;
}
}),new objj_method(sel_getUid("initWithCoder:"),function(_e,_f,_10){
with(_e){
_e=objj_msgSendSuper({receiver:_e,super_class:objj_getClass("CPObject")},"init");
if(_e){
if(objj_msgSend(_10,"containsValueForKey:",_1)){
_minSize=objj_msgSend(_10,"decodeSizeForKey:",_1);
}
if(objj_msgSend(_10,"containsValueForKey:",_2)){
_maxSize=objj_msgSend(_10,"decodeSizeForKey:",_2);
}
_viewClass=objj_msgSend(_10,"decodeObjectForKey:",_3);
_windowClass=objj_msgSend(_10,"decodeObjectForKey:",_4);
_windowRect=objj_msgSend(_10,"decodeRectForKey:",_5);
_windowStyleMask=objj_msgSend(_10,"decodeIntForKey:",_6);
_windowTitle=objj_msgSend(_10,"decodeObjectForKey:",_7);
_windowView=objj_msgSend(_10,"decodeObjectForKey:",_8);
_windowAutorecalculatesKeyViewLoop=!!objj_msgSend(_10,"decodeObjectForKey:",_9);
_windowIsFullPlatformWindow=!!objj_msgSend(_10,"decodeObjectForKey:",_CPCibWindowTemplateWindowIsFullPlatformWindowKey);
}
return _e;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_11,_12,_13){
with(_11){
if(_minSize){
objj_msgSend(_13,"encodeSize:forKey:",_minSize,_1);
}
if(_maxSize){
objj_msgSend(_13,"encodeSize:forKey:",_maxSize,_2);
}
objj_msgSend(_13,"encodeObject:forKey:",_viewClass,_3);
objj_msgSend(_13,"encodeObject:forKey:",_windowClass,_4);
objj_msgSend(_13,"encodeRect:forKey:",_windowRect,_5);
objj_msgSend(_13,"encodeInt:forKey:",_windowStyleMask,_6);
objj_msgSend(_13,"encodeObject:forKey:",_windowTitle,_7);
objj_msgSend(_13,"encodeObject:forKey:",_windowView,_8);
if(_windowAutorecalculatesKeyViewLoop){
objj_msgSend(_13,"encodeObject:forKey:",_windowAutorecalculatesKeyViewLoop,_9);
}
if(_windowIsFullPlatformWindow){
objj_msgSend(_13,"encodeObject:forKey:",_windowIsFullPlatformWindow,_CPCibWindowTemplateWindowIsFullPlatformWindowKey);
}
}
}),new objj_method(sel_getUid("customClassName"),function(_14,_15){
with(_14){
return _windowClass;
}
}),new objj_method(sel_getUid("setCustomClassName:"),function(_16,_17,_18){
with(_16){
_windowClass=_18;
}
}),new objj_method(sel_getUid("windowClass"),function(_19,_1a){
with(_19){
return _windowClass;
}
}),new objj_method(sel_getUid("_cibInstantiate"),function(_1b,_1c){
with(_1b){
var _1d=CPClassFromString(objj_msgSend(_1b,"windowClass"));
var _1e=objj_msgSend(objj_msgSend(_1d,"alloc"),"initWithContentRect:styleMask:",_windowRect,_windowStyleMask);
if(_minSize){
objj_msgSend(_1e,"setMinSize:",_minSize);
}
if(_maxSize){
objj_msgSend(_1e,"setMaxSize:",_maxSize);
}
objj_msgSend(_1e,"setTitle:",_windowTitle);
objj_msgSend(_windowView,"setAutoresizesSubviews:",NO);
objj_msgSend(_1e,"setContentView:",_windowView);
objj_msgSend(_windowView,"setAutoresizesSubviews:",YES);
if(objj_msgSend(_viewClass,"isKindOfClass:",objj_msgSend(CPToolbar,"class"))){
objj_msgSend(_1e,"setToolbar:",_viewClass);
}
objj_msgSend(_1e,"setAutorecalculatesKeyViewLoop:",_windowAutorecalculatesKeyViewLoop);
objj_msgSend(_1e,"setFullBridge:",_windowIsFullPlatformWindow);
return _1e;
}
})]);
p;7;CPCib.jI;21;Foundation/CPObject.jI;28;Foundation/CPURLConnection.jI;25;Foundation/CPURLRequest.ji;20;_CPCibClassSwapper.ji;20;_CPCibCustomObject.ji;22;_CPCibCustomResource.ji;18;_CPCibCustomView.ji;23;_CPCibKeyedUnarchiver.ji;18;_CPCibObjectData.ji;19;_CPCibProxyObject.ji;22;_CPCibWindowTemplate.jc;4545;
CPCibOwner="CPCibOwner",CPCibTopLevelObjects="CPCibTopLevelObjects",CPCibReplacementClasses="CPCibReplacementClasses",CPCibExternalObjects="CPCibExternalObjects";
var _1="CPCibObjectDataKey";
var _2=objj_allocateClassPair(CPObject,"CPCib"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_data"),new objj_ivar("_bundle"),new objj_ivar("_awakenCustomResources"),new objj_ivar("_loadDelegate")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_data=objj_msgSend(CPURLConnection,"sendSynchronousRequest:returningResponse:error:",objj_msgSend(CPURLRequest,"requestWithURL:",_6),nil,nil);
_awakenCustomResources=YES;
}
return _4;
}
}),new objj_method(sel_getUid("initWithContentsOfURL:loadDelegate:"),function(_7,_8,_9,_a){
with(_7){
_7=objj_msgSendSuper({receiver:_7,super_class:objj_getClass("CPObject")},"init");
if(_7){
objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",_9),_7);
_awakenCustomResources=YES;
_loadDelegate=_a;
}
return _7;
}
}),new objj_method(sel_getUid("initWithCibNamed:bundle:"),function(_b,_c,_d,_e){
with(_b){
if(!objj_msgSend(_d,"hasSuffix:",".cib")){
_d=objj_msgSend(_d,"stringByAppendingString:",".cib");
}
_b=objj_msgSend(_b,"initWithContentsOfURL:",objj_msgSend(_e||objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_d));
if(_b){
_bundle=_e;
}
return _b;
}
}),new objj_method(sel_getUid("initWithCibNamed:bundle:loadDelegate:"),function(_f,_10,_11,_12,_13){
with(_f){
if(!objj_msgSend(_11,"hasSuffix:",".cib")){
_11=objj_msgSend(_11,"stringByAppendingString:",".cib");
}
_f=objj_msgSend(_f,"initWithContentsOfURL:loadDelegate:",objj_msgSend(_12||objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_11),_13);
if(_f){
_bundle=_12;
}
return _f;
}
}),new objj_method(sel_getUid("_setAwakenCustomResources:"),function(_14,_15,_16){
with(_14){
_awakenCustomResources=_16;
}
}),new objj_method(sel_getUid("_awakenCustomResources"),function(_17,_18){
with(_17){
return _awakenCustomResources;
}
}),new objj_method(sel_getUid("instantiateCibWithExternalNameTable:"),function(_19,_1a,_1b){
with(_19){
var _1c=_bundle,_1d=objj_msgSend(_1b,"objectForKey:",CPCibOwner);
if(!_1c&&_1d){
_1c=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_1d,"class"));
}
var _1e=objj_msgSend(objj_msgSend(_CPCibKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:awakenCustomResources:",_data,_1c,_awakenCustomResources),_1f=objj_msgSend(_1b,"objectForKey:",CPCibReplacementClasses);
if(_1f){
var key=nil,_20=objj_msgSend(_1f,"keyEnumerator");
while(key=objj_msgSend(_20,"nextObject")){
objj_msgSend(_1e,"setClass:forClassName:",objj_msgSend(_1f,"objectForKey:",key),key);
}
}
objj_msgSend(_1e,"setExternalObjectsForProxyIdentifiers:",objj_msgSend(_1b,"objectForKey:",CPCibExternalObjects));
var _21=objj_msgSend(_1e,"decodeObjectForKey:",_1);
if(!_21||!objj_msgSend(_21,"isKindOfClass:",objj_msgSend(_CPCibObjectData,"class"))){
return NO;
}
var _22=objj_msgSend(_1b,"objectForKey:",CPCibTopLevelObjects);
objj_msgSend(_21,"instantiateWithOwner:topLevelObjects:",_1d,_22);
objj_msgSend(_21,"establishConnectionsWithOwner:topLevelObjects:",_1d,_22);
objj_msgSend(_21,"awakeWithOwner:topLevelObjects:",_1d,_22);
objj_msgSend(_21,"displayVisibleWindows");
return YES;
}
}),new objj_method(sel_getUid("instantiateCibWithOwner:topLevelObjects:"),function(_23,_24,_25,_26){
with(_23){
return objj_msgSend(_23,"instantiateCibWithExternalNameTable:",objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",_25,CPCibOwner,_26,CPCibTopLevelObjects));
}
})]);
var _2=objj_getClass("CPCib");
if(!_2){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPCib\""));
}
var _3=_2.isa;
class_addMethods(_2,[new objj_method(sel_getUid("connection:didReceiveData:"),function(_27,_28,_29,_2a){
with(_27){
_data=objj_msgSend(CPData,"dataWithString:",_2a);
}
}),new objj_method(sel_getUid("connection:didFailWithError:"),function(_2b,_2c,_2d,_2e){
with(_2b){
alert("cib: connection failed.");
_loadDelegate=nil;
}
}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(_2f,_30,_31){
with(_2f){
if(objj_msgSend(_loadDelegate,"respondsToSelector:",sel_getUid("cibDidFinishLoading:"))){
objj_msgSend(_loadDelegate,"cibDidFinishLoading:",_2f);
}
_loadDelegate=nil;
}
})]);
p;16;CPCibConnector.jI;21;Foundation/CPObject.jI;29;Foundation/CPKeyValueCoding.jc;2366;
var _1="_CPCibConnectorSourceKey",_2="_CPCibConnectorDestinationKey",_3="_CPCibConnectorLabelKey";
var _4=objj_allocateClassPair(CPObject,"CPCibConnector"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_source"),new objj_ivar("_destination"),new objj_ivar("_label")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("source"),function(_6,_7){
with(_6){
return _source;
}
}),new objj_method(sel_getUid("setSource:"),function(_8,_9,_a){
with(_8){
_source=_a;
}
}),new objj_method(sel_getUid("destination"),function(_b,_c){
with(_b){
return _destination;
}
}),new objj_method(sel_getUid("setDestination:"),function(_d,_e,_f){
with(_d){
_destination=_f;
}
}),new objj_method(sel_getUid("label"),function(_10,_11){
with(_10){
return _label;
}
}),new objj_method(sel_getUid("setLabel:"),function(_12,_13,_14){
with(_12){
_label=_14;
}
}),new objj_method(sel_getUid("replaceObject:withObject:"),function(_15,_16,_17,_18){
with(_15){
if(_source===_17){
_source=_18;
}
if(_destination===_17){
_destination=_18;
}
}
}),new objj_method(sel_getUid("replaceObjects:"),function(_19,_1a,_1b){
with(_19){
var _1c=_1b[objj_msgSend(_source,"UID")];
if(_1c!==undefined){
_source=_1c;
}
_1c=_1b[objj_msgSend(_destination,"UID")];
if(_1c!==undefined){
_destination=_1c;
}
}
})]);
var _4=objj_getClass("CPCibConnector");
if(!_4){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPCibConnector\""));
}
var _5=_4.isa;
class_addMethods(_4,[new objj_method(sel_getUid("initWithCoder:"),function(_1d,_1e,_1f){
with(_1d){
_1d=objj_msgSendSuper({receiver:_1d,super_class:objj_getClass("CPObject")},"init");
if(_1d){
_source=objj_msgSend(_1f,"decodeObjectForKey:",_1);
_destination=objj_msgSend(_1f,"decodeObjectForKey:",_2);
_label=objj_msgSend(_1f,"decodeObjectForKey:",_3);
}
return _1d;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_20,_21,_22){
with(_20){
objj_msgSend(_22,"encodeObject:forKey:",_source,_1);
objj_msgSend(_22,"encodeObject:forKey:",_destination,_2);
objj_msgSend(_22,"encodeObject:forKey:",_label,_3);
}
})]);
var _4=objj_allocateClassPair(CPCibConnector,"_CPCibConnector"),_5=_4.isa;
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
p;23;CPCibControlConnector.ji;16;CPCibConnector.jc;1599;
var _1=objj_allocateClassPair(CPCibConnector,"CPCibControlConnector"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("establishConnection"),function(_3,_4){
with(_3){
var _5=_label,_6=objj_msgSend(_5,"length");
if(_6&&_5[_6-1]!==":"){
_5+=":";
}
var _7=CPSelectorFromString(_5);
if(!_7){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-["+objj_msgSend(_3,"className")+" "+_4+"] selector "+_5+" does not exist.");
}
if(_destination&&!objj_msgSend(_destination,"respondsToSelector:",_7)){
CPLog.warn("Could not connect the action "+_7+" to target of class "+objj_msgSend(_destination,"className"));
return;
}
if(objj_msgSend(_source,"respondsToSelector:",sel_getUid("setAction:"))){
objj_msgSend(_source,sel_getUid("setAction:"),_7);
}else{
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-["+objj_msgSend(_3,"className")+" "+_4+"] "+objj_msgSend(_source,"description")+" does not respond to setAction:");
}
if(objj_msgSend(_source,"respondsToSelector:",sel_getUid("setTarget:"))){
objj_msgSend(_source,sel_getUid("setTarget:"),_destination);
}else{
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-["+objj_msgSend(_3,"className")+" "+_4+"] "+objj_msgSend(_source,"description")+" does not respond to setTarget:");
}
}
})]);
var _1=objj_allocateClassPair(CPCibControlConnector,"_CPCibControlConnector"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
p;14;CPCibLoading.jI;21;Foundation/CPBundle.jI;25;Foundation/CPDictionary.jI;21;Foundation/CPString.jc;2894;
var _1="CPCibOwner";
var _2={};
var _3=objj_getClass("CPObject");
if(!_3){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPObject\""));
}
var _4=_3.isa;
class_addMethods(_3,[new objj_method(sel_getUid("awakeFromCib"),function(_5,_6){
with(_5){
}
})]);
var _3=objj_getClass("CPBundle");
if(!_3){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPBundle\""));
}
var _4=_3.isa;
class_addMethods(_3,[new objj_method(sel_getUid("loadCibFile:externalNameTable:"),function(_7,_8,_9,_a){
with(_7){
objj_msgSend(objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",_9),"instantiateCibWithExternalNameTable:",_a);
}
}),new objj_method(sel_getUid("loadCibFile:externalNameTable:loadDelegate:"),function(_b,_c,_d,_e,_f){
with(_b){
var cib=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithCibNamed:bundle:loadDelegate:",_d,_b,objj_msgSend(_b,"class"));
_2[objj_msgSend(cib,"UID")]={loadDelegate:_f,externalNameTable:_e};
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("loadCibFile:externalNameTable:"),function(_10,_11,_12,_13){
with(_10){
objj_msgSend(objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",_12),"instantiateCibWithExternalNameTable:",_13);
}
}),new objj_method(sel_getUid("loadCibNamed:owner:"),function(_14,_15,_16,_17){
with(_14){
if(!objj_msgSend(_16,"hasSuffix:",".cib")){
_16=objj_msgSend(_16,"stringByAppendingString:",".cib");
}
var _18=_17?objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_17,"class")):objj_msgSend(CPBundle,"mainBundle"),_19=objj_msgSend(_18,"pathForResource:",_16);
objj_msgSend(_14,"loadCibFile:externalNameTable:",_19,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_17,_1));
}
}),new objj_method(sel_getUid("loadCibFile:externalNameTable:loadDelegate:"),function(_1a,_1b,_1c,_1d,_1e){
with(_1a){
var cib=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:loadDelegate:",_1c,_1a);
_2[objj_msgSend(cib,"UID")]={loadDelegate:_1e,externalNameTable:_1d};
}
}),new objj_method(sel_getUid("loadCibNamed:owner:loadDelegate:"),function(_1f,_20,_21,_22,_23){
with(_1f){
if(!objj_msgSend(_21,"hasSuffix:",".cib")){
_21=objj_msgSend(_21,"stringByAppendingString:",".cib");
}
var _24=_22?objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_22,"class")):objj_msgSend(CPBundle,"mainBundle"),_25=objj_msgSend(_24,"pathForResource:",_21);
objj_msgSend(_1f,"loadCibFile:externalNameTable:loadDelegate:",_25,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_22,_1),_23);
}
}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(_26,_27,_28){
with(_26){
var _29=_2[objj_msgSend(_28,"UID")];
delete _2[objj_msgSend(_28,"UID")];
objj_msgSend(_28,"instantiateCibWithExternalNameTable:",_29.externalNameTable);
objj_msgSend(_29.loadDelegate,"cibDidFinishLoading:",_28);
}
})]);
p;22;CPCibOutletConnector.ji;16;CPCibConnector.jc;776;
var _1=objj_allocateClassPair(CPCibConnector,"CPCibOutletConnector"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("establishConnection"),function(_3,_4){
with(_3){
try{
objj_msgSend(_source,"setValue:forKey:",_destination,_label);
}
catch(anException){
if(objj_msgSend(anException,"name")===CPUndefinedKeyException){
CPLog.warn("Could not connect the outlet "+_label+" of target of class "+objj_msgSend(_source,"className"));
}else{
throw anException;
}
}
}
})]);
var _1=objj_allocateClassPair(CPCibOutletConnector,"_CPCibOutletConnector"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
p;13;CAAnimation.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.ji;23;CAMediaTimingFunction.jc;3790;
var _1=objj_allocateClassPair(CPObject,"CAAnimation"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_isRemovedOnCompletion"),new objj_ivar("_delegate")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
if(_3){
_isRemovedOnCompletion=YES;
}
return _3;
}
}),new objj_method(sel_getUid("shouldArchiveValueForKey:"),function(_5,_6,_7){
with(_5){
return YES;
}
}),new objj_method(sel_getUid("setRemovedOnCompletion:"),function(_8,_9,_a){
with(_8){
_isRemovedOnCompletion=_a;
}
}),new objj_method(sel_getUid("removedOnCompletion"),function(_b,_c){
with(_b){
return _isRemovedOnCompletion;
}
}),new objj_method(sel_getUid("isRemovedOnCompletion"),function(_d,_e){
with(_d){
return _isRemovedOnCompletion;
}
}),new objj_method(sel_getUid("timingFunction"),function(_f,_10){
with(_f){
return nil;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_11,_12,_13){
with(_11){
_delegate=_13;
}
}),new objj_method(sel_getUid("delegate"),function(_14,_15){
with(_14){
return _delegate;
}
}),new objj_method(sel_getUid("runActionForKey:object:arguments:"),function(_16,_17,_18,_19,_1a){
with(_16){
objj_msgSend(_19,"addAnimation:forKey:",_16,_18);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("animation"),function(_1b,_1c){
with(_1b){
return objj_msgSend(objj_msgSend(_1b,"alloc"),"init");
}
}),new objj_method(sel_getUid("defaultValueForKey:"),function(_1d,_1e,_1f){
with(_1d){
return nil;
}
})]);
var _1=objj_allocateClassPair(CAAnimation,"CAPropertyAnimation"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_keyPath"),new objj_ivar("_isCumulative"),new objj_ivar("_isAdditive")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("setKeyPath:"),function(_20,_21,_22){
with(_20){
_keyPath=_22;
}
}),new objj_method(sel_getUid("keyPath"),function(_23,_24){
with(_23){
return _keyPath;
}
}),new objj_method(sel_getUid("setCumulative:"),function(_25,_26,_27){
with(_25){
_isCumulative=_27;
}
}),new objj_method(sel_getUid("cumulative"),function(_28,_29){
with(_28){
return _isCumulative;
}
}),new objj_method(sel_getUid("isCumulative"),function(_2a,_2b){
with(_2a){
return _isCumulative;
}
}),new objj_method(sel_getUid("setAdditive:"),function(_2c,_2d,_2e){
with(_2c){
_isAdditive=_2e;
}
}),new objj_method(sel_getUid("additive"),function(_2f,_30){
with(_2f){
return _isAdditive;
}
}),new objj_method(sel_getUid("isAdditive"),function(_31,_32){
with(_31){
return _isAdditive;
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("animationWithKeyPath:"),function(_33,_34,_35){
with(_33){
var _36=objj_msgSend(_33,"animation");
objj_msgSend(_36,"setKeyPath:",_35);
return _36;
}
})]);
var _1=objj_allocateClassPair(CAPropertyAnimation,"CABasicAnimation"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_fromValue"),new objj_ivar("_toValue"),new objj_ivar("_byValue")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("setFromValue:"),function(_37,_38,_39){
with(_37){
_fromValue=_39;
}
}),new objj_method(sel_getUid("fromValue"),function(_3a,_3b){
with(_3a){
return _fromValue;
}
}),new objj_method(sel_getUid("setToValue:"),function(_3c,_3d,_3e){
with(_3c){
_toValue=_3e;
}
}),new objj_method(sel_getUid("toValue"),function(_3f,_40){
with(_3f){
return _toValue;
}
}),new objj_method(sel_getUid("setByValue:"),function(_41,_42,_43){
with(_41){
_byValue=_43;
}
}),new objj_method(sel_getUid("byValue"),function(_44,_45){
with(_44){
return _byValue;
}
})]);
p;16;CABackingStore.ji;12;CGGeometry.ji;17;CPCompatibility.jc;599;
CABackingStoreGetContext=function(_1){
return _1.context;
};
if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){
CABackingStoreCreate=function(){
var _2=document.createElement("canvas");
_2.style.position="absolute";
return {context:_2.getContext("2d"),buffer:_2,_image:_2};
};
CABackingStoreSetSize=function(_3,_4){
var _5=_3.buffer;
_5.width=_4.width;
_5.height=_4.height;
_5.style.width=_4.width+"px";
_5.style.height=_4.height+"px";
};
}else{
CABackingStoreCreate=function(){
var _6=CGBitmapGraphicsContextCreate();
_6.buffer="";
return {context:_6};
};
CABackingStoreSetSize=function(_7,_8){
};
}
p;14;CAFlashLayer.ji;9;CALayer.ji;14;CPFlashMovie.jc;803;
var _1=objj_allocateClassPair(CALayer,"CAFlashLayer"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_flashMovie")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("setFlashMovie:"),function(_3,_4,_5){
with(_3){
if(_flashMovie==_5){
return;
}
_flashMovie=_5;
_DOMElement.innerHTML="<object width = \"100%\" height = \"100%\"><param name = \"movie\" value = \""+_5._fileName+"\"></param><param name = \"wmode\" value = \"transparent\"></param><embed src = \""+_5._fileName+"\" type = \"application/x-shockwave-flash\" wmode = \"transparent\" width = \"100%\" height = \"100%\"></embed></object>";
}
}),new objj_method(sel_getUid("flashMovie"),function(_6,_7){
with(_6){
return _flashMovie;
}
})]);
p;9;CALayer.jI;21;Foundation/CPObject.jI;23;AppKit/CABackingStore.jI;18;AppKit/CGContext.jI;19;AppKit/CGGeometry.ji;12;CGGeometry.jc;24559;
CGAffineTransformMake=function(a,b,c,d,tx,ty){
return {a:a,b:b,c:c,d:d,tx:tx,ty:ty};
};
CGAffineTransformMakeIdentity=function(){
return {a:1,b:0,c:0,d:1,tx:0,ty:0};
};
CGAffineTransformMakeCopy=function(_1){
return {a:_1.a,b:_1.b,c:_1.c,d:_1.d,tx:_1.tx,ty:_1.ty};
};
CGAffineTransformMakeScale=function(sx,sy){
return {a:sx,b:0,c:0,d:sy,tx:0,ty:0};
};
CGAffineTransformMakeTranslation=function(tx,ty){
return {a:1,b:0,c:0,d:1,tx:tx,ty:ty};
};
CGAffineTransformTranslate=function(_2,tx,ty){
return {a:_2.a,b:_2.b,c:_2.c,d:_2.d,tx:_2.tx+_2.a*tx+_2.c*ty,ty:_2.ty+_2.b*tx+_2.d*ty};
};
CGAffineTransformScale=function(_3,sx,sy){
return {a:_3.a*sx,b:_3.b*sx,c:_3.c*sy,d:_3.d*sy,tx:_3.tx,ty:_3.ty};
};
CGAffineTransformConcat=function(_4,_5){
return {a:_4.a*_5.a+_4.b*_5.c,b:_4.a*_5.b+_4.b*_5.d,c:_4.c*_5.a+_4.d*_5.c,d:_4.c*_5.b+_4.d*_5.d,tx:_4.tx*_5.a+_4.ty*_5.c+_5.tx,ty:_4.tx*_5.b+_4.ty*_5.d+_5.ty};
};
CGPointApplyAffineTransform=function(_6,_7){
return {x:_6.x*_7.a+_6.y*_7.c+_7.tx,y:_6.x*_7.b+_6.y*_7.d+_7.ty};
};
CGSizeApplyAffineTransform=function(_8,_9){
return {width:_8.width*_9.a+_8.height*_9.c,height:_8.width*_9.b+_8.height*_9.d};
};
CGAffineTransformIsIdentity=function(_a){
return (_a.a==1&&_a.b==0&&_a.c==0&&_a.d==1&&_a.tx==0&&_a.ty==0);
};
CGAffineTransformEqualToTransform=function(_b,_c){
return (_b.a==_c.a&&_b.b==_c.b&&_b.c==_c.c&&_b.d==_c.d&&_b.tx==_c.tx&&_b.ty==_c.ty);
};
CGStringCreateWithCGAffineTransform=function(_d){
return (" [[ "+_d.a+", "+_d.b+", 0 ], [ "+_d.c+", "+_d.d+", 0 ], [ "+_d.tx+", "+_d.ty+", 1]]");
};
CGAffineTransformCreateCopy=function(_e){
return {a:_e.a,b:_e.b,c:_e.c,d:_e.d,tx:_e.tx,ty:_e.ty};
};
CGAffineTransformMakeRotation=function(_f){
var sin=SIN(_f),cos=COS(_f);
return {a:cos,b:sin,c:-sin,d:cos,tx:0,ty:0};
};
CGAffineTransformRotate=function(_10,_11){
var sin=SIN(_11),cos=COS(_11);
return {a:_10.a*cos+_10.c*sin,b:_10.b*cos+_10.d*sin,c:_10.c*cos-_10.a*sin,d:_10.d*cos-_10.b*sin,tx:_10.tx,ty:_10.ty};
};
CGAffineTransformInvert=function(_12){
var _13=1/(_12.a*_12.d-_12.b*_12.c);
return {a:_13*_12.d,b:-_13*_12.b,c:-_13*_12.c,d:_13*_12.a,tx:_13*(_12.c*_12.ty-_12.d*_12.tx),ty:_13*(_12.b*_12.tx-_12.a*_12.ty)};
};
CGRectApplyAffineTransform=function(_14,_15){
var top=(_14.origin.y),_16=(_14.origin.x),_17=(_14.origin.x+_14.size.width),_18=(_14.origin.y+_14.size.height),_19=CGPointApplyAffineTransform({x:_16,y:top},_15),_1a=CGPointApplyAffineTransform({x:_17,y:top},_15),_1b=CGPointApplyAffineTransform({x:_16,y:_18},_15),_1c=CGPointApplyAffineTransform({x:_17,y:_18},_15),_1d=MIN(_19.x,_1a.x,_1b.x,_1c.x),_1e=MAX(_19.x,_1a.x,_1b.x,_1c.x),_1f=MIN(_19.y,_1a.y,_1b.y,_1c.y),_20=MAX(_19.y,_1a.y,_1b.y,_1c.y);
return {origin:{x:_1d,y:_1f},size:{width:(_1e-_1d),height:(_20-_1f)}};
};
CPStringFromCGAffineTransform=function(_21){
return "{"+_21.a+", "+_21.b+", "+_21.c+", "+_21.d+", "+_21.tx+", "+_21.ty+"}";
};
var _22=1,_23=2,_24=4,_25=8,_26=16;
var _27=NO;
var _28=1,_29=2,_2a=4,_2b=8,_2c=16,_2d=_2a|_28|_29;
var _2e=nil;
var _2f=objj_allocateClassPair(CPObject,"CALayer"),_30=_2f.isa;
class_addIvars(_2f,[new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_position"),new objj_ivar("_zPosition"),new objj_ivar("_anchorPoint"),new objj_ivar("_affineTransform"),new objj_ivar("_sublayerTransform"),new objj_ivar("_sublayerTransformForSublayers"),new objj_ivar("_backingStoreFrame"),new objj_ivar("_standardBackingStoreFrame"),new objj_ivar("_hasSublayerTransform"),new objj_ivar("_hasCustomBackingStoreFrame"),new objj_ivar("_opacity"),new objj_ivar("_isHidden"),new objj_ivar("_backgroundColor"),new objj_ivar("_superlayer"),new objj_ivar("_sublayers"),new objj_ivar("_runLoopUpdateMask"),new objj_ivar("_needsDisplayOnBoundsChange"),new objj_ivar("_delegate"),new objj_ivar("_delegateRespondsToDisplayLayerSelector"),new objj_ivar("_delegateRespondsToDrawLayerInContextSelector"),new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_contents"),new objj_ivar("_context"),new objj_ivar("_owningView"),new objj_ivar("_transformToLayer"),new objj_ivar("_transformFromLayer")]);
objj_registerClassPair(_2f);
objj_addClassForBundle(_2f,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2f,[new objj_method(sel_getUid("init"),function(_31,_32){
with(_31){
_31=objj_msgSendSuper({receiver:_31,super_class:objj_getClass("CPObject")},"init");
if(_31){
_frame=CGRectMakeZero();
_backingStoreFrame=CGRectMakeZero();
_standardBackingStoreFrame=CGRectMakeZero();
_bounds=CGRectMakeZero();
_position=CGPointMakeZero();
_zPosition=0;
_anchorPoint=CGPointMake(0.5,0.5);
_affineTransform=CGAffineTransformMakeIdentity();
_sublayerTransform=CGAffineTransformMakeIdentity();
_transformToLayer=CGAffineTransformMakeIdentity();
_transformFromLayer=CGAffineTransformMakeIdentity();
_opacity=1;
_isHidden=NO;
_masksToBounds=NO;
_sublayers=[];
_DOMElement=document.createElement("div");
_DOMElement.style.overflow="visible";
_DOMElement.style.position="absolute";
_DOMElement.style.visibility="visible";
_DOMElement.style.top="0px";
_DOMElement.style.left="0px";
_DOMElement.style.zIndex=0;
_DOMElement.style.width="0px";
_DOMElement.style.height="0px";
}
return _31;
}
}),new objj_method(sel_getUid("setBounds:"),function(_33,_34,_35){
with(_33){
if(CGRectEqualToRect(_bounds,_35)){
return;
}
var _36=_bounds.origin;
_bounds={origin:{x:_35.origin.x,y:_35.origin.y},size:{width:_35.size.width,height:_35.size.height}};
if(_hasSublayerTransform){
_CALayerUpdateSublayerTransformForSublayers(_33);
}
_CALayerRecalculateGeometry(_33,_22);
}
}),new objj_method(sel_getUid("bounds"),function(_37,_38){
with(_37){
return _bounds;
}
}),new objj_method(sel_getUid("setPosition:"),function(_39,_3a,_3b){
with(_39){
if(CGPointEqualToPoint(_position,_3b)){
return;
}
_position={x:_3b.x,y:_3b.y};
_CALayerRecalculateGeometry(_39,_23);
}
}),new objj_method(sel_getUid("position"),function(_3c,_3d){
with(_3c){
return _position;
}
}),new objj_method(sel_getUid("setZPosition:"),function(_3e,_3f,_40){
with(_3e){
if(_zPosition==_40){
return;
}
_zPosition=_40;
objj_msgSend(_3e,"registerRunLoopUpdateWithMask:",_2a);
}
}),new objj_method(sel_getUid("setAnchorPoint:"),function(_41,_42,_43){
with(_41){
_43={x:_43.x,y:_43.y};
_43.x=MIN(1,MAX(0,_43.x));
_43.y=MIN(1,MAX(0,_43.y));
if(CGPointEqualToPoint(_anchorPoint,_43)){
return;
}
_anchorPoint=_43;
if(_hasSublayerTransform){
_CALayerUpdateSublayerTransformForSublayers(_41);
}
if(_owningView){
_position=CGPointMake((_bounds.size.width)*_anchorPoint.x,(_bounds.size.height)*_anchorPoint.y);
}
_CALayerRecalculateGeometry(_41,_24);
}
}),new objj_method(sel_getUid("anchorPoint"),function(_44,_45){
with(_44){
return _anchorPoint;
}
}),new objj_method(sel_getUid("setAffineTransform:"),function(_46,_47,_48){
with(_46){
if(CGAffineTransformEqualToTransform(_affineTransform,_48)){
return;
}
_affineTransform={a:_48.a,b:_48.b,c:_48.c,d:_48.d,tx:_48.tx,ty:_48.ty};
_CALayerRecalculateGeometry(_46,_25);
}
}),new objj_method(sel_getUid("affineTransform"),function(_49,_4a){
with(_49){
return _affineTransform;
}
}),new objj_method(sel_getUid("setSublayerTransform:"),function(_4b,_4c,_4d){
with(_4b){
if(CGAffineTransformEqualToTransform(_sublayerTransform,_4d)){
return;
}
var _4e=_hasSublayerTransform;
_sublayerTransform={a:_4d.a,b:_4d.b,c:_4d.c,d:_4d.d,tx:_4d.tx,ty:_4d.ty};
_hasSublayerTransform=!(_sublayerTransform.a==1&&_sublayerTransform.b==0&&_sublayerTransform.c==0&&_sublayerTransform.d==1&&_sublayerTransform.tx==0&&_sublayerTransform.ty==0);
if(_hasSublayerTransform){
_CALayerUpdateSublayerTransformForSublayers(_4b);
var _4f=_sublayers.length;
while(_4f--){
_CALayerRecalculateGeometry(_sublayers[_4f],_26);
}
}
}
}),new objj_method(sel_getUid("sublayerTransform"),function(_50,_51){
with(_50){
return _sublayerTransform;
}
}),new objj_method(sel_getUid("transformToLayer"),function(_52,_53){
with(_52){
return _transformToLayer;
}
}),new objj_method(sel_getUid("setFrame:"),function(_54,_55,_56){
with(_54){
alert("FIXME IMPLEMENT");
}
}),new objj_method(sel_getUid("frame"),function(_57,_58){
with(_57){
if(!_frame){
_frame=objj_msgSend(_57,"convertRect:toLayer:",_bounds,_superlayer);
}
return _frame;
}
}),new objj_method(sel_getUid("backingStoreFrame"),function(_59,_5a){
with(_59){
return _backingStoreFrame;
}
}),new objj_method(sel_getUid("setBackingStoreFrame:"),function(_5b,_5c,_5d){
with(_5b){
_hasCustomBackingStoreFrame=(_5d!=nil);
if(_5d==nil){
_5d=CGRectMakeCopy(_standardBackingStoreFrame);
}else{
if(_superlayer){
_5d=objj_msgSend(_superlayer,"convertRect:toLayer:",_5d,nil);
var _5e=objj_msgSend(_superlayer,"bounds"),_5f=objj_msgSend(_superlayer,"convertRect:toLayer:",_5e,nil);
_5d.origin.x-=(_5f.origin.x);
_5d.origin.y-=(_5f.origin.y);
}else{
_5d=CGRectMakeCopy(_5d);
}
}
if(!CGPointEqualToPoint(_backingStoreFrame.origin,_5d.origin)){
objj_msgSend(_5b,"registerRunLoopUpdateWithMask:",_28);
}
if(!CGSizeEqualToSize(_backingStoreFrame.size,_5d.size)){
objj_msgSend(_5b,"registerRunLoopUpdateWithMask:",_29);
}
_backingStoreFrame=_5d;
}
}),new objj_method(sel_getUid("contents"),function(_60,_61){
with(_60){
return _contents;
}
}),new objj_method(sel_getUid("setContents:"),function(_62,_63,_64){
with(_62){
if(_contents==_64){
return;
}
_contents=_64;
objj_msgSend(_62,"composite");
}
}),new objj_method(sel_getUid("composite"),function(_65,_66){
with(_65){
if(_27&&!_contents||!_context){
return;
}
CGContextClearRect(_context,{origin:{x:0,y:0},size:{width:(_backingStoreFrame.size.width),height:(_backingStoreFrame.size.height)}});
var _67=_transformFromLayer;
if(_superlayer){
var _68=_CALayerGetTransform(_superlayer,nil),_69=CGPointApplyAffineTransform(_superlayer._bounds.origin,_68);
_67=CGAffineTransformConcat(_67,_68);
_67.tx-=_69.x;
_67.ty-=_69.y;
}
_67.tx-=(_backingStoreFrame.origin.x);
_67.ty-=(_backingStoreFrame.origin.y);
CGContextSaveGState(_context);
CGContextConcatCTM(_context,_67);
if(_27){
_context.drawImage(_contents.buffer,(_bounds.origin.x),(_bounds.origin.y));
}else{
objj_msgSend(_65,"drawInContext:",_context);
}
CGContextRestoreGState(_context);
}
}),new objj_method(sel_getUid("display"),function(_6a,_6b){
with(_6a){
if(!_context){
_context=CGBitmapGraphicsContextCreate();
_DOMContentsElement=_context.DOMElement;
_DOMContentsElement.style.zIndex=-100;
_DOMContentsElement.style.overflow="hidden";
_DOMContentsElement.style.position="absolute";
_DOMContentsElement.style.visibility="visible";
_DOMContentsElement.width=ROUND((_backingStoreFrame.size.width));
_DOMContentsElement.height=ROUND((_backingStoreFrame.size.height));
_DOMContentsElement.style.top="0px";
_DOMContentsElement.style.left="0px";
_DOMContentsElement.style.width=ROUND((_backingStoreFrame.size.width))+"px";
_DOMContentsElement.style.height=ROUND((_backingStoreFrame.size.height))+"px";
_DOMElement.appendChild(_DOMContentsElement);
}
if(_27){
if(_delegateRespondsToDisplayLayerSelector){
return objj_msgSend(_delegate,"displayInLayer:",_6a);
}
if((_backingStoreFrame.size.width)==0||(_backingStoreFrame.size.height)==0){
return;
}
if(!_contents){
_contents=CABackingStoreCreate();
}
CABackingStoreSetSize(_contents,_bounds.size);
objj_msgSend(_6a,"drawInContext:",CABackingStoreGetContext(_contents));
}
objj_msgSend(_6a,"composite");
}
}),new objj_method(sel_getUid("drawInContext:"),function(_6c,_6d,_6e){
with(_6c){
if(_backgroundColor){
CGContextSetFillColor(_6e,_backgroundColor);
CGContextFillRect(_6e,_bounds);
}
if(_delegateRespondsToDrawLayerInContextSelector){
objj_msgSend(_delegate,"drawLayer:inContext:",_6c,_6e);
}
}
}),new objj_method(sel_getUid("opacity"),function(_6f,_70){
with(_6f){
return _opacity;
}
}),new objj_method(sel_getUid("setOpacity:"),function(_71,_72,_73){
with(_71){
if(_opacity==_73){
return;
}
_opacity=_73;
_DOMElement.style.opacity=_73;
_DOMElement.style.filter="alpha(opacity="+_73*100+")";
}
}),new objj_method(sel_getUid("setHidden:"),function(_74,_75,_76){
with(_74){
_isHidden=_76;
_DOMElement.style.display=_76?"none":"block";
}
}),new objj_method(sel_getUid("hidden"),function(_77,_78){
with(_77){
return _isHidden;
}
}),new objj_method(sel_getUid("isHidden"),function(_79,_7a){
with(_79){
return _isHidden;
}
}),new objj_method(sel_getUid("setMasksToBounds:"),function(_7b,_7c,_7d){
with(_7b){
if(_masksToBounds==_7d){
return;
}
_masksToBounds=_7d;
_DOMElement.style.overflow=_masksToBounds?"hidden":"visible";
}
}),new objj_method(sel_getUid("setBackgroundColor:"),function(_7e,_7f,_80){
with(_7e){
_backgroundColor=_80;
objj_msgSend(_7e,"setNeedsDisplay");
}
}),new objj_method(sel_getUid("backgroundColor"),function(_81,_82){
with(_81){
return _backgroundColor;
}
}),new objj_method(sel_getUid("sublayers"),function(_83,_84){
with(_83){
return _sublayers;
}
}),new objj_method(sel_getUid("superlayer"),function(_85,_86){
with(_85){
return _superlayer;
}
}),new objj_method(sel_getUid("addSublayer:"),function(_87,_88,_89){
with(_87){
objj_msgSend(_87,"insertSublayer:atIndex:",_89,_sublayers.length);
return;
if(_DOMContentsElement&&_89._zPosition>_DOMContentsElement.style.zIndex){
_DOMContentsElement.style.zIndex-=100;
}
objj_msgSend(_sublayers,"addObject:",_89);
_DOMElement.appendChild(_89._DOMElement);
}
}),new objj_method(sel_getUid("removeFromSuperlayer"),function(_8a,_8b){
with(_8a){
if(_owningView){
objj_msgSend(_owningView,"setLayer:",nil);
}
if(!_superlayer){
return;
}
_superlayer._DOMElement.removeChild(_DOMElement);
objj_msgSend(_superlayer._sublayers,"removeObject:",_8a);
_superlayer=nil;
}
}),new objj_method(sel_getUid("insertSublayer:atIndex:"),function(_8c,_8d,_8e,_8f){
with(_8c){
if(!_8e){
return;
}
var _90=objj_msgSend(_8e,"superlayer");
if(_90==_8c){
var _91=objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",_8e);
if(_91==_8f){
return;
}
objj_msgSend(_sublayers,"removeObjectAtIndex:",_91);
if(_91<_8f){
--_8f;
}
}else{
if(_90!=nil){
objj_msgSend(_8e,"removeFromSuperlayer");
}
}
if(_DOMContentsElement&&_8e._zPosition>_DOMContentsElement.style.zIndex){
_DOMContentsElement.style.zIndex-=100;
}
objj_msgSend(_sublayers,"insertObject:atIndex:",_8e,_8f);
if(_8f>=_sublayers.length-1){
_DOMElement.appendChild(_8e._DOMElement);
}else{
_DOMElement.insertBefore(_8e._DOMElement,_sublayers[_8f+1]._DOMElement);
}
_8e._superlayer=_8c;
if(_8c!=_90){
_CALayerRecalculateGeometry(_8e,268435455);
}
}
}),new objj_method(sel_getUid("insertSublayer:below:"),function(_92,_93,_94,_95){
with(_92){
var _96=_95?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",_95):0;
objj_msgSend(_92,"insertSublayer:atIndex:",_94,_96==CPNotFound?_sublayers.length:_96);
}
}),new objj_method(sel_getUid("insertSublayer:above:"),function(_97,_98,_99,_9a){
with(_97){
var _9b=_9a?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",_9a):_sublayers.length;
if(_9b==CPNotFound){
objj_msgSend(CPException,"raise:reason:","CALayerNotFoundException","aSublayer is not a sublayer of this layer");
}
objj_msgSend(_sublayers,"insertObject:atIndex:",_99,_9b==CPNotFound?_sublayers.length:_9b+1);
}
}),new objj_method(sel_getUid("replaceSublayer:with:"),function(_9c,_9d,_9e,_9f){
with(_9c){
if(_9e==_9f){
return;
}
if(_9e._superlayer!=_9c){
alert("EXCEPTION");
return;
}
if(_DOMContentsElement&&_9f._zPosition>_DOMContentsElement.style.zIndex){
_DOMContentsElement.style.zIndex-=100;
}
objj_msgSend(_sublayers,"replaceObjectAtIndex:withObject:",objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",_9e),_9f);
_DOMElement.replaceChild(_9e._DOMElement,_9f._DOMElement);
}
}),new objj_method(sel_getUid("registerRunLoopUpdateWithMask:"),function(_a0,_a1,_a2){
with(_a0){
if(_2e==nil){
_2e={};
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("runLoopUpdateLayers"),CALayer,nil,0,[CPDefaultRunLoopMode]);
}
_runLoopUpdateMask|=_a2;
_2e[objj_msgSend(_a0,"UID")]=_a0;
}
}),new objj_method(sel_getUid("setNeedsComposite"),function(_a3,_a4){
with(_a3){
objj_msgSend(_a3,"registerRunLoopUpdateWithMask:",_2c);
}
}),new objj_method(sel_getUid("setNeedsDisplay"),function(_a5,_a6){
with(_a5){
objj_msgSend(_a5,"registerRunLoopUpdateWithMask:",_2b);
}
}),new objj_method(sel_getUid("setNeedsDisplayOnBoundsChange:"),function(_a7,_a8,_a9){
with(_a7){
_needsDisplayOnBoundsChange=_a9;
}
}),new objj_method(sel_getUid("needsDisplayOnBoundsChange"),function(_aa,_ab){
with(_aa){
return _needsDisplayOnBoundsChange;
}
}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(_ac,_ad,_ae){
with(_ac){
_dirtyRect=_ae;
objj_msgSend(_ac,"display");
}
}),new objj_method(sel_getUid("convertPoint:fromLayer:"),function(_af,_b0,_b1,_b2){
with(_af){
return CGPointApplyAffineTransform(_b1,_CALayerGetTransform(_b2,_af));
}
}),new objj_method(sel_getUid("convertPoint:toLayer:"),function(_b3,_b4,_b5,_b6){
with(_b3){
return CGPointApplyAffineTransform(_b5,_CALayerGetTransform(_b3,_b6));
}
}),new objj_method(sel_getUid("convertRect:fromLayer:"),function(_b7,_b8,_b9,_ba){
with(_b7){
return CGRectApplyAffineTransform(_b9,_CALayerGetTransform(_ba,_b7));
}
}),new objj_method(sel_getUid("convertRect:toLayer:"),function(_bb,_bc,_bd,_be){
with(_bb){
return CGRectApplyAffineTransform(_bd,_CALayerGetTransform(_bb,_be));
}
}),new objj_method(sel_getUid("containsPoint:"),function(_bf,_c0,_c1){
with(_bf){
return (_c1.x>=(_bounds.origin.x)&&_c1.y>=(_bounds.origin.y)&&_c1.x<(_bounds.origin.x+_bounds.size.width)&&_c1.y<(_bounds.origin.y+_bounds.size.height));
}
}),new objj_method(sel_getUid("hitTest:"),function(_c2,_c3,_c4){
with(_c2){
if(_isHidden){
return nil;
}
var _c5=CGPointApplyAffineTransform(_c4,_transformToLayer);
if(!(_c5.x>=(_bounds.origin.x)&&_c5.y>=(_bounds.origin.y)&&_c5.x<(_bounds.origin.x+_bounds.size.width)&&_c5.y<(_bounds.origin.y+_bounds.size.height))){
return nil;
}
var _c6=nil,_c7=_sublayers.length;
while(_c7--){
if(_c6=objj_msgSend(_sublayers[_c7],"hitTest:",_c5)){
return _c6;
}
}
return _c2;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_c8,_c9,_ca){
with(_c8){
if(_delegate==_ca){
return;
}
_delegate=_ca;
_delegateRespondsToDisplayLayerSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("displayLayer:"));
_delegateRespondsToDrawLayerInContextSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("drawLayer:inContext:"));
if(_delegateRespondsToDisplayLayerSelector||_delegateRespondsToDrawLayerInContextSelector){
objj_msgSend(_c8,"setNeedsDisplay");
}
}
}),new objj_method(sel_getUid("delegate"),function(_cb,_cc){
with(_cb){
return _delegate;
}
}),new objj_method(sel_getUid("_setOwningView:"),function(_cd,_ce,_cf){
with(_cd){
_owningView=_cf;
if(_owningView){
_owningView=_cf;
_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,"bounds").size);
_position=CGPointMake((_bounds.size.width)*_anchorPoint.x,(_bounds.size.height)*_anchorPoint.y);
}
_CALayerRecalculateGeometry(_cd,_23|_22);
}
}),new objj_method(sel_getUid("_owningViewBoundsChanged"),function(_d0,_d1){
with(_d0){
_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,"bounds").size);
_position=CGPointMake((_bounds.size.width)*_anchorPoint.x,(_bounds.size.height)*_anchorPoint.y);
_CALayerRecalculateGeometry(_d0,_23|_22);
}
}),new objj_method(sel_getUid("_update"),function(_d2,_d3){
with(_d2){
window.loop=true;
var _d4=_runLoopUpdateMask;
if(_d4&_2d){
_CALayerUpdateDOM(_d2,_d4);
}
if(_d4&_2b){
objj_msgSend(_d2,"display");
}else{
if(_d4&_29||_d4&_2c){
objj_msgSend(_d2,"composite");
}
}
_runLoopUpdateMask=0;
window.loop=false;
}
})]);
class_addMethods(_30,[new objj_method(sel_getUid("layer"),function(_d5,_d6){
with(_d5){
return objj_msgSend(objj_msgSend(objj_msgSend(_d5,"class"),"alloc"),"init");
}
}),new objj_method(sel_getUid("runLoopUpdateLayers"),function(_d7,_d8){
with(_d7){
if(window.oops){
alert(window.latest);
objj_debug_print_backtrace();
}
window.loop=true;
for(UID in _2e){
var _d9=_2e[UID],_da=_d9._runLoopUpdateMask;
if(_da&_2d){
_CALayerUpdateDOM(_d9,_da);
}
if(_da&_2b){
objj_msgSend(_d9,"display");
}else{
if(_da&_29||_da&_2c){
objj_msgSend(_d9,"composite");
}
}
_d9._runLoopUpdateMask=0;
}
window.loop=false;
_2e=nil;
}
})]);
_CALayerUpdateSublayerTransformForSublayers=function(_db){
var _dc=_db._bounds,_dd=_db._anchorPoint,_de=(_dc.size.width)*_dd.x,_df=(_dc.size.height)*_dd.y;
_db._sublayerTransformForSublayers=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-_de,-_df),CGAffineTransformConcat(_db._sublayerTransform,CGAffineTransformMakeTranslation(_de,_df)));
};
_CALayerUpdateDOM=function(_e0,_e1){
var _e2=_e0._DOMElement.style;
if(_e1&_2a){
_e2.zIndex=_e0._zPosition;
}
var _e3=_e0._backingStoreFrame;
if(_e1&_28){
_e2.top=ROUND((_e3.origin.y))+"px";
_e2.left=ROUND((_e3.origin.x))+"px";
}
if(_e1&_29){
var _e4=MAX(0,ROUND((_e3.size.width))),_e5=MAX(0,ROUND((_e3.size.height))),_e6=_e0._DOMContentsElement;
_e2.width=_e4+"px";
_e2.height=_e5+"px";
if(_e6){
_e6.width=_e4;
_e6.height=_e5;
_e6.style.width=_e4+"px";
_e6.style.height=_e5+"px";
}
}
};
_CALayerRecalculateGeometry=function(_e7,_e8){
var _e9=_e7._bounds,_ea=_e7._superlayer,_eb=(_e9.size.width),_ec=(_e9.size.height),_ed=_e7._position,_ee=_e7._anchorPoint,_ef=_e7._affineTransform,_f0={width:_e7._backingStoreFrame.width,height:_e7._backingStoreFrame.height},_f1=_e7._hasCustomBackingStoreFrame;
_e7._transformFromLayer=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-_eb*_ee.x-(_e7._bounds.origin.x),-_ec*_ee.y-(_e7._bounds.origin.y)),CGAffineTransformConcat(_ef,CGAffineTransformMakeTranslation(_ed.x,_ed.y)));
if(_ea&&_ea._hasSublayerTransform){
var tx=_e7._transformFromLayer.tx*_ea._sublayerTransformForSublayers.a+_e7._transformFromLayer.ty*_ea._sublayerTransformForSublayers.c+_ea._sublayerTransformForSublayers.tx;
_e7._transformFromLayer.ty=_e7._transformFromLayer.tx*_ea._sublayerTransformForSublayers.b+_e7._transformFromLayer.ty*_ea._sublayerTransformForSublayers.d+_ea._sublayerTransformForSublayers.ty;
_e7._transformFromLayer.tx=tx;
var a=_e7._transformFromLayer.a*_ea._sublayerTransformForSublayers.a+_e7._transformFromLayer.b*_ea._sublayerTransformForSublayers.c,b=_e7._transformFromLayer.a*_ea._sublayerTransformForSublayers.b+_e7._transformFromLayer.b*_ea._sublayerTransformForSublayers.d,c=_e7._transformFromLayer.c*_ea._sublayerTransformForSublayers.a+_e7._transformFromLayer.d*_ea._sublayerTransformForSublayers.c;
_e7._transformFromLayer.d=_e7._transformFromLayer.c*_ea._sublayerTransformForSublayers.b+_e7._transformFromLayer.d*_ea._sublayerTransformForSublayers.d;
_e7._transformFromLayer.a=a;
_e7._transformFromLayer.b=b;
_e7._transformFromLayer.c=c;
}
_e7._transformToLayer=CGAffineTransformInvert(_e7._transformFromLayer);
_e7._frame=nil;
_e7._standardBackingStoreFrame=objj_msgSend(_e7,"convertRect:toLayer:",_e9,nil);
if(_ea){
var _e9=objj_msgSend(_ea,"bounds"),_f2=objj_msgSend(_ea,"convertRect:toLayer:",_e9,nil);
_e7._standardBackingStoreFrame.origin.x-=(_f2.origin.x);
_e7._standardBackingStoreFrame.origin.y-=(_f2.origin.y);
}
var _f3=_e7._standardBackingStoreFrame.origin,_f4=_e7._standardBackingStoreFrame.size;
_f3.x=FLOOR(_f3.x);
_f3.y=FLOOR(_f3.y);
_f4.width=CEIL(_f4.width)+1;
_f4.height=CEIL(_f4.height)+1;
if(!_f1){
var _f5=CGRectMakeCopy(_e7._standardBackingStoreFrame);
if(ROUND((_f5.origin.x))!=ROUND((_e7._backingStoreFrame.origin.x))||ROUND((_f5.origin.y))!=ROUND((_e7._backingStoreFrame.origin.y))){
objj_msgSend(_e7,"registerRunLoopUpdateWithMask:",_28);
}
if(((_f5.size.width)!=ROUND((_e7._backingStoreFrame.size.width))||(_f5.size.height)!=ROUND((_e7._backingStoreFrame.size.height)))){
objj_msgSend(_e7,"registerRunLoopUpdateWithMask:",_29);
}
_e7._backingStoreFrame=_f5;
}
if(_e8&_22&&_e7._needsDisplayOnBoundsChange){
objj_msgSend(_e7,"setNeedsDisplay");
}else{
if(_f1||(_e8&~(_23|_24))){
objj_msgSend(_e7,"setNeedsComposite");
}
}
var _f6=_e7._sublayers,_f7=0,_f8=_f6.length;
for(;_f7<_f8;++_f7){
_CALayerRecalculateGeometry(_f6[_f7],_e8);
}
};
_CALayerGetTransform=function(_f9,_fa){
var _fb=CGAffineTransformMakeIdentity();
if(_f9){
var _fc=_f9;
while(_fc&&_fc!=_fa){
var _fd=_fc._transformFromLayer;
var tx=_fb.tx*_fd.a+_fb.ty*_fd.c+_fd.tx;
_fb.ty=_fb.tx*_fd.b+_fb.ty*_fd.d+_fd.ty;
_fb.tx=tx;
var a=_fb.a*_fd.a+_fb.b*_fd.c,b=_fb.a*_fd.b+_fb.b*_fd.d,c=_fb.c*_fd.a+_fb.d*_fd.c;
_fb.d=_fb.c*_fd.b+_fb.d*_fd.d;
_fb.a=a;
_fb.b=b;
_fb.c=c;
_fc=_fc._superlayer;
}
if(_fc==_fa){
return _fb;
}
}
var _fe=[],_fc=_fa;
while(_fc){
_fe.push(_fc);
_fc=_fc._superlayer;
}
var _ff=_fe.length;
while(_ff--){
var _100=_fe[_ff]._transformToLayer;
var tx=_fb.tx*_100.a+_fb.ty*_100.c+_100.tx;
_fb.ty=_fb.tx*_100.b+_fb.ty*_100.d+_100.ty;
_fb.tx=tx;
var a=_fb.a*_100.a+_fb.b*_100.c,b=_fb.a*_100.b+_fb.b*_100.d,c=_fb.c*_100.a+_fb.d*_100.c;
_fb.d=_fb.c*_100.b+_fb.d*_100.d;
_fb.a=a;
_fb.b=b;
_fb.c=c;
}
return _fb;
};
p;23;CAMediaTimingFunction.jI;21;Foundation/CPObject.jI;25;Foundation/CPDictionary.jI;21;Foundation/CPString.jc;2072;
kCAMediaTimingFunctionLinear="kCAMediaTimingFunctionLinear";
kCAMediaTimingFunctionEaseIn="kCAMediaTimingFunctionEaseIn";
kCAMediaTimingFunctionEaseOut="kCAMediaTimingFunctionEaseOut";
kCAMediaTimingFunctionEaseInEaseOut="kCAMediaTimingFunctionEaseInEaseOut";
var _1=nil;
var _2=objj_allocateClassPair(CPObject,"CAMediaTimingFunction"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_c1x"),new objj_ivar("_c1y"),new objj_ivar("_c2x"),new objj_ivar("_c2y")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithControlPoints::::"),function(_4,_5,_6,_7,_8,_9){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_c1x=_6;
_c1y=_7;
_c2x=_8;
_c2y=_9;
}
return _4;
}
}),new objj_method(sel_getUid("getControlPointAtIndex:values:"),function(_a,_b,_c,_d){
with(_a){
if(_c==0){
_d[0]=0;
_d[1]=0;
}else{
if(_c==1){
_d[0]=_c1x;
_d[1]=_c1y;
}else{
if(_c==2){
_d[0]=_c2x;
_d[1]=_c2y;
}else{
_d[0]=1;
_d[1]=1;
}
}
}
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("functionWithName:"),function(_e,_f,_10){
with(_e){
if(!_1){
_1=objj_msgSend(CPDictionary,"dictionary");
objj_msgSend(_1,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,1,1),kCAMediaTimingFunctionLinear);
objj_msgSend(_1,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,1,1),kCAMediaTimingFunctionEaseIn);
objj_msgSend(_1,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,0.58,1),kCAMediaTimingFunctionEaseOut);
objj_msgSend(_1,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,0.58,1),kCAMediaTimingFunctionEaseInEaseOut);
}
return objj_msgSend(_1,"objectForKey:",_10);
}
}),new objj_method(sel_getUid("functionWithControlPoints::::"),function(_11,_12,c1x,c1y,c2x,c2y){
with(_11){
return objj_msgSend(objj_msgSend(_11,"alloc"),"initWithControlPoints::::",c1x,c1y,c2x,c2y);
}
})]);
p;19;CGAffineTransform.ji;12;CGGeometry.jc;2862;
CGAffineTransformMake=function(a,b,c,d,tx,ty){
return {a:a,b:b,c:c,d:d,tx:tx,ty:ty};
};
CGAffineTransformMakeIdentity=function(){
return {a:1,b:0,c:0,d:1,tx:0,ty:0};
};
CGAffineTransformMakeCopy=function(_1){
return {a:_1.a,b:_1.b,c:_1.c,d:_1.d,tx:_1.tx,ty:_1.ty};
};
CGAffineTransformMakeScale=function(sx,sy){
return {a:sx,b:0,c:0,d:sy,tx:0,ty:0};
};
CGAffineTransformMakeTranslation=function(tx,ty){
return {a:1,b:0,c:0,d:1,tx:tx,ty:ty};
};
CGAffineTransformTranslate=function(_2,tx,ty){
return {a:_2.a,b:_2.b,c:_2.c,d:_2.d,tx:_2.tx+_2.a*tx+_2.c*ty,ty:_2.ty+_2.b*tx+_2.d*ty};
};
CGAffineTransformScale=function(_3,sx,sy){
return {a:_3.a*sx,b:_3.b*sx,c:_3.c*sy,d:_3.d*sy,tx:_3.tx,ty:_3.ty};
};
CGAffineTransformConcat=function(_4,_5){
return {a:_4.a*_5.a+_4.b*_5.c,b:_4.a*_5.b+_4.b*_5.d,c:_4.c*_5.a+_4.d*_5.c,d:_4.c*_5.b+_4.d*_5.d,tx:_4.tx*_5.a+_4.ty*_5.c+_5.tx,ty:_4.tx*_5.b+_4.ty*_5.d+_5.ty};
};
CGPointApplyAffineTransform=function(_6,_7){
return {x:_6.x*_7.a+_6.y*_7.c+_7.tx,y:_6.x*_7.b+_6.y*_7.d+_7.ty};
};
CGSizeApplyAffineTransform=function(_8,_9){
return {width:_8.width*_9.a+_8.height*_9.c,height:_8.width*_9.b+_8.height*_9.d};
};
CGAffineTransformIsIdentity=function(_a){
return (_a.a==1&&_a.b==0&&_a.c==0&&_a.d==1&&_a.tx==0&&_a.ty==0);
};
CGAffineTransformEqualToTransform=function(_b,_c){
return (_b.a==_c.a&&_b.b==_c.b&&_b.c==_c.c&&_b.d==_c.d&&_b.tx==_c.tx&&_b.ty==_c.ty);
};
CGStringCreateWithCGAffineTransform=function(_d){
return (" [[ "+_d.a+", "+_d.b+", 0 ], [ "+_d.c+", "+_d.d+", 0 ], [ "+_d.tx+", "+_d.ty+", 1]]");
};
CGAffineTransformCreateCopy=function(_e){
return {a:_e.a,b:_e.b,c:_e.c,d:_e.d,tx:_e.tx,ty:_e.ty};
};
CGAffineTransformMakeRotation=function(_f){
var sin=SIN(_f),cos=COS(_f);
return {a:cos,b:sin,c:-sin,d:cos,tx:0,ty:0};
};
CGAffineTransformRotate=function(_10,_11){
var sin=SIN(_11),cos=COS(_11);
return {a:_10.a*cos+_10.c*sin,b:_10.b*cos+_10.d*sin,c:_10.c*cos-_10.a*sin,d:_10.d*cos-_10.b*sin,tx:_10.tx,ty:_10.ty};
};
CGAffineTransformInvert=function(_12){
var _13=1/(_12.a*_12.d-_12.b*_12.c);
return {a:_13*_12.d,b:-_13*_12.b,c:-_13*_12.c,d:_13*_12.a,tx:_13*(_12.c*_12.ty-_12.d*_12.tx),ty:_13*(_12.b*_12.tx-_12.a*_12.ty)};
};
CGRectApplyAffineTransform=function(_14,_15){
var top=(_14.origin.y),_16=(_14.origin.x),_17=(_14.origin.x+_14.size.width),_18=(_14.origin.y+_14.size.height),_19=CGPointApplyAffineTransform({x:_16,y:top},_15),_1a=CGPointApplyAffineTransform({x:_17,y:top},_15),_1b=CGPointApplyAffineTransform({x:_16,y:_18},_15),_1c=CGPointApplyAffineTransform({x:_17,y:_18},_15),_1d=MIN(_19.x,_1a.x,_1b.x,_1c.x),_1e=MAX(_19.x,_1a.x,_1b.x,_1c.x),_1f=MIN(_19.y,_1a.y,_1b.y,_1c.y),_20=MAX(_19.y,_1a.y,_1b.y,_1c.y);
return {origin:{x:_1d,y:_1f},size:{width:(_1e-_1d),height:(_20-_1f)}};
};
CPStringFromCGAffineTransform=function(_21){
return "{"+_21.a+", "+_21.b+", "+_21.c+", "+_21.d+", "+_21.tx+", "+_21.ty+"}";
};
p;9;CGColor.ji;14;CGColorSpace.jc;2065;
var _1=0;
CFHashCode=function(_2){
if(!_2.hash){
_2.hash=++_1;
}
return _2;
};
kCGColorWhite="kCGColorWhite";
kCGColorBlack="kCGColorBlack";
kCGColorClear="kCGColorClear";
var _3={};
CGColorGetConstantColor=function(_4){
alert("FIX ME");
};
CGColorRetain=function(_5){
return _5;
};
CGColorRelease=function(){
};
CGColorCreate=function(_6,_7){
if(!_6||!_7){
return NULL;
}
var _7=_7.slice();
CGColorSpaceStandardizeComponents(_6,_7);
var _8=CFHashCode(_6)+_7.join("");
if(_3[_8]){
return _3[_8];
}
return _3[_8]={colorspace:_6,pattern:NULL,components:_7};
};
CGColorCreateCopy=function(_9){
return _9;
};
CGColorCreateGenericGray=function(_a,_b){
return CGColorCreate(0,[_a,_b]);
};
CGColorCreateGenericRGB=function(_c,_d,_e,_f){
return CGColorCreate(0,[_c,_d,_e,_f]);
};
CGColorCreateGenericCMYK=function(_10,_11,_12,_13,_14){
return CGColorCreate(0,[_10,_11,_12,_13,_14]);
};
CGColorCreateCopyWithAlpha=function(_15,_16){
var _17=_15.components;
if(!_15||_16==_17[_17.length-1]){
return _15;
}
if(_15.pattern){
var _18=CGColorCreateWithPattern(_15.colorspace,_15.pattern,_17);
}else{
var _18=CGColorCreate(_15.colorspace,_17);
}
_18.components[_17.length-1]=_16;
return _18;
};
CGColorCreateWithPattern=function(_19,_1a,_1b){
if(!_19||!_1a||!_1b){
return NULL;
}
return {colorspace:_19,pattern:_1a,components:_1b.slice()};
};
CGColorEqualToColor=function(lhs,rhs){
if(lhs==rhs){
return true;
}
if(!lhs||!rhs){
return false;
}
var _1c=lhs.components,_1d=rhs.components,_1e=_1c.length;
if(_1e!=_1d.length){
return false;
}
while(_1e--){
if(_1c[_1e]!=_1d[_1e]){
return false;
}
}
if(lhs.pattern!=rhs.pattern){
return false;
}
if(CGColorSpaceEqualToColorSpace(lhs.colorspace,rhs.colorspace)){
return false;
}
return true;
};
CGColorGetAlpha=function(_1f){
var _20=_1f.components;
return _20[_20.length-1];
};
CGColorGetColorSpace=function(_21){
return _21.colorspace;
};
CGColorGetComponents=function(_22){
return _22.components;
};
CGColorGetNumberOfComponents=function(_23){
return _23.components.length;
};
CGColorGetPattern=function(_24){
return _24.pattern;
};
p;14;CGColorSpace.jc;3502;
kCGColorSpaceModelUnknown=-1;
kCGColorSpaceModelMonochrome=0;
kCGColorSpaceModelRGB=1;
kCGColorSpaceModelCMYK=2;
kCGColorSpaceModelLab=3;
kCGColorSpaceModelDeviceN=4;
kCGColorSpaceModelIndexed=5;
kCGColorSpaceModelPattern=6;
kCGColorSpaceGenericGray="CGColorSpaceGenericGray";
kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";
kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";
kCGColorSpaceGenericRGBLinear="CGColorSpaceGenericRGBLinear";
kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";
kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";
kCGColorSpaceSRGB="CGColorSpaceSRGB";
var _1={};
CGColorSpaceCreateCalibratedGray=function(_2,_3,_4){
return {model:kCGColorSpaceModelMonochrome,count:1,base:NULL};
};
CGColorSpaceCreateCalibratedRGB=function(_5,_6,_7){
return {model:kCGColorSpaceModelRGB,count:1,base:NULL};
};
CGColorSpaceCreateICCBased=function(_8,_9,_a,_b){
return NULL;
};
CGColorSpaceCreateLab=function(_c,_d,_e){
return NULL;
};
CGColorSpaceCreateDeviceCMYK=function(){
return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK);
};
CGColorSpaceCreateDeviceGray=function(){
return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray);
};
CGColorSpaceCreateDeviceRGB=function(){
return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB);
};
CGColorSpaceCreateWithPlatformColorSpace=function(){
return NULL;
};
CGColorSpaceCreateIndexed=function(_f,_10,_11){
return NULL;
};
CGColorSpaceCreatePattern=function(_12){
if(_12){
return {model:kCGColorSpaceModelPattern,count:_12.count,base:_12};
}
return {model:kCGColorSpaceModelPattern,count:0,base:NULL};
};
CGColorSpaceCreateWithName=function(_13){
var _14=_1[_13];
if(_14){
return _14;
}
switch(_13){
case kCGColorSpaceGenericGray:
return _1[_13]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};
case kCGColorSpaceGenericRGB:
return _1[_13]={model:kCGColorSpaceModelRGB,count:3,base:NULL};
case kCGColorSpaceGenericCMYK:
return _1[_13]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};
case kCGColorSpaceGenericRGBLinear:
return _1[_13]={model:kCGColorSpaceModelRGB,count:3,base:NULL};
case kCGColorSpaceGenericRGBHDR:
return _1[_13]={model:kCGColorSpaceModelRGB,count:3,base:NULL};
case kCGColorSpaceAdobeRGB1998:
return _1[_13]={model:kCGColorSpaceModelRGB,count:3,base:NULL};
case kCGColorSpaceSRGB:
return _1[_13]={model:kCGColorSpaceModelRGB,count:3,base:NULL};
}
return NULL;
};
CGColorSpaceCopyICCProfile=function(_15){
return NULL;
};
CGColorSpaceGetNumberOfComponents=function(_16){
return _16.count;
};
CGColorSpaceGetTypeID=function(_17){
};
CGColorSpaceGetModel=function(_18){
return _18.model;
};
CGColorSpaceGetBaseColorSpace=function(_19){
};
CGColorSpaceGetColorTableCount=function(_1a){
};
CGColorSpaceGetColorTable=function(_1b){
};
CGColorSpaceRelease=function(_1c){
};
CGColorSpaceRetain=function(_1d){
return _1d;
};
CGColorSpaceStandardizeComponents=function(_1e,_1f){
var _20=_1e.count;
if(_20>_1f.length){
_1f[_20]=1;
return;
}
var _21=_1f[_20];
if(_21<0){
_1f[_20]=0;
}else{
if(_21>1){
_1f[_20]=1;
}else{
_1f[_20]=ROUND(_21*1000)/1000;
}
}
if(_1e.base){
_1e=_1e.base;
}
switch(_1e.model){
case kCGColorSpaceModelMonochrome:
case kCGColorSpaceModelRGB:
case kCGColorSpaceModelCMYK:
case kCGColorSpaceModelDeviceN:
while(_20--){
if(_20>_1f.length){
_1f[_20]=1;
return;
}
var _21=_1f[_20];
if(_21<0){
_1f[_20]=0;
}else{
if(_21>1){
_1f[_20]=1;
}else{
_1f[_20]=ROUND(_21*255)/255;
}
}
}
break;
case kCGColorSpaceModelIndexed:
case kCGColorSpaceModelLab:
case kCGColorSpaceModelPattern:
break;
}
};
p;11;CGContext.ji;12;CGGeometry.ji;19;CGAffineTransform.ji;8;CGPath.jc;20228;
kCGLineCapButt=0;
kCGLineCapRound=1;
kCGLineCapSquare=2;
kCGLineJoinMiter=0;
kCGLineJoinRound=1;
kCGLineJoinBevel=2;
kCGPathFill=0;
kCGPathEOFill=1;
kCGPathStroke=2;
kCGPathFillStroke=3;
kCGPathEOFillStroke=4;
kCGBlendModeNormal=0;
kCGBlendModeMultiply=1;
kCGBlendModeScreen=2;
kCGBlendModeOverlay=3;
kCGBlendModeDarken=4;
kCGBlendModeLighten=5;
kCGBlendModeColorDodge=6;
kCGBlendModeColorBurn=7;
kCGBlendModeSoftLight=8;
kCGBlendModeHardLight=9;
kCGBlendModeDifference=10;
kCGBlendModeExclusion=11;
kCGBlendModeHue=12;
kCGBlendModeSaturation=13;
kCGBlendModeColor=14;
kCGBlendModeLuminosity=15;
kCGBlendModeClear=16;
kCGBlendModeCopy=17;
kCGBlendModeSourceIn=18;
kCGBlendModeSourceOut=19;
kCGBlendModeSourceAtop=20;
kCGBlendModeDestinationOver=21;
kCGBlendModeDestinationIn=22;
kCGBlendModeDestinationOut=23;
kCGBlendModeDestinationAtop=24;
kCGBlendModeXOR=25;
kCGBlendModePlusDarker=26;
kCGBlendModePlusLighter=27;
CGContextRelease=function(){
};
CGContextRetain=function(_1){
return _1;
};
if(!CPFeatureIsCompatible(CPHTMLCanvasFeature)){
CGGStateCreate=function(){
return {alpha:1,strokeStyle:"#000",fillStyle:"#ccc",lineWidth:1,lineJoin:kCGLineJoinMiter,lineCap:kCGLineCapButt,miterLimit:10,globalAlpha:1,blendMode:kCGBlendModeNormal,shadowOffset:{width:0,height:0},shadowBlur:0,shadowColor:NULL,CTM:{a:1,b:0,c:0,d:1,tx:0,ty:0}};
};
CGGStateCreateCopy=function(_2){
return {alpha:_2.alpha,strokeStyle:_2.strokeStyle,fillStyle:_2.fillStyle,lineWidth:_2.lineWidth,lineJoin:_2.lineJoin,lineCap:_2.lineCap,miterLimit:_2.miterLimit,globalAlpha:_2.globalAlpha,blendMode:_2.blendMode,shadowOffset:_2.shadowOffset,shadowBlur:_2.shadowBlur,shadowColor:_2.shadowColor,CTM:{a:_2.CTM.a,b:_2.CTM.b,c:_2.CTM.c,d:_2.CTM.d,tx:_2.CTM.tx,ty:_2.CTM.ty}};
};
CGBitmapGraphicsContextCreate=function(){
return {DOMElement:document.createElement("div"),path:NULL,gState:CGGStateCreate(),gStateStack:[]};
};
CGContextSaveGState=function(_3){
_3.gStateStack.push(CGGStateCreateCopy(_3.gState));
};
CGContextRestoreGState=function(_4){
_4.gState=_4.gStateStack.pop();
};
CGContextSetLineCap=function(_5,_6){
_5.gState.lineCap=_6;
};
CGContextSetLineJoin=function(_7,_8){
_7.gState.lineJoin=_8;
};
CGContextSetLineWidth=function(_9,_a){
_9.gState.lineWidth=_a;
};
CGContextSetMiterLimit=function(_b,_c){
_b.gState.miterLimit=_c;
};
CGContextSetBlendMode=function(_d,_e){
_d.gState.blendMode=_e;
};
CGContextAddArc=function(_f,x,y,_10,_11,_12,_13){
CGPathAddArc(_f.path,_f.gState.CTM,x,y,_10,_11,_12,_13);
};
CGContextAddArcToPoint=function(_14,x1,y1,x2,y2,_15){
CGPathAddArcToPoint(_14.path,_14.gState.CTM,x1,y1,x2,y2,_15);
};
CGContextAddCurveToPoint=function(_16,_17,_18,_19,_1a,x,y){
CGPathAddCurveToPoint(_16.path,_16.gState.CTM,_17,_18,_19,_1a,x,y);
};
CGContextAddLines=function(_1b,_1c,_1d){
CGPathAddLines(_1b.path,_1b.gState.CTM,_1c,_1d);
};
CGContextAddLineToPoint=function(_1e,x,y){
CGPathAddLineToPoint(_1e.path,_1e.gState.CTM,x,y);
};
CGContextAddPath=function(_1f,_20){
if(!_1f||CGPathIsEmpty(_20)){
return;
}
if(!_1f.path){
_1f.path=CGPathCreateMutable();
}
CGPathAddPath(_1f.path,_1f.gState.CTM,_20);
};
CGContextAddQuadCurveToPoint=function(_21,cpx,cpy,x,y){
CGPathAddQuadCurveToPoint(_21.path,_21.gState.CTM,cpx,cpy,x,y);
};
CGContextAddRect=function(_22,_23){
CGPathAddRect(_22.path,_22.gState.CTM,_23);
};
CGContextAddRects=function(_24,_25,_26){
CGPathAddRects(_24.path,_24.gState.CTM,_25,_26);
};
CGContextBeginPath=function(_27){
_27.path=CGPathCreateMutable();
};
CGContextClosePath=function(_28){
CGPathCloseSubpath(_28.path);
};
CGContextMoveToPoint=function(_29,x,y){
if(!_29.path){
_29.path=CGPathCreateMutable();
}
CGPathMoveToPoint(_29.path,_29.gState.CTM,x,y);
};
CGContextFillRect=function(_2a,_2b){
CGContextFillRects(_2a,[_2b],1);
};
CGContextFillRects=function(_2c,_2d,_2e){
if(arguments[2]===undefined){
var _2e=_2d.length;
}
CGContextBeginPath(_2c);
CGContextAddRects(_2c,_2d,_2e);
CGContextClosePath(_2c);
CGContextDrawPath(_2c,kCGPathFill);
};
CGContextStrokeRect=function(_2f,_30){
CGContextBeginPath(_2f);
CGContextAddRect(_2f,_30);
CGContextClosePath(_2f);
CGContextDrawPath(_2f,kCGPathStroke);
};
CGContextStrokeRectWithWidth=function(_31,_32,_33){
CGContextSaveGState(_31);
CGContextSetLineWidth(_31,_33);
CGContextStrokeRect(_31,_32);
CGContextRestoreGState(_31);
};
CGContextConcatCTM=function(_34,_35){
var CTM=_34.gState.CTM;
var tx=CTM.tx*_35.a+CTM.ty*_35.c+_35.tx;
CTM.ty=CTM.tx*_35.b+CTM.ty*_35.d+_35.ty;
CTM.tx=tx;
var a=CTM.a*_35.a+CTM.b*_35.c,b=CTM.a*_35.b+CTM.b*_35.d,c=CTM.c*_35.a+CTM.d*_35.c;
CTM.d=CTM.c*_35.b+CTM.d*_35.d;
CTM.a=a;
CTM.b=b;
CTM.c=c;
};
CGContextGetCTM=function(_36){
return _36.gState.CTM;
};
CGContextRotateCTM=function(_37,_38){
var _39=_37.gState;
_39.CTM=CGAffineTransformRotate(_39.CTM,_38);
};
CGContextScaleCTM=function(_3a,sx,sy){
var _3b=_3a.gState;
_3b.CTM={a:_3b.CTM.a*sx,b:_3b.CTM.b*sx,c:_3b.CTM.c*sy,d:_3b.CTM.d*sy,tx:_3b.CTM.tx,ty:_3b.CTM.ty};
};
CGContextTranslateCTM=function(_3c,tx,ty){
var _3d=_3c.gState;
_3d.CTM={a:_3d.CTM.a,b:_3d.CTM.b,c:_3d.CTM.c,d:_3d.CTM.d,tx:_3d.CTM.tx+_3d.CTM.a*tx+_3d.CTM.c*ty,ty:_3d.CTM.ty+_3d.CTM.b*tx+_3d.CTM.d*ty};
};
CGContextSetShadow=function(_3e,_3f,_40){
var _41=_3e.gState;
_41.shadowOffset={width:_3f.width,height:_3f.height};
_41.shadowBlur=_40;
_41.shadowColor=objj_msgSend(CPColor,"shadowColor");
};
CGContextSetShadowWithColor=function(_42,_43,_44,_45){
var _46=_42.gState;
_46.shadowOffset={width:_43.width,height:_43.height};
_46.shadowBlur=_44;
_46.shadowColor=_45;
};
CGContextSetAlpha=function(_47,_48){
_47.gState.alpha=MAX(MIN(_48,1),0);
};
}
CGContextEOFillPath=function(_49){
CGContextDrawPath(_49,kCGPathEOFill);
};
CGContextFillPath=function(_4a){
CGContextDrawPath(_4a,kCGPathFill);
};
var _4b=4*((SQRT2-1)/3);
CGContextAddEllipseInRect=function(_4c,_4d){
CGContextBeginPath(_4c);
CGContextAddPath(_4c,CGPathWithEllipseInRect(_4d));
CGContextClosePath(_4c);
};
CGContextFillEllipseInRect=function(_4e,_4f){
CGContextBeginPath(_4e);
CGContextAddEllipseInRect(_4e,_4f);
CGContextClosePath(_4e);
CGContextFillPath(_4e);
};
CGContextStrokeEllipseInRect=function(_50,_51){
CGContextBeginPath(_50);
CGContextAddEllipseInRect(_50,_51);
CGContextClosePath(_50);
CGContextStrokePath(_50);
};
CGContextStrokePath=function(_52){
CGContextDrawPath(_52,kCGPathStroke);
};
CGContextStrokeLineSegments=function(_53,_54,_55){
var i=0;
if(arguments["count"]==NULL){
var _55=_54.length;
}
CGContextBeginPath(_53);
for(;i<_55;i+=2){
CGContextMoveToPoint(_53,_54[i].x,_54[i].y);
CGContextAddLineToPoint(_53,_54[i+1].x,_54[i+1].y);
}
CGContextStrokePath(_53);
};
CGContextSetFillColor=function(_56,_57){
if(_57){
_56.gState.fillStyle=objj_msgSend(_57,"cssString");
}
};
CGContextSetStrokeColor=function(_58,_59){
if(_59){
_58.gState.strokeStyle=objj_msgSend(_59,"cssString");
}
};
CGContextFillRoundedRectangleInRect=function(_5a,_5b,_5c,ne,se,sw,nw){
CGContextBeginPath(_5a);
CGContextAddPath(_5a,CGPathWithRoundedRectangleInRect(_5b,_5c,_5c,ne,se,sw,nw));
CGContextClosePath(_5a);
CGContextFillPath(_5a);
};
CGContextStrokeRoundedRectangleInRect=function(_5d,_5e,_5f,ne,se,sw,nw){
CGContextBeginPath(_5d);
CGContextAddPath(_5d,CGPathWithRoundedRectangleInRect(_5e,_5f,_5f,ne,se,sw,nw));
CGContextClosePath(_5d);
CGContextStrokePath(_5d);
};
if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){
var _60=["butt","round","square"],_61=["miter","round","bevel"],_62=["source-over","source-over","source-over","source-over","darker","lighter","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","copy","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","source-over","source-over"];
CGContextSaveGState=function(_63){
_63.save();
};
CGContextRestoreGState=function(_64){
_64.restore();
};
CGContextSetLineCap=function(_65,_66){
_65.lineCap=_60[_66];
};
CGContextSetLineJoin=function(_67,_68){
_67.lineJoin=_61[_68];
};
CGContextSetLineWidth=function(_69,_6a){
_69.lineWidth=_6a;
};
CGContextSetMiterLimit=function(_6b,_6c){
_6b.miterLimit=_6c;
};
CGContextSetBlendMode=function(_6d,_6e){
_6d.globalCompositeOperation=_62[_6e];
};
CGContextAddArc=function(_6f,x,y,_70,_71,_72,_73){
_6f.arc(x,y,_70,_71,_72,!_73);
};
CGContextAddArcToPoint=function(_74,x1,y1,x2,y2,_75){
_74.arcTo(x1,y1,x2,y2,_75);
};
CGContextAddCurveToPoint=function(_76,_77,_78,_79,_7a,x,y){
_76.bezierCurveTo(_77,_78,_79,_7a,x,y);
};
CGContextAddLineToPoint=function(_7b,x,y){
_7b.lineTo(x,y);
};
CGContextAddPath=function(_7c,_7d){
if(!_7c||CGPathIsEmpty(_7d)){
return;
}
var _7e=_7d.elements,i=0,_7f=_7d.count;
for(;i<_7f;++i){
var _80=_7e[i],_81=_80.type;
switch(_81){
case kCGPathElementMoveToPoint:
_7c.moveTo(_80.x,_80.y);
break;
case kCGPathElementAddLineToPoint:
_7c.lineTo(_80.x,_80.y);
break;
case kCGPathElementAddQuadCurveToPoint:
_7c.quadraticCurveTo(_80.cpx,_80.cpy,_80.x,_80.y);
break;
case kCGPathElementAddCurveToPoint:
_7c.bezierCurveTo(_80.cp1x,_80.cp1y,_80.cp2x,_80.cp2y,_80.x,_80.y);
break;
case kCGPathElementCloseSubpath:
_7c.closePath();
break;
case kCGPathElementAddArc:
_7c.arc(_80.x,_80.y,_80.radius,_80.startAngle,_80.endAngle,_80.clockwise);
break;
case kCGPathElementAddArcTo:
break;
}
}
};
CGContextAddRect=function(_82,_83){
_82.rect((_83.origin.x),(_83.origin.y),(_83.size.width),(_83.size.height));
};
CGContextAddRects=function(_84,_85,_86){
var i=0;
if(arguments["count"]==NULL){
var _86=_85.length;
}
for(;i<_86;++i){
var _87=_85[i];
_84.rect((_87.origin.x),(_87.origin.y),(_87.size.width),(_87.size.height));
}
};
CGContextBeginPath=function(_88){
_88.beginPath();
};
CGContextClosePath=function(_89){
_89.closePath();
};
CGContextMoveToPoint=function(_8a,x,y){
_8a.moveTo(x,y);
};
CGContextClearRect=function(_8b,_8c){
_8b.clearRect((_8c.origin.x),(_8c.origin.y),(_8c.size.width),(_8c.size.height));
};
CGContextDrawPath=function(_8d,_8e){
if(_8e==kCGPathFill||_8e==kCGPathFillStroke){
_8d.fill();
}else{
if(_8e==kCGPathEOFill||_8e==kCGPathEOFillStroke){
alert("not implemented!!!");
}
}
if(_8e==kCGPathStroke||_8e==kCGPathFillStroke||_8e==kCGPathEOFillStroke){
_8d.stroke();
}
};
CGContextFillRect=function(_8f,_90){
_8f.fillRect((_90.origin.x),(_90.origin.y),(_90.size.width),(_90.size.height));
};
CGContextFillRects=function(_91,_92,_93){
var i=0;
if(arguments["count"]==NULL){
var _93=_92.length;
}
for(;i<_93;++i){
var _94=_92[i];
_91.fillRect((_94.origin.x),(_94.origin.y),(_94.size.width),(_94.size.height));
}
};
CGContextStrokeRect=function(_95,_96){
_95.strokeRect((_96.origin.x),(_96.origin.y),(_96.size.width),(_96.size.height));
};
CGContextClip=function(_97){
_97.clip();
};
CGContextClipToRect=function(_98,_99){
_98.beginPath();
_98.rect((_99.origin.x),(_99.origin.y),(_99.size.width),(_99.size.height));
_98.closePath();
_98.clip();
};
CGContextClipToRects=function(_9a,_9b,_9c){
if(arguments["count"]==NULL){
var _9c=_9b.length;
}
_9a.beginPath();
CGContextAddRects(_9a,_9b,_9c);
_9a.clip();
};
CGContextSetAlpha=function(_9d,_9e){
_9d.globalAlpha=_9e;
};
CGContextSetFillColor=function(_9f,_a0){
_9f.fillStyle=objj_msgSend(_a0,"cssString");
};
CGContextSetStrokeColor=function(_a1,_a2){
_a1.strokeStyle=objj_msgSend(_a2,"cssString");
};
CGContextSetShadow=function(_a3,_a4,_a5){
_a3.shadowOffsetX=_a4.width;
_a3.shadowOffsetY=_a4.height;
_a3.shadowBlur=_a5;
};
CGContextSetShadowWithColor=function(_a6,_a7,_a8,_a9){
_a6.shadowOffsetX=_a7.width;
_a6.shadowOffsetY=_a7.height;
_a6.shadowBlur=_a8;
_a6.shadowColor=objj_msgSend(_a9,"cssString");
};
CGContextRotateCTM=function(_aa,_ab){
_aa.rotate(_ab);
};
CGContextScaleCTM=function(_ac,sx,sy){
_ac.scale(sx,sy);
};
CGContextTranslateCTM=function(_ad,tx,ty){
_ad.translate(tx,ty);
};
eigen=function(_ae){
alert("IMPLEMENT ME!");
};
if(CPFeatureIsCompatible(CPJavaScriptCanvasTransformFeature)){
CGContextConcatCTM=function(_af,_b0){
_af.transform(_b0.a,_b0.b,_b0.c,_b0.d,_b0.tx,_b0.ty);
};
}else{
CGContextConcatCTM=function(_b1,_b2){
var a=_b2.a,b=_b2.b,c=_b2.c,d=_b2.d,tx=_b2.tx,ty=_b2.ty,sx=1,sy=1,a1=0,a2=0;
if(b==0&&c==0){
sx=a;
sy=d;
}else{
if(a*b==-c*d){
var _b3=(a*d<0||b*c>0)?-1:1,a2=(ATAN2(b,d)+ATAN2(-_b3*c,_b3*a))/2,cos=COS(a2),sin=SIN(a2);
if(cos==0){
sx=-c/sin;
sy=b/sin;
}else{
if(sin==0){
sx=a/cos;
sy=d/cos;
}else{
abs_cos=ABS(cos);
abs_sin=ABS(sin);
sx=(abs_cos*a/cos+abs_sin*-c/sin)/(abs_cos+abs_sin);
sy=(abs_cos*d/cos+abs_sin*b/sin)/(abs_cos+abs_sin);
}
}
}else{
if(a*c==-b*d){
var _b3=(a*d<0||b*c>0)?-1:1;
a1=(Math.atan2(_b3*b,_b3*a)+Math.atan2(-c,d))/2,cos=COS(a1),sin=SIN(a1);
if(cos==0){
sx=b/sin;
sy=-c/sin;
}else{
if(sin==0){
sx=a/cos;
sy=d/cos;
}else{
abs_cos=ABS(cos);
abs_sin=ABS(sin);
sx=(abs_cos*a/cos+abs_sin*b/sin)/(abs_cos+abs_sin);
sy=(abs_cos*d/cos+abs_sin*-c/sin)/(abs_cos+abs_sin);
}
}
}else{
var _b4=CGAffineTransformMake(a,c,b,d,0,0),u=eigen(CGAffineTransformConcat(_b2,_b4)),v=eigen(CGAffineTransformConcat(_b4,_b2)),U=CGAffineTransformMake(u.vector_1.x,u.vector_2.x,u.vector_1.y,u.vector_2.y,0,0),VT=CGAffineTransformMake(v.vector_1.x,v.vector_1.y,v.vector_2.x,v.vector_2.y,0,0),S=CGAffineTransformConcat(CGAffineTransformConcat(CGAffineTransformInvert(U),_b2),CGAffineTransformInvert(VT));
a=VT.a;
b=VT.b;
c=VT.c;
d=VT.d;
var _b3=(a*d<0||b*c>0)?-1:1,a2=(ATAN2(b,d)+ATAN2(-_b3*c,_b3*a))/2,cos=COS(a2),sin=SIN(a2);
if(cos==0){
sx=-c/sin;
sy=b/sin;
}else{
if(sin==0){
sx=a/cos;
sy=d/cos;
}else{
abs_cos=ABS(cos);
abs_sin=ABS(sin);
sx=(abs_cos*a/cos+abs_sin*-c/sin)/(abs_cos+abs_sin);
sy=(abs_cos*d/cos+abs_sin*b/sin)/(abs_cos+abs_sin);
}
}
S.a*=sx;
S.d*=sy;
a=U.a;
b=U.b;
c=U.c;
d=U.d;
var _b3=(a*d<0||b*c>0)?-1:1;
a1=(Math.atan2(_b3*b,_b3*a)+Math.atan2(-c,d))/2,cos=COS(a1),sin=SIN(a1);
if(cos==0){
sx=b/sin;
sy=-c/sin;
}else{
if(sin==0){
sx=a/cos;
sy=d/cos;
}else{
abs_cos=ABS(cos);
abs_sin=ABS(sin);
sx=(abs_cos*a/cos+abs_sin*b/sin)/(abs_cos+abs_sin);
sy=(abs_cos*d/cos+abs_sin*-c/sin)/(abs_cos+abs_sin);
}
}
sx=S.a*sx;
sy=S.d*sy;
}
}
}
if(tx!=0||ty!=0){
CGContextTranslateCTM(_b1,tx,ty);
}
if(a1!=0){
CGContextRotateCTM(_b1,a1);
}
if(sx!=1||sy!=1){
CGContextScaleCTM(_b1,sx,sy);
}
if(a2!=0){
CGContextRotateCTM(_b1,a2);
}
};
}
CGContextDrawImage=function(_b5,_b6,_b7){
_b5.drawImage(_b7._image,(_b6.origin.x),(_b6.origin.y),(_b6.size.width),(_b6.size.height));
};
to_string=function(_b8){
return "rgba("+ROUND(_b8.components[0]*255)+", "+ROUND(_b8.components[1]*255)+", "+ROUND(255*_b8.components[2])+", "+_b8.components[3]+")";
};
CGContextDrawLinearGradient=function(_b9,_ba,_bb,_bc,_bd){
var _be=_ba.colors,_bf=_be.length,_c0=_b9.createLinearGradient(_bb.x,_bb.y,_bc.x,_bc.y);
while(_bf--){
_c0.addColorStop(_ba.locations[_bf],to_string(_be[_bf]));
}
_b9.fillStyle=_c0;
_b9.fill();
};
CGBitmapGraphicsContextCreate=function(){
var _c1=document.createElement("canvas"),_c2=_c1.getContext("2d");
_c2.DOMElement=_c1;
return _c2;
};
}else{
if(CPFeatureIsCompatible(CPVMLFeature)){
var _c3=["f","t"],_c4=["flat","round","square"],_c5=["miter","round","bevel"],_c6=[" m "," l ","qb"," c "," x ",[" at "," wa "]];
var _c7=CGBitmapGraphicsContextCreate;
CGBitmapGraphicsContextCreate=function(){
document.namespaces.add("cg_vml_","urn:schemas-microsoft-com:vml");
document.createStyleSheet().cssText="cg_vml_\\:*{behavior:url(#default#VML)}";
CGBitmapGraphicsContextCreate=_c7;
return _c7();
};
CGContextClearRect=function(_c8,_c9){
if(_c8.buffer!=nil){
_c8.buffer="";
}else{
_c8.DOMElement.innerHTML="";
}
_c8.path=NULL;
};
var W=10,H=10,Z=10,Z_2=Z/2;
CGContextDrawImage=function(_ca,_cb,_cc){
var _cd="";
if(_cc.buffer!=nil){
_cd=_cc.buffer;
}else{
var ctm=_ca.gState.CTM,_ce=CGPointApplyAffineTransform(_cb.origin,ctm),_cf=ctm.a==ctm.d&&ctm.b==-ctm.c,vml=["<cg_vml_:group coordsize=\"1,1\" coordorigin=\"0,0\" style=\"width:1;height:1;position:absolute"];
var _d0=CGRectApplyAffineTransform(_cb,ctm);
vml.push(";padding:0 ",ROUND((_d0.origin.x+_d0.size.width)),"px ",ROUND((_d0.origin.y+_d0.size.height)),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(","M11='",ctm.a,"',M12='",ctm.c,"',M21='",ctm.b,"',M22='",ctm.d,"',","Dx='",ROUND(_ce.x),"', Dy='",ROUND(_ce.y),"', sizingmethod='clip');");
vml.push("\"><cg_vml_:image src=\"",_cc._image.src,"\" style=\"width:",(_cb.size.width),"px;height:",(_cb.size.height),"px;\"/></g_vml_:group>");
_cd=vml.join("");
}
if(_ca.buffer!=nil){
_ca.buffer+=_cd;
}else{
_ca.DOMElement.insertAdjacentHTML("BeforeEnd",_cd);
}
};
CGContextDrawPath=function(_d1,_d2){
if(!_d1||CGPathIsEmpty(_d1.path)){
return;
}
var _d3=_d1.path.elements,i=0,_d4=_d1.path.count,_d5=_d1.gState,_d6=(_d2==kCGPathFill||_d2==kCGPathFillStroke)?1:0,_d7=(_d2==kCGPathStroke||_d2==kCGPathFillStroke)?1:0,_d8=_d5.alpha,vml=["<cg_vml_:shape"," fillcolor=\"",_d5.fillStyle,"\" filled=\"",_c3[_d6],"\" style=\"position:absolute;width:",W,";height:",H,";\" coordorigin=\"0 0\" coordsize=\"",Z*W," ",Z*H,"\" stroked=\"",_c3[_d7],"\" strokeweight=\"",_d5.lineWidth,"\" strokecolor=\"",_d5.strokeStyle,"\" path=\""];
for(;i<_d4;++i){
var _d9=_d3[i],_da=_d9.type;
switch(_da){
case kCGPathElementMoveToPoint:
case kCGPathElementAddLineToPoint:
vml.push(_c6[_da],(ROUND(Z*(_d9.x)-Z_2)),",",(ROUND(Z*(_d9.y)-Z_2)));
break;
case kCGPathElementAddQuadCurveToPoint:
vml.push(_c6[_da],(ROUND(Z*(_d9.cpx)-Z_2)),",",(ROUND(Z*(_d9.cpy)-Z_2)),",",(ROUND(Z*(_d9.x)-Z_2)),",",(ROUND(Z*(_d9.y)-Z_2)));
break;
case kCGPathElementAddCurveToPoint:
vml.push(_c6[_da],(ROUND(Z*(_d9.cp1x)-Z_2)),",",(ROUND(Z*(_d9.cp1y)-Z_2)),",",(ROUND(Z*(_d9.cp2x)-Z_2)),",",(ROUND(Z*(_d9.cp2y)-Z_2)),",",(ROUND(Z*(_d9.x)-Z_2)),",",(ROUND(Z*(_d9.y)-Z_2)));
break;
case kCGPathElementCloseSubpath:
vml.push(_c6[_da]);
break;
case kCGPathElementAddArc:
var x=_d9.x,y=_d9.y,_db=_d9.radius,_dc=_d9.clockwise?1:0,_dd=_d9.endAngle,_de=_d9.startAngle,_df={x:x+_db*COS(_de),y:y+_db*SIN(_de)};
if(_de==_dd&&!_dc){
vml.push(_c6[kCGPathElementMoveToPoint],(ROUND(Z*(_df.x)-Z_2)),",",(ROUND(Z*(_df.y)-Z_2)));
continue;
}
var end={x:x+_db*COS(_dd),y:y+_db*SIN(_dd)};
if(_dc&&_de!=_dd&&(_df.x==end.x&&_df.y==end.y)){
if(_df.x>=x){
if(_df.y<y){
_df.x+=0.125;
}else{
_df.y+=0.125;
}
}else{
if(end.y<=y){
end.x+=0.125;
}else{
end.y+=0.125;
}
}
}
vml.push(_c6[_da][_dc],(ROUND(Z*(x-_db)-Z_2)),",",(ROUND(Z*(y-_db)-Z_2))," ",(ROUND(Z*(x+_db)-Z_2)),",",(ROUND(Z*(y+_db)-Z_2))," ",(ROUND(Z*(_df.x)-Z_2)),",",(ROUND(Z*(_df.y)-Z_2))," ",(ROUND(Z*(end.x)-Z_2)),",",(ROUND(Z*(end.y)-Z_2)));
break;
case kCGPathElementAddArcTo:
break;
}
}
vml.push("\">");
if(_d5.gradient){
vml.push(_d5.gradient);
}else{
if(_d6){
vml.push("<cg_vml_:fill color=\"",_d5.fillStyle,"\" opacity=\"",_d8,"\" />");
}
}
if(_d7){
vml.push("<cg_vml_:stroke opacity=\"",_d8,"\" joinstyle=\"",_c5[_d5.lineJoin],"\" miterlimit=\"",_d5.miterLimit,"\" endcap=\"",_c4[_d5.lineCap],"\" weight=\"",_d5.lineWidth,"","px\" color=\"",_d5.strokeStyle,"\" />");
}
var _e0=_d5.shadowColor;
if(_e0){
var _e1=_d5.shadowOffset;
vml.push("<cg_vml_:shadow on=\"t\" offset=\"",_e1.width,"pt ",_e1.height,"pt\" opacity=\"",objj_msgSend(_e0,"alphaComponent"),"\" color=black />");
}
vml.push("</cg_vml_:shape>");
_d1.path=NULL;
if(_d1.buffer!=nil){
_d1.buffer+=vml.join("");
}else{
_d1.DOMElement.insertAdjacentHTML("BeforeEnd",vml.join(""));
}
};
to_string=function(_e2){
return "rgb("+ROUND(_e2.components[0]*255)+", "+ROUND(_e2.components[1]*255)+", "+ROUND(255*_e2.components[2])+")";
};
CGContextDrawLinearGradient=function(_e3,_e4,_e5,_e6,_e7){
if(!_e3||!_e4){
return;
}
var vml=nil;
if(_e4.vml_gradient){
var _e8=objj_msgSend(objj_msgSend(_e4.vml_gradient,"stops"),"sortedArrayUsingSelector:",sel_getUid("comparePosition:")),_e9=objj_msgSend(_e8,"count");
vml=["<cg_vml_:fill type=\"gradient\" method=\"linear sigma\" "];
vml.push("angle=\""+(objj_msgSend(_e4.vml_gradient,"angle")+90)+"\" ");
vml.push("colors=\"");
for(var i=0;i<_e9;i++){
vml.push((objj_msgSend(_e8[i],"position")*100).toFixed(0)+"% ");
vml.push(objj_msgSend(objj_msgSend(objj_msgSend(_e8[i],"color"),"colorForSlideBase:",nil),"cssString"));
if(i<_e9-1){
vml.push(",");
}
}
vml.push("\" />");
}else{
var _ea=_e4.colors,_e9=_ea.length;
vml=["<cg_vml_:fill type=\"gradient\" "];
vml.push("colors=\"");
for(var i=0;i<_e9;i++){
vml.push((_e4.locations[i]*100).toFixed(0)+"% "+to_string(_ea[i])+(i<_e9-1?",":""));
}
vml.push("\" />");
}
_e3.gState.gradient=vml.join("");
};
}
}
p;12;CGGeometry.jc;5872;
CGPointMake=function(x,y){
return {x:x,y:y};
};
CGPointMakeZero=function(){
return {x:0,y:0};
};
CGPointMakeCopy=function(_1){
return {x:_1.x,y:_1.y};
};
CGPointCreateCopy=function(_2){
return {x:_2.x,y:_2.y};
};
CGPointEqualToPoint=function(_3,_4){
return (_3.x==_4.x&&_3.y==_4.y);
};
CGStringFromPoint=function(_5){
return ("{"+_5.x+", "+_5.y+"}");
};
CGSizeMake=function(_6,_7){
return {width:_6,height:_7};
};
CGSizeMakeZero=function(){
return {width:0,height:0};
};
CGSizeMakeCopy=function(_8){
return {width:_8.width,height:_8.height};
};
CGSizeCreateCopy=function(_9){
return {width:_9.width,height:_9.height};
};
CGSizeEqualToSize=function(_a,_b){
return (_a.width==_b.width&&_a.height==_b.height);
};
CGStringFromSize=function(_c){
return ("{"+_c.width+", "+_c.height+"}");
};
CGRectMake=function(x,y,_d,_e){
return {origin:{x:x,y:y},size:{width:_d,height:_e}};
};
CGRectMakeZero=function(){
return {origin:{x:0,y:0},size:{width:0,height:0}};
};
CGRectMakeCopy=function(_f){
return {origin:{x:_f.origin.x,y:_f.origin.y},size:{width:_f.size.width,height:_f.size.height}};
};
CGRectCreateCopy=function(_10){
return {origin:{x:_10.origin.x,y:_10.origin.y},size:{width:_10.size.width,height:_10.size.height}};
};
CGRectEqualToRect=function(_11,_12){
return ((_11.origin.x==_12.origin.x&&_11.origin.y==_12.origin.y)&&(_11.size.width==_12.size.width&&_11.size.height==_12.size.height));
};
CGStringFromRect=function(_13){
return ("{"+("{"+_13.origin.x+", "+_13.origin.y+"}")+", "+("{"+_13.size.width+", "+_13.size.height+"}")+"}");
};
CGRectOffset=function(_14,dX,dY){
return {origin:{x:_14.origin.x+dX,y:_14.origin.y+dY},size:{width:_14.size.width,height:_14.size.height}};
};
CGRectInset=function(_15,dX,dY){
return {origin:{x:_15.origin.x+dX,y:_15.origin.y+dY},size:{width:_15.size.width-2*dX,height:_15.size.height-2*dY}};
};
CGRectGetHeight=function(_16){
return (_16.size.height);
};
CGRectGetMaxX=function(_17){
return (_17.origin.x+_17.size.width);
};
CGRectGetMaxY=function(_18){
return (_18.origin.y+_18.size.height);
};
CGRectGetMidX=function(_19){
return (_19.origin.x+(_19.size.width)/2);
};
CGRectGetMidY=function(_1a){
return (_1a.origin.y+(_1a.size.height)/2);
};
CGRectGetMinX=function(_1b){
return (_1b.origin.x);
};
CGRectGetMinY=function(_1c){
return (_1c.origin.y);
};
CGRectGetWidth=function(_1d){
return (_1d.size.width);
};
CGRectIsEmpty=function(_1e){
return (_1e.size.width<=0||_1e.size.height<=0);
};
CGRectIsNull=function(_1f){
return (_1f.size.width<=0||_1f.size.height<=0);
};
CGRectContainsPoint=function(_20,_21){
return (_21.x>=(_20.origin.x)&&_21.y>=(_20.origin.y)&&_21.x<(_20.origin.x+_20.size.width)&&_21.y<(_20.origin.y+_20.size.height));
};
CGInsetMake=function(top,_22,_23,_24){
return {top:(top),right:(_22),bottom:(_23),left:(_24)};
};
CGInsetMakeZero=function(){
return {top:(0),right:(0),bottom:(0),left:(0)};
};
CGInsetMakeCopy=function(_25){
return {top:(_25.top),right:(_25.right),bottom:(_25.bottom),left:(_25.left)};
};
CGInsetIsEmpty=function(_26){
return ((_26).top===0&&(_26).right===0&&(_26).bottom===0&&(_26).left===0);
};
CGRectNull={origin:{x:Infinity,y:Infinity},size:{width:0,height:0}};
CGRectContainsRect=function(_27,_28){
var _29=CGRectUnion(_27,_28);
return ((_29.origin.x==_27.origin.x&&_29.origin.y==_27.origin.y)&&(_29.size.width==_27.size.width&&_29.size.height==_27.size.height));
};
CGRectIntersectsRect=function(_2a,_2b){
var _2c=CGRectIntersection(_2a,_2b);
return !(_2c.size.width<=0||_2c.size.height<=0);
};
CGRectIntegral=function(_2d){
_2d=CGRectStandardize(_2d);
var x=FLOOR((_2d.origin.x)),y=FLOOR((_2d.origin.y));
_2d.size.width=CEIL((_2d.origin.x+_2d.size.width))-x;
_2d.size.height=CEIL((_2d.origin.y+_2d.size.height))-y;
_2d.origin.x=x;
_2d.origin.y=y;
return _2d;
};
CGRectIntersection=function(_2e,_2f){
var _30={origin:{x:MAX((_2e.origin.x),(_2f.origin.x)),y:MAX((_2e.origin.y),(_2f.origin.y))},size:{width:0,height:0}};
_30.size.width=MIN((_2e.origin.x+_2e.size.width),(_2f.origin.x+_2f.size.width))-(_30.origin.x);
_30.size.height=MIN((_2e.origin.y+_2e.size.height),(_2f.origin.y+_2f.size.height))-(_30.origin.y);
return (_30.size.width<=0||_30.size.height<=0)?{origin:{x:0,y:0},size:{width:0,height:0}}:_30;
};
CGRectStandardize=function(_31){
var _32=(_31.size.width),_33=(_31.size.height),_34={origin:{x:_31.origin.x,y:_31.origin.y},size:{width:_31.size.width,height:_31.size.height}};
if(_32<0){
_34.origin.x+=_32;
_34.size.width=-_32;
}
if(_33<0){
_34.origin.y+=_33;
_34.size.height=-_33;
}
return _34;
};
CGRectUnion=function(_35,_36){
var _37=!_35||_35===CGRectNull,_38=!_36||_36===CGRectNull;
if(_37){
return _38?CGRectNull:_36;
}
if(_38){
return _37?CGRectNull:_35;
}
var _39=MIN((_35.origin.x),(_36.origin.x)),_3a=MIN((_35.origin.y),(_36.origin.y)),_3b=MAX((_35.origin.x+_35.size.width),(_36.origin.x+_36.size.width)),_3c=MAX((_35.origin.y+_35.size.height),(_36.origin.y+_36.size.height));
return {origin:{x:_39,y:_3a},size:{width:_3b-_39,height:_3c-_3a}};
};
CGPointFromString=function(_3d){
var _3e=_3d.indexOf(",");
return {x:parseInt(_3d.substr(1,_3e-1)),y:parseInt(_3d.substring(_3e+1,_3d.length))};
};
CGSizeFromString=function(_3f){
var _40=_3f.indexOf(",");
return {width:parseInt(_3f.substr(1,_40-1)),height:parseInt(_3f.substring(_40+1,_3f.length))};
};
CGRectFromString=function(_41){
var _42=_41.indexOf(",",_41.indexOf(",")+1);
return {origin:CGPointFromString(_41.substr(1,_42-1)),size:CGSizeFromString(_41.substring(_42+2,_41.length))};
};
CGPointFromEvent=function(_43){
return {x:_43.clientX,y:_43.clientY};
};
CGInsetFromString=function(_44){
var _45=_44.substr(1,_44.length-2).split(",");
return {top:(parseFloat(_45[0])),right:(parseFloat(_45[1])),bottom:(parseFloat(_45[2])),left:(parseFloat(_45[3]))};
};
CGInsetFromCPString=CGInsetFromString;
CPStringFromCGInset=function(_46){
return "{"+_46.top+", "+_46.left+", "+_46.bottom+", "+_46.right+"}";
};
p;12;CGGradient.ji;9;CGColor.ji;14;CGColorSpace.jc;497;
kCGGradientDrawsBeforeStartLocation=1<<0;
kCGGradientDrawsAfterEndLocation=1<<1;
CGGradientCreateWithColorComponents=function(_1,_2,_3,_4){
if(arguments["count"]==NULL){
var _4=_3.length;
}
var _5=[];
while(_4--){
var _6=_4*4;
_5[_4]=CGColorCreate(_1,_2.slice(_6,_6+4));
}
return CGGradientCreateWithColors(_1,_5,_3);
};
CGGradientCreateWithColors=function(_7,_8,_9){
return {colorspace:_7,colors:_8,locations:_9};
};
CGGradientRelease=function(){
};
CGGradientRetain=function(_a){
return _a;
};
p;8;CGPath.ji;12;CGGeometry.ji;19;CGAffineTransform.jc;7343;
kCGPathElementMoveToPoint=0;
kCGPathElementAddLineToPoint=1;
kCGPathElementAddQuadCurveToPoint=2;
kCGPathElementAddCurveToPoint=3;
kCGPathElementCloseSubpath=4;
kCGPathElementAddArc=5;
kCGPathElementAddArcToPoint=6;
CGPathCreateMutable=function(){
return {count:0,start:NULL,current:NULL,elements:[]};
};
CGPathCreateMutableCopy=function(_1){
var _2=CGPathCreateMutable();
CGPathAddPath(_2,_1);
return _2;
};
CGPathCreateCopy=function(_3){
return CGPathCreateMutableCopy(_3);
};
CGPathRelease=function(_4){
};
CGPathRetain=function(_5){
return _5;
};
CGPathAddArc=function(_6,_7,x,y,_8,_9,_a,_b){
if(_7&&!(_7.a==1&&_7.b==0&&_7.c==0&&_7.d==1&&_7.tx==0&&_7.ty==0)){
var _c={x:x,y:y},_d={x:COS(_a),y:SIN(_a)},_e={x:COS(_9),y:SIN(_9)};
_d={x:_d.x*_7.a+_d.y*_7.c+_7.tx,y:_d.x*_7.b+_d.y*_7.d+_7.ty};
_e={x:_e.x*_7.a+_e.y*_7.c+_7.tx,y:_e.x*_7.b+_e.y*_7.d+_7.ty};
_c={x:_c.x*_7.a+_c.y*_7.c+_7.tx,y:_c.x*_7.b+_c.y*_7.d+_7.ty};
x=_c.x;
y=_c.y;
var _f=_a,_10=_9;
_a=ATAN2(_d.y-_7.ty,_d.x-_7.tx);
_9=ATAN2(_e.y-_7.ty,_e.x-_7.tx);
if(_a==_9&&_f!=_10){
if(_10>_f){
_a=_a-PI2;
}else{
_9=_9-PI2;
}
}
_8={width:_8,height:0};
_8={width:_8.width*_7.a+_8.height*_7.c,height:_8.width*_7.b+_8.height*_7.d};
_8=SQRT(_8.width*_8.width+_8.height*_8.height);
}
_6.current={x:x+_8*COS(_a),y:y+_8*SIN(_a)};
_6.elements[_6.count++]={type:kCGPathElementAddArc,x:x,y:y,radius:_8,startAngle:_9,endAngle:_a};
};
CGPathAddArcToPoint=function(_11,_12,x1,y1,x2,y2,_13){
};
CGPathAddCurveToPoint=function(_14,_15,_16,_17,_18,_19,x,y){
var cp1={x:_16,y:_17},cp2={x:_18,y:_19},end={x:x,y:y};
if(_15){
cp1={x:cp1.x*_15.a+cp1.y*_15.c+_15.tx,y:cp1.x*_15.b+cp1.y*_15.d+_15.ty};
cp2={x:cp2.x*_15.a+cp2.y*_15.c+_15.tx,y:cp2.x*_15.b+cp2.y*_15.d+_15.ty};
end={x:end.x*_15.a+end.y*_15.c+_15.tx,y:end.x*_15.b+end.y*_15.d+_15.ty};
}
_14.current=end;
_14.elements[_14.count++]={type:kCGPathElementAddCurveToPoint,cp1x:cp1.x,cp1y:cp1.y,cp2x:cp2.x,cp2y:cp2.y,x:end.x,y:end.y};
};
CGPathAddLines=function(_1a,_1b,_1c,_1d){
var i=1;
if(arguments["count"]==NULL){
var _1d=_1c.length;
}
if(!_1a||_1d<2){
return;
}
CGPathMoveToPoint(_1a,_1b,_1c[0].x,_1c[0].y);
for(;i<_1d;++i){
CGPathAddLineToPoint(_1a,_1b,_1c[i].x,_1c[i].y);
}
};
CGPathAddLineToPoint=function(_1e,_1f,x,y){
var _20={x:x,y:y};
if(_1f!=NULL){
_20={x:_20.x*_1f.a+_20.y*_1f.c+_1f.tx,y:_20.x*_1f.b+_20.y*_1f.d+_1f.ty};
}
_1e.elements[_1e.count++]={type:kCGPathElementAddLineToPoint,x:_20.x,y:_20.y};
_1e.current=_20;
};
CGPathAddPath=function(_21,_22,_23){
for(var i=0,_24=_23.count;i<_24;++i){
var _25=_23.elements[i];
switch(_25.type){
case kCGPathElementAddLineToPoint:
CGPathAddLineToPoint(_21,_22,_25.x,_25.y);
break;
case kCGPathElementAddCurveToPoint:
CGPathAddCurveToPoint(_21,_22,_25.cp1x,_25.cp1y,_25.cp2x,_25.cp2y,_25.x,_25.y);
break;
case kCGPathElementAddArc:
CGPathAddArc(_21,_22,_25.x,_25.y,_25.radius,_25.startAngle,_25.endAngle,_25.isClockwise);
break;
case kCGPathElementAddQuadCurveToPoint:
CGPathAddQuadCurveToPoint(_21,_22,_25.cpx,_25.cpy,_25.x,_25.y);
break;
case kCGPathElementMoveToPoint:
CGPathMoveToPoint(_21,_22,_25.x,_25.y);
break;
case kCGPathElementCloseSubpath:
CGPathCloseSubpath(_21);
break;
}
}
};
CGPathAddQuadCurveToPoint=function(_26,_27,cpx,cpy,x,y){
var cp={x:cpx,y:cpy},end={x:x,y:y};
if(_27){
cp={x:control.x*_27.a+control.y*_27.c+_27.tx,y:control.x*_27.b+control.y*_27.d+_27.ty};
end={x:end.x*_27.a+end.y*_27.c+_27.tx,y:end.x*_27.b+end.y*_27.d+_27.ty};
}
_26.elements[_26.count++]={type:kCGPathElementAddQuadCurveToPoint,cpx:cp.x,cpy:cp.y,x:end.x,y:end.y};
_26.current=end;
};
CGPathAddRect=function(_28,_29,_2a){
CGPathAddRects(_28,_29,[_2a],1);
};
CGPathAddRects=function(_2b,_2c,_2d,_2e){
var i=0;
if(arguments["count"]==NULL){
var _2e=_2d.length;
}
for(;i<_2e;++i){
var _2f=_2d[i];
CGPathMoveToPoint(_2b,_2c,(_2f.origin.x),(_2f.origin.y));
CGPathAddLineToPoint(_2b,_2c,(_2f.origin.x+_2f.size.width),(_2f.origin.y));
CGPathAddLineToPoint(_2b,_2c,(_2f.origin.x+_2f.size.width),(_2f.origin.y+_2f.size.height));
CGPathAddLineToPoint(_2b,_2c,(_2f.origin.x),(_2f.origin.y+_2f.size.height));
CGPathCloseSubpath(_2b);
}
};
CGPathMoveToPoint=function(_30,_31,x,y){
var _32={x:x,y:y},_33=_30.count;
if(_31!=NULL){
_32={x:_32.x*_31.a+_32.y*_31.c+_31.tx,y:_32.x*_31.b+_32.y*_31.d+_31.ty};
}
_30.start=_32;
_30.current=_32;
var _34=_30.elements[_33-1];
if(_33!=0&&_34.type==kCGPathElementMoveToPoint){
_34.x=_32.x;
_34.y=_32.y;
}else{
_30.elements[_30.count++]={type:kCGPathElementMoveToPoint,x:_32.x,y:_32.y};
}
};
var _35=4*((SQRT2-1)/3);
CGPathWithEllipseInRect=function(_36){
var _37=CGPathCreateMutable();
if((_36.size.width)==(_36.size.height)){
CGPathAddArc(_37,nil,(_36.origin.x+(_36.size.width)/2),(_36.origin.y+(_36.size.height)/2),(_36.size.width)/2,0,2*PI,YES);
}else{
var _38={width:(_36.size.width)/2,height:(_36.size.height)/2},_39={x:(_36.origin.x)+_38.width,y:(_36.origin.y)+_38.height};
CGPathMoveToPoint(_37,nil,_39.x,_39.y-_38.height);
CGPathAddCurveToPoint(_37,nil,_39.x+(_35*_38.width),_39.y-_38.height,_39.x+_38.width,_39.y-(_35*_38.height),_39.x+_38.width,_39.y);
CGPathAddCurveToPoint(_37,nil,_39.x+_38.width,_39.y+(_35*_38.height),_39.x+(_35*_38.width),_39.y+_38.height,_39.x,_39.y+_38.height);
CGPathAddCurveToPoint(_37,nil,_39.x-(_35*_38.width),_39.y+_38.height,_39.x-_38.width,_39.y+(_35*_38.height),_39.x-_38.width,_39.y);
CGPathAddCurveToPoint(_37,nil,_39.x-_38.width,_39.y-(_35*_38.height),_39.x-(_35*_38.width),_39.y-_38.height,_39.x,_39.y-_38.height);
}
CGPathCloseSubpath(_37);
return _37;
};
CGPathWithRoundedRectangleInRect=function(_3a,_3b,_3c,ne,se,sw,nw){
var _3d=CGPathCreateMutable(),_3e=(_3a.origin.x),_3f=(_3a.origin.x+_3a.size.width),_40=(_3a.origin.y),_41=(_3a.origin.y+_3a.size.height);
CGPathMoveToPoint(_3d,nil,_3e+_3b,_40);
if(ne){
CGPathAddLineToPoint(_3d,nil,_3f-_3b,_40);
CGPathAddCurveToPoint(_3d,nil,_3f-_3b,_40,_3f,_40,_3f,_40+_3b);
}else{
CGPathAddLineToPoint(_3d,nil,_3f,_40);
}
if(se){
CGPathAddLineToPoint(_3d,nil,_3f,_41-_3b);
CGPathAddCurveToPoint(_3d,nil,_3f,_41-_3b,_3f,_41,_3f-_3b,_41);
}else{
CGPathAddLineToPoint(_3d,nil,_3f,_41);
}
if(sw){
CGPathAddLineToPoint(_3d,nil,_3e+_3b,_41);
CGPathAddCurveToPoint(_3d,nil,_3e+_3b,_41,_3e,_41,_3e,_41-_3b);
}else{
CGPathAddLineToPoint(_3d,nil,_3e,_41);
}
if(nw){
CGPathAddLineToPoint(_3d,nil,_3e,_40+_3b);
CGPathAddCurveToPoint(_3d,nil,_3e,_40+_3b,_3e,_40,_3e+_3b,_40);
}else{
CGPathAddLineToPoint(_3d,nil,_3e,_40);
}
CGPathCloseSubpath(_3d);
return _3d;
};
CGPathCloseSubpath=function(_42){
var _43=_42.count;
if(_43==0||_42.elements[_43-1].type==kCGPathElementCloseSubpath){
return;
}
_42.elements[_42.count++]={type:kCGPathElementCloseSubpath,points:[_42.start]};
};
CGPathEqualToPath=function(_44,_45){
if(_44==_45){
return YES;
}
if(_44.count!=_45.count||!(_44.start.x==_45.start.x&&_44.start.y==_45.start.y)||!(_44.current.x==_45.current.x&&_44.current.y==_45.current.y)){
return NO;
}
var i=0,_46=_44.count;
for(;i<_46;++i){
var _47=_44[i],_48=_45[i];
if(_47.type!=_48.type){
return NO;
}
if((_47.type==kCGPathElementAddArc||_47.type==kCGPathElementAddArcToPoint)&&_47.radius!=_48.radius){
return NO;
}
var j=_47.points.length;
while(j--){
if(!(_47.points[j].x==_48.points[j].x&&_47.points[j].y==_48.points[j].y)){
return NO;
}
}
}
return YES;
};
CGPathGetCurrentPoint=function(_49){
return {x:_49.current.x,y:_49.current.y};
};
CGPathIsEmpty=function(_4a){
return !_4a||_4a.count==0;
};
p;18;_CPMenuBarWindow.ji;15;_CPMenuWindow.jc;13035;
var _1=28,_2=10,_3=10,_4=10;
var _5=nil,_6=nil;
var _7=objj_allocateClassPair(CPPanel,"_CPMenuBarWindow"),_8=_7.isa;
class_addIvars(_7,[new objj_ivar("_menu"),new objj_ivar("_highlightView"),new objj_ivar("_menuItemViews"),new objj_ivar("_trackingMenuItem"),new objj_ivar("_iconImageView"),new objj_ivar("_titleField"),new objj_ivar("_textColor"),new objj_ivar("_titleColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_titleShadowColor"),new objj_ivar("_highlightColor"),new objj_ivar("_highlightTextColor"),new objj_ivar("_highlightTextShadowColor")]);
objj_registerClassPair(_7);
objj_addClassForBundle(_7,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_7,[new objj_method(sel_getUid("init"),function(_9,_a){
with(_9){
var _b=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds");
_b.size.height=_1;
_9=objj_msgSendSuper({receiver:_9,super_class:objj_getClass("CPPanel")},"initWithContentRect:styleMask:",_b,CPBorderlessWindowMask);
if(_9){
objj_msgSend(_9,"setLevel:",-1);
objj_msgSend(_9,"setAutoresizingMask:",CPWindowWidthSizable);
var _c=objj_msgSend(_9,"contentView");
objj_msgSend(_c,"setAutoresizesSubviews:",NO);
objj_msgSend(_9,"setBecomesKeyOnlyIfNeeded:",YES);
_iconImageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,16,16));
objj_msgSend(_c,"addSubview:",_iconImageView);
_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",13));
objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_c,"addSubview:",_titleField);
}
return _9;
}
}),new objj_method(sel_getUid("setTitle:"),function(_d,_e,_f){
with(_d){
objj_msgSend(_titleField,"setStringValue:",_f);
objj_msgSend(_titleField,"sizeToFit");
objj_msgSend(_d,"tile");
}
}),new objj_method(sel_getUid("setIconImage:"),function(_10,_11,_12){
with(_10){
objj_msgSend(_iconImageView,"setImage:",_12);
objj_msgSend(_iconImageView,"setHidden:",_12==nil);
objj_msgSend(_10,"tile");
}
}),new objj_method(sel_getUid("setIconImageAlphaValue:"),function(_13,_14,_15){
with(_13){
objj_msgSend(_iconImageView,"setAlphaValue:",_15);
}
}),new objj_method(sel_getUid("setColor:"),function(_16,_17,_18){
with(_16){
if(!_18){
if(!_5){
_5=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPMenuBarWindow,"class")),"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackground.png"),CGSizeMake(1,28)));
}
objj_msgSend(objj_msgSend(_16,"contentView"),"setBackgroundColor:",_5);
}else{
objj_msgSend(objj_msgSend(_16,"contentView"),"setBackgroundColor:",_18);
}
}
}),new objj_method(sel_getUid("setTextColor:"),function(_19,_1a,_1b){
with(_19){
if(_textColor==_1b){
return;
}
_textColor=_1b;
objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",sel_getUid("setTextColor:"),_textColor);
}
}),new objj_method(sel_getUid("setTitleColor:"),function(_1c,_1d,_1e){
with(_1c){
if(_titleColor==_1e){
return;
}
_titleColor=_1e;
objj_msgSend(_titleField,"setTextColor:",_1e?_1e:objj_msgSend(CPColor,"blackColor"));
}
}),new objj_method(sel_getUid("setTextShadowColor:"),function(_1f,_20,_21){
with(_1f){
if(_textShadowColor==_21){
return;
}
_textShadowColor=_21;
objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",sel_getUid("setTextShadowColor:"),_textShadowColor);
}
}),new objj_method(sel_getUid("setTitleShadowColor:"),function(_22,_23,_24){
with(_22){
if(_titleShadowColor==_24){
return;
}
_titleShadowColor=_24;
objj_msgSend(_titleField,"setTextShadowColor:",_24?_24:objj_msgSend(CPColor,"whiteColor"));
}
}),new objj_method(sel_getUid("setHighlightColor:"),function(_25,_26,_27){
with(_25){
if(_highlightColor==_27){
return;
}
_highlightColor=_27;
}
}),new objj_method(sel_getUid("setHighlightTextColor:"),function(_28,_29,_2a){
with(_28){
if(_highlightTextColor==_2a){
return;
}
_highlightTextColor=_2a;
}
}),new objj_method(sel_getUid("setHighlightTextShadowColor:"),function(_2b,_2c,_2d){
with(_2b){
if(_highlightTextShadowColor==_2d){
return;
}
_highlightTextShadowColor=_2d;
}
}),new objj_method(sel_getUid("setMenu:"),function(_2e,_2f,_30){
with(_2e){
if(_menu==_30){
return;
}
var _31=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(_menu){
objj_msgSend(_31,"removeObserver:name:object:",_2e,CPMenuDidAddItemNotification,_menu);
objj_msgSend(_31,"removeObserver:name:object:",_2e,CPMenuDidChangeItemNotification,_menu);
objj_msgSend(_31,"removeObserver:name:object:",_2e,CPMenuDidRemoveItemNotification,_menu);
var _32=objj_msgSend(_menu,"itemArray"),_33=_32.length;
while(_33--){
objj_msgSend(objj_msgSend(_32[_33],"_menuItemView"),"removeFromSuperview");
}
}
_menu=_30;
if(_menu){
objj_msgSend(_31,"addObserver:selector:name:object:",_2e,sel_getUid("menuDidAddItem:"),CPMenuDidAddItemNotification,_menu);
objj_msgSend(_31,"addObserver:selector:name:object:",_2e,sel_getUid("menuDidChangeItem:"),CPMenuDidChangeItemNotification,_menu);
objj_msgSend(_31,"addObserver:selector:name:object:",_2e,sel_getUid("menuDidRemoveItem:"),CPMenuDidRemoveItemNotification,_menu);
}
_menuItemViews=[];
var _34=objj_msgSend(_2e,"contentView"),_32=objj_msgSend(_menu,"itemArray"),_33=_32.length;
for(index=0;index<_33;++index){
var _35=_32[index],_36=objj_msgSend(_35,"_menuItemView");
_menuItemViews.push(_36);
objj_msgSend(_36,"setTextColor:",_textColor);
objj_msgSend(_36,"setHidden:",objj_msgSend(_35,"isHidden"));
objj_msgSend(_36,"synchronizeWithMenuItem");
objj_msgSend(_34,"addSubview:",_36);
}
objj_msgSend(_2e,"tile");
}
}),new objj_method(sel_getUid("menuDidChangeItem:"),function(_37,_38,_39){
with(_37){
var _3a=objj_msgSend(_menu,"itemAtIndex:",objj_msgSend(objj_msgSend(_39,"userInfo"),"objectForKey:","CPMenuItemIndex")),_3b=objj_msgSend(_3a,"_menuItemView");
objj_msgSend(_3b,"setHidden:",objj_msgSend(_3a,"isHidden"));
objj_msgSend(_3b,"synchronizeWithMenuItem");
objj_msgSend(_37,"tile");
}
}),new objj_method(sel_getUid("menuDidAddItem:"),function(_3c,_3d,_3e){
with(_3c){
var _3f=objj_msgSend(objj_msgSend(_3e,"userInfo"),"objectForKey:","CPMenuItemIndex"),_40=objj_msgSend(_menu,"itemAtIndex:",_3f),_41=objj_msgSend(_40,"_menuItemView");
objj_msgSend(_menuItemViews,"insertObject:atIndex:",_41,_3f);
objj_msgSend(_41,"setTextColor:",_textColor);
objj_msgSend(_41,"setHidden:",objj_msgSend(_40,"isHidden"));
objj_msgSend(_41,"synchronizeWithMenuItem");
objj_msgSend(objj_msgSend(_3c,"contentView"),"addSubview:",_41);
objj_msgSend(_3c,"tile");
}
}),new objj_method(sel_getUid("menuDidRemoveItem:"),function(_42,_43,_44){
with(_42){
var _45=objj_msgSend(objj_msgSend(_44,"userInfo"),"objectForKey:","CPMenuItemIndex"),_46=objj_msgSend(_menuItemViews,"objectAtIndex:",_45);
objj_msgSend(_menuItemViews,"removeObjectAtIndex:",_45);
objj_msgSend(_46,"removeFromSuperview");
objj_msgSend(_42,"tile");
}
}),new objj_method(sel_getUid("mouseDown:"),function(_47,_48,_49){
with(_47){
var _4a=CGRectInset(objj_msgSend(objj_msgSend(_47,"platformWindow"),"visibleFrame"),5,0);
_4a.size.height-=5;
objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",_49,_47,_4a,function(_4b,_4c){
objj_msgSend(_4c,"_performActionOfHighlightedItemChain");
objj_msgSend(_4c,"_highlightItemAtIndex:",CPNotFound);
});
}
}),new objj_method(sel_getUid("font"),function(_4d,_4e){
with(_4d){
objj_msgSend(CPFont,"systemFontOfSize:",12);
}
}),new objj_method(sel_getUid("tile"),function(_4f,_50){
with(_4f){
var _51=objj_msgSend(_menu,"itemArray"),_52=0,_53=_51.length,x=_3,y=0,_54=YES;
for(;_52<_53;++_52){
var _55=_51[_52];
if(objj_msgSend(_55,"isSeparatorItem")){
x=CGRectGetWidth(objj_msgSend(_4f,"frame"))-_4;
_54=NO;
continue;
}
if(objj_msgSend(_55,"isHidden")){
continue;
}
var _56=objj_msgSend(_55,"_menuItemView"),_57=objj_msgSend(_56,"frame");
if(_54){
objj_msgSend(_56,"setFrame:",CGRectMake(x,0,CGRectGetWidth(_57),_1));
x+=CGRectGetWidth(objj_msgSend(_56,"frame"));
}else{
objj_msgSend(_56,"setFrame:",CGRectMake(x-CGRectGetWidth(_57),0,CGRectGetWidth(_57),_1));
x=CGRectGetMinX(objj_msgSend(_56,"frame"));
}
}
var _58=objj_msgSend(objj_msgSend(_4f,"contentView"),"bounds"),_59=objj_msgSend(_titleField,"frame");
if(objj_msgSend(_iconImageView,"isHidden")){
objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_58)-CGRectGetWidth(_59))/2,(CGRectGetHeight(_58)-CGRectGetHeight(_59))/2));
}else{
var _5a=objj_msgSend(_iconImageView,"frame"),_5b=CGRectGetWidth(_5a),_5c=_5b+CGRectGetWidth(_59);
objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_58)-_5c)/2,(CGRectGetHeight(_58)-CGRectGetHeight(_5a))/2));
objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_58)-_5c)/2+_5b,(CGRectGetHeight(_58)-CGRectGetHeight(_59))/2));
}
}
}),new objj_method(sel_getUid("setFrame:display:animate:"),function(_5d,_5e,_5f,_60,_61){
with(_5d){
var _62=objj_msgSend(_5d,"frame").size;
objj_msgSendSuper({receiver:_5d,super_class:objj_getClass("CPPanel")},"setFrame:display:animate:",_5f,_60,_61);
if(!(_62.width==_5f.size.width&&_62.height==_5f.size.height)){
objj_msgSend(_5d,"tile");
}
}
})]);
class_addMethods(_8,[new objj_method(sel_getUid("initialize"),function(_63,_64){
with(_63){
if(_63!=objj_msgSend(_CPMenuBarWindow,"class")){
return;
}
var _65=objj_msgSend(CPBundle,"bundleForClass:",_63);
_6=objj_msgSend(CPFont,"boldSystemFontOfSize:",12);
}
}),new objj_method(sel_getUid("font"),function(_66,_67){
with(_66){
return _6;
}
})]);
var _7=objj_getClass("_CPMenuBarWindow");
if(!_7){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPMenuBarWindow\""));
}
var _8=_7.isa;
class_addMethods(_7,[new objj_method(sel_getUid("isMenuBar"),function(_68,_69){
with(_68){
return YES;
}
}),new objj_method(sel_getUid("globalFrame"),function(_6a,_6b){
with(_6a){
return objj_msgSend(_6a,"frame");
}
}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(_6c,_6d,_6e){
with(_6c){
return _CPMenuManagerScrollingStateNone;
}
}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(_6f,_70,_71){
with(_6f){
var _72=objj_msgSend(_menu,"itemArray"),_73=_72.length;
while(_73--){
var _74=_72[_73];
if(objj_msgSend(_74,"isHidden")||objj_msgSend(_74,"isSeparatorItem")){
continue;
}
if(CGRectContainsPoint(objj_msgSend(_6f,"rectForItemAtIndex:",_73),_71)){
return _73;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(_75,_76,_77){
with(_75){
var _78=objj_msgSend(_menu,"itemAtIndex:",_77===CPNotFound?0:_77);
return objj_msgSend(objj_msgSend(_78,"_menuItemView"),"frame");
}
})]);
var _7=objj_allocateClassPair(_CPMenuView,"_CPMenuBarView"),_8=_7.isa;
objj_registerClassPair(_7);
objj_addClassForBundle(_7,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_7,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(_79,_7a,_7b){
with(_79){
return objj_msgSend(_menuItemViews[_7b===CPNotFound?0:_7b],"frame");
}
}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(_7c,_7d,_7e){
with(_7c){
var _7f=objj_msgSend(_7c,"bounds");
if(!CGRectContainsPoint(_7f,_7e)){
return CPNotFound;
}
var x=_7e.x,low=0,_80=_visibleMenuItemInfos.length-1;
while(low<=_80){
var _81=FLOOR(low+(_80-low)/2),_82=_visibleMenuItemInfos[_81],_83=objj_msgSend(_82.view,"frame");
if(x<CGRectGetMinX(_83)){
_80=_81-1;
}else{
if(x>CGRectGetMaxX(_83)){
low=_81+1;
}else{
return _82.index;
}
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("tile"),function(_84,_85){
with(_84){
var _86=objj_msgSend(_menu,"itemArray"),_87=0,_88=_86.length,x=_3,y=0,_89=YES;
for(;_87<_88;++_87){
var _8a=_86[_87];
if(objj_msgSend(_8a,"isSeparatorItem")){
x=CGRectGetWidth(objj_msgSend(_84,"frame"))-_4;
_89=NO;
continue;
}
if(objj_msgSend(_8a,"isHidden")){
continue;
}
var _8b=objj_msgSend(_8a,"_menuItemView"),_8c=objj_msgSend(_8b,"frame");
if(_89){
objj_msgSend(_8b,"setFrameOrigin:",CGPointMake(x,(_1-1-CGRectGetHeight(_8c))/2));
x+=CGRectGetWidth(objj_msgSend(_8b,"frame"))+_2;
}else{
objj_msgSend(_8b,"setFrameOrigin:",CGPointMake(x-CGRectGetWidth(_8c),(_1-1-CGRectGetHeight(_8c))/2));
x=CGRectGetMinX(objj_msgSend(_8b,"frame"))-_2;
}
}
var _8d=objj_msgSend(objj_msgSend(_84,"contentView"),"bounds"),_8e=objj_msgSend(_titleField,"frame");
if(objj_msgSend(_iconImageView,"isHidden")){
objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_8d)-CGRectGetWidth(_8e))/2,(CGRectGetHeight(_8d)-CGRectGetHeight(_8e))/2));
}else{
var _8f=objj_msgSend(_iconImageView,"frame"),_90=CGRectGetWidth(_8f),_91=_90+CGRectGetWidth(_8e);
objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_8d)-_91)/2,(CGRectGetHeight(_8d)-CGRectGetHeight(_8f))/2));
objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_8d)-_91)/2+_90,(CGRectGetHeight(_8d)-CGRectGetHeight(_8e))/2));
}
}
})]);
p;16;_CPMenuManager.jI;21;Foundation/CPObject.jc;6921;
_CPMenuManagerScrollingStateUp=-1,_CPMenuManagerScrollingStateDown=1,_CPMenuManagerScrollingStateNone=0;
var _1=500;
var _2=nil;
var _3=objj_allocateClassPair(CPObject,"_CPMenuManager"),_4=_3.isa;
class_addIvars(_3,[new objj_ivar("_startTime"),new objj_ivar("_scrollingState"),new objj_ivar("_lastGlobalLocation"),new objj_ivar("_lastMouseOverMenuView"),new objj_ivar("_constraintRect"),new objj_ivar("_menuContainerStack"),new objj_ivar("_trackingCallback")]);
objj_registerClassPair(_3);
objj_addClassForBundle(_3,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_3,[new objj_method(sel_getUid("init"),function(_5,_6){
with(_5){
if(_2){
return _2;
}
return objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
}
}),new objj_method(sel_getUid("trackingMenuContainer"),function(_7,_8){
with(_7){
return _menuContainerStack[0];
}
}),new objj_method(sel_getUid("trackingMenu"),function(_9,_a){
with(_9){
return objj_msgSend(objj_msgSend(_9,"trackingMenuContainer"),"menu");
}
}),new objj_method(sel_getUid("beginTracking:menuContainer:constraintRect:callback:"),function(_b,_c,_d,_e,_f,_10){
with(_b){
CPApp._activeMenu=objj_msgSend(_e,"menu");
_startTime=objj_msgSend(_d,"timestamp");
_scrollingState=_CPMenuManagerScrollingStateNone;
_constraintRect=_f;
_trackingCallback=_10;
_menuContainerStack=[_e];
objj_msgSend(_b,"trackEvent:",_d);
}
}),new objj_method(sel_getUid("trackEvent:"),function(_11,_12,_13){
with(_11){
var _14=objj_msgSend(_13,"type"),_15=objj_msgSend(_11,"trackingMenu");
if(_14===CPAppKitDefined){
objj_msgSend(CPEvent,"stopPeriodicEvents");
var _16=objj_msgSend(_15,"highlightedItem");
objj_msgSend(_11,"showMenu:fromMenu:atPoint:",nil,_15,nil);
var _17=objj_msgSend(_15,"delegate");
if(objj_msgSend(_17,"respondsToSelector:",sel_getUid("menuDidClose:"))){
objj_msgSend(_17,"menuDidClose:",_15);
}
if(_trackingCallback){
_trackingCallback(objj_msgSend(_11,"trackingMenuContainer"),_15);
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPMenuDidEndTrackingNotification,_15);
CPApp._activeMenu=nil;
return;
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_11,sel_getUid("trackEvent:"),CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPAppKitDefinedMask,nil,nil,YES);
var _18=_14===CPPeriodic?_lastGlobalLocation:objj_msgSend(_13,"globalLocation");
_lastGlobalLocation=_18;
var _19=objj_msgSend(_11,"menuContainerForPoint:",_18),_1a=objj_msgSend(_19,"menu"),_1b=objj_msgSend(_19,"convertGlobalToBase:",_18);
var _1c=_19?objj_msgSend(_19,"itemIndexAtPoint:",_1b):CPNotFound,_1d=_1c!==CPNotFound?objj_msgSend(_1a,"itemAtIndex:",_1c):nil;
if(!objj_msgSend(_1d,"isEnabled")){
_1c=CPNotFound;
_1d=nil;
}
var _1e=objj_msgSend(_1d,"view");
if(_14===CPPeriodic){
if(_scrollingState===_CPMenuManagerScrollingStateUp){
objj_msgSend(_19,"scrollUp");
}else{
if(_scrollingState===_CPMenuManagerScrollingStateDown){
objj_msgSend(_19,"scrollDown");
}
}
}
if(_1e){
if(!_lastMouseOverMenuView){
objj_msgSend(_1a,"_highlightItemAtIndex:",CPNotFound);
}
if(_lastMouseOverMenuView!=_1e){
objj_msgSend(_1e,"mouseExited:",_13);
objj_msgSend(_lastMouseOverMenuView,"mouseEntered:",_13);
_lastMouseOverMenuView=_1e;
}
var _1f=_19;
if(!objj_msgSend(_1f,"isKindOfClass:",objj_msgSend(CPWindow,"class"))){
_1f=objj_msgSend(_1f,"window");
}
objj_msgSend(_1f,"sendEvent:",objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",_14,_1b,objj_msgSend(_13,"modifierFlags"),objj_msgSend(_13,"timestamp"),_1f,nil,0,objj_msgSend(_13,"clickCount"),objj_msgSend(_13,"pressure")));
}else{
if(_lastMouseOverMenuView){
objj_msgSend(_lastMouseOverMenuView,"mouseExited:",_13);
_lastMouseOverMenuView=nil;
}
objj_msgSend(_1a,"_highlightItemAtIndex:",_1c);
if(_14===CPMouseMoved||_14===CPLeftMouseDragged||_14===CPLeftMouseDown){
var _20=_scrollingState;
_scrollingState=objj_msgSend(_19,"scrollingStateForPoint:",_18);
if(_scrollingState!==_20){
if(_scrollingState===_CPMenuManagerScrollingStateNone){
objj_msgSend(CPEvent,"stopPeriodicEvents");
}else{
if(_20===_CPMenuManagerScrollingStateNone){
objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0,0.04);
}
}
}
}else{
if(_14===CPLeftMouseUp&&(objj_msgSend(_13,"timestamp")-_startTime>_1)){
objj_msgSend(_15,"cancelTracking");
}
}
}
if(objj_msgSend(_1d,"hasSubmenu")){
var _21=objj_msgSend(_19,"rectForItemAtIndex:",_1c);
if(objj_msgSend(_19,"isMenuBar")){
var _22=CGPointMake(CGRectGetMinX(_21),CGRectGetMaxY(_21));
}else{
var _22=CGPointMake(CGRectGetMaxX(_21),CGRectGetMinY(_21));
}
_22=objj_msgSend(_19,"convertBaseToGlobal:",_22);
objj_msgSend(_11,"showMenu:fromMenu:atPoint:",objj_msgSend(_1d,"submenu"),objj_msgSend(_1d,"menu"),_22);
}else{
objj_msgSend(_11,"showMenu:fromMenu:atPoint:",nil,_1a,CGPointMakeZero());
}
}
}),new objj_method(sel_getUid("menuContainerForPoint:"),function(_23,_24,_25){
with(_23){
var _26=objj_msgSend(_menuContainerStack,"count"),_27=_menuContainerStack[0];
if(_26===1){
return _27;
}
var _28=0,_29=_26-1;
if(objj_msgSend(_27,"isMenuBar")){
if(CGRectContainsPoint(objj_msgSend(_27,"globalFrame"),_25)){
return _27;
}
_28=1;
}
var _2a=_26,x=_25.x,_2b=Infinity,_2c=nil;
while(_2a-->_28){
var _2d=_menuContainerStack[_2a],_2e=objj_msgSend(_2d,"globalFrame"),_2f=(_2e.origin.x),_30=(_2e.origin.x+_2e.size.width);
if(x<_30&&x>=_2f){
return _2d;
}
if(_2a===_28||_2a===_29){
var _31=ABS(x<_2f?_2f-x:_30-x);
if(_31<_2b){
_2c=_2d;
_2b=_31;
}
}
}
return _2c;
}
}),new objj_method(sel_getUid("showMenu:fromMenu:atPoint:"),function(_32,_33,_34,_35,_36){
with(_32){
var _37=_menuContainerStack.length,_38=_37;
while(_38--){
var _39=_menuContainerStack[_38],_3a=objj_msgSend(_39,"menu");
if(_3a===_35){
break;
}
if(_3a===_34){
return objj_msgSend(_34,"_highlightItemAtIndex:",CPNotFound);
}
objj_msgSend(_39,"orderOut:",_32);
objj_msgSend(_39,"setMenu:",nil);
objj_msgSend(_CPMenuWindow,"poolMenuWindow:",_39);
objj_msgSend(_menuContainerStack,"removeObjectAtIndex:",_38);
}
if(!_34){
return;
}
objj_msgSend(_34,"_highlightItemAtIndex:",CPNotFound);
var _3b=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",_34,objj_msgSend(_menuContainerStack[0],"font"));
objj_msgSend(_menuContainerStack,"addObject:",_3b);
objj_msgSend(_3b,"setConstraintRect:",_constraintRect);
if(_35===objj_msgSend(_32,"trackingMenu")&&objj_msgSend(objj_msgSend(_32,"trackingMenuContainer"),"isMenuBar")){
objj_msgSend(_3b,"setBackgroundStyle:",_CPMenuWindowMenuBarBackgroundStyle);
}else{
objj_msgSend(_3b,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);
}
objj_msgSend(_3b,"setFrameOrigin:",_36);
objj_msgSend(_3b,"orderFront:",_32);
}
})]);
class_addMethods(_4,[new objj_method(sel_getUid("sharedMenuManager"),function(_3c,_3d){
with(_3c){
if(!_2){
_2=objj_msgSend(objj_msgSend(_CPMenuManager,"alloc"),"init");
}
return _2;
}
})]);
p;15;_CPMenuWindow.jc;17204;
var _1=[],_2=5,_3=[];
_CPMenuWindowMenuBarBackgroundStyle=0;
_CPMenuWindowPopUpBackgroundStyle=1;
_CPMenuWindowAttachedMenuBackgroundStyle=2;
var _4=500,_5=5,_6=1,_7=1,_8=5,_9=16;
var _a=objj_allocateClassPair(CPWindow,"_CPMenuWindow"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_menuView"),new objj_ivar("_menuClipView"),new objj_ivar("_moreAboveView"),new objj_ivar("_moreBelowView"),new objj_ivar("_unconstrainedFrame"),new objj_ivar("_constraintRect")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(_c,_d,_e,_f){
with(_c){
_constraintRect={origin:{x:0,y:0},size:{width:0,height:0}};
_unconstrainedFrame={origin:{x:0,y:0},size:{width:0,height:0}};
_c=objj_msgSendSuper({receiver:_c,super_class:objj_getClass("CPWindow")},"initWithContentRect:styleMask:",_e,CPBorderlessWindowMask);
if(_c){
objj_msgSend(_c,"setLevel:",CPPopUpMenuWindowLevel);
objj_msgSend(_c,"setHasShadow:",YES);
objj_msgSend(_c,"setShadowStyle:",CPMenuWindowShadowStyle);
objj_msgSend(_c,"setAcceptsMouseMovedEvents:",YES);
var _10=objj_msgSend(_c,"contentView");
_menuView=objj_msgSend(objj_msgSend(_CPMenuView,"alloc"),"initWithFrame:",CGRectMakeZero());
_menuClipView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"initWithFrame:",CGRectMake(_6,_5,0,0));
objj_msgSend(_menuClipView,"setDocumentView:",_menuView);
objj_msgSend(_10,"addSubview:",_menuClipView);
_moreAboveView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_moreAboveView,"setImage:",_CPMenuWindowMoreAboveImage);
objj_msgSend(_moreAboveView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreAboveImage,"size"));
objj_msgSend(_10,"addSubview:",_moreAboveView);
_moreBelowView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_moreBelowView,"setImage:",_CPMenuWindowMoreBelowImage);
objj_msgSend(_moreBelowView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreBelowImage,"size"));
objj_msgSend(_10,"addSubview:",_moreBelowView);
objj_msgSend(_c,"setShadowStyle:",CPWindowShadowStyleMenu);
}
return _c;
}
}),new objj_method(sel_getUid("setFont:"),function(_11,_12,_13){
with(_11){
objj_msgSend(_menuView,"setFont:",_13);
}
}),new objj_method(sel_getUid("font"),function(_14,_15){
with(_14){
return objj_msgSend(_menuView,"font");
}
}),new objj_method(sel_getUid("setBackgroundStyle:"),function(_16,_17,_18){
with(_16){
objj_msgSend(_16,"setBackgroundColor:",objj_msgSend(objj_msgSend(_16,"class"),"backgroundColorForBackgroundStyle:",_18));
}
}),new objj_method(sel_getUid("setMenu:"),function(_19,_1a,_1b){
with(_19){
objj_msgSend(_1b,"_setMenuWindow:",_19);
objj_msgSend(_menuView,"setMenu:",_1b);
var _1c=objj_msgSend(_menuView,"frame").size;
objj_msgSend(_19,"setFrameSize:",CGSizeMake(_6+_1c.width+_7,_5+_1c.height+_8));
objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,0));
objj_msgSend(_menuClipView,"setFrame:",CGRectMake(_6,_5,_1c.width,_1c.height));
}
}),new objj_method(sel_getUid("setMinWidth:"),function(_1d,_1e,_1f){
with(_1d){
var _20=objj_msgSend(_1d,"unconstrainedFrame").size;
objj_msgSend(_1d,"setFrameSize:",CGSizeMake(MAX(_20.width,_1f),_20.height));
}
}),new objj_method(sel_getUid("menu"),function(_21,_22){
with(_21){
return objj_msgSend(_menuView,"menu");
}
}),new objj_method(sel_getUid("orderFront:"),function(_23,_24,_25){
with(_23){
objj_msgSend(_23,"setFrame:",_unconstrainedFrame);
objj_msgSendSuper({receiver:_23,super_class:objj_getClass("CPWindow")},"orderFront:",_25);
}
}),new objj_method(sel_getUid("setConstraintRect:"),function(_26,_27,_28){
with(_26){
_constraintRect=_28;
objj_msgSend(_26,"setFrame:",_unconstrainedFrame);
}
}),new objj_method(sel_getUid("unconstrainedFrame"),function(_29,_2a){
with(_29){
return {origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}};
}
}),new objj_method(sel_getUid("setFrameOrigin:"),function(_2b,_2c,_2d){
with(_2b){
objj_msgSendSuper({receiver:_2b,super_class:objj_getClass("CPWindow")},"setFrame:",{origin:{x:_2d.x,y:_2d.y},size:{width:(_unconstrainedFrame.size.width),height:(_unconstrainedFrame.size.height)}});
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_2e,_2f,_30){
with(_2e){
objj_msgSendSuper({receiver:_2e,super_class:objj_getClass("CPWindow")},"setFrame:",{origin:{x:(_unconstrainedFrame.origin.x),y:(_unconstrainedFrame.origin.y)},size:{width:_30.width,height:_30.height}});
}
}),new objj_method(sel_getUid("setFrame:display:animate:"),function(_31,_32,_33,_34,_35){
with(_31){
_unconstrainedFrame={origin:{x:_33.origin.x,y:_33.origin.y},size:{width:_33.size.width,height:_33.size.height}};
var _36=CGRectIntersection(_unconstrainedFrame,_constraintRect);
_36.origin.x=CGRectGetMinX(_unconstrainedFrame);
_36.size.width=CGRectGetWidth(_unconstrainedFrame);
if(CGRectGetWidth(_36)>CGRectGetWidth(_constraintRect)){
_36.size.width=CGRectGetWidth(_constraintRect);
}
if(CGRectGetMaxX(_36)>CGRectGetMaxX(_constraintRect)){
_36.origin.x-=CGRectGetMaxX(_36)-CGRectGetMaxX(_constraintRect);
}
if(CGRectGetMinX(_36)<CGRectGetMinX(_constraintRect)){
_36.origin.x=CGRectGetMinX(_constraintRect);
}
objj_msgSendSuper({receiver:_31,super_class:objj_getClass("CPWindow")},"setFrame:display:animate:",_36,_34,_35);
var _37=CGPointMake(CGRectGetMinX(_33)+_6,CGRectGetMinY(_33)+_5),_38=_37.y<CGRectGetMinY(_36)+_5,_39=_37.y+CGRectGetHeight(objj_msgSend(_menuView,"frame"))>CGRectGetMaxY(_36)-_8,_3a=_5,_3b=_8,_3c=objj_msgSend(_31,"contentView"),_3d=objj_msgSend(_3c,"bounds");
if(_38){
_3a+=_9;
var _3e=objj_msgSend(_moreAboveView,"frame");
objj_msgSend(_moreAboveView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_3d)-CGRectGetWidth(_3e))/2,(_5+_9-CGRectGetHeight(_3e))/2));
}
objj_msgSend(_moreAboveView,"setHidden:",!_38);
if(_39){
_3b+=_9;
objj_msgSend(_moreBelowView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(_3d)-CGRectGetWidth(objj_msgSend(_moreBelowView,"frame")))/2,CGRectGetHeight(_3d)-_9-_8));
}
objj_msgSend(_moreBelowView,"setHidden:",!_39);
var _3f=CGRectMake(_6,_3a,CGRectGetWidth(_36)-_6-_7,CGRectGetHeight(_36)-_3a-_3b);
objj_msgSend(_menuClipView,"setFrame:",_3f);
objj_msgSend(_menuView,"setFrameSize:",CGSizeMake(CGRectGetWidth(_3f),CGRectGetHeight(objj_msgSend(_menuView,"frame"))));
objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,objj_msgSend(_31,"convertBaseToGlobal:",_3f.origin).y-_37.y));
}
}),new objj_method(sel_getUid("hasMinimumNumberOfVisibleItems"),function(_40,_41){
with(_40){
var _42=objj_msgSend(_menuView,"visibleRect");
if(CGRectIsEmpty(_42)){
return NO;
}
var _43=objj_msgSend(_menuView,"numberOfUnhiddenItems"),_44=MIN(_43,3),_45=0,_46=objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",objj_msgSend(_menuClipView,"frame").origin,nil));
for(;_46<_43&&_45<_44;++_46){
var _47=objj_msgSend(_menuView,"rectForUnhiddenItemAtIndex:",_46),_48=CGRectIntersection(_42,_47);
if(CGRectIsEmpty(_48)){
break;
}
if(CGRectEqualToRect(_48,_47)){
++_45;
}
}
return _45>=_44;
}
}),new objj_method(sel_getUid("canScrollUp"),function(_49,_4a){
with(_49){
return !objj_msgSend(_moreAboveView,"isHidden");
}
}),new objj_method(sel_getUid("canScrollDown"),function(_4b,_4c){
with(_4b){
return !objj_msgSend(_moreBelowView,"isHidden");
}
}),new objj_method(sel_getUid("canScroll"),function(_4d,_4e){
with(_4d){
return objj_msgSend(_4d,"canScrollUp")||objj_msgSend(_4d,"canScrollDown");
}
}),new objj_method(sel_getUid("scrollUp"),function(_4f,_50){
with(_4f){
if(CGRectGetMinY(_unconstrainedFrame)>=CGRectGetMinY(_constraintRect)){
return;
}
_unconstrainedFrame.origin.y+=10;
objj_msgSend(_4f,"setFrame:",_unconstrainedFrame);
}
}),new objj_method(sel_getUid("scrollDown"),function(_51,_52){
with(_51){
if(CGRectGetMaxY(_unconstrainedFrame)<=CGRectGetHeight(_constraintRect)){
return;
}
_unconstrainedFrame.origin.y-=10;
objj_msgSend(_51,"setFrame:",_unconstrainedFrame);
}
})]);
class_addMethods(_b,[new objj_method(sel_getUid("menuWindowWithMenu:font:"),function(_53,_54,_55,_56){
with(_53){
var _57=nil;
if(_1.length){
_57=_1.pop();
objj_msgSend(_57,"setFrameOrigin:",CGPointMakeZero());
}else{
_57=objj_msgSend(objj_msgSend(_CPMenuWindow,"alloc"),"init");
}
objj_msgSend(_57,"setFont:",_56);
objj_msgSend(_57,"setMenu:",_55);
objj_msgSend(_57,"setMinWidth:",objj_msgSend(_55,"minimumWidth"));
return _57;
}
}),new objj_method(sel_getUid("poolMenuWindow:"),function(_58,_59,_5a){
with(_58){
if(!_5a||_1.length>=_2){
return;
}
_1.push(_5a);
}
}),new objj_method(sel_getUid("initialize"),function(_5b,_5c){
with(_5b){
if(_5b!=objj_msgSend(_CPMenuWindow,"class")){
return;
}
var _5d=objj_msgSend(CPBundle,"bundleForClass:",_5b);
_CPMenuWindowMoreAboveImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_5d,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreAbove.png"),CGSizeMake(38,18));
_CPMenuWindowMoreBelowImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_5d,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreBelow.png"),CGSizeMake(38,18));
}
}),new objj_method(sel_getUid("_standardLeftMargin"),function(_5e,_5f){
with(_5e){
return _6;
}
}),new objj_method(sel_getUid("backgroundColorForBackgroundStyle:"),function(_60,_61,_62){
with(_60){
var _63=_3[_62];
if(!_63){
var _64=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_60,"class"));
if(_62==_CPMenuWindowPopUpBackgroundStyle){
_63=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded0.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow1.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded2.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))]));
}else{
if(_62==_CPMenuWindowMenuBarBackgroundStyle){
_63=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_64,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))]));
}
}
_3[_62]=_63;
}
return _63;
}
})]);
var _a=objj_getClass("_CPMenuWindow");
if(!_a){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"_CPMenuWindow\""));
}
var _b=_a.isa;
class_addMethods(_a,[new objj_method(sel_getUid("globalFrame"),function(_65,_66){
with(_65){
return objj_msgSend(_65,"frame");
}
}),new objj_method(sel_getUid("isMenuBar"),function(_67,_68){
with(_67){
return NO;
}
}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(_69,_6a,_6b){
with(_69){
var _6c=objj_msgSend(_69,"frame");
if(!objj_msgSend(_69,"canScroll")){
return _CPMenuManagerScrollingStateNone;
}
if(_6b.y<CGRectGetMinY(_6c)+_5+_9){
return _CPMenuManagerScrollingStateUp;
}
if(_6b.y>CGRectGetMaxY(_6c)-_8-_9){
return _CPMenuManagerScrollingStateDown;
}
return _CPMenuManagerScrollingStateNone;
}
}),new objj_method(sel_getUid("deltaYForItemAtIndex:"),function(_6d,_6e,_6f){
with(_6d){
return _5+CGRectGetMinY(objj_msgSend(_menuView,"rectForItemAtIndex:",_6f));
}
}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(_70,_71,_72){
with(_70){
return objj_msgSend(_menuView,"convertRect:toView:",objj_msgSend(_menuView,"rectForItemAtIndex:",_72),nil);
}
}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(_73,_74,_75){
with(_73){
if(!CGRectContainsPoint(objj_msgSend(_menuClipView,"bounds"),objj_msgSend(_menuClipView,"convertPoint:fromView:",_75,nil))){
return NO;
}
return objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",_75,nil));
}
})]);
var _a=objj_allocateClassPair(CPView,"_CPMenuView"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_menuItemViews"),new objj_ivar("_visibleMenuItemInfos"),new objj_ivar("_font")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("font"),function(_76,_77){
with(_76){
return _font;
}
}),new objj_method(sel_getUid("setFont:"),function(_78,_79,_7a){
with(_78){
_font=_7a;
}
}),new objj_method(sel_getUid("numberOfUnhiddenItems"),function(_7b,_7c){
with(_7b){
return _visibleMenuItemInfos.length;
}
}),new objj_method(sel_getUid("rectForUnhiddenItemAtIndex:"),function(_7d,_7e,_7f){
with(_7d){
return objj_msgSend(_7d,"rectForItemAtIndex:",_visibleMenuItemInfos[_7f].index);
}
}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(_80,_81,_82){
with(_80){
return objj_msgSend(_menuItemViews[_82===CPNotFound?0:_82],"frame");
}
}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(_83,_84,_85){
with(_83){
var x=_85.x,_86=objj_msgSend(_83,"bounds");
if(x<CGRectGetMinX(_86)||x>CGRectGetMaxX(_86)){
return CPNotFound;
}
var y=_85.y,low=0,_87=_visibleMenuItemInfos.length-1;
while(low<=_87){
var _88=FLOOR(low+(_87-low)/2),_89=_visibleMenuItemInfos[_88];
frame=objj_msgSend(_89.view,"frame");
if(y<CGRectGetMinY(frame)){
_87=_88-1;
}else{
if(y>CGRectGetMaxY(frame)){
low=_88+1;
}else{
return _89.index;
}
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("tile"),function(_8a,_8b){
with(_8a){
objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));
_menuItemViews=[];
_visibleMenuItemInfos=[];
var _8c=objj_msgSend(_8a,"menu");
if(!_8c){
return;
}
var _8d=objj_msgSend(_8c,"itemArray"),_8e=0,_8f=objj_msgSend(_8d,"count"),_90=0,y=0,_91=objj_msgSend(_8c,"showsStateColumn");
for(;_8e<_8f;++_8e){
var _92=_8d[_8e],_93=objj_msgSend(_92,"_menuItemView");
_menuItemViews.push(_93);
if(objj_msgSend(_92,"isHidden")){
continue;
}
_visibleMenuItemInfos.push({view:_93,index:_8e});
objj_msgSend(_93,"setFont:",_font);
objj_msgSend(_93,"setShowsStateColumn:",_91);
objj_msgSend(_93,"synchronizeWithMenuItem");
objj_msgSend(_93,"setFrameOrigin:",CGPointMake(0,y));
objj_msgSend(_8a,"addSubview:",_93);
var _94=objj_msgSend(_93,"minSize"),_95=_94.width;
if(_90<_95){
_90=_95;
}
y+=_94.height;
}
for(_8e=0;_8e<_8f;++_8e){
var _93=_menuItemViews[_8e];
objj_msgSend(_93,"setFrameSize:",CGSizeMake(_90,CGRectGetHeight(objj_msgSend(_93,"frame"))));
}
objj_msgSend(_8a,"setAutoresizesSubviews:",NO);
objj_msgSend(_8a,"setFrameSize:",CGSizeMake(_90,y));
objj_msgSend(_8a,"setAutoresizesSubviews:",YES);
}
}),new objj_method(sel_getUid("setMenu:"),function(_96,_97,_98){
with(_96){
objj_msgSendSuper({receiver:_96,super_class:objj_getClass("CPView")},"setMenu:",_98);
objj_msgSend(_96,"tile");
}
})]);
p;8;CPMenu.jI;20;Foundation/CPArray.jI;25;Foundation/CPDictionary.jI;33;Foundation/CPNotificationCenter.jI;21;Foundation/CPString.ji;16;_CPMenuManager.ji;15;CPApplication.ji;12;CPClipView.ji;12;CPMenuItem.ji;9;CPPanel.jc;22603;
CPMenuDidAddItemNotification="CPMenuDidAddItemNotification";
CPMenuDidChangeItemNotification="CPMenuDidChangeItemNotification";
CPMenuDidRemoveItemNotification="CPMenuDidRemoveItemNotification";
CPMenuDidEndTrackingNotification="CPMenuDidEndTrackingNotification";
var _1=28;
var _2=NO,_3="",_4=nil,_5=1,_6=nil,_7=nil;
var _8=objj_allocateClassPair(CPObject,"CPMenu"),_9=_8.isa;
class_addIvars(_8,[new objj_ivar("_supermenu"),new objj_ivar("_title"),new objj_ivar("_name"),new objj_ivar("_font"),new objj_ivar("_minimumWidth"),new objj_ivar("_items"),new objj_ivar("_autoenablesItems"),new objj_ivar("_showsStateColumn"),new objj_ivar("_delegate"),new objj_ivar("_highlightedIndex"),new objj_ivar("_menuWindow")]);
objj_registerClassPair(_8);
objj_addClassForBundle(_8,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_8,[new objj_method(sel_getUid("menuBarHeight"),function(_a,_b){
with(_a){
if(_a===objj_msgSend(CPApp,"mainMenu")){
return _1;
}
return 0;
}
}),new objj_method(sel_getUid("initWithTitle:"),function(_c,_d,_e){
with(_c){
_c=objj_msgSendSuper({receiver:_c,super_class:objj_getClass("CPObject")},"init");
if(_c){
_title=_e;
_items=[];
_autoenablesItems=YES;
_showsStateColumn=YES;
objj_msgSend(_c,"setMinimumWidth:",0);
}
return _c;
}
}),new objj_method(sel_getUid("init"),function(_f,_10){
with(_f){
return objj_msgSend(_f,"initWithTitle:","");
}
}),new objj_method(sel_getUid("insertItem:atIndex:"),function(_11,_12,_13,_14){
with(_11){
var _15=objj_msgSend(_13,"menu");
if(_15){
if(_15!==_11){
objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Attempted to insert item into menu that was already in another menu.");
}else{
return;
}
}
objj_msgSend(_13,"setMenu:",_11);
objj_msgSend(_items,"insertObject:atIndex:",_13,_14);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidAddItemNotification,_11,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_14,"CPMenuItemIndex"));
}
}),new objj_method(sel_getUid("insertItemWithTitle:action:keyEquivalent:atIndex:"),function(_16,_17,_18,_19,_1a,_1b){
with(_16){
var _1c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",_18,_19,_1a);
objj_msgSend(_16,"insertItem:atIndex:",_1c,_1b);
return _1c;
}
}),new objj_method(sel_getUid("addItem:"),function(_1d,_1e,_1f){
with(_1d){
objj_msgSend(_1d,"insertItem:atIndex:",_1f,objj_msgSend(_items,"count"));
}
}),new objj_method(sel_getUid("addItemWithTitle:action:keyEquivalent:"),function(_20,_21,_22,_23,_24){
with(_20){
return objj_msgSend(_20,"insertItemWithTitle:action:keyEquivalent:atIndex:",_22,_23,_24,objj_msgSend(_items,"count"));
}
}),new objj_method(sel_getUid("removeItem:"),function(_25,_26,_27){
with(_25){
objj_msgSend(_25,"removeItemAtIndex:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",_27));
}
}),new objj_method(sel_getUid("removeItemAtIndex:"),function(_28,_29,_2a){
with(_28){
if(_2a<0||_2a>=_items.length){
return;
}
objj_msgSend(_items[_2a],"setMenu:",nil);
objj_msgSend(_items,"removeObjectAtIndex:",_2a);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidRemoveItemNotification,_28,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_2a,"CPMenuItemIndex"));
}
}),new objj_method(sel_getUid("itemChanged:"),function(_2b,_2c,_2d){
with(_2b){
if(objj_msgSend(_2d,"menu")!=_2b){
return;
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidChangeItemNotification,_2b,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",_2d),"CPMenuItemIndex"));
}
}),new objj_method(sel_getUid("itemWithTag:"),function(_2e,_2f,_30){
with(_2e){
var _31=objj_msgSend(_2e,"indexOfItemWithTag:",_30);
if(_31==CPNotFound){
return nil;
}
return _items[_31];
}
}),new objj_method(sel_getUid("itemWithTitle:"),function(_32,_33,_34){
with(_32){
var _35=objj_msgSend(_32,"indexOfItemWithTitle:",_34);
if(_35==CPNotFound){
return nil;
}
return _items[_35];
}
}),new objj_method(sel_getUid("itemAtIndex:"),function(_36,_37,_38){
with(_36){
return objj_msgSend(_items,"objectAtIndex:",_38);
}
}),new objj_method(sel_getUid("numberOfItems"),function(_39,_3a){
with(_39){
return objj_msgSend(_items,"count");
}
}),new objj_method(sel_getUid("itemArray"),function(_3b,_3c){
with(_3b){
return _items;
}
}),new objj_method(sel_getUid("indexOfItem:"),function(_3d,_3e,_3f){
with(_3d){
if(objj_msgSend(_3f,"menu")!==_3d){
return CPNotFound;
}
return objj_msgSend(_items,"indexOfObjectIdenticalTo:",_3f);
}
}),new objj_method(sel_getUid("indexOfItemWithTitle:"),function(_40,_41,_42){
with(_40){
var _43=0,_44=_items.length;
for(;_43<_44;++_43){
if(objj_msgSend(_items[_43],"title")===_42){
return _43;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("indexOfItemWithTag:"),function(_45,_46,_47){
with(_45){
var _48=0,_49=_items.length;
for(;_48<_49;++_48){
if(objj_msgSend(_items[_48],"tag")==_47){
return _48;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("indexOfItemWithTarget:andAction:"),function(_4a,_4b,_4c,_4d){
with(_4a){
var _4e=0,_4f=_items.length;
for(;_4e<_4f;++_4e){
var _50=_items[_4e];
if(objj_msgSend(_50,"target")==_4c&&(!_4d||objj_msgSend(_50,"action")==_4d)){
return _4e;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("indexOfItemWithRepresentedObject:"),function(_51,_52,_53){
with(_51){
var _54=0,_55=_items.length;
for(;_54<_55;++_54){
if(objj_msgSend(objj_msgSend(_items[_54],"representedObject"),"isEqual:",_53)){
return _54;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("indexOfItemWithSubmenu:"),function(_56,_57,_58){
with(_56){
var _59=0,_5a=_items.length;
for(;_59<_5a;++_59){
if(objj_msgSend(_items[_59],"submenu")==_58){
return _59;
}
}
return CPNotFound;
}
}),new objj_method(sel_getUid("setSubmenu:forItem:"),function(_5b,_5c,_5d,_5e){
with(_5b){
objj_msgSend(_5e,"setTarget:",_5e);
objj_msgSend(_5e,"setAction:",sel_getUid("submenuAction:"));
objj_msgSend(_5e,"setSubmenu:",_5d);
}
}),new objj_method(sel_getUid("submenuAction:"),function(_5f,_60,_61){
with(_5f){
}
}),new objj_method(sel_getUid("supermenu"),function(_62,_63){
with(_62){
return _supermenu;
}
}),new objj_method(sel_getUid("setSupermenu:"),function(_64,_65,_66){
with(_64){
_supermenu=_66;
}
}),new objj_method(sel_getUid("isTornOff"),function(_67,_68){
with(_67){
return !_supermenu||_67==objj_msgSend(CPApp,"mainMenu");
}
}),new objj_method(sel_getUid("setAutoenablesItems:"),function(_69,_6a,_6b){
with(_69){
_autoenablesItems=_6b;
}
}),new objj_method(sel_getUid("autoenablesItems"),function(_6c,_6d){
with(_6c){
return _autoenablesItems;
}
}),new objj_method(sel_getUid("update"),function(_6e,_6f){
with(_6e){
}
}),new objj_method(sel_getUid("setTitle:"),function(_70,_71,_72){
with(_70){
_title=_72;
}
}),new objj_method(sel_getUid("title"),function(_73,_74){
with(_73){
return _title;
}
}),new objj_method(sel_getUid("setMinimumWidth:"),function(_75,_76,_77){
with(_75){
_minimumWidth=_77;
}
}),new objj_method(sel_getUid("minimumWidth"),function(_78,_79){
with(_78){
return _minimumWidth;
}
}),new objj_method(sel_getUid("_performActionOfHighlightedItemChain"),function(_7a,_7b){
with(_7a){
var _7c=objj_msgSend(_7a,"highlightedItem");
while(objj_msgSend(_7c,"submenu")&&objj_msgSend(_7c,"action")===sel_getUid("submenuAction:")){
_7c=objj_msgSend(objj_msgSend(_7c,"submenu"),"highlightedItem");
}
if(_7c&&objj_msgSend(_7c,"isEnabled")){
objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(_7c,"action"),objj_msgSend(_7c,"target"),_7c);
}
}
}),new objj_method(sel_getUid("popUpMenuPositioningItem:atLocation:inView:callback:"),function(_7d,_7e,_7f,_80,_81,_82){
with(_7d){
objj_msgSend(_7d,"_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:",_7f,_80,_80.y,_80.y,_81,_82);
}
}),new objj_method(sel_getUid("_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:"),function(_83,_84,_85,_86,_87,_88,_89,_8a){
with(_83){
var _8b=0;
if(_85){
_8b=objj_msgSend(_83,"indexOfItem:",_85);
if(_8b===CPNotFound){
throw "In call to popUpMenuPositioningItem:atLocation:inView:callback:, menu item "+_85+" is not present in menu "+_83;
}
}
var _8c=objj_msgSend(_89,"window");
if(_89&&!_8c){
throw "In call to popUpMenuPositioningItem:atLocation:inView:callback:, view is not in any window.";
}
var _8d=objj_msgSend(_83,"delegate");
if(objj_msgSend(_8d,"respondsToSelector:",sel_getUid("menuWillOpen:"))){
objj_msgSend(_8d,"menuWillOpen:",aMenu);
}
if(_89){
_86=objj_msgSend(_8c,"convertBaseToGlobal:",objj_msgSend(_89,"convertPoint:toView:",_86,nil));
}
var _8e=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",_83,objj_msgSend(_83,"font"));
objj_msgSend(_8e,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);
if(_85){
_86.y-=objj_msgSend(_8e,"deltaYForItemAtIndex:",_8b);
}
var _8f=objj_msgSend(CPMenu,"_constraintRectForView:",_89);
objj_msgSend(_8e,"setFrameOrigin:",_86);
objj_msgSend(_8e,"setConstraintRect:",_8f);
if(!objj_msgSend(_8e,"hasMinimumNumberOfVisibleItems")){
var _90=objj_msgSend(_8e,"unconstrainedFrame"),_91=CGRectGetMinY(_90);
if(_91>=CGRectGetMaxY(_8f)||objj_msgSend(_8e,"canScrollDown")){
if(_89){
_87=objj_msgSend(_8c,"convertBaseToGlobal:",objj_msgSend(_89,"convertPoint:toView:",CGPointMake(0,_87),nil)).y;
}
_90.origin.y=MIN(CGRectGetMaxY(_8f),_87)-CGRectGetHeight(_90);
}else{
if(_91<CGRectGetMinY(_8f)||objj_msgSend(_8e,"canScrollUp")){
if(_89){
_88=objj_msgSend(_8c,"convertBaseToGlobal:",objj_msgSend(_89,"convertPoint:toView:",CGPointMake(0,_88),nil)).y;
}
_90.origin.y=MAX(CGRectGetMinY(_8f),_88);
}
}
objj_msgSend(_8e,"setFrameOrigin:",CGRectIntersection(_90,_8f).origin);
}
objj_msgSend(_8e,"orderFront:",_83);
objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",objj_msgSend(CPApp,"currentEvent"),_8e,_8f,objj_msgSend(CPMenu,"trackingCallbackWithCallback:",_8a));
}
}),new objj_method(sel_getUid("setShowsStateColumn:"),function(_92,_93,_94){
with(_92){
_showsStateColumn=_94;
}
}),new objj_method(sel_getUid("showsStateColumn"),function(_95,_96){
with(_95){
return _showsStateColumn;
}
}),new objj_method(sel_getUid("highlightedItem"),function(_97,_98){
with(_97){
return _highlightedIndex>=0?_items[_highlightedIndex]:nil;
}
}),new objj_method(sel_getUid("setDelegate:"),function(_99,_9a,_9b){
with(_99){
_delegate=_9b;
}
}),new objj_method(sel_getUid("delegate"),function(_9c,_9d){
with(_9c){
return _delegate;
}
}),new objj_method(sel_getUid("cancelTracking"),function(_9e,_9f){
with(_9e){
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_fireCancelTrackingEvent"),_9e,nil,0,[CPDefaultRunLoopMode]);
}
}),new objj_method(sel_getUid("_fireCancelTrackingEvent"),function(_a0,_a1){
with(_a0){
objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPAppKitDefined,{x:0,y:0},0,0,0,0,0,0,0));
}
}),new objj_method(sel_getUid("_setMenuWindow:"),function(_a2,_a3,_a4){
with(_a2){
_menuWindow=_a4;
}
}),new objj_method(sel_getUid("setFont:"),function(_a5,_a6,_a7){
with(_a5){
_font=_a7;
}
}),new objj_method(sel_getUid("font"),function(_a8,_a9){
with(_a8){
return _font;
}
}),new objj_method(sel_getUid("performKeyEquivalent:"),function(_aa,_ab,_ac){
with(_aa){
if(_autoenablesItems){
objj_msgSend(_aa,"update");
}
var _ad=0,_ae=_items.length,_af=objj_msgSend(_ac,"charactersIgnoringModifiers"),_b0=objj_msgSend(_ac,"modifierFlags");
for(;_ad<_ae;++_ad){
var _b1=_items[_ad],_b2=objj_msgSend(_b1,"keyEquivalentModifierMask");
if(objj_msgSend(_b1,"keyEquivalent")===objj_msgSend(objj_msgSend(_b1,"keyEquivalent"),"uppercaseString")){
_b2|=CPShiftKeyMask;
}
if(CPBrowserIsOperatingSystem(CPWindowsOperatingSystem)&&(_b2&CPCommandKeyMask)){
_b2|=CPControlKeyMask;
_b2&=~CPCommandKeyMask;
}
if((_b0&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))==_b2&&objj_msgSend(_af,"caseInsensitiveCompare:",objj_msgSend(_b1,"keyEquivalent"))==CPOrderedSame){
if(objj_msgSend(_b1,"isEnabled")){
objj_msgSend(_aa,"performActionForItemAtIndex:",_ad);
}else{
}
return YES;
}
if(objj_msgSend(objj_msgSend(_b1,"submenu"),"performKeyEquivalent:",_ac)){
return YES;
}
}
return NO;
}
}),new objj_method(sel_getUid("performActionForItemAtIndex:"),function(_b3,_b4,_b5){
with(_b3){
var _b6=_items[_b5];
objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(_b6,"action"),objj_msgSend(_b6,"target"),_b6);
}
}),new objj_method(sel_getUid("_itemIsHighlighted:"),function(_b7,_b8,_b9){
with(_b7){
return _items[_highlightedIndex]==_b9;
}
}),new objj_method(sel_getUid("_highlightItemAtIndex:"),function(_ba,_bb,_bc){
with(_ba){
var _bd=_highlightedIndex;
_highlightedIndex=_bc;
if(_bd!==CPNotFound){
objj_msgSend(objj_msgSend(_items[_bd],"_menuItemView"),"highlight:",NO);
}
if(_highlightedIndex!==CPNotFound){
objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"highlight:",YES);
}
}
}),new objj_method(sel_getUid("_setMenuName:"),function(_be,_bf,_c0){
with(_be){
if(_name===_c0){
return;
}
_name=_c0;
if(_name==="CPMainMenu"){
objj_msgSend(CPApp,"setMainMenu:",_be);
}
}
}),new objj_method(sel_getUid("_menuName"),function(_c1,_c2){
with(_c1){
return _name;
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_c3,_c4){
with(_c3){
if(_name==="_CPMainMenu"){
objj_msgSend(_c3,"_setMenuName:","CPMainMenu");
objj_msgSend(CPMenu,"setMenuBarVisible:",YES);
}
}
}),new objj_method(sel_getUid("_menuWithName:"),function(_c5,_c6,_c7){
with(_c5){
if(_c7===_name){
return _c5;
}
for(var i=0,_c8=objj_msgSend(_items,"count");i<_c8;i++){
var _c9=objj_msgSend(objj_msgSend(_items[i],"submenu"),"_menuWithName:",_c7);
if(_c9){
return _c9;
}
}
return nil;
}
})]);
class_addMethods(_9,[new objj_method(sel_getUid("initialize"),function(_ca,_cb){
with(_ca){
objj_msgSend(objj_msgSend(_ca,"class"),"setMenuBarAttributes:",objj_msgSend(CPDictionary,"dictionary"));
}
}),new objj_method(sel_getUid("menuBarVisible"),function(_cc,_cd){
with(_cc){
return _2;
}
}),new objj_method(sel_getUid("setMenuBarVisible:"),function(_ce,_cf,_d0){
with(_ce){
if(_2==_d0){
return;
}
_2=_d0;
if(objj_msgSend(CPPlatform,"supportsNativeMainMenu")){
return;
}
if(_d0){
if(!_7){
_7=objj_msgSend(objj_msgSend(_CPMenuBarWindow,"alloc"),"init");
}
objj_msgSend(_7,"setMenu:",objj_msgSend(CPApp,"mainMenu"));
objj_msgSend(_7,"setTitle:",_3);
objj_msgSend(_7,"setIconImage:",_4);
objj_msgSend(_7,"setIconImageAlphaValue:",_5);
objj_msgSend(_7,"setColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarBackgroundColor"));
objj_msgSend(_7,"setTextColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTextColor"));
objj_msgSend(_7,"setTitleColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTitleColor"));
objj_msgSend(_7,"setTextShadowColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTextShadowColor"));
objj_msgSend(_7,"setTitleShadowColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTitleShadowColor"));
objj_msgSend(_7,"setHighlightColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarHighlightColor"));
objj_msgSend(_7,"setHighlightTextColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarHighlightTextColor"));
objj_msgSend(_7,"setHighlightTextShadowColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarHighlightTextShadowColor"));
objj_msgSend(_7,"orderFront:",_ce);
}else{
objj_msgSend(_7,"orderOut:",_ce);
}
objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"resizeEvent:",nil);
}
}),new objj_method(sel_getUid("setMenuBarTitle:"),function(_d1,_d2,_d3){
with(_d1){
_3=_d3;
objj_msgSend(_7,"setTitle:",_3);
}
}),new objj_method(sel_getUid("menuBarTitle"),function(_d4,_d5){
with(_d4){
return _3;
}
}),new objj_method(sel_getUid("setMenuBarIconImage:"),function(_d6,_d7,_d8){
with(_d6){
_CPMenuBarImage=_d8;
objj_msgSend(_7,"setIconImage:",_d8);
}
}),new objj_method(sel_getUid("menuBarIconImage"),function(_d9,_da){
with(_d9){
return _CPMenuBarImage;
}
}),new objj_method(sel_getUid("setMenuBarAttributes:"),function(_db,_dc,_dd){
with(_db){
if(_6==_dd){
return;
}
_6=objj_msgSend(_dd,"copy");
var _de=objj_msgSend(_dd,"objectForKey:","CPMenuBarTextColor"),_df=objj_msgSend(_dd,"objectForKey:","CPMenuBarTitleColor"),_e0=objj_msgSend(_dd,"objectForKey:","CPMenuBarTextShadowColor"),_e1=objj_msgSend(_dd,"objectForKey:","CPMenuBarTitleShadowColor"),_e2=objj_msgSend(_dd,"objectForKey:","CPMenuBarHighlightColor"),_e3=objj_msgSend(_dd,"objectForKey:","CPMenuBarHighlightTextColor"),_e4=objj_msgSend(_dd,"objectForKey:","CPMenuBarHighlightTextShadowColor");
if(!_de&&_df){
objj_msgSend(_6,"setObject:forKey:",_df,"CPMenuBarTextColor");
}else{
if(_de&&!_df){
objj_msgSend(_6,"setObject:forKey:",_de,"CPMenuBarTitleColor");
}else{
if(!_de&&!_df){
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.051,0.2,0.275,1),"CPMenuBarTextColor");
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.051,0.2,0.275,1),"CPMenuBarTitleColor");
}
}
}
if(!_e0&&_e1){
objj_msgSend(_6,"setObject:forKey:",_e1,"CPMenuBarTextShadowColor");
}else{
if(_e0&&!_e1){
objj_msgSend(_6,"setObject:forKey:",_e0,"CPMenuBarTitleShadowColor");
}else{
if(!_e0&&!_e1){
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarTextShadowColor");
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarTitleShadowColor");
}
}
}
if(!_e2){
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",94/255,130/255,186/255,1),"CPMenuBarHighlightColor");
}
if(!_e3){
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarHighlightTextColor");
}
if(!_e4){
objj_msgSend(_6,"setObject:forKey:",objj_msgSend(CPColor,"blackColor"),"CPMenuBarHighlightTextShadowColor");
}
if(_7){
objj_msgSend(_7,"setColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarBackgroundColor"));
objj_msgSend(_7,"setTextColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTextColor"));
objj_msgSend(_7,"setTitleColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTitleColor"));
objj_msgSend(_7,"setTextShadowColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTextShadowColor"));
objj_msgSend(_7,"setTitleShadowColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarTitleShadowColor"));
objj_msgSend(_7,"setHighlightColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarHighlightColor"));
objj_msgSend(_7,"setHighlightTextColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarHighlightTextColor"));
objj_msgSend(_7,"setHighlightTextShadowColor:",objj_msgSend(_6,"objectForKey:","CPMenuBarHighlightTextShadowColor"));
}
}
}),new objj_method(sel_getUid("menuBarAttributes"),function(_e5,_e6){
with(_e5){
return _6;
}
}),new objj_method(sel_getUid("_setMenuBarIconImageAlphaValue:"),function(_e7,_e8,_e9){
with(_e7){
_5=_e9;
objj_msgSend(_7,"setIconImageAlphaValue:",_e9);
}
}),new objj_method(sel_getUid("menuBarHeight"),function(_ea,_eb){
with(_ea){
return _1;
}
}),new objj_method(sel_getUid("_constraintRectForView:"),function(_ec,_ed,_ee){
with(_ec){
if(objj_msgSend(CPPlatform,"isBrowser")){
return CGRectInset(objj_msgSend(objj_msgSend(objj_msgSend(_ee,"window"),"platformWindow"),"contentBounds"),5,5);
}
return CGRectInset(objj_msgSend(objj_msgSend(objj_msgSend(_ee,"window"),"screen"),"visibleFrame"),5,5);
}
}),new objj_method(sel_getUid("trackingCallbackWithCallback:"),function(_ef,_f0,_f1){
with(_ef){
return function(_f2,_f3){
objj_msgSend(_f2,"setMenu:",nil);
objj_msgSend(_f2,"orderOut:",_ef);
objj_msgSend(_CPMenuWindow,"poolMenuWindow:",_f2);
if(_f1){
_f1(_f3);
}
objj_msgSend(_f3,"_performActionOfHighlightedItemChain");
};
}
}),new objj_method(sel_getUid("popUpContextMenu:withEvent:forView:"),function(_f4,_f5,_f6,_f7,_f8){
with(_f4){
objj_msgSend(_f4,"popUpContextMenu:withEvent:forView:withFont:",_f6,_f7,_f8,nil);
}
}),new objj_method(sel_getUid("popUpContextMenu:withEvent:forView:withFont:"),function(_f9,_fa,_fb,_fc,_fd,_fe){
with(_f9){
var _ff=objj_msgSend(_fb,"delegate");
if(objj_msgSend(_ff,"respondsToSelector:",sel_getUid("menuWillOpen:"))){
objj_msgSend(_ff,"menuWillOpen:",_fb);
}
if(!_fe){
_fe=objj_msgSend(CPFont,"systemFontOfSize:",12);
}
var _100=objj_msgSend(_fd,"window"),_101=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",_fb,_fe);
objj_msgSend(_101,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);
var _102=objj_msgSend(CPMenu,"_constraintRectForView:",_fd),_103=objj_msgSend(objj_msgSend(_fc,"window"),"convertBaseToGlobal:",objj_msgSend(_fc,"locationInWindow"));
objj_msgSend(_101,"setConstraintRect:",_102);
objj_msgSend(_101,"setFrameOrigin:",_103);
if(!objj_msgSend(_101,"hasMinimumNumberOfVisibleItems")){
var _104=objj_msgSend(_101,"unconstrainedFrame"),_105=CGRectGetMinY(_104);
if(_105>=CGRectGetMaxY(_102)||objj_msgSend(_101,"canScrollDown")){
_104.origin.y=MIN(CGRectGetMaxY(_102),_103.y)-CGRectGetHeight(_104);
}else{
if(_105<CGRectGetMinY(_102)||objj_msgSend(_101,"canScrollUp")){
_104.origin.y=MAX(CGRectGetMinY(_102),_103.y);
}
}
objj_msgSend(_101,"setFrameOrigin:",CGRectIntersection(_104,_102).origin);
}
objj_msgSend(_101,"orderFront:",_f9);
objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",_fc,_101,objj_msgSend(CPMenu,"_constraintRectForView:",_fd),objj_msgSend(CPMenu,"trackingCallbackWithCallback:",nil));
}
})]);
var _106="CPMenuTitleKey",_107="CPMenuNameKey",_108="CPMenuItemsKey",_109="CPMenuShowsStateColumnKey";
var _8=objj_getClass("CPMenu");
if(!_8){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPMenu\""));
}
var _9=_8.isa;
class_addMethods(_8,[new objj_method(sel_getUid("initWithCoder:"),function(self,_10a,_10b){
with(self){
self=objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPObject")},"init");
if(self){
_title=objj_msgSend(_10b,"decodeObjectForKey:",_106);
_items=objj_msgSend(_10b,"decodeObjectForKey:",_108);
objj_msgSend(self,"_setMenuName:",objj_msgSend(_10b,"decodeObjectForKey:",_107));
_showsStateColumn=!objj_msgSend(_10b,"containsValueForKey:",_109)||objj_msgSend(_10b,"decodeBoolForKey:",_109);
objj_msgSend(self,"setMinimumWidth:",0);
}
return self;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(self,_10c,_10d){
with(self){
objj_msgSend(_10d,"encodeObject:forKey:",_title,_106);
if(_name){
objj_msgSend(_10d,"encodeObject:forKey:",_name,_107);
}
objj_msgSend(_10d,"encodeObject:forKey:",_items,_108);
if(!_showsStateColumn){
objj_msgSend(_10d,"encodeBool:forKey:",_showsStateColumn,_109);
}
}
})]);
i;18;_CPMenuBarWindow.ji;15;_CPMenuWindow.jp;24;_CPMenuItemMenuBarView.jc;7381;
var _1=8,_2=3,_3=4;
var _4=nil,_5=nil,_6=nil,_7=nil,_8=[],_9=[];
var _a=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarView"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_isDirty"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuIndicatorView")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("menuItem"),function(_c,_d){
with(_c){
return _menuItem;
}
}),new objj_method(sel_getUid("setMenuItem:"),function(_e,_f,_10){
with(_e){
_menuItem=_10;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_11,_12,_13){
with(_11){
_11=objj_msgSendSuper({receiver:_11,super_class:objj_getClass("CPView")},"initWithFrame:",_13);
if(_11){
_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(_1,0,0,0));
objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft);
objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_imageAndTextView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin);
objj_msgSend(_11,"addSubview:",_imageAndTextView);
_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemMenuBarSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,9,6));
objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin);
objj_msgSend(_11,"addSubview:",_submenuIndicatorView);
objj_msgSend(_11,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
}
return _11;
}
}),new objj_method(sel_getUid("textColor"),function(_14,_15){
with(_14){
if(!objj_msgSend(_menuItem,"isEnabled")){
return objj_msgSend(CPColor,"lightGrayColor");
}
return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1);
}
}),new objj_method(sel_getUid("textShadowColor"),function(_16,_17){
with(_16){
if(!objj_msgSend(_menuItem,"isEnabled")){
return objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,0.8);
}
return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8);
}
}),new objj_method(sel_getUid("update"),function(_18,_19){
with(_18){
var x=_1,_1a=0;
objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||objj_msgSend(_CPMenuBarWindow,"font"));
objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);
objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));
objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_18,"textColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_18,"textShadowColor"));
objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_imageAndTextView,"sizeToFit");
var _1b=objj_msgSend(_imageAndTextView,"frame");
_1b.origin.x=x;
x+=CGRectGetWidth(_1b);
_1a=MAX(_1a,CGRectGetHeight(_1b));
var _1c=objj_msgSend(_menuItem,"hasSubmenu")&&objj_msgSend(_menuItem,"action");
if(_1c){
objj_msgSend(_submenuIndicatorView,"setHidden:",NO);
objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(_18,"textColor"));
objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(_18,"textShadowColor"));
var _1d=objj_msgSend(_submenuIndicatorView,"frame");
_1d.origin.x=x+_2;
x=CGRectGetMaxX(_1d);
_1a=MAX(_1a,CGRectGetHeight(_1d));
}else{
objj_msgSend(_submenuIndicatorView,"setHidden:",YES);
}
_1a+=2*_3;
_1b.origin.y=FLOOR((_1a-CGRectGetHeight(_1b))/2);
objj_msgSend(_imageAndTextView,"setFrame:",_1b);
if(_1c){
_1d.origin.y=FLOOR((_1a-CGRectGetHeight(_1d))/2)+1;
objj_msgSend(_submenuIndicatorView,"setFrame:",_1d);
}
_minSize=CGSizeMake(x+_1,_1a);
objj_msgSend(_18,"setAutoresizesSubviews:",NO);
objj_msgSend(_18,"setFrameSize:",_minSize);
objj_msgSend(_18,"setAutoresizesSubviews:",YES);
}
}),new objj_method(sel_getUid("highlight:"),function(_1e,_1f,_20){
with(_1e){
if(!objj_msgSend(_menuItem,"isEnabled")){
return;
}
if(_20){
objj_msgSend(_1e,"setBackgroundColor:",_4);
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",_7);
objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.1,0.7));
}else{
objj_msgSend(_1e,"setBackgroundColor:",nil);
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_1e,"textColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_1e,"textShadowColor"));
objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(_1e,"textColor"));
objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(_1e,"textShadowColor"));
}
}
})]);
class_addMethods(_b,[new objj_method(sel_getUid("initialize"),function(_21,_22){
with(_21){
if(_21!==objj_msgSend(_CPMenuItemMenuBarView,"class")){
return;
}
var _23=objj_msgSend(CPBundle,"bundleForClass:",_21);
_4=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_23,"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackgroundSelected.png"),CGSizeMake(1,28)));
_5=objj_msgSend(CPColor,"grayColor");
_6=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);
_7=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);
_8[CPOffState]=nil;
_9[CPOffState]=nil;
_8[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_23,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));
_9[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_23,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14));
_8[CPMixedState]=nil;
_9[CPMixedState]=nil;
}
}),new objj_method(sel_getUid("view"),function(_24,_25){
with(_24){
return objj_msgSend(objj_msgSend(_24,"alloc"),"init");
}
})]);
var _a=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarSubmenuIndicatorView"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_color"),new objj_ivar("_shadowColor")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("setColor:"),function(_26,_27,_28){
with(_26){
if(_color===_28){
return;
}
_color=_28;
objj_msgSend(_26,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("setShadowColor:"),function(_29,_2a,_2b){
with(_29){
if(_shadowColor===_2b){
return;
}
_shadowColor=_2b;
objj_msgSend(_29,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("drawRect:"),function(_2c,_2d,_2e){
with(_2c){
var _2f=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_30=objj_msgSend(_2c,"bounds");
_30.size.height-=1;
_30.size.width-=2;
_30.origin.x+=1;
CGContextBeginPath(_2f);
CGContextMoveToPoint(_2f,CGRectGetMinX(_30),CGRectGetMinY(_30));
CGContextAddLineToPoint(_2f,CGRectGetMaxX(_30),CGRectGetMinY(_30));
CGContextAddLineToPoint(_2f,CGRectGetMidX(_30),CGRectGetMaxY(_30));
CGContextClosePath(_2f);
CGContextSetShadowWithColor(_2f,CGSizeMake(0,1),1.1,_shadowColor);
CGContextSetFillColor(_2f,_color);
CGContextFillPath(_2f);
}
})]);
p;26;_CPMenuItemSeparatorView.jI;15;AppKit/CPView.jc;1092;
var _1=objj_allocateClassPair(CPView,"_CPMenuItemSeparatorView"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithFrame:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPView")},"initWithFrame:",_5);
if(_3){
objj_msgSend(_3,"setAutoresizingMask:",CPViewWidthSizable);
}
return _3;
}
}),new objj_method(sel_getUid("drawRect:"),function(_6,_7,_8){
with(_6){
var _9=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_a=objj_msgSend(_6,"bounds");
CGContextBeginPath(_9);
CGContextMoveToPoint(_9,CGRectGetMinX(_a),FLOOR(CGRectGetMidY(_a))-0.5);
CGContextAddLineToPoint(_9,CGRectGetMaxX(_a),FLOOR(CGRectGetMidY(_a))-0.5);
CGContextSetStrokeColor(_9,objj_msgSend(CPColor,"lightGrayColor"));
CGContextStrokePath(_9);
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("view"),function(_b,_c){
with(_b){
return objj_msgSend(objj_msgSend(_b,"alloc"),"initWithFrame:",CGRectMake(0,0,0,10));
}
})]);
p;25;_CPMenuItemStandardView.jc;9148;
var _1=3,_2=14+3,_3=14,_4=17,_5=4,_6=30,_7=10;
var _8=nil,_9=nil,_a=nil,_b=[],_c=[];
var _d=objj_allocateClassPair(CPView,"_CPMenuItemStandardView"),_e=_d.isa;
class_addIvars(_d,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),new objj_ivar("_stateView"),new objj_ivar("_imageAndTextView"),new objj_ivar("_keyEquivalentView"),new objj_ivar("_submenuIndicatorView")]);
objj_registerClassPair(_d);
objj_addClassForBundle(_d,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_d,[new objj_method(sel_getUid("menuItem"),function(_f,_10){
with(_f){
return _menuItem;
}
}),new objj_method(sel_getUid("setMenuItem:"),function(_11,_12,_13){
with(_11){
_menuItem=_13;
}
}),new objj_method(sel_getUid("minSize"),function(_14,_15){
with(_14){
return _minSize;
}
}),new objj_method(sel_getUid("initWithFrame:"),function(_16,_17,_18){
with(_16){
_16=objj_msgSendSuper({receiver:_16,super_class:objj_getClass("CPView")},"initWithFrame:",_18);
if(_16){
_stateView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0));
objj_msgSend(_stateView,"setImageScaling:",CPScaleNone);
objj_msgSend(_16,"addSubview:",_stateView);
_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0));
objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft);
objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_16,"addSubview:",_imageAndTextView);
_keyEquivalentView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0));
objj_msgSend(_keyEquivalentView,"setImagePosition:",CPNoImage);
objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_keyEquivalentView,"setAutoresizingMask:",CPViewMinXMargin);
objj_msgSend(_16,"addSubview:",_keyEquivalentView);
_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,8,10));
objj_msgSend(_submenuIndicatorView,"setColor:",_8);
objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinXMargin);
objj_msgSend(_16,"addSubview:",_submenuIndicatorView);
objj_msgSend(_16,"setAutoresizingMask:",CPViewWidthSizable);
}
return _16;
}
}),new objj_method(sel_getUid("textColor"),function(_19,_1a){
with(_19){
if(!objj_msgSend(_menuItem,"isEnabled")){
return objj_msgSend(CPColor,"lightGrayColor");
}
return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1);
}
}),new objj_method(sel_getUid("textShadowColor"),function(_1b,_1c){
with(_1b){
if(!objj_msgSend(_menuItem,"isEnabled")){
return nil;
}
return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8);
}
}),new objj_method(sel_getUid("setFont:"),function(_1d,_1e,_1f){
with(_1d){
_font=_1f;
}
}),new objj_method(sel_getUid("update"),function(_20,_21){
with(_20){
var x=_1+objj_msgSend(_menuItem,"indentationLevel")*_4,_22=0,_23=objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn");
if(_23){
objj_msgSend(_stateView,"setHidden:",NO);
objj_msgSend(_stateView,"setImage:",_b[objj_msgSend(_menuItem,"state")]||nil);
x+=_3;
}else{
objj_msgSend(_stateView,"setHidden:",YES);
}
objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||_font);
objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);
objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));
objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_20,"textColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_20,"textShadowColor"));
objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_imageAndTextView,"sizeToFit");
var _24=objj_msgSend(_imageAndTextView,"frame");
_24.origin.x=x;
x+=CGRectGetWidth(_24);
_22=MAX(_22,CGRectGetHeight(_24));
var _25=!!objj_msgSend(_menuItem,"keyEquivalent"),_26=objj_msgSend(_menuItem,"hasSubmenu");
if(_25||_26){
x+=_6;
}
if(_25){
objj_msgSend(_keyEquivalentView,"setFont:",objj_msgSend(_menuItem,"font")||_font);
objj_msgSend(_keyEquivalentView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);
objj_msgSend(_keyEquivalentView,"setImage:",objj_msgSend(_menuItem,"image"));
objj_msgSend(_keyEquivalentView,"setText:",objj_msgSend(_menuItem,"keyEquivalentStringRepresentation"));
objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(_20,"textColor"));
objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(_20,"textShadowColor"));
objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_keyEquivalentView,"setFrameOrigin:",CGPointMake(x,_5));
objj_msgSend(_keyEquivalentView,"sizeToFit");
var _27=objj_msgSend(_keyEquivalentView,"frame");
_27.origin.x=x;
x+=CGRectGetWidth(_27);
_22=MAX(_22,CGRectGetHeight(_27));
if(_26){
x+=_6;
}
}else{
objj_msgSend(_keyEquivalentView,"setHidden:",YES);
}
if(_26){
objj_msgSend(_submenuIndicatorView,"setHidden:",NO);
var _28=objj_msgSend(_submenuIndicatorView,"frame");
_28.origin.x=x;
x+=CGRectGetWidth(_28);
_22=MAX(_22,CGRectGetHeight(_28));
}else{
objj_msgSend(_submenuIndicatorView,"setHidden:",YES);
}
_22+=2*_5;
_24.origin.y=FLOOR((_22-CGRectGetHeight(_24))/2);
objj_msgSend(_imageAndTextView,"setFrame:",_24);
if(_23){
objj_msgSend(_stateView,"setFrameSize:",CGSizeMake(_3,_22));
}
if(_25){
_27.origin.y=FLOOR((_22-CGRectGetHeight(_27))/2);
objj_msgSend(_keyEquivalentView,"setFrame:",_27);
}
if(_26){
_28.origin.y=FLOOR((_22-CGRectGetHeight(_28))/2);
objj_msgSend(_submenuIndicatorView,"setFrame:",_28);
}
_minSize=CGSizeMake(x+_2,_22);
objj_msgSend(_20,"setAutoresizesSubviews:",NO);
objj_msgSend(_20,"setFrameSize:",_minSize);
objj_msgSend(_20,"setAutoresizesSubviews:",YES);
}
}),new objj_method(sel_getUid("highlight:"),function(_29,_2a,_2b){
with(_29){
if(!objj_msgSend(_menuItem,"isEnabled")){
return;
}
if(_2b){
objj_msgSend(_29,"setBackgroundColor:",_9);
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",_a);
objj_msgSend(_keyEquivalentView,"setTextShadowColor:",_a);
}else{
objj_msgSend(_29,"setBackgroundColor:",nil);
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_29,"textColor"));
objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(_29,"textColor"));
objj_msgSend(_submenuIndicatorView,"setColor:",_8);
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_29,"textShadowColor"));
objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(_29,"textShadowColor"));
}
if(_2b){
objj_msgSend(_stateView,"setImage:",_c[objj_msgSend(_menuItem,"state")]||nil);
}else{
objj_msgSend(_stateView,"setImage:",_b[objj_msgSend(_menuItem,"state")]||nil);
}
}
})]);
class_addMethods(_e,[new objj_method(sel_getUid("initialize"),function(_2c,_2d){
with(_2c){
if(_2c!==objj_msgSend(_CPMenuItemStandardView,"class")){
return;
}
_8=objj_msgSend(CPColor,"grayColor");
_9=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);
_a=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);
var _2e=objj_msgSend(CPBundle,"bundleForClass:",_2c);
_b[CPOffState]=nil;
_c[CPOffState]=nil;
_b[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));
_c[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14));
_b[CPMixedState]=nil;
_c[CPMixedState]=nil;
}
}),new objj_method(sel_getUid("view"),function(_2f,_30){
with(_2f){
return objj_msgSend(objj_msgSend(_2f,"alloc"),"init");
}
}),new objj_method(sel_getUid("_standardLeftMargin"),function(_31,_32){
with(_31){
return _1+_3;
}
})]);
var _d=objj_allocateClassPair(CPView,"_CPMenuItemSubmenuIndicatorView"),_e=_d.isa;
class_addIvars(_d,[new objj_ivar("_color")]);
objj_registerClassPair(_d);
objj_addClassForBundle(_d,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_d,[new objj_method(sel_getUid("setColor:"),function(_33,_34,_35){
with(_33){
if(_color===_35){
return;
}
_color=_35;
objj_msgSend(_33,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("drawRect:"),function(_36,_37,_38){
with(_36){
var _39=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),_3a=objj_msgSend(_36,"bounds");
CGContextBeginPath(_39);
CGContextMoveToPoint(_39,CGRectGetMinX(_3a),CGRectGetMinY(_3a));
CGContextAddLineToPoint(_39,CGRectGetMaxX(_3a),CGRectGetMidY(_3a));
CGContextAddLineToPoint(_39,CGRectGetMinX(_3a),CGRectGetMaxY(_3a));
CGContextClosePath(_39);
CGContextSetFillColor(_39,_color);
CGContextFillPath(_39);
}
})]);
p;17;_CPMenuItemView.ji;26;_CPMenuItemSeparatorView.ji;25;_CPMenuItemStandardView.ji;24;_CPMenuItemMenuBarView.jc;6973;
var _1=3,_2=16,_3=14,_4=17,_5=4;
var _6=nil,_7=nil,_8=[],_9=[];
var _a=objj_allocateClassPair(CPView,"_CPMenuItemView"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_menuItem"),new objj_ivar("_view"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),new objj_ivar("_showsStateColumn"),new objj_ivar("_stateView"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuView")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("initWithFrame:forMenuItem:"),function(_c,_d,_e,_f){
with(_c){
_c=objj_msgSendSuper({receiver:_c,super_class:objj_getClass("CPView")},"initWithFrame:",_e);
if(_c){
_menuItem=_f;
_showsStateColumn=YES;
_isDirty=YES;
objj_msgSend(_c,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_c,"synchronizeWithMenuItem");
}
return _c;
}
}),new objj_method(sel_getUid("minSize"),function(_10,_11){
with(_10){
return _minSize;
}
}),new objj_method(sel_getUid("setDirty"),function(_12,_13){
with(_12){
_isDirty=YES;
}
}),new objj_method(sel_getUid("synchronizeWithMenuItem"),function(_14,_15){
with(_14){
var _16=objj_msgSend(_menuItem,"view");
if(objj_msgSend(_menuItem,"isSeparatorItem")){
if(!objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemSeparatorView,"class"))){
objj_msgSend(_view,"removeFromSuperview");
_view=objj_msgSend(_CPMenuItemSeparatorView,"view");
}
}else{
if(_16){
if(_view!==_16){
objj_msgSend(_view,"removeFromSuperview");
_view=_16;
}
}else{
if(objj_msgSend(_menuItem,"menu")==objj_msgSend(CPApp,"mainMenu")){
if(!objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemMenuBarView,"class"))){
objj_msgSend(_view,"removeFromSuperview");
_view=objj_msgSend(_CPMenuItemMenuBarView,"view");
}
objj_msgSend(_view,"setMenuItem:",_menuItem);
}else{
if(!objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemStandardView,"class"))){
objj_msgSend(_view,"removeFromSuperview");
_view=objj_msgSend(_CPMenuItemStandardView,"view");
}
objj_msgSend(_view,"setMenuItem:",_menuItem);
}
}
}
if(objj_msgSend(_view,"superview")!==_14){
objj_msgSend(_14,"addSubview:",_view);
}
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("update"))){
objj_msgSend(_view,"update");
}
_minSize=objj_msgSend(_view,"frame").size;
objj_msgSend(_14,"setAutoresizesSubviews:",NO);
objj_msgSend(_14,"setFrameSize:",_minSize);
objj_msgSend(_14,"setAutoresizesSubviews:",YES);
}
}),new objj_method(sel_getUid("setShowsStateColumn:"),function(_17,_18,_19){
with(_17){
_showsStateColumn=_19;
}
}),new objj_method(sel_getUid("highlight:"),function(_1a,_1b,_1c){
with(_1a){
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("highlight:"))){
objj_msgSend(_view,"highlight:",_1c);
}
}
}),new objj_method(sel_getUid("activate:"),function(_1d,_1e,_1f){
with(_1d){
objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));
if(_1f){
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_1d,"activateColor")||objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_1d,"activateShadowColor")||objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_submenuView,"setColor:",objj_msgSend(_1d,"activateColor")||objj_msgSend(CPColor,"whiteColor"));
}else{
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_1d,"textColor"));
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_1d,"textShadowColor"));
objj_msgSend(_submenuView,"setColor:",objj_msgSend(_1d,"textColor"));
}
}
}),new objj_method(sel_getUid("eventOnSubmenu:"),function(_20,_21,_22){
with(_20){
if(!objj_msgSend(_menuItem,"hasSubmenu")){
return NO;
}
return CGRectContainsPoint(objj_msgSend(_submenuView,"frame"),objj_msgSend(_20,"convertPoint:fromView:",objj_msgSend(_22,"locationInWindow"),nil));
}
}),new objj_method(sel_getUid("isHidden"),function(_23,_24){
with(_23){
return objj_msgSend(_menuItem,"isHidden");
}
}),new objj_method(sel_getUid("menuItem"),function(_25,_26){
with(_25){
return _menuItem;
}
}),new objj_method(sel_getUid("setFont:"),function(_27,_28,_29){
with(_27){
if(_font===_29){
return;
}
_font=_29;
if(objj_msgSend(_view,"respondsToSelector:",sel_getUid("setFont:"))){
objj_msgSend(_view,"setFont:",_29);
}
objj_msgSend(_27,"setDirty");
}
}),new objj_method(sel_getUid("setTextColor:"),function(_2a,_2b,_2c){
with(_2a){
if(_textColor==_2c){
return;
}
_textColor=_2c;
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(_2a,"textColor"));
objj_msgSend(_submenuView,"setColor:",objj_msgSend(_2a,"textColor"));
}
}),new objj_method(sel_getUid("textColor"),function(_2d,_2e){
with(_2d){
return nil;
}
}),new objj_method(sel_getUid("setTextShadowColor:"),function(_2f,_30,_31){
with(_2f){
if(_textShadowColor==_31){
return;
}
_textShadowColor=_31;
objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(_2f,"textShadowColor"));
}
}),new objj_method(sel_getUid("textShadowColor"),function(_32,_33){
with(_32){
return objj_msgSend(_menuItem,"isEnabled")?(_textShadowColor?_textShadowColor:objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)):objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,0.8);
}
})]);
class_addMethods(_b,[new objj_method(sel_getUid("initialize"),function(_34,_35){
with(_34){
if(_34!=objj_msgSend(_CPMenuItemView,"class")){
return;
}
_6=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);
_7=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);
var _36=objj_msgSend(CPBundle,"bundleForClass:",_34);
_8[CPOffState]=nil;
_9[CPOffState]=nil;
_8[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_36,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));
_9[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_36,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14));
_8[CPMixedState]=nil;
_9[CPMixedState]=nil;
}
}),new objj_method(sel_getUid("leftMargin"),function(_37,_38){
with(_37){
return _1+_3;
}
})]);
var _a=objj_allocateClassPair(CPView,"_CPMenuItemArrowView"),_b=_a.isa;
class_addIvars(_a,[new objj_ivar("_color")]);
objj_registerClassPair(_a);
objj_addClassForBundle(_a,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_a,[new objj_method(sel_getUid("setColor:"),function(_39,_3a,_3b){
with(_39){
if(_color==_3b){
return;
}
_color=_3b;
objj_msgSend(_39,"setNeedsDisplay:",YES);
}
}),new objj_method(sel_getUid("drawRect:"),function(_3c,_3d,_3e){
with(_3c){
var _3f=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");
CGContextBeginPath(_3f);
CGContextMoveToPoint(_3f,1,4);
CGContextAddLineToPoint(_3f,9,4);
CGContextAddLineToPoint(_3f,5,8);
CGContextAddLineToPoint(_3f,1,4);
CGContextClosePath(_3f);
CGContextSetFillColor(_3f,_color);
CGContextFillPath(_3f);
}
})]);
p;12;CPMenuItem.jI;20;Foundation/CPCoder.jI;21;Foundation/CPObject.jI;21;Foundation/CPString.ji;9;CPImage.ji;8;CPMenu.ji;8;CPView.ji;17;_CPMenuItemView.jc;14606;
var _1=objj_allocateClassPair(CPObject,"CPMenuItem"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),new objj_ivar("_menuItemView")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("init"),function(_3,_4){
with(_3){
return objj_msgSend(_3,"initWithTitle:action:keyEquivalent:","",nil,nil);
}
}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(_5,_6,_7,_8,_9){
with(_5){
_5=objj_msgSendSuper({receiver:_5,super_class:objj_getClass("CPObject")},"init");
if(_5){
_isSeparator=NO;
_title=_7;
_action=_8;
_isEnabled=YES;
_tag=0;
_state=CPOffState;
_keyEquivalent=_9||"";
_keyEquivalentModifierMask=CPPlatformActionKeyMask;
_indentationLevel=0;
_mnemonicLocation=CPNotFound;
}
return _5;
}
}),new objj_method(sel_getUid("setEnabled:"),function(_a,_b,_c){
with(_a){
if(objj_msgSend(_menu,"autoenablesItems")){
return;
}
_isEnabled=_c;
objj_msgSend(_menuItemView,"setDirty");
objj_msgSend(_menu,"itemChanged:",_a);
}
}),new objj_method(sel_getUid("isEnabled"),function(_d,_e){
with(_d){
return _isEnabled;
}
}),new objj_method(sel_getUid("setHidden:"),function(_f,_10,_11){
with(_f){
if(_isHidden==_11){
return;
}
_isHidden=_11;
objj_msgSend(_menu,"itemChanged:",_f);
}
}),new objj_method(sel_getUid("isHidden"),function(_12,_13){
with(_12){
return _isHidden;
}
}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(_14,_15){
with(_14){
if(_isHidden){
return YES;
}
var _16=objj_msgSend(_menu,"supermenu");
if(objj_msgSend(objj_msgSend(_16,"itemAtIndex:",objj_msgSend(_16,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor")){
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("setTarget:"),function(_17,_18,_19){
with(_17){
_target=_19;
}
}),new objj_method(sel_getUid("target"),function(_1a,_1b){
with(_1a){
return _target;
}
}),new objj_method(sel_getUid("setAction:"),function(_1c,_1d,_1e){
with(_1c){
_action=_1e;
}
}),new objj_method(sel_getUid("action"),function(_1f,_20){
with(_1f){
return _action;
}
}),new objj_method(sel_getUid("setTitle:"),function(_21,_22,_23){
with(_21){
_mnemonicLocation=CPNotFound;
if(_title==_23){
return;
}
_title=_23;
objj_msgSend(_menuItemView,"setDirty");
objj_msgSend(_menu,"itemChanged:",_21);
}
}),new objj_method(sel_getUid("title"),function(_24,_25){
with(_24){
return _title;
}
}),new objj_method(sel_getUid("setTextColor:"),function(_26,_27,_28){
with(_26){
}
}),new objj_method(sel_getUid("setFont:"),function(_29,_2a,_2b){
with(_29){
if(_font==_2b){
return;
}
_font=_2b;
objj_msgSend(_menu,"itemChanged:",_29);
objj_msgSend(_menuItemView,"setDirty");
}
}),new objj_method(sel_getUid("font"),function(_2c,_2d){
with(_2c){
return _font;
}
}),new objj_method(sel_getUid("setTag:"),function(_2e,_2f,_30){
with(_2e){
_tag=_30;
}
}),new objj_method(sel_getUid("tag"),function(_31,_32){
with(_31){
return _tag;
}
}),new objj_method(sel_getUid("setState:"),function(_33,_34,_35){
with(_33){
if(_state==_35){
return;
}
_state=_35;
objj_msgSend(_menu,"itemChanged:",_33);
objj_msgSend(_menuItemView,"setDirty");
}
}),new objj_method(sel_getUid("state"),function(_36,_37){
with(_36){
return _state;
}
}),new objj_method(sel_getUid("setImage:"),function(_38,_39,_3a){
with(_38){
if(_image==_3a){
return;
}
_image=_3a;
objj_msgSend(_menuItemView,"setDirty");
objj_msgSend(_menu,"itemChanged:",_38);
}
}),new objj_method(sel_getUid("image"),function(_3b,_3c){
with(_3b){
return _image;
}
}),new objj_method(sel_getUid("setAlternateImage:"),function(_3d,_3e,_3f){
with(_3d){
_alternateImage=_3f;
}
}),new objj_method(sel_getUid("alternateImage"),function(_40,_41){
with(_40){
return _alternateImage;
}
}),new objj_method(sel_getUid("setOnStateImage:"),function(_42,_43,_44){
with(_42){
if(_onStateImage==_44){
return;
}
_onStateImage=_44;
objj_msgSend(_menu,"itemChanged:",_42);
}
}),new objj_method(sel_getUid("onStateImage"),function(_45,_46){
with(_45){
return _onStateImage;
}
}),new objj_method(sel_getUid("setOffStateImage:"),function(_47,_48,_49){
with(_47){
if(_offStateImage==_49){
return;
}
_offStateImage=_49;
objj_msgSend(_menu,"itemChanged:",_47);
}
}),new objj_method(sel_getUid("offStateImage"),function(_4a,_4b){
with(_4a){
return _offStateImage;
}
}),new objj_method(sel_getUid("setMixedStateImage:"),function(_4c,_4d,_4e){
with(_4c){
if(_mixedStateImage==_4e){
return;
}
_mixedStateImage=_4e;
objj_msgSend(_menu,"itemChanged:",_4c);
}
}),new objj_method(sel_getUid("mixedStateImage"),function(_4f,_50){
with(_4f){
return _mixedStateImage;
}
}),new objj_method(sel_getUid("setSubmenu:"),function(_51,_52,_53){
with(_51){
if(_submenu===_53){
return;
}
var _54=objj_msgSend(_submenu,"supermenu");
if(_54){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+objj_msgSend(_53,"title")+"\" to item \""+objj_msgSend(_51,"title")+"\", because it is already submenu of \""+objj_msgSend(objj_msgSend(_53,"supermenu"),"title")+"\"");
}
_submenu=_53;
if(_submenu){
objj_msgSend(_submenu,"setSupermenu:",_menu);
objj_msgSend(_51,"setTarget:",_menu);
objj_msgSend(_51,"setAction:",sel_getUid("submenuAction:"));
}else{
objj_msgSend(_51,"setTarget:",nil);
objj_msgSend(_51,"setAction:",NULL);
}
objj_msgSend(_menuItemView,"setDirty");
objj_msgSend(_menu,"itemChanged:",_51);
}
}),new objj_method(sel_getUid("submenu"),function(_55,_56){
with(_55){
return _submenu;
}
}),new objj_method(sel_getUid("hasSubmenu"),function(_57,_58){
with(_57){
return _submenu?YES:NO;
}
}),new objj_method(sel_getUid("isSeparatorItem"),function(_59,_5a){
with(_59){
return _isSeparator;
}
}),new objj_method(sel_getUid("setMenu:"),function(_5b,_5c,_5d){
with(_5b){
_menu=_5d;
}
}),new objj_method(sel_getUid("menu"),function(_5e,_5f){
with(_5e){
return _menu;
}
}),new objj_method(sel_getUid("setKeyEquivalent:"),function(_60,_61,_62){
with(_60){
_keyEquivalent=_62||"";
}
}),new objj_method(sel_getUid("keyEquivalent"),function(_63,_64){
with(_63){
return _keyEquivalent;
}
}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),function(_65,_66,_67){
with(_65){
_keyEquivalentModifierMask=_67;
}
}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(_68,_69){
with(_68){
return _keyEquivalentModifierMask;
}
}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(_6a,_6b){
with(_6a){
if(!objj_msgSend(_keyEquivalent,"length")){
return "";
}
var _6c=_keyEquivalent.toUpperCase(),_6d=_keyEquivalentModifierMask&CPShiftKeyMask||_6c===_keyEquivalent;
if(CPBrowserIsOperatingSystem(CPMacOperatingSystem)){
if(_keyEquivalentModifierMask&CPCommandKeyMask){
_6c="⌘"+_6c;
}
if(_6d){
_6c="⇧"+_6c;
}
if(_keyEquivalentModifierMask&CPAlternateKeyMask){
_6c="⌥"+_6c;
}
if(_keyEquivalentModifierMask&CPControlKeyMask){
_6c="^"+_6c;
}
}else{
if(_6d){
_6c="Shift-"+_6c;
}
if(_keyEquivalentModifierMask&CPAlternateKeyMask){
_6c="Alt-"+_6c;
}
if(_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask){
_6c="Ctrl-"+_6c;
}
}
return _6c;
}
}),new objj_method(sel_getUid("setMnemonicLocation:"),function(_6e,_6f,_70){
with(_6e){
_mnemonicLocation=_70;
}
}),new objj_method(sel_getUid("mnemonicLocation"),function(_71,_72){
with(_71){
return _mnemonicLocation;
}
}),new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(_73,_74,_75){
with(_73){
var _76=objj_msgSend(_75,"rangeOfString:","&").location;
if(_76==CPNotFound){
objj_msgSend(_73,"setTitle:",_75);
}else{
objj_msgSend(_73,"setTitle:",objj_msgSend(_75,"substringToIndex:",_76)+objj_msgSend(_75,"substringFromIndex:",_76+1));
objj_msgSend(_73,"setMnemonicLocation:",_76);
}
}
}),new objj_method(sel_getUid("mnemonic"),function(_77,_78){
with(_77){
return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation);
}
}),new objj_method(sel_getUid("setAlternate:"),function(_79,_7a,_7b){
with(_79){
_isAlternate=_7b;
}
}),new objj_method(sel_getUid("isAlternate"),function(_7c,_7d){
with(_7c){
return _isAlternate;
}
}),new objj_method(sel_getUid("setIndentationLevel:"),function(_7e,_7f,_80){
with(_7e){
if(_80<0){
objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"setIndentationLevel: argument must be greater than or equal to 0.");
}
_indentationLevel=MIN(15,_80);
}
}),new objj_method(sel_getUid("indentationLevel"),function(_81,_82){
with(_81){
return _indentationLevel;
}
}),new objj_method(sel_getUid("setToolTip:"),function(_83,_84,_85){
with(_83){
_toolTip=_85;
}
}),new objj_method(sel_getUid("toolTip"),function(_86,_87){
with(_86){
return _toolTip;
}
}),new objj_method(sel_getUid("setRepresentedObject:"),function(_88,_89,_8a){
with(_88){
_representedObject=_8a;
}
}),new objj_method(sel_getUid("representedObject"),function(_8b,_8c){
with(_8b){
return _representedObject;
}
}),new objj_method(sel_getUid("setView:"),function(_8d,_8e,_8f){
with(_8d){
if(_view===_8f){
return;
}
_view=_8f;
objj_msgSend(_menuItemView,"setDirty");
objj_msgSend(_menu,"itemChanged:",_8d);
}
}),new objj_method(sel_getUid("view"),function(_90,_91){
with(_90){
return _view;
}
}),new objj_method(sel_getUid("isHighlighted"),function(_92,_93){
with(_92){
return objj_msgSend(objj_msgSend(_92,"menu"),"highlightedItem")==_92;
}
}),new objj_method(sel_getUid("_menuItemView"),function(_94,_95){
with(_94){
if(!_menuItemView){
_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),_94);
}
return _menuItemView;
}
}),new objj_method(sel_getUid("_isSelectable"),function(_96,_97){
with(_96){
return !objj_msgSend(_96,"submenu")||objj_msgSend(_96,"action")!==sel_getUid("submenuAction:")||objj_msgSend(_96,"target")!==objj_msgSend(_96,"menu");
}
})]);
class_addMethods(_2,[new objj_method(sel_getUid("separatorItem"),function(_98,_99){
with(_98){
var _9a=objj_msgSend(objj_msgSend(_98,"alloc"),"initWithTitle:action:keyEquivalent:","",nil,nil);
_9a._isSeparator=YES;
return _9a;
}
})]);
var _9b="CPMenuItemIsSeparatorKey",_9c="CPMenuItemTitleKey",_9d="CPMenuItemTargetKey",_9e="CPMenuItemActionKey",_9f="CPMenuItemIsEnabledKey",_a0="CPMenuItemIsHiddenKey",_a1="CPMenuItemTagKey",_a2="CPMenuItemStateKey",_a3="CPMenuItemImageKey",_a4="CPMenuItemAlternateImageKey",_a5="CPMenuItemSubmenuKey",_a6="CPMenuItemMenuKey",_a7="CPMenuItemKeyEquivalentKey",_a8="CPMenuItemKeyEquivalentModifierMaskKey",_a9="CPMenuItemIndentationLevelKey",_aa="CPMenuItemRepresentedObjectKey",_ab="CPMenuItemViewKey";
var _1=objj_getClass("CPMenuItem");
if(!_1){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPMenuItem\""));
}
var _2=_1.isa;
class_addMethods(_1,[new objj_method(sel_getUid("initWithCoder:"),function(_ac,_ad,_ae){
with(_ac){
_ac=objj_msgSendSuper({receiver:_ac,super_class:objj_getClass("CPObject")},"init");
if(_ac){
_isSeparator=objj_msgSend(_ae,"containsValueForKey:",_9b)&&objj_msgSend(_ae,"decodeBoolForKey:",_9b);
_title=objj_msgSend(_ae,"decodeObjectForKey:",_9c);
_target=objj_msgSend(_ae,"decodeObjectForKey:",_9d);
_action=objj_msgSend(_ae,"decodeObjectForKey:",_9e);
_isEnabled=objj_msgSend(_ae,"containsValueForKey:",(_9f))?objj_msgSend(_ae,"decodeObjectForKey:",(_9f)):(YES);
_isHidden=objj_msgSend(_ae,"containsValueForKey:",(_a0))?objj_msgSend(_ae,"decodeObjectForKey:",(_a0)):(NO);
_tag=objj_msgSend(_ae,"containsValueForKey:",(_a1))?objj_msgSend(_ae,"decodeObjectForKey:",(_a1)):(0);
_state=objj_msgSend(_ae,"containsValueForKey:",(_a2))?objj_msgSend(_ae,"decodeObjectForKey:",(_a2)):(CPOffState);
_image=objj_msgSend(_ae,"containsValueForKey:",(_a3))?objj_msgSend(_ae,"decodeObjectForKey:",(_a3)):(nil);
_alternateImage=objj_msgSend(_ae,"containsValueForKey:",(_a4))?objj_msgSend(_ae,"decodeObjectForKey:",(_a4)):(nil);
_menu=objj_msgSend(_ae,"containsValueForKey:",(_a6))?objj_msgSend(_ae,"decodeObjectForKey:",(_a6)):(nil);
objj_msgSend(_ac,"setSubmenu:",objj_msgSend(_ae,"containsValueForKey:",(_a5))?objj_msgSend(_ae,"decodeObjectForKey:",(_a5)):(nil));
_keyEquivalent=objj_msgSend(_ae,"decodeObjectForKey:",_a7)||"";
_keyEquivalentModifierMask=objj_msgSend(_ae,"decodeObjectForKey:",_a8)||0;
objj_msgSend(_ac,"setIndentationLevel:",objj_msgSend(_ae,"decodeIntForKey:",_a9)||0);
_representedObject=objj_msgSend(_ae,"containsValueForKey:",(_aa))?objj_msgSend(_ae,"decodeObjectForKey:",(_aa)):(nil);
_view=objj_msgSend(_ae,"containsValueForKey:",(_ab))?objj_msgSend(_ae,"decodeObjectForKey:",(_ab)):(nil);
}
return _ac;
}
}),new objj_method(sel_getUid("encodeWithCoder:"),function(_af,_b0,_b1){
with(_af){
if(_isSeparator){
objj_msgSend(_b1,"encodeBool:forKey:",_isSeparator,_9b);
}
objj_msgSend(_b1,"encodeObject:forKey:",_title,_9c);
objj_msgSend(_b1,"encodeObject:forKey:",_target,_9d);
objj_msgSend(_b1,"encodeObject:forKey:",_action,_9e);
if((_isEnabled)!==(YES)){
objj_msgSend(_b1,"encodeObject:forKey:",(_isEnabled),(_9f));
}
if((_isHidden)!==(NO)){
objj_msgSend(_b1,"encodeObject:forKey:",(_isHidden),(_a0));
}
if((_tag)!==(0)){
objj_msgSend(_b1,"encodeObject:forKey:",(_tag),(_a1));
}
if((_state)!==(CPOffState)){
objj_msgSend(_b1,"encodeObject:forKey:",(_state),(_a2));
}
if((_image)!==(nil)){
objj_msgSend(_b1,"encodeObject:forKey:",(_image),(_a3));
}
if((_alternateImage)!==(nil)){
objj_msgSend(_b1,"encodeObject:forKey:",(_alternateImage),(_a4));
}
if((_submenu)!==(nil)){
objj_msgSend(_b1,"encodeObject:forKey:",(_submenu),(_a5));
}
if((_menu)!==(nil)){
objj_msgSend(_b1,"encodeObject:forKey:",(_menu),(_a6));
}
if(_keyEquivalent&&_keyEquivalent.length){
objj_msgSend(_b1,"encodeObject:forKey:",_keyEquivalent,_a7);
}
if(_keyEquivalentModifierMask){
objj_msgSend(_b1,"encodeObject:forKey:",_keyEquivalentModifierMask,_a8);
}
if(_indentationLevel>0){
objj_msgSend(_b1,"encodeInt:forKey:",_indentationLevel,_a9);
}
if((_representedObject)!==(nil)){
objj_msgSend(_b1,"encodeObject:forKey:",(_representedObject),(_aa));
}
if((_view)!==(nil)){
objj_msgSend(_b1,"encodeObject:forKey:",(_view),(_ab));
}
}
})]);
p;31;_CPBorderlessBridgeWindowView.ji;15;_CPWindowView.jc;1991;
var _1=nil;
var _2=objj_allocateClassPair(_CPWindowView,"_CPBorderlessBridgeWindowView"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_toolbarBackgroundView")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("setShowsResizeIndicator:"),function(_4,_5,_6){
with(_4){
}
}),new objj_method(sel_getUid("tile"),function(_7,_8){
with(_7){
objj_msgSendSuper({receiver:_7,super_class:objj_getClass("_CPWindowView")},"tile");
var _9=objj_msgSend(_7,"window"),_a=objj_msgSend(_7,"bounds");
objj_msgSend(objj_msgSend(_9,"contentView"),"setFrame:",CGRectMake(0,objj_msgSend(_7,"toolbarMaxY"),CGRectGetWidth(_a),CGRectGetHeight(_a)-objj_msgSend(_7,"toolbarMaxY")));
if(!objj_msgSend(objj_msgSend(_9,"toolbar"),"isVisible")){
objj_msgSend(_toolbarBackgroundView,"removeFromSuperview");
_toolbarBackgroundView=nil;
return;
}
if(!_toolbarBackgroundView){
_toolbarBackgroundView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_toolbarBackgroundView,"setBackgroundColor:",objj_msgSend(objj_msgSend(_7,"class"),"toolbarBackgroundColor"));
objj_msgSend(_toolbarBackgroundView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_7,"addSubview:positioned:relativeTo:",_toolbarBackgroundView,CPWindowBelow,nil);
}
var _b=CGRectMakeZero();
_b.origin=CGPointMakeCopy(objj_msgSend(_7,"toolbarOffset"));
_b.size=objj_msgSend(_toolbarView,"frame").size;
objj_msgSend(_toolbarBackgroundView,"setFrame:",_b);
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("toolbarBackgroundColor"),function(_c,_d){
with(_c){
if(!_1){
_1=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPBorderlessBridgeWindowView,"class")),"pathForResource:","_CPToolbarView/_CPToolbarViewBackground.png"),CGSizeMake(1,59)));
}
return _1;
}
})]);
p;25;_CPBorderlessWindowView.ji;15;_CPWindowView.jc;188;
var _1=objj_allocateClassPair(_CPWindowView,"_CPBorderlessWindowView"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
p;23;_CPDocModalWindowView.ji;15;_CPWindowView.jc;1336;
var _1=nil;
var _2=objj_allocateClassPair(_CPWindowView,"_CPDocModalWindowView"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_bodyView")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithFrame:styleMask:"),function(_4,_5,_6,_7){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("_CPWindowView")},"initWithFrame:styleMask:",_6,_7);
if(_4){
var _8=objj_msgSend(_4,"class"),_9=objj_msgSend(_4,"bounds");
_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(_9),CGRectGetHeight(_9)));
objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(_8,"bodyBackgroundColor"));
objj_msgSend(_bodyView,"setHitTests:",NO);
objj_msgSend(_4,"addSubview:",_bodyView);
}
return _4;
}
}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(_a,_b,_c){
with(_a){
return _c;
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_d,_e,_f){
with(_d){
return _f;
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("bodyBackgroundColor"),function(_10,_11){
with(_10){
if(!_1){
_1=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,0.9);
}
return _1;
}
})]);
p;18;_CPHUDWindowView.jc;6989;
var _1=nil,_2=nil;
var _3=26;
var _4=objj_allocateClassPair(_CPWindowView,"_CPHUDWindowView"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(_6,_7,_8){
with(_6){
var _9=objj_msgSend(objj_msgSend(_6,"class"),"contentRectForFrameRect:",_8);
if(objj_msgSend(objj_msgSend(objj_msgSend(_6,"window"),"toolbar"),"isVisible")){
toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(_6,"toolbarView"),"frame"));
_9.origin.y+=toolbarHeight;
_9.size.height-=toolbarHeight;
}
return _9;
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_a,_b,_c){
with(_a){
var _d=objj_msgSend(objj_msgSend(_a,"class"),"frameRectForContentRect:",_c);
if(objj_msgSend(objj_msgSend(objj_msgSend(_a,"window"),"toolbar"),"isVisible")){
toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(_a,"toolbarView"),"frame"));
_d.origin.y-=toolbarHeight;
_d.size.height+=toolbarHeight;
}
return _d;
}
}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(_e,_f,_10,_11){
with(_e){
_e=objj_msgSendSuper({receiver:_e,super_class:objj_getClass("_CPWindowView")},"initWithFrame:styleMask:",_10,_11);
if(_e){
var _12=objj_msgSend(_e,"bounds");
objj_msgSend(_e,"setBackgroundColor:",_1);
_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_titleField,"setHitTests:",NO);
objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11));
objj_msgSend(_titleField,"setTextColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor"));
objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail);
objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_titleField,"setStringValue:","Untitled");
objj_msgSend(_titleField,"sizeToFit");
objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_titleField,"setStringValue:","");
objj_msgSend(_titleField,"setFrame:",CGRectMake(20,3,CGRectGetWidth(objj_msgSend(_e,"bounds"))-40,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));
objj_msgSend(_e,"addSubview:",_titleField);
if(_styleMask&CPClosableWindowMask){
var _13=objj_msgSend(_CPHUDWindowViewCloseImage,"size");
_closeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(4,4,_13.width,_13.height));
objj_msgSend(_closeButton,"setBordered:",NO);
objj_msgSend(_closeButton,"setImage:",_CPHUDWindowViewCloseImage);
objj_msgSend(_closeButton,"setAlternateImage:",_CPHUDWindowViewCloseActiveImage);
objj_msgSend(_e,"addSubview:",_closeButton);
}
objj_msgSend(_e,"setResizeIndicatorOffset:",CGSizeMake(5,5));
}
return _e;
}
}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(_14,_15){
with(_14){
objj_msgSend(_closeButton,"setTarget:",objj_msgSend(_14,"window"));
objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:"));
}
}),new objj_method(sel_getUid("setTitle:"),function(_16,_17,_18){
with(_16){
objj_msgSend(_titleField,"setStringValue:",_18);
}
}),new objj_method(sel_getUid("toolbarView"),function(_19,_1a){
with(_19){
return _toolbarView;
}
}),new objj_method(sel_getUid("toolbarLabelColor"),function(_1b,_1c){
with(_1b){
return objj_msgSend(CPColor,"whiteColor");
}
}),new objj_method(sel_getUid("toolbarLabelShadowColor"),function(_1d,_1e){
with(_1d){
return objj_msgSend(CPColor,"blackColor");
}
}),new objj_method(sel_getUid("toolbarOffset"),function(_1f,_20){
with(_1f){
return CGSizeMake(0,_3);
}
}),new objj_method(sel_getUid("tile"),function(_21,_22){
with(_21){
objj_msgSendSuper({receiver:_21,super_class:objj_getClass("_CPWindowView")},"tile");
var _23=objj_msgSend(_21,"window"),_24=objj_msgSend(_21,"bounds"),_25=CGRectGetWidth(_24);
objj_msgSend(_titleField,"setFrame:",CGRectMake(20,3,_25-40,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));
var _26=objj_msgSend(_21,"toolbarMaxY");
objj_msgSend(objj_msgSend(_23,"contentView"),"setFrameOrigin:",CGPointMake(0,_26,_25,CGRectGetHeight(_24)-_26));
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("initialize"),function(_27,_28){
with(_27){
if(_27!=objj_msgSend(_CPHUDWindowView,"class")){
return;
}
var _29=objj_msgSend(CPBundle,"bundleForClass:",_27);
_1=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground0.png"),CPSizeMake(6,78)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground1.png"),CPSizeMake(1,78)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground2.png"),CPSizeMake(6,78)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground3.png"),CPSizeMake(6,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground4.png"),CPSizeMake(5,5)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground5.png"),CPSizeMake(6,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground6.png"),CPSizeMake(6,6)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground7.png"),CPSizeMake(6,6)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground8.png"),CPSizeMake(6,6))]));
_CPHUDWindowViewCloseImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","HUDTheme/WindowClose.png"),CPSizeMake(20,20));
_CPHUDWindowViewCloseActiveImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_29,"pathForResource:","HUDTheme/WindowCloseActive.png"),CPSizeMake(20,20));
}
}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(_2a,_2b,_2c){
with(_2a){
var _2d=CGRectMakeCopy(_2c),_2e=_3;
_2d.origin.y+=_2e;
_2d.size.height-=_2e;
return _2d;
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_2f,_30,_31){
with(_2f){
var _32=CGRectMakeCopy(_31),_33=_3;
_32.origin.y-=_33;
_32.size.height+=_33;
return _32;
}
})]);
p;23;_CPStandardWindowView.ji;15;_CPWindowView.jc;11844;
var _1=41;
var _2=nil,_3=nil;
var _4=objj_allocateClassPair(CPView,"_CPTexturedWindowHeadView"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_gradientView"),new objj_ivar("_solidView"),new objj_ivar("_dividerView")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("initWithFrame:"),function(_6,_7,_8){
with(_6){
_6=objj_msgSendSuper({receiver:_6,super_class:objj_getClass("CPView")},"initWithFrame:",_8);
if(_6){
var _9=objj_msgSend(_6,"class"),_a=objj_msgSend(_6,"bounds");
_gradientView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(_a),_1));
objj_msgSend(_gradientView,"setBackgroundColor:",objj_msgSend(_9,"gradientColor"));
objj_msgSend(_6,"addSubview:",_gradientView);
_solidView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,_1,CGRectGetWidth(_a),CGRectGetHeight(_a)-_1));
objj_msgSend(_solidView,"setBackgroundColor:",objj_msgSend(_9,"solidColor"));
objj_msgSend(_6,"addSubview:",_solidView);
}
return _6;
}
}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(_b,_c,_d){
with(_b){
var _e=objj_msgSend(_b,"bounds");
objj_msgSend(_gradientView,"setFrameSize:",CGSizeMake(CGRectGetWidth(_e),_1));
objj_msgSend(_solidView,"setFrameSize:",CGSizeMake(CGRectGetWidth(_e),CGRectGetHeight(_e)-_1));
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("gradientColor"),function(_f,_10){
with(_f){
if(!_2){
var _11=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPWindowView,"class"));
_2=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_11,"pathForResource:","CPWindow/Standard/CPWindowStandardTop0.png"),CGSizeMake(6,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_11,"pathForResource:","CPWindow/Standard/CPWindowStandardTop1.png"),CGSizeMake(1,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_11,"pathForResource:","CPWindow/Standard/CPWindowStandardTop2.png"),CGSizeMake(6,41))],NO));
}
return _2;
}
}),new objj_method(sel_getUid("solidColor"),function(_12,_13){
with(_12){
if(!_3){
_3=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",195/255,195/255,195/255,1);
}
return _3;
}
})]);
var _14=nil,_15=nil,_16=nil,_17=nil,_18=nil,_19=nil,_1a=nil,_1b=nil,_1c=nil;
var _1d=41;
STANDARD_TITLEBAR_HEIGHT=25;
var _4=objj_allocateClassPair(_CPWindowView,"_CPStandardWindowView"),_5=_4.isa;
class_addIvars(_4,[new objj_ivar("_headView"),new objj_ivar("_dividerView"),new objj_ivar("_bodyView"),new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton"),new objj_ivar("_minimizeButton"),new objj_ivar("_isDocumentEdited")]);
objj_registerClassPair(_4);
objj_addClassForBundle(_4,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_4,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(_1e,_1f,_20){
with(_1e){
var _21=objj_msgSend(objj_msgSend(_1e,"class"),"contentRectForFrameRect:",_20),_22=objj_msgSend(objj_msgSend(_1e,"window"),"toolbar");
if(objj_msgSend(_22,"isVisible")){
toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(_22,"_toolbarView"),"frame"));
_21.origin.y+=toolbarHeight;
_21.size.height-=toolbarHeight;
}
return _21;
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_23,_24,_25){
with(_23){
var _26=objj_msgSend(objj_msgSend(_23,"class"),"frameRectForContentRect:",_25),_27=objj_msgSend(objj_msgSend(_23,"window"),"toolbar");
if(objj_msgSend(_27,"isVisible")){
toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(_27,"_toolbarView"),"frame"));
_26.origin.y-=toolbarHeight;
_26.size.height+=toolbarHeight;
}
return _26;
}
}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(_28,_29,_2a,_2b){
with(_28){
_28=objj_msgSendSuper({receiver:_28,super_class:objj_getClass("_CPWindowView")},"initWithFrame:styleMask:",_2a,_2b);
if(_28){
var _2c=objj_msgSend(_28,"class"),_2d=objj_msgSend(_28,"bounds");
_headView=objj_msgSend(objj_msgSend(_CPTexturedWindowHeadView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(_2d),objj_msgSend(objj_msgSend(_28,"class"),"titleBarHeight")));
objj_msgSend(_headView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_headView,"setHitTests:",NO);
objj_msgSend(_28,"addSubview:",_headView);
_dividerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),CGRectGetWidth(_2d),1));
objj_msgSend(_dividerView,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_dividerView,"setBackgroundColor:",objj_msgSend(_2c,"dividerBackgroundColor"));
objj_msgSend(_dividerView,"setHitTests:",NO);
objj_msgSend(_28,"addSubview:",_dividerView);
var y=CGRectGetMaxY(objj_msgSend(_dividerView,"frame"));
_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,y,CGRectGetWidth(_2d),CGRectGetHeight(_2d)-y));
objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(_2c,"bodyBackgroundColor"));
objj_msgSend(_bodyView,"setHitTests:",NO);
objj_msgSend(_28,"addSubview:",_bodyView);
objj_msgSend(_28,"setResizeIndicatorOffset:",CGSizeMake(2,2));
_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());
objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",12));
objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail);
objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment);
objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor"));
objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1));
objj_msgSend(_titleField,"setStringValue:","Untitled");
objj_msgSend(_titleField,"sizeToFit");
objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable);
objj_msgSend(_titleField,"setStringValue:","");
objj_msgSend(_28,"addSubview:",_titleField);
if(_styleMask&CPClosableWindowMask){
if(!_17){
var _2e=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class"));
_17=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButton.png"),CGSizeMake(16,16));
_18=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonHighlighted.png"),CGSizeMake(16,16));
_19=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsaved.png"),CGSizeMake(16,16));
_1a=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsavedHighlighted.png"),CGSizeMake(16,16));
}
_closeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(8,7,16,16));
objj_msgSend(_closeButton,"setBordered:",NO);
objj_msgSend(_28,"_updateCloseButton");
objj_msgSend(_28,"addSubview:",_closeButton);
}
if(_styleMask&CPMiniaturizableWindowMask&&!objj_msgSend(CPPlatform,"isBrowser")){
if(!_1b){
var _2e=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class"));
_1b=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButton.png"),CGSizeMake(16,16));
_1c=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_2e,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButtonHighlighted.png"),CGSizeMake(16,16));
}
_minimizeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(27,7,16,16));
objj_msgSend(_minimizeButton,"setBordered:",NO);
objj_msgSend(_minimizeButton,"setImage:",_1b);
objj_msgSend(_minimizeButton,"setAlternateImage:",_1c);
objj_msgSend(_28,"addSubview:",_minimizeButton);
}
objj_msgSend(_28,"tile");
}
return _28;
}
}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(_2f,_30){
with(_2f){
objj_msgSend(_closeButton,"setTarget:",objj_msgSend(_2f,"window"));
objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:"));
objj_msgSend(_minimizeButton,"setTarget:",objj_msgSend(_2f,"window"));
objj_msgSend(_minimizeButton,"setAction:",sel_getUid("performMiniaturize:"));
}
}),new objj_method(sel_getUid("toolbarOffset"),function(_31,_32){
with(_31){
return CGSizeMake(0,objj_msgSend(objj_msgSend(_31,"class"),"titleBarHeight"));
}
}),new objj_method(sel_getUid("tile"),function(_33,_34){
with(_33){
objj_msgSendSuper({receiver:_33,super_class:objj_getClass("_CPWindowView")},"tile");
var _35=objj_msgSend(_33,"window"),_36=objj_msgSend(_33,"bounds"),_37=CGRectGetWidth(_36);
objj_msgSend(_headView,"setFrameSize:",CGSizeMake(_37,objj_msgSend(_33,"toolbarMaxY")));
objj_msgSend(_dividerView,"setFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),_37,1));
var _38=CGRectGetMaxY(objj_msgSend(_dividerView,"frame"));
objj_msgSend(_bodyView,"setFrame:",CGRectMake(0,_38,_37,CGRectGetHeight(_36)-_38));
var _39=8;
if(_closeButton){
_39+=19;
}
if(_minimizeButton){
_39+=19;
}
objj_msgSend(_titleField,"setFrame:",CGRectMake(_39,5,_37-_39*2,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));
objj_msgSend(objj_msgSend(_35,"contentView"),"setFrameOrigin:",CGPointMake(0,CGRectGetMaxY(objj_msgSend(_dividerView,"frame"))));
}
}),new objj_method(sel_getUid("_updateCloseButton"),function(_3a,_3b){
with(_3a){
if(_isDocumentEdited){
objj_msgSend(_closeButton,"setImage:",_19);
objj_msgSend(_closeButton,"setAlternateImage:",_1a);
}else{
objj_msgSend(_closeButton,"setImage:",_17);
objj_msgSend(_closeButton,"setAlternateImage:",_18);
}
}
}),new objj_method(sel_getUid("setDocumentEdited:"),function(_3c,_3d,_3e){
with(_3c){
_isDocumentEdited=_3e;
objj_msgSend(_3c,"_updateCloseButton");
}
}),new objj_method(sel_getUid("setTitle:"),function(_3f,_40,_41){
with(_3f){
objj_msgSend(_titleField,"setStringValue:",_41);
}
}),new objj_method(sel_getUid("mouseDown:"),function(_42,_43,_44){
with(_42){
if(CGRectContainsPoint(objj_msgSend(_headView,"frame"),objj_msgSend(_42,"convertPoint:fromView:",objj_msgSend(_44,"locationInWindow"),nil))){
return objj_msgSend(_42,"trackMoveWithEvent:",_44);
}
objj_msgSendSuper({receiver:_42,super_class:objj_getClass("_CPWindowView")},"mouseDown:",_44);
}
})]);
class_addMethods(_5,[new objj_method(sel_getUid("bodyBackgroundColor"),function(_45,_46){
with(_45){
if(!_14){
_14=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,1);
}
return _14;
}
}),new objj_method(sel_getUid("dividerBackgroundColor"),function(_47,_48){
with(_47){
if(!_15){
_15=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",125/255,125/255,125/255,1);
}
return _15;
}
}),new objj_method(sel_getUid("titleColor"),function(_49,_4a){
with(_49){
if(!_16){
_16=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",44/255,44/255,44/255,1);
}
return _16;
}
}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(_4b,_4c,_4d){
with(_4b){
var _4e=CGRectMakeCopy(_4d),_4f=objj_msgSend(_4b,"titleBarHeight")+1;
_4e.origin.y+=_4f;
_4e.size.height-=_4f;
return _4e;
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_50,_51,_52){
with(_50){
var _53=CGRectMakeCopy(_52),_54=objj_msgSend(_50,"titleBarHeight")+1;
_53.origin.y-=_54;
_53.size.height+=_54;
return _53;
}
}),new objj_method(sel_getUid("titleBarHeight"),function(_55,_56){
with(_55){
return STANDARD_TITLEBAR_HEIGHT;
}
})]);
p;15;_CPWindowView.ji;8;CPView.ji;13;CPImageView.jc;9160;
var _1=nil;
var _2=objj_allocateClassPair(CPView,"_CPWindowView"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_styleMask"),new objj_ivar("_resizeIndicator"),new objj_ivar("_resizeIndicatorOffset"),new objj_ivar("_toolbarView"),new objj_ivar("_resizeFrame"),new objj_ivar("_mouseDraggedPoint"),new objj_ivar("_cachedScreenFrame")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(_4,_5,_6){
with(_4){
return objj_msgSend(objj_msgSend(_4,"class"),"contentRectForFrameRect:",_6);
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_7,_8,_9){
with(_7){
return objj_msgSend(objj_msgSend(_7,"class"),"frameRectForContentRect:",_9);
}
}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(_a,_b,_c,_d){
with(_a){
_a=objj_msgSendSuper({receiver:_a,super_class:objj_getClass("CPView")},"initWithFrame:",_c);
if(_a){
_styleMask=_d;
_resizeIndicatorOffset=CGSizeMake(0,0);
_toolbarOffset=CGSizeMake(0,0);
}
return _a;
}
}),new objj_method(sel_getUid("setDocumentEdited:"),function(_e,_f,_10){
with(_e){
}
}),new objj_method(sel_getUid("setTitle:"),function(_11,_12,_13){
with(_11){
}
}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(_14,_15,_16){
with(_14){
return YES;
}
}),new objj_method(sel_getUid("mouseDown:"),function(_17,_18,_19){
with(_17){
var _1a=objj_msgSend(_17,"window");
if((_styleMask&CPResizableWindowMask)&&_resizeIndicator){
var _1b=objj_msgSend(_resizeIndicator,"frame");
if(CGRectContainsPoint(_1b,objj_msgSend(_17,"convertPoint:fromView:",objj_msgSend(_19,"locationInWindow"),nil))){
return objj_msgSend(_17,"trackResizeWithEvent:",_19);
}
}
if(objj_msgSend(_1a,"isMovableByWindowBackground")){
objj_msgSend(_17,"trackMoveWithEvent:",_19);
}else{
objj_msgSendSuper({receiver:_17,super_class:objj_getClass("CPView")},"mouseDown:",_19);
}
}
}),new objj_method(sel_getUid("trackResizeWithEvent:"),function(_1c,_1d,_1e){
with(_1c){
var _1f=objj_msgSend(_1e,"locationInWindow"),_20=objj_msgSend(_1e,"type");
if(_20===CPLeftMouseUp){
return;
}
var _21=objj_msgSend(_1c,"window");
if(_20===CPLeftMouseDown){
var _22=objj_msgSend(_21,"frame");
_resizeFrame=CGRectMake(_1f.x,_1f.y,CGRectGetWidth(_22),CGRectGetHeight(_22));
}else{
if(_20===CPLeftMouseDragged){
var _23=CGSizeMake(CGRectGetWidth(_resizeFrame)+_1f.x-CGRectGetMinX(_resizeFrame),CGRectGetHeight(_resizeFrame)+_1f.y-CGRectGetMinY(_resizeFrame));
if(_21._isSheet&&_21._parentView&&(_21._frame.size.width!==_23.width)){
objj_msgSend(_21._parentView,"_setAttachedSheetFrameOrigin");
}
objj_msgSend(_21,"setFrameSize:",_23);
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_1c,sel_getUid("trackResizeWithEvent:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
}
}),new objj_method(sel_getUid("_pointWithinScreenFrame:"),function(_24,_25,_26){
with(_24){
if(!objj_msgSend(CPPlatform,"isBrowser")){
return _26;
}
var _27=_cachedScreenFrame;
if(!_27){
_27=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"visibleFrame");
}
var _28=0;
if(objj_msgSend(CPMenu,"menuBarVisible")){
_28=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight");
}
var _29=CGPointMake(0,0);
_29.x=MIN(MAX(_26.x,-_frame.size.width+4),CGRectGetMaxX(_27)-4);
_29.y=MIN(MAX(_26.y,_28),CGRectGetMaxY(_27)-8);
return _29;
}
}),new objj_method(sel_getUid("trackMoveWithEvent:"),function(_2a,_2b,_2c){
with(_2a){
var _2d=objj_msgSend(_2c,"type");
if(_2d===CPLeftMouseUp){
_cachedScreenFrame=nil;
return;
}else{
if(_2d===CPLeftMouseDown){
_mouseDraggedPoint=objj_msgSend(objj_msgSend(_2a,"window"),"convertBaseToGlobal:",objj_msgSend(_2c,"locationInWindow"));
_cachedScreenFrame=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"visibleFrame");
}else{
if(_2d===CPLeftMouseDragged){
var _2e=objj_msgSend(_2a,"window"),_2f=objj_msgSend(_2e,"frame"),_30=objj_msgSend(_2e,"convertBaseToGlobal:",objj_msgSend(_2c,"locationInWindow")),_31=objj_msgSend(_2a,"_pointWithinScreenFrame:",CGPointMake((_2f.origin.x)+(_30.x-_mouseDraggedPoint.x),(_2f.origin.y)+(_30.y-_mouseDraggedPoint.y)));
objj_msgSend(_2e,"setFrameOrigin:",_31);
_mouseDraggedPoint=objj_msgSend(_2a,"_pointWithinScreenFrame:",_30);
}
}
}
objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",_2a,sel_getUid("trackMoveWithEvent:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES);
}
}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(_32,_33,_34){
with(_32){
if(_34){
var _35=objj_msgSend(_1,"size"),_36=objj_msgSend(_32,"frame").size;
_resizeIndicator=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(_36.width-_35.width-_resizeIndicatorOffset.width,_36.height-_35.height-_resizeIndicatorOffset.height,_35.width,_35.height));
objj_msgSend(_resizeIndicator,"setImage:",_1);
objj_msgSend(_resizeIndicator,"setAutoresizingMask:",CPViewMinXMargin|CPViewMinYMargin);
objj_msgSend(_32,"addSubview:",_resizeIndicator);
}else{
objj_msgSend(_resizeIndicator,"removeFromSuperview");
_resizeIndicator=nil;
}
}
}),new objj_method(sel_getUid("showsResizeIndicator"),function(_37,_38){
with(_37){
return _resizeIndicator!==nil;
}
}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(_39,_3a,_3b){
with(_39){
if(CGSizeEqualToSize(_resizeIndicatorOffset,_3b)){
return;
}
_resizeIndicatorOffset=_3b;
if(!_resizeIndicator){
return;
}
var _3c=objj_msgSend(_resizeIndicator,"frame").size,_3d=objj_msgSend(_39,"frame").size;
objj_msgSend(_resizeIndicator,"setFrameOrigin:",CGPointMake(_3d.width-_3c.width-_3b.width,_3d.height-_3c.height-_3b.height));
}
}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(_3e,_3f){
with(_3e){
return _resizeIndicatorOffset;
}
}),new objj_method(sel_getUid("windowDidChangeDocumentEdited"),function(_40,_41){
with(_40){
}
}),new objj_method(sel_getUid("windowDidChangeDocumentSaving"),function(_42,_43){
with(_42){
}
}),new objj_method(sel_getUid("showsToolbar"),function(_44,_45){
with(_44){
return YES;
}
}),new objj_method(sel_getUid("toolbarOffset"),function(_46,_47){
with(_46){
return CGSizeMakeZero();
}
}),new objj_method(sel_getUid("toolbarLabelColor"),function(_48,_49){
with(_48){
return objj_msgSend(CPColor,"blackColor");
}
}),new objj_method(sel_getUid("toolbarMaxY"),function(_4a,_4b){
with(_4a){
if(!_toolbarView||objj_msgSend(_toolbarView,"isHidden")){
return objj_msgSend(_4a,"toolbarOffset").height;
}
return CGRectGetMaxY(objj_msgSend(_toolbarView,"frame"));
}
}),new objj_method(sel_getUid("toolbarView"),function(_4c,_4d){
with(_4c){
return _toolbarView;
}
}),new objj_method(sel_getUid("tile"),function(_4e,_4f){
with(_4e){
var _50=objj_msgSend(_4e,"window"),_51=objj_msgSend(_4e,"bounds"),_52=CGRectGetWidth(_51);
if(objj_msgSend(objj_msgSend(_50,"toolbar"),"isVisible")){
var _53=objj_msgSend(_4e,"toolbarView"),_54=objj_msgSend(_4e,"toolbarOffset");
objj_msgSend(_53,"setFrame:",CGRectMake(_54.width,_54.height,_52,CGRectGetHeight(objj_msgSend(_53,"frame"))));
}
if(objj_msgSend(_4e,"showsResizeIndicator")){
var _55=objj_msgSend(_resizeIndicator,"frame").size,_56=objj_msgSend(_4e,"bounds").size;
objj_msgSend(_resizeIndicator,"setFrameOrigin:",CGPointMake(_56.width-_55.width-_resizeIndicatorOffset.width,_56.height-_55.height-_resizeIndicatorOffset.height));
}
}
}),new objj_method(sel_getUid("noteToolbarChanged"),function(_57,_58){
with(_57){
var _59=objj_msgSend(_57,"window"),_5a=objj_msgSend(_59,"toolbar"),_5b=objj_msgSend(_5a,"_toolbarView");
if(_toolbarView!==_5b){
objj_msgSend(_toolbarView,"removeFromSuperview");
if(_5b){
objj_msgSend(_5b,"removeFromSuperview");
objj_msgSend(_5b,"FIXME_setIsHUD:",_styleMask&CPHUDBackgroundWindowMask);
objj_msgSend(_57,"addSubview:",_5b);
}
_toolbarView=_5b;
}
objj_msgSend(_5b,"setHidden:",!objj_msgSend(_57,"showsToolbar")||!objj_msgSend(_5a,"isVisible"));
if(_59){
var _5c=objj_msgSend(_57,"convertRect:toView:",objj_msgSend(objj_msgSend(_59,"contentView"),"frame"),nil);
_5c.origin=objj_msgSend(_59,"convertBaseToGlobal:",_5c.origin);
objj_msgSend(_57,"setAutoresizesSubviews:",NO);
objj_msgSend(_59,"setFrame:",objj_msgSend(_59,"frameRectForContentRect:",_5c));
objj_msgSend(_57,"setAutoresizesSubviews:",YES);
}
objj_msgSend(_57,"tile");
}
}),new objj_method(sel_getUid("didAddSubview:"),function(_5d,_5e,_5f){
with(_5d){
if(!_resizeIndicator||_5f===_resizeIndicator){
return;
}
objj_msgSend(_5d,"addSubview:",_resizeIndicator);
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("initialize"),function(_60,_61){
with(_60){
if(_60!=objj_msgSend(_CPWindowView,"class")){
return;
}
_1=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),"pathForResource:","_CPWindowView/_CPWindowViewResizeIndicator.png"),CGSizeMake(12,12));
}
}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(_62,_63,_64){
with(_62){
return CGRectMakeCopy(_64);
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_65,_66,_67){
with(_65){
return CGRectMakeCopy(_67);
}
})]);
p;10;CPWindow.jI;25;Foundation/CPCountedSet.jI;33;Foundation/CPNotificationCenter.jI;26;Foundation/CPUndoManager.ji;12;CGGeometry.ji;13;CPAnimation.ji;13;CPResponder.ji;10;CPScreen.ji;18;CPPlatformWindow.jc;55189;
CPBorderlessWindowMask=0;
CPTitledWindowMask=1<<0;
CPClosableWindowMask=1<<1;
CPMiniaturizableWindowMask=1<<2;
CPResizableWindowMask=1<<3;
CPTexturedBackgroundWindowMask=1<<8;
CPBorderlessBridgeWindowMask=1<<20;
CPHUDBackgroundWindowMask=1<<21;
CPWindowNotSizable=0;
CPWindowMinXMargin=1;
CPWindowWidthSizable=2;
CPWindowMaxXMargin=4;
CPWindowMinYMargin=8;
CPWindowHeightSizable=16;
CPWindowMaxYMargin=32;
CPBackgroundWindowLevel=-1;
CPNormalWindowLevel=0;
CPFloatingWindowLevel=3;
CPSubmenuWindowLevel=3;
CPTornOffMenuWindowLevel=3;
CPMainMenuWindowLevel=24;
CPStatusWindowLevel=25;
CPModalPanelWindowLevel=8;
CPPopUpMenuWindowLevel=101;
CPDraggingWindowLevel=500;
CPScreenSaverWindowLevel=1000;
CPWindowOut=0;
CPWindowAbove=1;
CPWindowBelow=2;
CPWindowWillCloseNotification="CPWindowWillCloseNotification";
CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";
CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";
CPWindowDidResizeNotification="CPWindowDidResizeNotification";
CPWindowDidMoveNotification="CPWindowDidMoveNotification";
CPWindowWillBeginSheetNotification="CPWindowWillBeginSheetNotification";
CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";
CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";
CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";
CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";
CPWindowShadowStyleStandard=0;
CPWindowShadowStyleMenu=1;
CPWindowShadowStylePanel=2;
var _1=20,_2=19,_3=10,_4=10,_5=5,_6=nil;
var _7=nil,_8=nil;
var _9=objj_allocateClassPair(CPResponder,"CPWindow"),_a=_9.isa;
class_addIvars(_9,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet")]);
objj_registerClassPair(_9);
objj_addClassForBundle(_9,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_9,[new objj_method(sel_getUid("init"),function(_b,_c){
with(_b){
return objj_msgSend(_b,"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask);
}
}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(_d,_e,_f,_10){
with(_d){
_d=objj_msgSendSuper({receiver:_d,super_class:objj_getClass("CPResponder")},"init");
if(_d){
var _11=objj_msgSend(objj_msgSend(_d,"class"),"_windowViewClassForStyleMask:",_10);
_frame=objj_msgSend(_11,"frameRectForContentRect:",_f);
objj_msgSend(_d,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));
if(objj_msgSend(CPPlatform,"isBrowser")){
objj_msgSend(_d,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));
}else{
objj_msgSend(_d,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,"alloc"),"initWithContentRect:",_frame));
objj_msgSend(_d,"platformWindow")._only=_d;
}
_isFullPlatformWindow=NO;
_registeredDraggedTypes=objj_msgSend(CPSet,"set");
_registeredDraggedTypesArray=[];
_isSheet=NO;
_windowNumber=objj_msgSend(CPApp._windows,"count");
CPApp._windows[_windowNumber]=_d;
_styleMask=_10;
objj_msgSend(_d,"setLevel:",CPNormalWindowLevel);
_minSize=CGSizeMake(0,0);
_maxSize=CGSizeMake(1000000,1000000);
_windowView=objj_msgSend(objj_msgSend(_11,"alloc"),"initWithFrame:styleMask:",CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_10);
objj_msgSend(_windowView,"_setWindow:",_d);
objj_msgSend(_windowView,"setNextResponder:",_d);
objj_msgSend(_d,"setMovableByWindowBackground:",_10&CPHUDBackgroundWindowMask);
objj_msgSend(_d,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));
_firstResponder=_d;
_DOMElement=document.createElement("div");
_DOMElement.style.position="absolute";
_DOMElement.style.visibility="visible";
_DOMElement.style.zIndex=0;
if(!objj_msgSend(_d,"_sharesChromeWithPlatformWindow")){
if(NULL){
var _12=_CGPointApplyAffineTransform(CGPointMake((_frame.origin.x),(_frame.origin.y)),NULL);
}else{
var _12={x:(_frame.origin.x),y:(_frame.origin.y)};
}
_DOMElement.style.left=ROUND(_12.x)+"px";
_DOMElement.style.top=ROUND(_12.y)+"px";
}
_DOMElement.style.width=MAX(0,ROUND(1))+"px";
_DOMElement.style.height=MAX(0,ROUND(1))+"px";
_DOMElement.appendChild(_windowView._DOMElement);
objj_msgSend(_d,"setNextResponder:",CPApp);
objj_msgSend(_d,"setHasShadow:",_10!==CPBorderlessWindowMask);
if(_10&CPBorderlessBridgeWindowMask){
objj_msgSend(_d,"setFullPlatformWindow:",YES);
}
_defaultButtonEnabled=YES;
_keyViewLoopIsDirty=YES;
objj_msgSend(_d,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask);
}
return _d;
}
}),new objj_method(sel_getUid("platformWindow"),function(_13,_14){
with(_13){
return _platformWindow;
}
}),new objj_method(sel_getUid("setPlatformWindow:"),function(_15,_16,_17){
with(_15){
_platformWindow=_17;
}
}),new objj_method(sel_getUid("awakeFromCib"),function(_18,_19){
with(_18){
if(_initialFirstResponder){
objj_msgSend(_18,"makeFirstResponder:",_initialFirstResponder);
}
_keyViewLoopIsDirty=!objj_msgSend(_18,"_hasKeyViewLoop");
}
}),new objj_method(sel_getUid("_setWindowView:"),function(_1a,_1b,_1c){
with(_1a){
if(_windowView===_1c){
return;
}
var _1d=_windowView;
_windowView=_1c;
if(_1d){
objj_msgSend(_1d,"_setWindow:",nil);
objj_msgSend(_1d,"noteToolbarChanged");
_DOMElement.removeChild(_1d._DOMElement);
}
if(_windowView){
_DOMElement.appendChild(_windowView._DOMElement);
var _1e=objj_msgSend(_contentView,"convertRect:toView:",objj_msgSend(_contentView,"bounds"),nil);
_1e.origin=objj_msgSend(_1a,"convertBaseToGlobal:",_1e.origin);
objj_msgSend(_windowView,"_setWindow:",_1a);
objj_msgSend(_windowView,"setNextResponder:",_1a);
objj_msgSend(_windowView,"addSubview:",_contentView);
objj_msgSend(_windowView,"setTitle:",_title);
objj_msgSend(_windowView,"noteToolbarChanged");
objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(_1a,"showsResizeIndicator"));
objj_msgSend(_1a,"setFrame:",objj_msgSend(_1a,"frameRectForContentRect:",_1e));
}
}
}),new objj_method(sel_getUid("setFullPlatformWindow:"),function(_1f,_20,_21){
with(_1f){
if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows")){
return;
}
_21=!!_21;
if(_isFullPlatformWindow===_21){
return;
}
_isFullPlatformWindow=_21;
if(_isFullPlatformWindow){
_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(_1f,"contentRectForFrameRect:",objj_msgSend(_1f,"frame")),objj_msgSend(_1f,"hasShadow"),objj_msgSend(_1f,"level"));
var _22=objj_msgSend(objj_msgSend(_1f,"class"),"_windowViewClassForFullPlatformWindowStyleMask:",_styleMask),_23=objj_msgSend(objj_msgSend(_22,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask);
objj_msgSend(_1f,"_setWindowView:",_23);
objj_msgSend(_1f,"setLevel:",CPBackgroundWindowLevel);
objj_msgSend(_1f,"setHasShadow:",NO);
objj_msgSend(_1f,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable);
objj_msgSend(_1f,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));
}else{
var _23=_fullPlatformWindowSession.windowView;
objj_msgSend(_1f,"_setWindowView:",_23);
objj_msgSend(_1f,"setLevel:",_fullPlatformWindowSession.level);
objj_msgSend(_1f,"setHasShadow:",_fullPlatformWindowSession.hasShadow);
objj_msgSend(_1f,"setAutoresizingMask:",CPWindowNotSizable);
objj_msgSend(_1f,"setFrame:",objj_msgSend(_23,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect));
}
}
}),new objj_method(sel_getUid("isFullPlatformWindow"),function(_24,_25){
with(_24){
return _isFullPlatformWindow;
}
}),new objj_method(sel_getUid("styleMask"),function(_26,_27){
with(_26){
return _styleMask;
}
}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(_28,_29,_2a){
with(_28){
return objj_msgSend(_windowView,"contentRectForFrameRect:",_2a);
}
}),new objj_method(sel_getUid("frameRectForContentRect:"),function(_2b,_2c,_2d){
with(_2b){
return objj_msgSend(_windowView,"frameRectForContentRect:",_2d);
}
}),new objj_method(sel_getUid("frame"),function(_2e,_2f){
with(_2e){
return {origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}};
}
}),new objj_method(sel_getUid("setFrame:display:animate:"),function(_30,_31,_32,_33,_34){
with(_30){
_32={origin:{x:_32.origin.x,y:_32.origin.y},size:{width:_32.size.width,height:_32.size.height}};
var _35=_32.origin.x,_36=_35-FLOOR(_35);
if(_36){
_32.origin.x=_35>0.879?CEIL(_35):FLOOR(_35);
}
_35=_32.origin.y;
_36=_35-FLOOR(_35);
if(_36){
_32.origin.y=_35>0.879?CEIL(_35):FLOOR(_35);
}
_35=_32.size.width;
_36=_35-FLOOR(_35);
if(_36){
_32.size.width=_35>0.15?CEIL(_35):FLOOR(_35);
}
_35=_32.size.height;
_36=_35-FLOOR(_35);
if(_36){
_32.size.height=_35>0.15?CEIL(_35):FLOOR(_35);
}
if(_34){
var _37=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",_30,_32);
objj_msgSend(_37,"startAnimation");
}else{
var _38=_frame.origin,_39=_32.origin;
if(!(_38.x==_39.x&&_38.y==_39.y)){
_38.x=_39.x;
_38.y=_39.y;
if(!objj_msgSend(_30,"_sharesChromeWithPlatformWindow")){
if(NULL){
var _3a=_CGPointApplyAffineTransform(CGPointMake(_38.x,_38.y),NULL);
}else{
var _3a={x:_38.x,y:_38.y};
}
_DOMElement.style.left=ROUND(_3a.x)+"px";
_DOMElement.style.top=ROUND(_3a.y)+"px";
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,_30);
}
var _3b=_frame.size,_3c=_32.size;
if(!(_3b.width==_3c.width&&_3b.height==_3c.height)){
_3b.width=MIN(MAX(_3c.width,_minSize.width),_maxSize.width);
_3b.height=MIN(MAX(_3c.height,_minSize.height),_maxSize.height);
objj_msgSend(_windowView,"setFrameSize:",_3b);
if(_hasShadow){
objj_msgSend(_shadowView,"setFrameSize:",{width:_1+_3b.width+_2,height:_4+_3b.height+_3+_5});
}
if(!_isAnimating){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,_30);
}
}
if(objj_msgSend(_30,"_sharesChromeWithPlatformWindow")){
objj_msgSend(_platformWindow,"setContentRect:",_frame);
}
}
}
}),new objj_method(sel_getUid("setFrame:display:"),function(_3d,_3e,_3f,_40){
with(_3d){
objj_msgSendSuper({receiver:_3d,super_class:objj_getClass("CPResponder")},"setFrame:display:animate:",_3f,_40,NO);
}
}),new objj_method(sel_getUid("setFrame:"),function(_41,_42,_43){
with(_41){
objj_msgSend(_41,"setFrame:display:animate:",_43,YES,NO);
}
}),new objj_method(sel_getUid("setFrameOrigin:"),function(_44,_45,_46){
with(_44){
objj_msgSend(_44,"setFrame:display:animate:",{origin:{x:_46.x,y:_46.y},size:{width:(_frame.size.width),height:(_frame.size.height)}},YES,NO);
}
}),new objj_method(sel_getUid("setFrameSize:"),function(_47,_48,_49){
with(_47){
objj_msgSend(_47,"setFrame:display:animate:",{origin:{x:(_frame.origin.x),y:(_frame.origin.y)},size:{width:_49.width,height:_49.height}},YES,NO);
}
}),new objj_method(sel_getUid("orderFront:"),function(_4a,_4b,_4c){
with(_4a){
objj_msgSend(_platformWindow,"orderFront:",_4a);
objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowAbove,_4a,nil);
}
}),new objj_method(sel_getUid("orderBack:"),function(_4d,_4e,_4f){
with(_4d){
}
}),new objj_method(sel_getUid("orderOut:"),function(_50,_51,_52){
with(_50){
if(objj_msgSend(_50,"_sharesChromeWithPlatformWindow")){
objj_msgSend(_platformWindow,"orderOut:",_50);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillClose:"))){
objj_msgSend(_delegate,"windowWillClose:",_50);
}
objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,_50,nil);
if(objj_msgSend(CPApp,"keyWindow")==_50){
objj_msgSend(_50,"resignKeyWindow");
CPApp._keyWindow=nil;
}
}
}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(_53,_54,_55,_56){
with(_53){
objj_msgSend(_platformWindow,"order:window:relativeTo:",_55,_53,CPApp._windows[_56]);
}
}),new objj_method(sel_getUid("setLevel:"),function(_57,_58,_59){
with(_57){
_level=_59;
if(objj_msgSend(_57,"_sharesChromeWithPlatformWindow")){
objj_msgSend(_platformWindow,"setLevel:",_59);
}
}
}),new objj_method(sel_getUid("level"),function(_5a,_5b){
with(_5a){
return _level;
}
}),new objj_method(sel_getUid("isVisible"),function(_5c,_5d){
with(_5c){
return _isVisible;
}
}),new objj_method(sel_getUid("showsResizeIndicator"),function(_5e,_5f){
with(_5e){
return _showsResizeIndicator;
}
}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(_60,_61,_62){
with(_60){
_62=!!_62;
if(_showsResizeIndicator===_62){
return;
}
_showsResizeIndicator=_62;
objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(_60,"showsResizeIndicator"));
}
}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(_63,_64){
with(_63){
return objj_msgSend(_windowView,"resizeIndicatorOffset");
}
}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(_65,_66,_67){
with(_65){
objj_msgSend(_windowView,"setResizeIndicatorOffset:",_67);
}
}),new objj_method(sel_getUid("setContentView:"),function(_68,_69,_6a){
with(_68){
if(_contentView){
objj_msgSend(_contentView,"removeFromSuperview");
}
var _6b=CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame));
_contentView=_6a;
objj_msgSend(_contentView,"setFrame:",objj_msgSend(_68,"contentRectForFrameRect:",_6b));
objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
objj_msgSend(_windowView,"addSubview:",_contentView);
}
}),new objj_method(sel_getUid("contentView"),function(_6c,_6d){
with(_6c){
return _contentView;
}
}),new objj_method(sel_getUid("setBackgroundColor:"),function(_6e,_6f,_70){
with(_6e){
objj_msgSend(_windowView,"setBackgroundColor:",_70);
}
}),new objj_method(sel_getUid("backgroundColor"),function(_71,_72){
with(_71){
return objj_msgSend(_windowView,"backgroundColor");
}
}),new objj_method(sel_getUid("setMinSize:"),function(_73,_74,_75){
with(_73){
if(CGSizeEqualToSize(_minSize,_75)){
return;
}
_minSize=CGSizeCreateCopy(_75);
var _76=CGSizeMakeCopy(objj_msgSend(_73,"frame").size),_77=NO;
if(_76.width<_minSize.width){
_76.width=_minSize.width;
_77=YES;
}
if(_76.height<_minSize.height){
_76.height=_minSize.height;
_77=YES;
}
if(_77){
objj_msgSend(_73,"setFrameSize:",_76);
}
}
}),new objj_method(sel_getUid("minSize"),function(_78,_79){
with(_78){
return _minSize;
}
}),new objj_method(sel_getUid("setMaxSize:"),function(_7a,_7b,_7c){
with(_7a){
if(CGSizeEqualToSize(_maxSize,_7c)){
return;
}
_maxSize=CGSizeCreateCopy(_7c);
var _7d=CGSizeMakeCopy(objj_msgSend(_7a,"frame").size),_7e=NO;
if(_7d.width>_maxSize.width){
_7d.width=_maxSize.width;
_7e=YES;
}
if(_7d.height>_maxSize.height){
_7d.height=_maxSize.height;
_7e=YES;
}
if(_7e){
objj_msgSend(_7a,"setFrameSize:",_7d);
}
}
}),new objj_method(sel_getUid("maxSize"),function(_7f,_80){
with(_7f){
return _maxSize;
}
}),new objj_method(sel_getUid("hasShadow"),function(_81,_82){
with(_81){
return _hasShadow;
}
}),new objj_method(sel_getUid("_updateShadow"),function(_83,_84){
with(_83){
if(objj_msgSend(_83,"_sharesChromeWithPlatformWindow")){
if(_shadowView){
_DOMElement.removeChild(_shadowView._DOMElement);
_shadowView=nil;
}
objj_msgSend(_platformWindow,"setHasShadow:",_hasShadow);
return;
}
if(_hasShadow&&!_shadowView){
var _85=objj_msgSend(_windowView,"bounds");
_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-_1,-_3+_5,_1+CGRectGetWidth(_85)+_2,_3+CGRectGetHeight(_85)+_4));
if(!_6){
var _86=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class"));
_6=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow6.png"),CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_86,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]));
}
objj_msgSend(_shadowView,"setBackgroundColor:",_6);
objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
_DOMElement.insertBefore(_shadowView._DOMElement,_windowView._DOMElement);
}else{
if(!_hasShadow&&_shadowView){
_DOMElement.removeChild(_shadowView._DOMElement);
_shadowView=nil;
}
}
}
}),new objj_method(sel_getUid("setHasShadow:"),function(_87,_88,_89){
with(_87){
if(_hasShadow===_89){
return;
}
_hasShadow=_89;
objj_msgSend(_87,"_updateShadow");
}
}),new objj_method(sel_getUid("setShadowStyle:"),function(_8a,_8b,_8c){
with(_8a){
_shadowStyle=_8c;
objj_msgSend(objj_msgSend(_8a,"platformWindow"),"setShadowStyle:",_shadowStyle);
}
}),new objj_method(sel_getUid("setDelegate:"),function(_8d,_8e,_8f){
with(_8d){
_delegate=_8f;
_delegateRespondsToWindowWillReturnUndoManagerSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:"));
var _90=objj_msgSend(CPNotificationCenter,"defaultCenter");
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))){
objj_msgSend(_90,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,_8d);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))){
objj_msgSend(_90,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),CPWindowDidResignMainNotification,_8d);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))){
objj_msgSend(_90,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,_8d);
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))){
objj_msgSend(_90,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,_8d);
}
}
}),new objj_method(sel_getUid("delegate"),function(_91,_92){
with(_91){
return _delegate;
}
}),new objj_method(sel_getUid("setWindowController:"),function(_93,_94,_95){
with(_93){
_windowController=_95;
}
}),new objj_method(sel_getUid("windowController"),function(_96,_97){
with(_96){
return _windowController;
}
}),new objj_method(sel_getUid("doCommandBySelector:"),function(_98,_99,_9a){
with(_98){
if(objj_msgSend(_delegate,"respondsToSelector:",_9a)){
objj_msgSend(_delegate,"performSelector:",_9a);
}else{
objj_msgSendSuper({receiver:_98,super_class:objj_getClass("CPResponder")},"doCommandBySelector:",_9a);
}
}
}),new objj_method(sel_getUid("acceptsFirstResponder"),function(_9b,_9c){
with(_9b){
return YES;
}
}),new objj_method(sel_getUid("makeFirstResponder:"),function(_9d,_9e,_9f){
with(_9d){
if(_firstResponder==_9f){
return YES;
}
if(!objj_msgSend(_firstResponder,"resignFirstResponder")){
return NO;
}
if(!_9f||!objj_msgSend(_9f,"acceptsFirstResponder")||!objj_msgSend(_9f,"becomeFirstResponder")){
_firstResponder=_9d;
return NO;
}
_firstResponder=_9f;
return YES;
}
}),new objj_method(sel_getUid("firstResponder"),function(_a0,_a1){
with(_a0){
return _firstResponder;
}
}),new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(_a2,_a3){
with(_a2){
return _acceptsMouseMovedEvents;
}
}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(_a4,_a5,_a6){
with(_a4){
_acceptsMouseMovedEvents=_a6;
}
}),new objj_method(sel_getUid("ignoresMouseEvents"),function(_a7,_a8){
with(_a7){
return _ignoresMouseEvents;
}
}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(_a9,_aa,_ab){
with(_a9){
_ignoresMouseEvents=_ab;
}
}),new objj_method(sel_getUid("title"),function(_ac,_ad){
with(_ac){
return _title;
}
}),new objj_method(sel_getUid("setTitle:"),function(_ae,_af,_b0){
with(_ae){
_title=_b0;
objj_msgSend(_windowView,"setTitle:",_b0);
objj_msgSend(_ae,"_synchronizeMenuBarTitleWithWindowTitle");
}
}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(_b1,_b2,_b3){
with(_b1){
objj_msgSend(_b1,"setRepresentedFilename:",_b3);
objj_msgSend(_b1,"setTitle:",objj_msgSend(_b3,"lastPathComponent"));
}
}),new objj_method(sel_getUid("setRepresentedFilename:"),function(_b4,_b5,_b6){
with(_b4){
objj_msgSend(_b4,"setRepresentedURL:",_b6);
}
}),new objj_method(sel_getUid("representedFilename"),function(_b7,_b8){
with(_b7){
return _representedURL;
}
}),new objj_method(sel_getUid("setRepresentedURL:"),function(_b9,_ba,_bb){
with(_b9){
_representedURL=_bb;
}
}),new objj_method(sel_getUid("representedURL"),function(_bc,_bd){
with(_bc){
return _representedURL;
}
}),new objj_method(sel_getUid("screen"),function(_be,_bf){
with(_be){
return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init");
}
}),new objj_method(sel_getUid("setMovableByWindowBackground:"),function(_c0,_c1,_c2){
with(_c0){
_isMovableByWindowBackground=_c2;
}
}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(_c3,_c4){
with(_c3){
return _isMovableByWindowBackground;
}
}),new objj_method(sel_getUid("center"),function(_c5,_c6){
with(_c5){
var _c7=objj_msgSend(_c5,"frame").size,_c8=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(_c5,"screen"),"visibleFrame").size;
objj_msgSend(_c5,"setFrameOrigin:",CGPointMake((_c8.width-_c7.width)/2,(_c8.height-_c7.height)/2));
}
}),new objj_method(sel_getUid("sendEvent:"),function(_c9,_ca,_cb){
with(_c9){
var _cc=objj_msgSend(_cb,"type"),_cd=objj_msgSend(_cb,"locationInWindow");
switch(_cc){
case CPKeyUp:
return objj_msgSend(objj_msgSend(_c9,"firstResponder"),"keyUp:",_cb);
case CPKeyDown:
return objj_msgSend(objj_msgSend(_c9,"firstResponder"),"keyDown:",_cb);
case CPScrollWheel:
return objj_msgSend(objj_msgSend(_windowView,"hitTest:",_cd),"scrollWheel:",_cb);
case CPLeftMouseUp:
if(!_leftMouseDownView){
return objj_msgSend(objj_msgSend(_windowView,"hitTest:",_cd),"mouseUp:",_cb);
}
objj_msgSend(_leftMouseDownView,"mouseUp:",_cb);
_leftMouseDownView=nil;
return;
case CPLeftMouseDown:
_leftMouseDownView=objj_msgSend(_windowView,"hitTest:",_cd);
if(_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")){
objj_msgSend(_c9,"makeFirstResponder:",_leftMouseDownView);
}
objj_msgSend(CPApp,"activateIgnoringOtherApps:",YES);
var _ce=objj_msgSend(_cb,"window");
if(objj_msgSend(_ce,"isKeyWindow")||objj_msgSend(_ce,"becomesKeyOnlyIfNeeded")){
return objj_msgSend(_leftMouseDownView,"mouseDown:",_cb);
}else{
objj_msgSend(_c9,"makeKeyAndOrderFront:",_c9);
if(objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",_cb)){
return objj_msgSend(_leftMouseDownView,"mouseDown:",_cb);
}
}
break;
case CPLeftMouseDragged:
if(!_leftMouseDownView){
return objj_msgSend(objj_msgSend(_windowView,"hitTest:",_cd),"mouseDragged:",_cb);
}
return objj_msgSend(_leftMouseDownView,"mouseDragged:",_cb);
case CPRightMouseUp:
return objj_msgSend(_rightMouseDownView,"mouseUp:",_cb);
case CPRightMouseDown:
_rightMouseDownView=objj_msgSend(_windowView,"hitTest:",_cd);
return objj_msgSend(_rightMouseDownView,"mouseDown:",_cb);
case CPRightMouseDragged:
return objj_msgSend(_rightMouseDownView,"mouseDragged:",_cb);
case CPMouseMoved:
if(!_acceptsMouseMovedEvents){
return;
}
if(!_mouseEnteredStack){
_mouseEnteredStack=[];
}
var _cf=objj_msgSend(_windowView,"hitTest:",_cd);
if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===_cf){
return objj_msgSend(_cf,"mouseMoved:",_cb);
}
var _d0=_cf,_d1=[];
while(_d0){
_d1.unshift(_d0);
_d0=objj_msgSend(_d0,"superview");
}
var _d2=MIN(_mouseEnteredStack.length,_d1.length);
while(_d2--){
if(_mouseEnteredStack[_d2]===_d1[_d2]){
break;
}
}
var _d3=_d2+1,_d4=_mouseEnteredStack.length;
if(_d3<_d4){
var _d5=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,_cd,objj_msgSend(_cb,"modifierFlags"),objj_msgSend(_cb,"timestamp"),_windowNumber,nil,-1,1,0);
for(;_d3<_d4;++_d3){
objj_msgSend(_mouseEnteredStack[_d3],"mouseExited:",_d5);
}
}
_d3=_d2+1;
_d4=_d1.length;
if(_d3<_d4){
var _d5=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,_cd,objj_msgSend(_cb,"modifierFlags"),objj_msgSend(_cb,"timestamp"),_windowNumber,nil,-1,1,0);
for(;_d3<_d4;++_d3){
objj_msgSend(_d1[_d3],"mouseEntered:",_d5);
}
}
_mouseEnteredStack=_d1;
objj_msgSend(_cf,"mouseMoved:",_cb);
}
}
}),new objj_method(sel_getUid("windowNumber"),function(_d6,_d7){
with(_d6){
return _windowNumber;
}
}),new objj_method(sel_getUid("becomeKeyWindow"),function(_d8,_d9){
with(_d8){
if(_firstResponder!=_d8&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))){
objj_msgSend(_firstResponder,"becomeKeyWindow");
}
}
}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(_da,_db){
with(_da){
return YES;
}
}),new objj_method(sel_getUid("isKeyWindow"),function(_dc,_dd){
with(_dc){
return objj_msgSend(CPApp,"keyWindow")==_dc;
}
}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(_de,_df,_e0){
with(_de){
objj_msgSend(_de,"orderFront:",_de);
objj_msgSend(_de,"makeKeyWindow");
objj_msgSend(_de,"makeMainWindow");
}
}),new objj_method(sel_getUid("makeKeyWindow"),function(_e1,_e2){
with(_e1){
if(!objj_msgSend(_e1,"canBecomeKeyWindow")){
return;
}
objj_msgSend(CPApp._keyWindow,"resignKeyWindow");
CPApp._keyWindow=_e1;
objj_msgSend(_e1,"becomeKeyWindow");
}
}),new objj_method(sel_getUid("resignKeyWindow"),function(_e3,_e4){
with(_e3){
if(_firstResponder!=_e3&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))){
objj_msgSend(_firstResponder,"resignKeyWindow");
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))){
objj_msgSend(_delegate,"windowDidResignKey:",_e3);
}
}
}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(_e5,_e6,_e7,_e8,_e9,_ea,_eb,_ec,_ed){
with(_e5){
objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",_e7,_e5,objj_msgSend(_e5,"convertBaseToGlobal:",_e8),_e9,_ea,_eb,_ec,_ed);
}
}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(_ee,_ef,_f0){
with(_ee){
if(!_f0){
return;
}
if(!_inclusiveRegisteredDraggedTypes){
_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set");
}
objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",_f0);
}
}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(_f1,_f2,_f3){
with(_f1){
if(!_f3){
return;
}
objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",_f3);
if(objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0){
_inclusiveRegisteredDraggedTypes=nil;
}
}
}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(_f4,_f5,_f6,_f7,_f8,_f9,_fa,_fb,_fc){
with(_f4){
objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",_f6,_f4,objj_msgSend(_f4,"convertBaseToGlobal:",_f7),_f8,_f9,_fa,_fb,_fc);
}
}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(_fd,_fe,_ff){
with(_fd){
if(!_ff){
return;
}
objj_msgSend(_fd,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);
objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",_ff);
objj_msgSend(_fd,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);
_registeredDraggedTypesArray=nil;
}
}),new objj_method(sel_getUid("registeredDraggedTypes"),function(self,_100){
with(self){
if(!_registeredDraggedTypesArray){
_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects");
}
return _registeredDraggedTypesArray;
}
}),new objj_method(sel_getUid("unregisterDraggedTypes"),function(self,_101){
with(self){
objj_msgSend(self,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);
_registeredDraggedTypes=objj_msgSend(CPSet,"set");
_registeredDraggedTypesArray=[];
}
}),new objj_method(sel_getUid("setDocumentEdited:"),function(self,_102,_103){
with(self){
if(_isDocumentEdited==_103){
return;
}
_isDocumentEdited=_103;
objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);
objj_msgSend(_windowView,"setDocumentEdited:",_103);
}
}),new objj_method(sel_getUid("isDocumentEdited"),function(self,_104){
with(self){
return _isDocumentEdited;
}
}),new objj_method(sel_getUid("setDocumentSaving:"),function(self,_105,_106){
with(self){
if(_isDocumentSaving==_106){
return;
}
_isDocumentSaving=_106;
objj_msgSend(self,"_synchronizeSaveMenuWithDocumentSaving");
objj_msgSend(_windowView,"windowDidChangeDocumentSaving");
}
}),new objj_method(sel_getUid("isDocumentSaving"),function(self,_107){
with(self){
return _isDocumentSaving;
}
}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(self,_108){
with(self){
if(!objj_msgSend(self,"isMainWindow")){
return;
}
var _109=objj_msgSend(CPApp,"mainMenu"),_10a=objj_msgSend(_109,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");
if(_10a==CPNotFound){
return;
}
var item=objj_msgSend(_109,"itemAtIndex:",_10a);
if(_isDocumentSaving){
_7=objj_msgSend(item,"image");
objj_msgSend(item,"setTitle:","Saving...");
objj_msgSend(item,"setImage:",_8);
objj_msgSend(item,"setEnabled:",NO);
}else{
objj_msgSend(item,"setTitle:","Save");
objj_msgSend(item,"setImage:",_7);
objj_msgSend(item,"setEnabled:",YES);
}
}
}),new objj_method(sel_getUid("performMiniaturize:"),function(self,_10b,_10c){
with(self){
objj_msgSend(self,"miniaturize:",_10c);
}
}),new objj_method(sel_getUid("miniaturize:"),function(self,_10d,_10e){
with(self){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,self);
objj_msgSend(objj_msgSend(self,"platformWindow"),"miniaturize:",_10e);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,self);
_isMiniaturized=YES;
}
}),new objj_method(sel_getUid("deminiaturize:"),function(self,_10f,_110){
with(self){
objj_msgSend(objj_msgSend(self,"platformWindow"),"deminiaturize:",_110);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,self);
_isMiniaturized=NO;
}
}),new objj_method(sel_getUid("isMiniaturized"),function(self,_111){
with(self){
return _isMiniaturized;
}
}),new objj_method(sel_getUid("performClose:"),function(self,_112,_113){
with(self){
if(!(_styleMask&CPClosableWindowMask)){
return;
}
if(objj_msgSend(self,"isFullBridge")){
var _114=objj_msgSend(CPApp,"currentEvent");
if(objj_msgSend(_114,"type")===CPKeyDown&&objj_msgSend(_114,"characters")==="w"&&(objj_msgSend(_114,"modifierFlags")&CPPlatformActionKeyMask)){
objj_msgSend(objj_msgSend(self,"platformWindow"),"_propagateCurrentDOMEvent:",YES);
return;
}
}
if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){
if(!objj_msgSend(_delegate,"windowShouldClose:",self)){
return;
}
}else{
if(objj_msgSend(self,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(self,"windowShouldClose:",self)){
return;
}
}
var _115=objj_msgSend(_windowController,"documents");
if(objj_msgSend(_115,"count")){
var _116=objj_msgSend(_115,"indexOfObject:",objj_msgSend(_windowController,"document"));
objj_msgSend(_115[_116],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,self,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(_115,"copy"),visited:0,index:_116});
}else{
objj_msgSend(self,"close");
}
}
}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),function(self,_117,_118,_119,_11a){
with(self){
if(_119){
var _11b=objj_msgSend(self,"windowController"),_11c=_11a.documents,_11d=objj_msgSend(_11c,"count"),_11e=++_11a.visited,_11f=++_11a.index%_11d;
objj_msgSend(_118,"removeWindowController:",_11b);
if(_11e<_11d){
objj_msgSend(_11b,"setDocument:",_11c[_11f]);
objj_msgSend(_11c[_11f],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,self,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),_11a);
}else{
objj_msgSend(self,"close");
}
}
}
}),new objj_method(sel_getUid("close"),function(self,_120){
with(self){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,self);
objj_msgSend(self,"orderOut:",nil);
}
}),new objj_method(sel_getUid("isMainWindow"),function(self,_121){
with(self){
return objj_msgSend(CPApp,"mainWindow")==self;
}
}),new objj_method(sel_getUid("canBecomeMainWindow"),function(self,_122){
with(self){
if(objj_msgSend(self,"isVisible")){
return YES;
}
return NO;
}
}),new objj_method(sel_getUid("makeMainWindow"),function(self,_123){
with(self){
if(!objj_msgSend(self,"canBecomeMainWindow")){
return;
}
objj_msgSend(CPApp._mainWindow,"resignMainWindow");
CPApp._mainWindow=self;
objj_msgSend(self,"becomeMainWindow");
}
}),new objj_method(sel_getUid("becomeMainWindow"),function(self,_124){
with(self){
objj_msgSend(self,"_synchronizeMenuBarTitleWithWindowTitle");
objj_msgSend(self,"_synchronizeSaveMenuWithDocumentSaving");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,self);
}
}),new objj_method(sel_getUid("resignMainWindow"),function(self,_125){
with(self){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,self);
}
}),new objj_method(sel_getUid("toolbar"),function(self,_126){
with(self){
return _toolbar;
}
}),new objj_method(sel_getUid("setToolbar:"),function(self,_127,_128){
with(self){
if(_toolbar===_128){
return;
}
objj_msgSend(objj_msgSend(_128,"_window"),"setToolbar:",nil);
objj_msgSend(_toolbar,"_setWindow:",nil);
_toolbar=_128;
objj_msgSend(_toolbar,"_setWindow:",self);
objj_msgSend(self,"_noteToolbarChanged");
}
}),new objj_method(sel_getUid("toggleToolbarShown:"),function(self,_129,_12a){
with(self){
var _12b=objj_msgSend(self,"toolbar");
objj_msgSend(_12b,"setVisible:",!objj_msgSend(_12b,"isVisible"));
}
}),new objj_method(sel_getUid("_noteToolbarChanged"),function(self,_12c){
with(self){
var _12d=CGRectMakeCopy(objj_msgSend(self,"frame")),_12e;
objj_msgSend(_windowView,"noteToolbarChanged");
if(_isFullPlatformWindow){
_12e=objj_msgSend(_platformWindow,"visibleFrame");
}else{
_12e=CGRectMakeCopy(objj_msgSend(self,"frame"));
_12e.origin=_12d.origin;
}
objj_msgSend(self,"setFrame:",_12e);
}
}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(self,_12f,_130,_131,_132,_133){
with(self){
var _134=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",self,_130);
objj_msgSend(_134,"setDelegate:",_131);
objj_msgSend(_134,"setAnimationCurve:",_133);
objj_msgSend(_134,"setDuration:",_132);
objj_msgSend(_134,"startAnimation");
}
}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(self,_135){
with(self){
var _136=objj_msgSend(self,"attachedSheet");
var _137=objj_msgSend(objj_msgSend(self,"contentView"),"frame"),_138=CGRectMakeCopy(objj_msgSend(_136,"frame"));
_138.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(_137);
_138.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(_138))/2);
objj_msgSend(_136,"setFrameOrigin:",_138.origin);
}
}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),function(self,_139,_13a,_13b,_13c,_13d){
with(self){
var _13e=objj_msgSend(_13a,"frame");
_sheetContext={"sheet":_13a,"modalDelegate":_13b,"endSelector":_13c,"contextInfo":_13d,"frame":CGRectMakeCopy(_13e),"returnCode":-1,"opened":NO};
objj_msgSend(self,"_attachSheetWindow:",_13a);
}
}),new objj_method(sel_getUid("_attachSheetWindow:"),function(self,_13f,_140){
with(self){
var _141=objj_msgSend(_140,"frame"),_142=objj_msgSend(self,"frame"),_143=objj_msgSend(_140,"contentView");
objj_msgSend(self,"_setUpMasksForView:",_143);
_140._isSheet=YES;
_140._parentView=self;
var _144=_142.origin.x+FLOOR((_142.size.width-_141.size.width)/2),_145=_142.origin.y+objj_msgSend(objj_msgSend(self,"contentView"),"frame").origin.y,_146=CGRectMake(_144,_145,_141.size.width,0),_147=CGRectMake(_144,_145,_141.size.width,_141.size.height);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,self);
objj_msgSend(CPApp,"runModalForWindow:",_140);
objj_msgSend(_140,"orderFront:",self);
objj_msgSend(_140,"setFrame:",_146);
_sheetContext["opened"]=YES;
objj_msgSend(_140,"_setFrame:delegate:duration:curve:",_147,self,0.2,CPAnimationEaseOut);
objj_msgSend(_140,"becomeKeyWindow");
}
}),new objj_method(sel_getUid("_detachSheetWindow"),function(self,_148){
with(self){
var _149=objj_msgSend(self,"attachedSheet"),_14a=objj_msgSend(_149,"frame"),_14b=CGRectMakeCopy(_14a);
_14b.size.height=0;
_sheetContext["frame"]=_14a;
var _14c=objj_msgSend(_149,"contentView");
objj_msgSend(self,"_setUpMasksForView:",_14c);
_sheetContext["opened"]=NO;
objj_msgSend(_149,"_setFrame:delegate:duration:curve:",_14b,self,0.2,CPAnimationEaseIn);
}
}),new objj_method(sel_getUid("animationDidEnd:"),function(self,_14d,anim){
with(self){
var _14e=_sheetContext["sheet"];
if(anim._window!=_14e){
return;
}
var _14f=objj_msgSend(_14e,"contentView");
if(_sheetContext["opened"]===YES){
objj_msgSend(self,"_restoreMasksForView:",_14f);
return;
}
objj_msgSend(CPApp,"stopModal");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,self);
objj_msgSend(_14e,"orderOut:",self);
var _150=_sheetContext["frame"];
objj_msgSend(_14e,"setFrame:",_150);
objj_msgSend(self,"_restoreMasksForView:",_14f);
var _151=_sheetContext["modalDelegate"],_152=_sheetContext["endSelector"];
if(_151!=nil&&_152!=nil){
objj_msgSend(_151,_152,_14e,_sheetContext["returnCode"],_sheetContext["contextInfo"]);
}
_sheetContext=nil;
_14e._parentView=nil;
}
}),new objj_method(sel_getUid("_setUpMasksForView:"),function(self,_153,_154){
with(self){
var _155=objj_msgSend(_154,"subviews");
objj_msgSend(_155,"addObject:",_154);
for(var i=0,_156=objj_msgSend(_155,"count");i<_156;i++){
var view=objj_msgSend(_155,"objectAtIndex:",i),mask=objj_msgSend(view,"autoresizingMask"),_157=(mask&CPViewMinYMargin)?128:CPViewMinYMargin;
objj_msgSend(view,"setAutoresizingMask:",(mask|_157));
}
}
}),new objj_method(sel_getUid("_restoreMasksForView:"),function(self,_158,_159){
with(self){
var _15a=objj_msgSend(_159,"subviews");
objj_msgSend(_15a,"addObject:",_159);
for(var i=0,_15b=objj_msgSend(_15a,"count");i<_15b;i++){
var view=objj_msgSend(_15a,"objectAtIndex:",i),mask=objj_msgSend(view,"autoresizingMask"),_15c=(mask&128)?128:CPViewMinYMargin;
objj_msgSend(view,"setAutoresizingMask:",(mask&(~_15c)));
}
}
}),new objj_method(sel_getUid("attachedSheet"),function(self,_15d){
with(self){
if(_sheetContext===nil){
return nil;
}
return _sheetContext["sheet"];
}
}),new objj_method(sel_getUid("isSheet"),function(self,_15e){
with(self){
return _isSheet;
}
}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),function(self,_15f){
with(self){
return NO;
}
}),new objj_method(sel_getUid("worksWhenModal"),function(self,_160){
with(self){
return NO;
}
}),new objj_method(sel_getUid("performKeyEquivalent:"),function(self,_161,_162){
with(self){
return objj_msgSend(objj_msgSend(self,"contentView"),"performKeyEquivalent:",_162);
}
}),new objj_method(sel_getUid("keyDown:"),function(self,_163,_164){
with(self){
if(!objj_msgSend(_164,"_couldBeKeyEquivalent")||!objj_msgSend(self,"performKeyEquivalent:",_164)){
objj_msgSend(self,"interpretKeyEvents:",[_164]);
}
}
}),new objj_method(sel_getUid("insertNewline:"),function(self,_165,_166){
with(self){
if(_defaultButton&&_defaultButtonEnabled){
objj_msgSend(_defaultButton,"performClick:",nil);
}
}
}),new objj_method(sel_getUid("insertTab:"),function(self,_167,_168){
with(self){
objj_msgSend(self,"selectNextKeyView:",nil);
}
}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),function(self,_169){
with(self){
if(_autorecalculatesKeyViewLoop){
_keyViewLoopIsDirty=YES;
}
}
}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(self,_16a){
with(self){
var _16b=[];
objj_msgSend(self,"_appendSubviewsOf:toArray:",_contentView,_16b);
for(var i=0,_16c=objj_msgSend(_16b,"count");i<_16c;i++){
if(_16b[i]._nextKeyView){
return YES;
}
}
return NO;
}
}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(self,_16d){
with(self){
var _16e=[];
objj_msgSend(self,"_appendSubviewsOf:toArray:",_contentView,_16e);
var _16f=objj_msgSend(_16e,"sortedArrayUsingFunction:context:",_170,_contentView),_171=objj_msgSend(_16f,"count");
for(var i=0;i<_171;i++){
objj_msgSend(_16f[i],"setNextKeyView:",_16f[(i+1)%_171]);
}
_keyViewLoopIsDirty=NO;
}
}),new objj_method(sel_getUid("_appendSubviewsOf:toArray:"),function(self,_172,_173,_174){
with(self){
var _175=objj_msgSend(_173,"subviews"),_176=objj_msgSend(_175,"count");
while(_176--){
objj_msgSend(self,"_appendSubviewsOf:toArray:",_175[_176],_174);
}
objj_msgSend(_174,"addObject:",_173);
}
}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),function(self,_177,_178){
with(self){
if(_autorecalculatesKeyViewLoop===_178){
return;
}
_autorecalculatesKeyViewLoop=_178;
if(_keyViewLoopIsDirty){
objj_msgSend(self,"recalculateKeyViewLoop");
}else{
if(_autorecalculatesKeyViewLoop){
objj_msgSend(self,"_dirtyKeyViewLoop");
}
}
}
}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(self,_179){
with(self){
return _autorecalculatesKeyViewLoop;
}
}),new objj_method(sel_getUid("selectNextKeyView:"),function(self,_17a,_17b){
with(self){
if(objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))){
objj_msgSend(self,"selectKeyViewFollowingView:",_firstResponder);
}
}
}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(self,_17c,_17d){
with(self){
if(objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))){
objj_msgSend(self,"selectKeyViewPrecedingView:",_firstResponder);
}
}
}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(self,_17e,_17f){
with(self){
if(_keyViewLoopIsDirty){
objj_msgSend(self,"recalculateKeyViewLoop");
}
objj_msgSend(self,"makeFirstResponder:",objj_msgSend(_17f,"nextValidKeyView"));
}
}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),function(self,_180,_181){
with(self){
if(_keyViewLoopIsDirty){
objj_msgSend(self,"recalculateKeyViewLoop");
}
objj_msgSend(self,"makeFirstResponder:",objj_msgSend(_181,"previousValidKeyView"));
}
}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(self,_182,_183){
with(self){
objj_msgSend(self,"setDefaultButton:",_183);
}
}),new objj_method(sel_getUid("defaultButtonCell"),function(self,_184){
with(self){
return objj_msgSend(self,"defaultButton");
}
}),new objj_method(sel_getUid("setDefaultButton:"),function(self,_185,_186){
with(self){
objj_msgSend(_defaultButton,"setDefaultButton:",NO);
_defaultButton=_186;
objj_msgSend(_defaultButton,"setDefaultButton:",YES);
}
}),new objj_method(sel_getUid("defaultButton"),function(self,_187){
with(self){
return _defaultButton;
}
}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(self,_188){
with(self){
_defaultButtonEnabled=YES;
}
}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),function(self,_189){
with(self){
objj_msgSend(self,"enableKeyEquivalentForDefaultButton");
}
}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(self,_18a){
with(self){
_defaultButtonEnabled=NO;
}
}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(self,_18b){
with(self){
objj_msgSend(self,"disableKeyEquivalentForDefaultButton");
}
})]);
class_addMethods(_a,[new objj_method(sel_getUid("initialize"),function(self,_18c){
with(self){
if(self!=objj_msgSend(CPWindow,"class")){
return;
}
var _18d=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class"));
_8=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(_18d,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16));
}
}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(self,_18e,_18f){
with(self){
if(_18f&CPHUDBackgroundWindowMask){
return _CPHUDWindowView;
}else{
if(_18f===CPBorderlessWindowMask){
return _CPBorderlessWindowView;
}else{
if(_18f&CPDocModalWindowMask){
return _CPDocModalWindowView;
}
}
}
return _CPStandardWindowView;
}
}),new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(self,_190,_191){
with(self){
return _CPBorderlessBridgeWindowView;
}
}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(self,_192,_193,_194){
with(self){
return objj_msgSend(objj_msgSend(objj_msgSend(self,"class"),"_windowViewClassForStyleMask:",_194),"frameRectForContentRect:",_193);
}
})]);
var _170=function(a,b,_195){
var _196=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),_197=objj_msgSend(b,"convertRect:toView:",objj_msgSend(b,"bounds"),nil);
if(CGRectGetMinY(_196)<CGRectGetMinY(_197)){
return -1;
}else{
if(CGRectGetMinY(_196)==CGRectGetMinY(_197)&&CGRectGetMinX(_196)<CGRectGetMinX(_197)){
return -1;
}else{
if(CGRectGetMinX(_196)==CGRectGetMinX(_197)&&CGRectGetMinX(_196)==CGRectGetMinX(_197)){
return 0;
}else{
return 1;
}
}
}
};
var _9=objj_getClass("CPWindow");
if(!_9){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPWindow\""));
}
var _a=_9.isa;
class_addMethods(_9,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(self,_198){
with(self){
if(!objj_msgSend(_windowController,"document")||!objj_msgSend(self,"isMainWindow")){
return;
}
objj_msgSend(CPMenu,"setMenuBarTitle:",_title);
}
})]);
var _9=objj_getClass("CPWindow");
if(!_9){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPWindow\""));
}
var _a=_9.isa;
class_addMethods(_9,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(self,_199,_19a){
with(self){
if(objj_msgSend(self,"isFullPlatformWindow")){
return objj_msgSend(self,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));
}
if(_autoresizingMask==CPWindowNotSizable){
return;
}
var _19b=objj_msgSend(_platformWindow,"contentBounds"),_19c=CGRectMakeCopy(_frame),dX=(CGRectGetWidth(_19b)-_19a.width)/(((_autoresizingMask&CPWindowMinXMargin)?1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0)),dY=(CGRectGetHeight(_19b)-_19a.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?1:0));
if(_autoresizingMask&CPWindowMinXMargin){
_19c.origin.x+=dX;
}
if(_autoresizingMask&CPWindowWidthSizable){
_19c.size.width+=dX;
}
if(_autoresizingMask&CPWindowMinYMargin){
_19c.origin.y+=dY;
}
if(_autoresizingMask&CPWindowHeightSizable){
_19c.size.height+=dY;
}
objj_msgSend(self,"setFrame:",_19c);
}
}),new objj_method(sel_getUid("setAutoresizingMask:"),function(self,_19d,_19e){
with(self){
_autoresizingMask=_19e;
}
}),new objj_method(sel_getUid("autoresizingMask"),function(self,_19f){
with(self){
return _autoresizingMask;
}
}),new objj_method(sel_getUid("convertBaseToGlobal:"),function(self,_1a0,_1a1){
with(self){
return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(self,"convertBaseToPlatformWindow:",_1a1):objj_msgSend(self,"convertBaseToScreen:",_1a1);
}
}),new objj_method(sel_getUid("convertGlobalToBase:"),function(self,_1a2,_1a3){
with(self){
return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(self,"convertPlatformWindowToBase:",_1a3):objj_msgSend(self,"convertScreenToBase:",_1a3);
}
}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(self,_1a4,_1a5){
with(self){
if(objj_msgSend(self,"_sharesChromeWithPlatformWindow")){
return _1a5;
}
var _1a6=objj_msgSend(self,"frame").origin;
return {x:_1a5.x+_1a6.x,y:_1a5.y+_1a6.y};
}
}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(self,_1a7,_1a8){
with(self){
if(objj_msgSend(self,"_sharesChromeWithPlatformWindow")){
return _1a8;
}
var _1a9=objj_msgSend(self,"frame").origin;
return {x:_1a8.x-_1a9.x,y:_1a8.y-_1a9.y};
}
}),new objj_method(sel_getUid("convertScreenToBase:"),function(self,_1aa,_1ab){
with(self){
return objj_msgSend(self,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",_1ab));
}
}),new objj_method(sel_getUid("convertBaseToScreen:"),function(self,_1ac,_1ad){
with(self){
return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(self,"convertBaseToPlatformWindow:",_1ad));
}
}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(self,_1ae,_1af){
with(self){
if(_1af&&objj_msgSend(CPPlatform,"isBrowser")){
return;
}
_sharesChromeWithPlatformWindow=_1af;
objj_msgSend(self,"_updateShadow");
}
}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(self,_1b0){
with(self){
return _sharesChromeWithPlatformWindow;
}
}),new objj_method(sel_getUid("undoManager"),function(self,_1b1){
with(self){
if(_undoManager){
return _undoManager;
}
var _1b2=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");
if(_1b2){
return _1b2;
}
if(_delegateRespondsToWindowWillReturnUndoManagerSelector){
return objj_msgSend(_delegate,"windowWillReturnUndoManager:",self);
}
if(!_undoManager){
_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init");
}
return _undoManager;
}
}),new objj_method(sel_getUid("undo:"),function(self,_1b3,_1b4){
with(self){
objj_msgSend(objj_msgSend(self,"undoManager"),"undo");
}
}),new objj_method(sel_getUid("redo:"),function(self,_1b5,_1b6){
with(self){
objj_msgSend(objj_msgSend(self,"undoManager"),"redo");
}
}),new objj_method(sel_getUid("containsPoint:"),function(self,_1b7,_1b8){
with(self){
return CGRectContainsPoint(_frame,_1b8);
}
})]);
var _9=objj_getClass("CPWindow");
if(!_9){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPWindow\""));
}
var _a=_9.isa;
class_addMethods(_9,[new objj_method(sel_getUid("setFullBridge:"),function(self,_1b9,_1ba){
with(self){
objj_msgSend(self,"setFullPlatformWindow:",_1ba);
}
}),new objj_method(sel_getUid("isFullBridge"),function(self,_1bb){
with(self){
return objj_msgSend(self,"isFullPlatformWindow");
}
}),new objj_method(sel_getUid("convertBaseToBridge:"),function(self,_1bc,_1bd){
with(self){
return objj_msgSend(self,"convertBaseToPlatformWindow:",_1bd);
}
}),new objj_method(sel_getUid("convertBridgeToBase:"),function(self,_1be,_1bf){
with(self){
return objj_msgSend(self,"convertPlatformWindowToBase:",_1bf);
}
})]);
var _1c0=function(_1c1,_1c2,_1c3){
return _1c1+(_1c2-_1c1)*_1c3;
};
var _9=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation"),_a=_9.isa;
class_addIvars(_9,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);
objj_registerClassPair(_9);
objj_addClassForBundle(_9,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_9,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(self,_1c4,_1c5,_1c6){
with(self){
self=objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPAnimation")},"initWithDuration:animationCurve:",0.2,CPAnimationLinear);
if(self){
_window=_1c5;
_targetFrame=CGRectMakeCopy(_1c6);
_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));
}
return self;
}
}),new objj_method(sel_getUid("startAnimation"),function(self,_1c7){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPAnimation")},"startAnimation");
_window._isAnimating=YES;
}
}),new objj_method(sel_getUid("setCurrentProgress:"),function(self,_1c8,_1c9){
with(self){
objj_msgSendSuper({receiver:self,super_class:objj_getClass("CPAnimation")},"setCurrentProgress:",_1c9);
var _1ca=objj_msgSend(self,"currentValue");
if(_1ca==1){
_window._isAnimating=NO;
}
objj_msgSend(_window,"setFrameOrigin:",CGPointMake(_1c0(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),_1ca),_1c0(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),_1ca)));
objj_msgSend(_window,"setFrameSize:",CGSizeMake(_1c0(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),_1ca),_1c0(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),_1ca)));
}
})]);
_CPWindowFullPlatformWindowSessionMake=function(_1cb,_1cc,_1cd,_1ce){
return {windowView:_1cb,contentRect:_1cc,hasShadow:_1cd,level:_1ce};
};
CPStandardWindowShadowStyle=0;
CPMenuWindowShadowStyle=1;
CPPanelWindowShadowStyle=2;
CPCustomWindowShadowStyle=3;
i;15;_CPWindowView.ji;23;_CPStandardWindowView.ji;23;_CPDocModalWindowView.ji;18;_CPHUDWindowView.ji;25;_CPBorderlessWindowView.ji;31;_CPBorderlessBridgeWindowView.ji;14;CPDragServer.ji;8;CPView.jp;12;CPPlatform.jI;21;Foundation/CPObject.jc;3025;
var _1=objj_allocateClassPair(CPObject,"CPBasePlatform"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("bootstrap"),function(_3,_4){
with(_3){
objj_msgSend(CPPlatformString,"bootstrap");
objj_msgSend(CPPlatformWindow,"setPrimaryPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,"alloc"),"_init"));
}
}),new objj_method(sel_getUid("isBrowser"),function(_5,_6){
with(_5){
return NO;
}
}),new objj_method(sel_getUid("supportsDragAndDrop"),function(_7,_8){
with(_7){
return NO;
}
}),new objj_method(sel_getUid("supportsNativeMainMenu"),function(_9,_a){
with(_9){
return NO;
}
}),new objj_method(sel_getUid("terminateApplication"),function(_b,_c){
with(_b){
}
}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(_d,_e,_f){
with(_d){
}
}),new objj_method(sel_getUid("hideOtherApplications:"),function(_10,_11,_12){
with(_10){
}
}),new objj_method(sel_getUid("hide:"),function(_13,_14,_15){
with(_13){
}
})]);
CPPlatformDidClearBodyElementNotification="CPPlatformDidClearBodyElementNotification";
var _16=NO;
var _1=objj_allocateClassPair(CPBasePlatform,"CPPlatform"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initialize"),function(_17,_18){
with(_17){
if(_17!==objj_msgSend(CPPlatform,"class")){
return;
}
_16=objj_msgSend(CPPlatform,"isBrowser");
}
}),new objj_method(sel_getUid("isBrowser"),function(_19,_1a){
with(_19){
return typeof window.cpIsDesktop==="undefined";
}
}),new objj_method(sel_getUid("supportsDragAndDrop"),function(_1b,_1c){
with(_1b){
return CPFeatureIsCompatible(CPHTMLDragAndDropFeature);
}
}),new objj_method(sel_getUid("supportsNativeMainMenu"),function(_1d,_1e){
with(_1d){
return (typeof window["cpSetMainMenu"]==="function");
}
}),new objj_method(sel_getUid("terminateApplication"),function(_1f,_20){
with(_1f){
if(typeof window["cpTerminate"]==="function"){
window.cpTerminate();
}
}
}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(_21,_22,_23){
with(_21){
if(typeof window["cpActivateIgnoringOtherApps"]==="function"){
window.cpActivateIgnoringOtherApps(!!_23);
}
}
}),new objj_method(sel_getUid("hideOtherApplications:"),function(_24,_25,_26){
with(_24){
if(typeof window["cpHideOtherApplications"]==="function"){
window.cpHideOtherApplications();
}
}
}),new objj_method(sel_getUid("hide:"),function(_27,_28,_29){
with(_27){
if(typeof window["cpHide"]==="function"){
window.cpHide();
}
}
}),new objj_method(sel_getUid("initializeScreenIfNecessary"),function(_2a,_2b){
with(_2a){
if(!_16){
return;
}
_16=NO;
var _2c=document.body;
_2c.innerHTML="";
_2c.style.overflow="hidden";
if(document.documentElement){
document.documentElement.style.overflow="hidden";
}
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPPlatformDidClearBodyElementNotification,_2a);
}
})]);
p;18;CPPlatformString.jI;21;Foundation/CPObject.jc;2585;
var _1=objj_allocateClassPair(CPObject,"CPBasePlatformString"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("bootstrap"),function(_3,_4){
with(_3){
}
}),new objj_method(sel_getUid("sizeOfString:withFont:forWidth:"),function(_5,_6,_7,_8,_9){
with(_5){
return {width:0,height:0};
}
})]);
var _a=nil,_b=nil,_c=nil;
var _1=objj_allocateClassPair(CPBasePlatformString,"CPPlatformString"),_2=_1.isa;
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("bootstrap"),function(_d,_e){
with(_d){
objj_msgSend(_d,"createDOMElements");
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_d,sel_getUid("platformDidClearBodyElement:"),CPPlatformDidClearBodyElementNotification,CPPlatform);
}
}),new objj_method(sel_getUid("createDOMElements"),function(_f,_10){
with(_f){
var _11=document.createElement("iframe");
_11.name=name="iframe_"+FLOOR(RAND()*10000);
_11.style.position="absolute";
_11.style.left="-100px";
_11.style.top="-100px";
_11.style.width="1px";
_11.style.height="1px";
_11.style.borderWidth="0px";
_11.style.background="blue";
_11.style.overflow="hidden";
_11.style.zIndex=100000000000;
document.body.appendChild(_11);
var _12=(_11.contentDocument||_11.contentWindow.document);
_12.write("<html><head></head><body></body></html>");
_12.close();
_b=_12.createElement("span");
_b.style.position="absolute";
_b.style.whiteSpace="pre";
_b.style.visibility="visible";
_b.style.padding="0px";
_b.style.margin="0px";
_12.body.appendChild(_b);
}
}),new objj_method(sel_getUid("platformDidClearBodyElement:"),function(_13,_14,_15){
with(_13){
objj_msgSend(_13,"createDOMElements");
}
}),new objj_method(sel_getUid("sizeOfString:withFont:forWidth:"),function(_16,_17,_18,_19,_1a){
with(_16){
if(!_19){
if(!_c){
_c=objj_msgSend(CPFont,"systemFontOfSize:",12);
}
_19=_c;
}
var _1b=_b.style;
if(_1a===NULL){
_1b.width="";
_1b.whiteSpace="pre";
}else{
_1b.width=ROUND(_1a)+"px";
if(document.attachEvent){
_1b.wordWrap="break-word";
}else{
_1b.whiteSpace="-o-pre-wrap";
_1b.whiteSpace="-pre-wrap";
_1b.whiteSpace="-moz-pre-wrap";
_1b.whiteSpace="pre-wrap";
}
}
_1b.font=objj_msgSend(_19,"cssString");
if(CPFeatureIsCompatible(CPJavascriptInnerTextFeature)){
_b.innerText=_18;
}else{
if(CPFeatureIsCompatible(CPJavascriptTextContentFeature)){
_b.textContent=_18;
}
}
return {width:_b.clientWidth,height:_b.clientHeight};
}
})]);
p;18;CPPlatformWindow.jI;21;Foundation/CPObject.jc;4813;
var _1=NULL;
var _2=objj_allocateClassPair(CPObject,"CPPlatformWindow"),_3=_2.isa;
class_addIvars(_2,[new objj_ivar("_contentRect"),new objj_ivar("_level"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowStyle"),new objj_ivar("_DOMWindow"),new objj_ivar("_DOMBodyElement"),new objj_ivar("_DOMFocusElement"),new objj_ivar("_windowLevels"),new objj_ivar("_windowLayers"),new objj_ivar("_mouseIsDown"),new objj_ivar("_mouseDownWindow"),new objj_ivar("_lastMouseUp"),new objj_ivar("_lastMouseDown"),new objj_ivar("_charCodes"),new objj_ivar("_keyCode"),new objj_ivar("_lastKey"),new objj_ivar("_capsLockActive"),new objj_ivar("_ignoreNativeCopyOrCutEvent"),new objj_ivar("_ignoreNativePastePreparation"),new objj_ivar("_DOMEventMode"),new objj_ivar("_DOMPasteboardElement"),new objj_ivar("_pasteboardKeyDownEvent"),new objj_ivar("_overriddenEventType")]);
objj_registerClassPair(_2);
objj_addClassForBundle(_2,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_2,[new objj_method(sel_getUid("initWithContentRect:"),function(_4,_5,_6){
with(_4){
_4=objj_msgSendSuper({receiver:_4,super_class:objj_getClass("CPObject")},"init");
if(_4){
_contentRect={origin:{x:_6.origin.x,y:_6.origin.y},size:{width:_6.size.width,height:_6.size.height}};
_windowLevels=[];
_windowLayers=objj_msgSend(CPDictionary,"dictionary");
_charCodes={};
}
return _4;
}
}),new objj_method(sel_getUid("init"),function(_7,_8){
with(_7){
return objj_msgSend(_7,"initWithContentRect:",{origin:{x:0,y:0},size:{width:400,height:500}});
}
}),new objj_method(sel_getUid("contentRect"),function(_9,_a){
with(_9){
return {origin:{x:_contentRect.origin.x,y:_contentRect.origin.y},size:{width:_contentRect.size.width,height:_contentRect.size.height}};
}
}),new objj_method(sel_getUid("contentBounds"),function(_b,_c){
with(_b){
var _d=objj_msgSend(_b,"contentRect");
_d.origin={x:0,y:0};
return _d;
}
}),new objj_method(sel_getUid("visibleFrame"),function(_e,_f){
with(_e){
var _10=objj_msgSend(_e,"contentBounds");
_10.origin=CGPointMakeZero();
if(objj_msgSend(CPMenu,"menuBarVisible")&&objj_msgSend(CPPlatformWindow,"primaryPlatformWindow")===_e){
var _11=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight");
_10.origin.y+=_11;
_10.size.height-=_11;
}
return _10;
}
}),new objj_method(sel_getUid("usableContentFrame"),function(_12,_13){
with(_12){
return objj_msgSend(_12,"visibleFrame");
}
}),new objj_method(sel_getUid("setContentRect:"),function(_14,_15,_16){
with(_14){
if(!_16||((_contentRect.origin.x==_16.origin.x&&_contentRect.origin.y==_16.origin.y)&&(_contentRect.size.width==_16.size.width&&_contentRect.size.height==_16.size.height))){
return;
}
_contentRect={origin:{x:_16.origin.x,y:_16.origin.y},size:{width:_16.size.width,height:_16.size.height}};
objj_msgSend(_14,"updateNativeContentRect");
}
}),new objj_method(sel_getUid("updateFromNativeContentRect"),function(_17,_18){
with(_17){
objj_msgSend(_17,"setContentRect:",objj_msgSend(_17,"nativeContentRect"));
}
}),new objj_method(sel_getUid("convertBaseToScreen:"),function(_19,_1a,_1b){
with(_19){
var _1c=objj_msgSend(_19,"contentRect");
return {x:_1b.x+(_1c.origin.x),y:_1b.y+(_1c.origin.y)};
}
}),new objj_method(sel_getUid("convertScreenToBase:"),function(_1d,_1e,_1f){
with(_1d){
var _20=objj_msgSend(_1d,"contentRect");
return {x:_1f.x-(_20.origin.x),y:_1f.y-(_20.origin.y)};
}
}),new objj_method(sel_getUid("isVisible"),function(_21,_22){
with(_21){
return _DOMWindow!==NULL;
}
}),new objj_method(sel_getUid("deminiaturize:"),function(_23,_24,_25){
with(_23){
if(_DOMWindow&&typeof _DOMWindow["cpDeminiaturize"]==="function"){
_DOMWindow.cpDeminiaturize();
}
}
}),new objj_method(sel_getUid("miniaturize:"),function(_26,_27,_28){
with(_26){
if(_DOMWindow&&typeof _DOMWindow["cpMiniaturize"]==="function"){
_DOMWindow.cpMiniaturize();
}
}
}),new objj_method(sel_getUid("setLevel:"),function(_29,_2a,_2b){
with(_29){
_level=_2b;
if(_DOMWindow&&_DOMWindow.cpSetLevel){
_DOMWindow.cpSetLevel(_2b);
}
}
}),new objj_method(sel_getUid("setHasShadow:"),function(_2c,_2d,_2e){
with(_2c){
_hasShadow=_2e;
if(_DOMWindow&&_DOMWindow.cpSetHasShadow){
_DOMWindow.cpSetHasShadow(_2e);
}
}
}),new objj_method(sel_getUid("setShadowStyle:"),function(_2f,_30,_31){
with(_2f){
_shadowStyle=_31;
if(_DOMWindow&&_DOMWindow.cpSetShadowStyle){
_shadowStyle.cpSetShadowStyle(_31);
}
}
}),new objj_method(sel_getUid("supportsFullPlatformWindows"),function(_32,_33){
with(_32){
return objj_msgSend(CPPlatform,"isBrowser");
}
})]);
class_addMethods(_3,[new objj_method(sel_getUid("visiblePlatformWindows"),function(_34,_35){
with(_34){
return objj_msgSend(CPSet,"set");
}
}),new objj_method(sel_getUid("primaryPlatformWindow"),function(_36,_37){
with(_36){
return _1;
}
}),new objj_method(sel_getUid("setPrimaryPlatformWindow:"),function(_38,_39,_3a){
with(_38){
_1=_3a;
}
})]);
i;22;CPPlatformWindow+DOM.jp;18;CPDOMWindowLayer.jI;20;Foundation/CPArray.jI;21;Foundation/CPObject.jc;1985;
var _1=objj_allocateClassPair(CPObject,"CPDOMWindowLayer"),_2=_1.isa;
class_addIvars(_1,[new objj_ivar("_level"),new objj_ivar("_windows"),new objj_ivar("_DOMElement")]);
objj_registerClassPair(_1);
objj_addClassForBundle(_1,objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));
class_addMethods(_1,[new objj_method(sel_getUid("initWithLevel:"),function(_3,_4,_5){
with(_3){
_3=objj_msgSendSuper({receiver:_3,super_class:objj_getClass("CPObject")},"init");
if(_3){
_level=_5;
_windows=[];
_DOMElement=document.createElement("div");
_DOMElement.style.position="absolute";
_DOMElement.style.top="0px";
_DOMElement.style.left="0px";
_DOMElement.style.width="1px";
_DOMElement.style.height="1px";
}
return _3;
}
}),new objj_method(sel_getUid("level"),function(_6,_7){
with(_6){
return _level;
}
}),new objj_method(sel_getUid("removeWindow:"),function(_8,_9,_a){
with(_8){
if(!_a._isVisible){
return;
}
var _b=_a._index,_c=_windows.length-1;
_DOMElement.removeChild(_a._DOMElement);
objj_msgSend(_windows,"removeObjectAtIndex:",_a._index);
for(;_b<_c;++_b){
_windows[_b]._index=_b;
_windows[_b]._DOMElement.style.zIndex=_b;
}
_a._isVisible=NO;
}
}),new objj_method(sel_getUid("insertWindow:atIndex:"),function(_d,_e,_f,_10){
with(_d){
var _11=objj_msgSend(_windows,"count"),_12=(_10==CPNotFound?_11:_10),_13=_f._isVisible;
if(_13){
_12=MIN(_12,_f._index);
objj_msgSend(_windows,"removeObjectAtIndex:",_f._index);
}else{
++_11;
}
if(_10==CPNotFound||_10>=_11){
objj_msgSend(_windows,"addObject:",_f);
}else{
objj_msgSend(_windows,"insertObject:atIndex:",_f,_10);
}
for(;_12<_11;++_12){
_windows[_12]._index=_12;
_windows[_12]._DOMElement.style.zIndex=_12;
}
if(_f._DOMElement.parentNode!==_DOMElement){
_DOMElement.appendChild(_f._DOMElement);
_f._isVisible=YES;
if(objj_msgSend(_f,"isFullBridge")){
objj_msgSend(_f,"setFrame:",objj_msgSend(_f._platformWindow,"usableContentFrame"));
}
}
}
}),new objj_method(sel_getUid("orderedWindows"),function(_14,_15){
with(_14){
return _windows;
}
})]);
p;22;CPPlatformWindow+DOM.jI;21;Foundation/CPObject.jI;22;Foundation/CPRunLoop.ji;9;CPEvent.ji;17;CPCompatibility.ji;18;CPDOMWindowLayer.ji;12;CPPlatform.ji;18;CPPlatformWindow.ji;26;CPPlatformWindow+DOMKeys.jc;27690;
var _1=objj_msgSend(CPSet,"set");
var _2,_3,_4;
var _5={},_6={},_7={61:187,59:186};
_5[CPKeyCodes.A]=YES;
var _8=objj_msgSend(CPPlatform,"supportsDragAndDrop");
var _9=objj_getClass("CPPlatformWindow");
if(!_9){
objj_exception_throw(new objj_exception(OBJJClassNotFoundException,"*** Could not find definition for class \"CPPlatformWindow\""));
}
var _a=_9.isa;
class_addMethods(_9,[new objj_method(sel_getUid("_init"),function(_b,_c){
with(_b){
_b=objj_msgSendSuper({receiver:_b,super_class:objj_getClass("CPObject")},"init");
if(_b){
_DOMWindow=window;
_contentRect={origin:{x:0,y:0},size:{width:0,height:0}};
_windowLevels=[];
_windowLayers=objj_msgSend(CPDictionary,"dictionary");
objj_msgSend(_b,"registerDOMWindow");
objj_msgSend(_b,"updateFromNativeContentRect");
_charCodes={};
}
return _b;
}
}),new objj_method(sel_getUid("nativeContentRect"),function(_d,_e){
with(_d){
if(!_DOMWindow){
return objj_msgSend(_d,"contentRect");
}
if(_DOMWindow.cpFrame){
return _DOMWindow.cpFrame();
}
var _f={origin:{x:0,y:0},size:{width:0,height:0}};
if(window.screenTop){
_f.origin={x:_DOMWindow.screenLeft,y:_DOMWindow.screenTop};
}else{
if(window.screenX){
_f.origin={x:_DOMWindow.screenX,y:_DOMWindow.screenY};
}
}
if(_DOMWindow.innerWidth){
_f.size={width:_DOMWindow.innerWidth,height:_DOMWindow.innerHeight};
}else{
if(document.documentElement&&document.documentElement.clientWidth){
_f.size={width:_DOMWindow.document.documentElement.clientWidth,height:_DOMWindow.document.documentElement.clientHeight};
}else{
_f.size={width:_DOMWindow.document.body.clientWidth,height:_DOMWindow.document.body.clientHeight};
}
}
return _f;
}
}),new objj_method(sel_getUid("updateNativeContentRect"),function(_10,_11){
with(_10){
if(!_DOMWindow){
return;
}
if(typeof _DOMWindow["cpSetFrame"]==="function"){
return _DOMWindow.cpSetFrame(objj_msgSend(_10,"contentRect"));
}
var _12=objj_msgSend(_10,"contentRect").origin,_13=objj_msgSend(_10,"nativeContentRect").origin;
if(_12.x!==_13.x||_12.y!==_13.y){
_DOMWindow.moveBy(_12.x-_13.x,_12.y-_13.y);
}
var _14=objj_msgSend(_10,"contentRect").size,_15=objj_msgSend(_10,"nativeContentRect").size;
if(_14.width!==_15.width||_14.height!==_15.height){
_DOMWindow.resizeBy(_14.width-_15.width,_14.height-_15.height);
}
}
}),new objj_method(sel_getUid("orderBack:"),function(_16,_17,_18){
with(_16){
if(_DOMWindow){
_DOMWindow.blur();
}
}
}),new objj_method(sel_getUid("createDOMElements"),function(_19,_1a){
with(_19){
var _1b=_DOMWindow.document;
_DOMFocusElement=_1b.createElement("input");
_DOMFocusElement.style.position="absolute";
_DOMFocusElement.style.zIndex="-1000";
_DOMFocusElement.style.opacity="0";
_DOMFocusElement.style.filter="alpha(opacity=0)";
_DOMBodyElement.appendChild(_DOMFocusElement);
_DOMPasteboardElement=_1b.createElement("textarea");
_DOMPasteboardElement.style.position="absolute";
_DOMPasteboardElement.style.top="-10000px";
_DOMPasteboardElement.style.zIndex="999";
_DOMBodyElement.appendChild(_DOMPasteboardElement);
_DOMPasteboardElement.blur();
}
}),new objj_method(sel_getUid("platformDidClearBodyElement:"),function(_1c,_1d,_1e){
with(_1c){
objj_msgSend(_1c,"createDOMElements");
}
}),new objj_method(sel_getUid("registerDOMWindow"),function(_1f,_20){
with(_1f){
var _21=_DOMWindow.document;
_DOMBodyElement=_21.body;
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_DOMBodyElement.style["-khtml-user-select"]="none";
}
_DOMBodyElement.webkitTouchCallout="none";
objj_msgSend(_1f,"createDOMElements");
if(window===_DOMWindow){
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_1f,sel_getUid("platformDidClearBodyElement:"),CPPlatformDidClearBodyElementNotification,CPPlatform);
}
objj_msgSend(_1f,"_addLayers");
var _22=objj_msgSend(_1f,"class"),_23=class_getMethodImplementation(_22,sel_getUid("dragEvent:")),_24=function(_25){
_23(_1f,nil,_25);
},_26=sel_getUid("resizeEvent:"),_27=class_getMethodImplementation(_22,_26),_28=function(_29){
_27(_1f,nil,_29);
},_2a=sel_getUid("copyEvent:"),_2b=class_getMethodImplementation(_22,_2a),_2c=function(_2d){
_2b(_1f,nil,_2d);
},_2e=sel_getUid("pasteEvent:"),_2f=class_getMethodImplementation(_22,_2e),_30=function(_31){
_2f(_1f,nil,_31);
},_32=sel_getUid("keyEvent:"),_33=class_getMethodImplementation(_22,_32),_34=function(_35){
_33(_1f,nil,_35);
},_36=sel_getUid("mouseEvent:"),_37=class_getMethodImplementation(_22,_36),_38=function(_39){
_37(_1f,nil,_39);
},_3a=sel_getUid("scrollEvent:"),_3b=class_getMethodImplementation(_22,_3a),_3c=function(_3d){
_3b(_1f,nil,_3d);
},_3e=sel_getUid("touchEvent:"),_3f=class_getMethodImplementation(_22,_3e),_40=function(_41){
_3f(_1f,nil,_41);
};
if(_21.addEventListener){
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_21.addEventListener("dragstart",_24,NO);
_21.addEventListener("drag",_24,NO);
_21.addEventListener("dragend",_24,NO);
_21.addEventListener("dragover",_24,NO);
_21.addEventListener("dragleave",_24,NO);
_21.addEventListener("drop",_24,NO);
}
_21.addEventListener("mouseup",_38,NO);
_21.addEventListener("mousedown",_38,NO);
_21.addEventListener("mousemove",_38,NO);
_21.addEventListener("beforecopy",_2c,NO);
_21.addEventListener("beforecut",_2c,NO);
_21.addEventListener("beforepaste",_30,NO);
_21.addEventListener("keyup",_34,NO);
_21.addEventListener("keydown",_34,NO);
_21.addEventListener("keypress",_34,NO);
_21.addEventListener("touchstart",_40,NO);
_21.addEventListener("touchend",_40,NO);
_21.addEventListener("touchmove",_40,NO);
_21.addEventListener("touchcancel",_40,NO);
_DOMWindow.addEventListener("DOMMouseScroll",_3c,NO);
_DOMWindow.addEventListener("mousewheel",_3c,NO);
_DOMWindow.addEventListener("resize",_28,NO);
_DOMWindow.addEventListener("unload",function(){
objj_msgSend(_1f,"updateFromNativeContentRect");
objj_msgSend(_1f,"_removeLayers");
_21.removeEventListener("mouseup",_38,NO);
_21.removeEventListener("mousedown",_38,NO);
_21.removeEventListener("mousemove",_38,NO);
_21.removeEventListener("keyup",_34,NO);
_21.removeEventListener("keydown",_34,NO);
_21.removeEventListener("keypress",_34,NO);
_21.removeEventListener("beforecopy",_2c,NO);
_21.removeEventListener("beforecut",_2c,NO);
_21.removeEventListener("beforepaste",_30,NO);
_21.removeEventListener("touchstart",_40,NO);
_21.removeEventListener("touchend",_40,NO);
_21.removeEventListener("touchmove",_40,NO);
_DOMWindow.removeEventListener("resize",_28,NO);
_DOMWindow.removeEventListener("DOMMouseScroll",_3c,NO);
_DOMWindow.removeEventListener("mousewheel",_3c,NO);
objj_msgSend(_1,"removeObject:",_1f);
_1f._DOMWindow=nil;
},NO);
}else{
_21.attachEvent("onmouseup",_38);
_21.attachEvent("onmousedown",_38);
_21.attachEvent("onmousemove",_38);
_21.attachEvent("ondblclick",_38);
_21.attachEvent("onkeyup",_34);
_21.attachEvent("onkeydown",_34);
_21.attachEvent("onkeypress",_34);
_DOMWindow.attachEvent("onresize",_28);
_DOMWindow.onmousewheel=_3c;
_21.onmousewheel=_3c;
_21.body.ondrag=function(){
return NO;
};
_21.body.onselectstart=function(){
return _DOMWindow.event.srcElement===_DOMPasteboardElement;
};
_DOMWindow.attachEvent("onbeforeunload",function(){
objj_msgSend(_1f,"updateFromNativeContentRect");
objj_msgSend(_1f,"_removeLayers");
_21.detachEvent("onmouseup",_38);
_21.detachEvent("onmousedown",_38);
_21.detachEvent("onmousemove",_38);
_21.detachEvent("ondblclick",_38);
_21.detachEvent("onkeyup",_34);
_21.detachEvent("onkeydown",_34);
_21.detachEvent("onkeypress",_34);
_DOMWindow.detachEvent("onresize",_28);
_DOMWindow.onmousewheel=NULL;
_21.onmousewheel=NULL;
_21.body.ondrag=NULL;
_21.body.onselectstart=NULL;
objj_msgSend(_1,"removeObject:",_1f);
_1f._DOMWindow=nil;
},NO);
}
}
}),new objj_method(sel_getUid("orderFront:"),function(_42,_43,_44){
with(_42){
if(_DOMWindow){
return _DOMWindow.focus();
}
_DOMWindow=window.open("","_blank","menubar=no,location=no,resizable=yes,scrollbars=no,status=no,left="+(_contentRect.origin.x)+",top="+(_contentRect.origin.y)+",width="+(_contentRect.size.width)+",height="+(_contentRect.size.height));
objj_msgSend(_1,"addObject:",_42);
_DOMWindow.document.write("<html><head></head><body style = 'background-color:transparent;'></body></html>");
_DOMWindow.document.close();
if(!objj_msgSend(CPPlatform,"isBrowser")){
_DOMWindow.cpWindowNumber=objj_msgSend(_42._only,"windowNumber");
_DOMWindow.cpSetFrame(_contentRect);
_DOMWindow.cpSetLevel(_level);
_DOMWindow.cpSetHasShadow(_hasShadow);
_DOMWindow.cpSetShadowStyle(_shadowStyle);
}
_DOMWindow.document.body.style.cursor=objj_msgSend(objj_msgSend(CPCursor,"currentCursor"),"_cssString");
objj_msgSend(_42,"registerDOMWindow");
}
}),new objj_method(sel_getUid("orderOut:"),function(_45,_46,_47){
with(_45){
if(!_DOMWindow){
return;
}
_DOMWindow.close();
}
}),new objj_method(sel_getUid("dragEvent:"),function(_48,_49,_4a){
with(_48){
var _4b=_4a.type,_4c=objj_msgSend(CPDragServer,"sharedDragServer"),_4d={x:_4a.clientX,y:_4a.clientY},_4e=objj_msgSend(_CPDOMDataTransferPasteboard,"DOMDataTransferPasteboard");
objj_msgSend(_4e,"_setDataTransfer:",_4a.dataTransfer);
if(_4a.type==="dragstart"){
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
objj_msgSend(_4e,"_setPasteboard:",objj_msgSend(_4c,"draggingPasteboard"));
var _4f=objj_msgSend(_4c,"draggedWindow"),_50=objj_msgSend(_4f,"frame"),_51=_4f._DOMElement;
_51.style.left=-(_50.size.width)+"px";
_51.style.top=-(_50.size.height)+"px";
document.body.appendChild(_51);
var _52=objj_msgSend(_4c,"draggingOffset");
_4a.dataTransfer.setDragImage(_51,_52.width,_52.height);
objj_msgSend(_4c,"draggingStartedInPlatformWindow:globalLocation:",_48,objj_msgSend(CPPlatform,"isBrowser")?_4d:{x:_4a.screenX,y:_4a.screenY});
}else{
if(_4b==="drag"){
var y=_4a.screenY;
if(CPFeatureIsCompatible(CPHTML5DragAndDropSourceYOffBy1)){
y-=1;
}
objj_msgSend(_4c,"draggingSourceUpdatedWithGlobalLocation:",objj_msgSend(CPPlatform,"isBrowser")?_4d:{x:_4a.screenX,y:y});
}else{
if(_4b==="dragover"||_4b==="dragleave"){
if(_4a.preventDefault){
_4a.preventDefault();
}
var _53="none",_54=objj_msgSend(_4c,"draggingUpdatedInPlatformWindow:location:",_48,_4d);
if(_54===CPDragOperationMove||_54===CPDragOperationGeneric||_54===CPDragOperationPrivate){
_53="move";
}else{
if(_54===CPDragOperationCopy){
_53="copy";
}else{
if(_54===CPDragOperationLink){
_53="link";
}
}
}
_4a.dataTransfer.dropEffect=_53;
}else{
if(_4b==="dragend"){
var _53=_4a.dataTransfer.dropEffect;
if(_53==="move"){
_54=CPDragOperationMove;
}else{
if(_53==="copy"){
_54=CPDragOperationCopy;
}else{
if(_53==="link"){
_54=CPDragOperationLink;
}else{
_54=CPDragOperationNone;
}
}
}
objj_msgSend(_4c,"draggingEndedInPlatformWindow:globalLocation:operation:",_48,objj_msgSend(CPPlatform,"isBrowser")?_4d:{x:_4a.screenX,y:_4a.screenY},_54);
}else{
objj_msgSend(_4c,"performDragOperationInPlatformWindow:",_48);
if(_4a.preventDefault){
_4a.preventDefault();
}
if(_4a.stopPropagation){
_4a.stopPropagation();
}
}
}
}
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("keyEvent:"),function(_55,_56,_57){
with(_55){
var _58,_59=_57.timeStamp?_57.timeStamp:new Date(),_5a=(_57.target||_57.srcElement),_5b=objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"windowNumber"),_5c=(_57.shiftKey?CPShiftKeyMask:0)|(_57.ctrlKey?CPControlKeyMask:0)|(_57.altKey?CPAlternateKeyMask:0)|(_57.metaKey?CPCommandKeyMask:0);
_4=!!(!(_5c&(CPControlKeyMask|CPCommandKeyMask))||_6[String.fromCharCode(_57.keyCode||_57.charCode).toLowerCase()]||_5[_57.keyCode]);
var _5d=NO,_5e=NO,_5f=nil;
switch(_57.type){
case "keydown":
if(_57.keyCode.keyCode in _7){
_keyCode=_7[_57.keyCode];
}else{
_keyCode=_57.keyCode;
}
var _60=String.fromCharCode(_keyCode).toLowerCase();
_5f=(_5c&CPShiftKeyMask||_capsLockActive)?_60.toUpperCase():_60;
if(_keyCode===CPKeyCodes.CAPS_LOCK){
_capsLockActive=YES;
}
if(_5c&(CPControlKeyMask|CPCommandKeyMask)){
var _61=objj_msgSend(_55,"_validateCopyCutOrPasteEvent:flags:",_57,_5c);
if(_60==="v"&&_61){
if(!_ignoreNativePastePreparation){
_DOMPasteboardElement.select();
_DOMPasteboardElement.value="";
}
_5d=YES;
}else{
if((_60=="c"||_60=="x")&&_61){
_5e=YES;
if(_ignoreNativeCopyOrCutEvent){
break;
}
}
}
}else{
if(CPKeyCodes.firesKeyPressEvent(_keyCode,_lastKey,_57.shiftKey,_57.ctrlKey,_57.altKey)){
_4=NO;
break;
}else{
}
}
case "keypress":
if(_57.type==="keypress"&&(_5c&(CPControlKeyMask|CPCommandKeyMask))){
break;
}
var _62=_keyCode,_63=_57.keyCode||_57.charCode,_64=(_charCodes[_62]!=nil);
_lastKey=_62;
_charCodes[_62]=_63;
var _60=_5f||String.fromCharCode(_63),_65=_60.toLowerCase();
if(!_5f&&(_5c&CPCommandKeyMask)&&((_5c&CPShiftKeyMask)||_capsLockActive)){
_60=_60.toUpperCase();
}
_58=objj_msgSend(CPEvent,"keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",CPKeyDown,location,_5c,_59,_5b,nil,_60,_65,_64,_62);
if(_5d){
_pasteboardKeyDownEvent=_58;
window.setNativeTimeout(function(){
objj_msgSend(_55,"_checkPasteboardElement");
},0);
}
break;
case "keyup":
var _62=_57.keyCode,_63=_charCodes[_62];
_keyCode=-1;
_lastKey=-1;
_charCodes[_62]=nil;
_ignoreNativeCopyOrCutEvent=NO;
_ignoreNativePastePreparation=NO;
if(_62===CPKeyCodes.CAPS_LOCK){
_capsLockActive=NO;
}
var _60=String.fromCharCode(_63),_65=_60.toLowerCase();
if(!(_5c&CPShiftKeyMask)&&(_5c&CPCommandKeyMask)&&!_capsLockActive){
_60=_65;
}
_58=objj_msgSend(CPEvent,"keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",CPKeyUp,location,_5c,_59,_5b,nil,_60,_65,NO,_62);
break;
}
if(_58&&!_5d){
_58._DOMEvent=_57;
objj_msgSend(CPApp,"sendEvent:",_58);
if(_5e){
objj_msgSend(_55,"_primePasteboardElement");
}
}
if(_4){
_3(_57,_55);
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("copyEvent:"),function(_66,_67,_68){
with(_66){
if(objj_msgSend(_66,"_validateCopyCutOrPasteEvent:flags:",_68,CPPlatformActionKeyMask)&&!_ignoreNativeCopyOrCutEvent){
var cut=_68.type==="beforecut",_69=cut?CPKeyCodes.X:CPKeyCodes.C,_6a=cut?"x":"c",_6b=_68.timeStamp?_68.timeStamp:new Date(),_6c=objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"windowNumber"),_6d=CPPlatformActionKeyMask;
event=objj_msgSend(CPEvent,"keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",CPKeyDown,location,_6d,_6b,_6c,nil,_6a,_6a,NO,_69);
event._DOMEvent=_68;
objj_msgSend(CPApp,"sendEvent:",event);
objj_msgSend(_66,"_primePasteboardElement");
_ignoreNativeCopyOrCutEvent=YES;
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("pasteEvent:"),function(_6e,_6f,_70){
with(_6e){
if(objj_msgSend(_6e,"_validateCopyCutOrPasteEvent:flags:",_70,CPPlatformActionKeyMask)){
_DOMPasteboardElement.focus();
_DOMPasteboardElement.select();
_DOMPasteboardElement.value="";
_ignoreNativePastePreparation=YES;
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("_validateCopyCutOrPasteEvent:flags:"),function(_71,_72,_73,_74){
with(_71){
return (((_73.target||_73.srcElement).nodeName.toUpperCase()!=="INPUT"&&(_73.target||_73.srcElement).nodeName.toUpperCase()!=="TEXTAREA")||_73.target===_DOMPasteboardElement)&&(_74&CPPlatformActionKeyMask);
}
}),new objj_method(sel_getUid("_primePasteboardElement"),function(_75,_76){
with(_75){
var _77=objj_msgSend(CPPasteboard,"generalPasteboard"),_78=objj_msgSend(_77,"types");
if(_78.length){
if(objj_msgSend(_78,"indexOfObjectIdenticalTo:",CPStringPboardType)!=CPNotFound){
_DOMPasteboardElement.value=objj_msgSend(_77,"stringForType:",CPStringPboardType);
}else{
_DOMPasteboardElement.value=objj_msgSend(_77,"_generateStateUID");
}
_DOMPasteboardElement.focus();
_DOMPasteboardElement.select();
window.setNativeTimeout(function(){
objj_msgSend(_75,"_clearPasteboardElement");
},0);
}
}
}),new objj_method(sel_getUid("_checkPasteboardElement"),function(_79,_7a){
with(_79){
var _7b=_DOMPasteboardElement.value;
if(objj_msgSend(_7b,"length")){
var _7c=objj_msgSend(CPPasteboard,"generalPasteboard");
if(objj_msgSend(_7c,"_stateUID")!=_7b){
objj_msgSend(_7c,"declareTypes:owner:",[CPStringPboardType],_79);
objj_msgSend(_7c,"setString:forType:",_7b,CPStringPboardType);
}
}
objj_msgSend(_79,"_clearPasteboardElement");
objj_msgSend(CPApp,"sendEvent:",_pasteboardKeyDownEvent);
_pasteboardKeyDownEvent=nil;
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("_clearPasteboardElement"),function(_7d,_7e){
with(_7d){
_DOMPasteboardElement.value="";
_DOMPasteboardElement.blur();
}
}),new objj_method(sel_getUid("scrollEvent:"),function(_7f,_80,_81){
with(_7f){
if(!_81){
_81=window.event;
}
if(CPFeatureIsCompatible(CPJavaScriptMouseWheelValues_8_15)){
var x=0,y=0,_82=_81.target;
while(_82.nodeType!==1){
_82=_82.parentNode;
}
if(_82.offsetParent){
do{
x+=_82.offsetLeft;
y+=_82.offsetTop;
}while(_82=_82.offsetParent);
}
var _83={x:(x+((_81.clientX-8)/15)),y:(y+((_81.clientY-8)/15))};
}else{
var _83={x:_81.clientX,y:_81.clientY};
}
var _84=0,_85=0,_86=0,_87=_81.timeStamp?_81.timeStamp:new Date(),_88=(_81.shiftKey?CPShiftKeyMask:0)|(_81.ctrlKey?CPControlKeyMask:0)|(_81.altKey?CPAlternateKeyMask:0)|(_81.metaKey?CPCommandKeyMask:0);
_4=YES;
var _89=objj_msgSend(_7f,"hitTest:",_83);
if(!_89){
return;
}
var _86=objj_msgSend(_89,"windowNumber");
_83=objj_msgSend(_89,"convertBridgeToBase:",_83);
if(typeof _81.wheelDeltaX!="undefined"){
_84=_81.wheelDeltaX/120;
_85=_81.wheelDeltaY/120;
}else{
if(_81.wheelDelta){
_85=_81.wheelDelta/120;
}else{
if(_81.detail){
_85=-_81.detail/3;
}else{
return;
}
}
}
if(!CPFeatureIsCompatible(CPJavaScriptNegativeMouseWheelValues)){
_84=-_84;
_85=-_85;
}
var _8a=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPScrollWheel,_83,_88,_87,_86,nil,-1,1,0);
_8a._DOMEvent=_81;
_8a._deltaX=_84;
_8a._deltaY=_85;
objj_msgSend(CPApp,"sendEvent:",_8a);
if(_4){
_3(_81,_7f);
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("resizeEvent:"),function(_8b,_8c,_8d){
with(_8b){
if(objj_msgSend(CPPlatform,"isBrowser")){
objj_msgSend(CPApp._activeMenu,"cancelTracking");
}
var _8e=objj_msgSend(_8b,"contentRect").size;
objj_msgSend(_8b,"updateFromNativeContentRect");
var _8f=_windowLevels,_90=_windowLayers,_91=_8f.length;
while(_91--){
var _92=objj_msgSend(_90,"objectForKey:",_8f[_91])._windows,_93=_92.length;
while(_93--){
objj_msgSend(_92[_93],"resizeWithOldPlatformWindowSize:",_8e);
}
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("touchEvent:"),function(_94,_95,_96){
with(_94){
if(_96.touches&&(_96.touches.length==1||(_96.touches.length==0&&_96.changedTouches.length==1))){
var _97={};
switch(_96.type){
case CPDOMEventTouchStart:
_97.type=CPDOMEventMouseDown;
break;
case CPDOMEventTouchEnd:
_97.type=CPDOMEventMouseUp;
break;
case CPDOMEventTouchMove:
_97.type=CPDOMEventMouseMoved;
break;
case CPDOMEventTouchCancel:
_97.type=CPDOMEventMouseUp;
break;
}
var _98=_96.touches.length?_96.touches[0]:_96.changedTouches[0];
_97.clientX=_98.clientX;
_97.clientY=_98.clientY;
_97.timestamp=_96.timestamp;
_97.target=_96.target;
_97.shiftKey=_97.ctrlKey=_97.altKey=_97.metaKey=false;
_97.preventDefault=function(){
if(_96.preventDefault){
_96.preventDefault();
}
};
_97.stopPropagation=function(){
if(_96.stopPropagation){
_96.stopPropagation();
}
};
objj_msgSend(_94,"mouseEvent:",_97);
return;
}else{
if(_96.preventDefault){
_96.preventDefault();
}
if(_96.stopPropagation){
_96.stopPropagation();
}
}
}
}),new objj_method(sel_getUid("mouseEvent:"),function(_99,_9a,_9b){
with(_99){
var _9c=_overriddenEventType||_9b.type;
if(_9c==="dblclick"){
_overriddenEventType=CPDOMEventMouseDown;
objj_msgSend(_99,"mouseEvent:",_9b);
_overriddenEventType=CPDOMEventMouseUp;
objj_msgSend(_99,"mouseEvent:",_9b);
_overriddenEventType=nil;
return;
}
var _9d,_9e={x:_9b.clientX,y:_9b.clientY},_9f=_9b.timeStamp?_9b.timeStamp:new Date(),_a0=(_9b.target||_9b.srcElement),_a1=0,_a2=(_9b.shiftKey?CPShiftKeyMask:0)|(_9b.ctrlKey?CPControlKeyMask:0)|(_9b.altKey?CPAlternateKeyMask:0)|(_9b.metaKey?CPCommandKeyMask:0);
_4=YES;
if(_mouseDownWindow){
_a1=objj_msgSend(_mouseDownWindow,"windowNumber");
}else{
var _a3=objj_msgSend(_99,"hitTest:",_9e);
if((_9b.type===CPDOMEventMouseDown)&&_a3){
_mouseDownWindow=_a3;
}
_a1=objj_msgSend(_a3,"windowNumber");
}
if(_a1){
_9e=objj_msgSend(CPApp._windows[_a1],"convertPlatformWindowToBase:",_9e);
}
if(_9c==="mouseup"){
if(_mouseIsDown){
_9d=_a4(_9b,CPLeftMouseUp,_9e,_a2,_9f,_a1,nil,-1,_2(_lastMouseUp,_9f,_9e),0);
_mouseIsDown=NO;
_lastMouseUp=_9d;
_mouseDownWindow=nil;
}
if(_DOMEventMode){
_DOMEventMode=NO;
return;
}
}else{
if(_9c==="mousedown"){
if(_a0.tagName==="INPUT"&&_a0!=_DOMFocusElement){
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_DOMBodyElement.setAttribute("draggable","false");
_DOMBodyElement.style["-khtml-user-drag"]="none";
}
_DOMEventMode=YES;
_mouseIsDown=YES;
objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPLeftMouseDown,_9e,_a2,_9f,_a1,nil,-1,_2(_lastMouseDown,_9f,_9e),0));
objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPLeftMouseUp,_9e,_a2,_9f,_a1,nil,-1,_2(_lastMouseDown,_9f,_9e),0));
return;
}else{
if(objj_msgSend(CPPlatform,"supportsDragAndDrop")){
_DOMBodyElement.setAttribute("draggable","true");
_DOMBodyElement.style["-khtml-user-drag"]="element";
}
}
_9d=_a4(_9b,CPLeftMouseDown,_9e,_a2,_9f,_a1,nil,-1,_2(_lastMouseDown,_9f,_9e),0);
_mouseIsDown=YES;
_lastMouseDown=_9d;
}else{
if(_DOMEventMode){
return;
}
_9d=_a4(_9b,_mouseIsDown?CPLeftMouseDragged:CPMouseMoved,_9e,_a2,_9f,_a1,nil,-1,1,0);
}
}
var _a5=objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"isDragging");
if(_9d&&(!_a5||!_8)){
_9d._DOMEvent=_9b;
objj_msgSend(CPApp,"sendEvent:",_9d);
}
if(_4&&(!_8||_9c!=="mousedown"&&!_a5)){
_3(_9b,_99);
}
objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);
}
}),new objj_method(sel_getUid("layerAtLevel:create:"),function(_a6,_a7,_a8,_a9){
with(_a6){
var _aa=objj_msgSend(_windowLayers,"objectForKey:",_a8);
if(!_aa&&_a9){
_aa=objj_msgSend(objj_msgSend(CPDOMWindowLayer,"alloc"),"initWithLevel:",_a8);
objj_msgSend(_windowLayers,"setObject:forKey:",_aa,_a8);
var low=0,_ab=_windowLevels.length-1,_ac;
while(low<=_ab){
_ac=FLOOR((low+_ab)/2);
if(_windowLevels[_ac]>_a8){
_ab=_ac-1;
}else{
low=_ac+1;
}
}
objj_msgSend(_windowLevels,"insertObject:atIndex:",_a8,_windowLevels[_ac]>_a8?_ac:_ac+1);
_aa._DOMElement.style.zIndex=_a8;
_DOMBodyElement.appendChild(_aa._DOMElement);
}
return _aa;
}
}),new objj_method(sel_getUid("order:window:relativeTo:"),function(_ad,_ae,_af,_b0,_b1){
with(_ad){
objj_msgSend(CPPlatform,"initializeScreenIfNecessary");
var _b2=objj_msgSend(_ad,"layerAtLevel:create:",objj_msgSend(_b0,"level"),_af!=CPWindowOut);
if(_af==CPWindowOut){
return objj_msgSend(_b2,"removeWindow:",_b0);
}
objj_msgSend(_b2,"insertWindow:atIndex:",_b0,(_b1?(_af==CPWindowAbove?_b1._index+1:_b1._index):CPNotFound));
}
}),new objj_method(sel_getUid("_removeLayers"),function(_b3,_b4){
with(_b3){
var _b5=_windowLevels,_b6=_windowLayers,_b7=_b5.length;
while(_b7--){
var _b8=objj_msgSend(_b6,"objectForKey:",_b5[_b7]);
_DOMBodyElement.removeChild(_b8._DOMElement);
}
}
}),new objj_method(sel_getUid("_addLayers"),function(_b9,_ba){
with(_b9){
var _bb=_windowLevels,_bc=_windowLayers,_bd=_bb.length;
while(_bd--){
var _be=objj_msgSend(_bc,"objectForKey:",_bb[_bd]);
_DOMBodyElement.appendChild(_be._DOMElement);
}
}
}),new objj_method(sel_getUid("_dragHitTest:pasteboard:"),function(_bf,_c0,_c1,_c2){
with(_bf){
var _c3=_windowLevels,_c4=_windowLayers,_c5=_c3.length;
while(_c5--){
if(_c3[_c5]>=CPDraggingWindowLevel){
continue;
}
var _c6=objj_msgSend(_c4,"objectForKey:",_c3[_c5])._windows,_c7=_c6.length;
while(_c7--){
var _c8=_c6[_c7];
if(objj_msgSend(_c8,"_sharesChromeWithPlatformWindow")){
return objj_msgSend(_c8,"_dragHitTest:pasteboard:",_c1,_c2);
}
if(objj_msgSend(_c8,"containsPoint:",_c1)){
return objj_msgSend(_c8,"_dragHitTest:pasteboard:",_c1,_c2);
}
}
}
return nil;
}
}),new objj_method(sel_getUid("_propagateCurrentDOMEvent:"),function(_c9,_ca,_cb){
with(_c9){
_4=!_cb;
}
}),new objj_method(sel_getUid("_willPropagateCurrentDOMEvent"),function(_cc,_cd){
with(_cc){
return !_4;
}
}),new objj_method(sel_getUid("hitTest:"),function(_ce,_cf,_d0){
with(_ce){
if(_ce._only){
return _ce._only;
}
var _d1=_windowLevels,_d2=_windowLayers,_d3=_d1.length,_d4=nil;
while(_d3--&&!_d4){
var _d5=objj_msgSend(_d2,"objectForKey:",_d1[_d3])._windows,_d6=_d5.length;
while(_d6--&&!_d4){
var _d7=_d5[_d6];
if(!_d7._ignoresMouseEvents&&objj_msgSend(_d7,"containsPoint:",_d0)){
_d4=_d7;
}
}
}
return _d4;
}
})]);
class_addMethods(_a,[new objj_method(sel_getUid("visiblePlatformWindows"),function(_d8,_d9){
with(_d8){
return _1;
}
}),new objj_method(sel_getUid("preventCharacterKeysFromPropagating:"),function(_da,_db,_dc){
with(_da){
for(var i=_dc.length;i>0;i--){
_6[""+_dc[i-1].toLowerCase()]=YES;
}
}
}),new objj_method(sel_getUid("preventCharacterKeyFromPropagating:"),function(_dd,_de,_df){
with(_dd){
_6[_df.toLowerCase()]=YES;
}
}),new objj_method(sel_getUid("clearCharacterKeysToPreventFromPropagating"),function(_e0,_e1){
with(_e0){
_6={};
}
}),new objj_method(sel_getUid("preventKeyCodesFromPropagating:"),function(_e2,_e3,_e4){
with(_e2){
for(var i=_e4.length;i>0;i--){
_5[_e4[i-1]]=YES;
}
}
}),new objj_method(sel_getUid("preventKeyCodeFromPropagating:"),function(_e5,_e6,_e7){
with(_e5){
_5[_e7]=YES;
}
}),new objj_method(sel_getUid("clearKeyCodesToPreventFromPropagating"),function(_e8,_e9){
with(_e8){
_5={};
}
})]);
var _ea=objj_msgSend(CPEvent,"class");
var _a4=function(_eb,_ec,_ed,_ee,_ef,_f0,_f1,_f2,_f3,_f4){
_eb.isa=_ea;
_eb._type=_ec;
_eb._location=_ed;
_eb._modifierFlags=_ee;
_eb._timestamp=_ef;
_eb._windowNumber=_f0;
_eb._window=nil;
_eb._context=_f1;
_eb._eventNumber=_f2;
_eb._clickCount=_f3;
_eb._pressure=_f4;
return _eb;
};
var _f5=5,_f6=(typeof document!="undefined"&&document.addEventListener)?350:1000;
var _2=function(_f7,_f8,_f9){
if(!_f7){
return 1;
}
var _fa=objj_msgSend(_f7,"locationInWindow");
return (_f8-objj_msgSend(_f7,"timestamp")<_f6&&ABS(_fa.x-_f9.x)<_f5&&ABS(_fa.y-_f9.y)<_f5)?objj_msgSend(_f7,"clickCount")+1:1;
};
var _3=function(_fb,_fc){
_fb.cancelBubble=true;
_fb.returnValue=false;
if(_fb.preventDefault){
_fb.preventDefault();
}
if(_fb.stopPropagation){
_fb.stopPropagation();
}
if(_fb.type===CPDOMEventMouseDown){
_fc._DOMFocusElement.focus();
_fc._DOMFocusElement.blur();
}
};
CPWindowObjectList=function(){
var _fd=objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),_fe=_fd._windowLevels,_ff=_fd._windowLayers,_100=_fe.length,_101=[];
while(_100--){
var _102=objj_msgSend(_ff,"objectForKey:",_fe[_100])._windows,_103=_102.length;
while(_103--){
_101.push(_102[_103]);
}
}
return _101;
};
CPWindowList=function(){
var _104=objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),_105=_104._windowLevels,_106=_104._windowLayers,_107=_105.length,_108=[];
while(_107--){
var _109=objj_msgSend(_106,"objectForKey:",_105[_107])._windows,_10a=_109.length;
while(_10a--){
_108.push(objj_msgSend(_109[_10a],"windowNumber"));
}
}
return _108;
};
p;26;CPPlatformWindow+DOMKeys.jc;2317;
CPKeyCodes={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};
CPKeyCodes.firesKeyPressEvent=function(_1,_2,_3,_4,_5){
if(!CPFeatureIsCompatible(CPJavascriptRemedialKeySupport)){
return true;
}
if(CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&_5){
return CPKeyCodes.isCharacterKey(_1);
}
if(_5&&!_4){
return false;
}
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)&&!_3&&(_4||_5)){
return false;
}
if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)&&_4&&_2==_1){
return false;
}
switch(_1){
case CPKeyCodes.ENTER:
return true;
case CPKeyCodes.ESC:
return !CPBrowserIsEngine(CPWebKitBrowserEngine);
}
return CPKeyCodes.isCharacterKey(_1);
};
CPKeyCodes.isCharacterKey=function(_6){
if(_6>=CPKeyCodes.ZERO&&_6<=CPKeyCodes.NINE){
return true;
}
if(_6>=CPKeyCodes.NUM_ZERO&&_6<=CPKeyCodes.NUM_MULTIPLY){
return true;
}
if(_6>=CPKeyCodes.A&&_6<=CPKeyCodes.Z){
return true;
}
switch(_6){
case CPKeyCodes.SPACE:
case CPKeyCodes.QUESTION_MARK:
case CPKeyCodes.NUM_PLUS:
case CPKeyCodes.NUM_MINUS:
case CPKeyCodes.NUM_PERIOD:
case CPKeyCodes.NUM_DIVISION:
case CPKeyCodes.SEMICOLON:
case CPKeyCodes.DASH:
case CPKeyCodes.EQUALS:
case CPKeyCodes.COMMA:
case CPKeyCodes.PERIOD:
case CPKeyCodes.SLASH:
case CPKeyCodes.APOSTROPHE:
case CPKeyCodes.SINGLE_QUOTE:
case CPKeyCodes.OPEN_SQUARE_BRACKET:
case CPKeyCodes.BACKSLASH:
case CPKeyCodes.CLOSE_SQUARE_BRACKET:
return true;
default:
return false;
}
};
e;